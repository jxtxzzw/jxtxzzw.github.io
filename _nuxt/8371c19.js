(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1468:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return O}));var r=n(41),o=n(198);n(136),n(115),n(114),n(93),n(70),n(199),n(200),n(102),n(152),n(101),n(83),n(113),n(99),n(100);function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d={YEAR_AND_TYPE:["#74CBED","#FF6B3B","#247FEA","#F6C022","#585853","#7666F9","#62DAAB","#0C3967","#AE0025","#76523B","#FF9EC6","#6395F9","#9967BD"],CATEGORY:{G2_CLASSIC:["#661900","#B22C00","#E6450F","#FF6500","#FF8C00","#FFB200","#FFCB33","#FFDF80","#E0F2EB","#66D8FF","#1AC5FF","#00A5FF","#007FFF","#0059FF","#0040FF","#002CB2","#001F7F"],G2_GREEN_MAGIC:["#EAACFF","#DD78FF","#C53FFF","#A700FF","#8500FF","#620BE1","#3607C2","#27029A","#141787","#014c63","#10686c","#168575","#16a37e","#0bc286","#65cf9b","#96dcb0","#c1e8c5"]},G2_YELLOW_CYAN:["#795B16","#A37B16","#D09C10","#EDB40A","#FFC741","#FFD470","#FFDE94","#FFE9B8","#EFF3DE","#C9E9FF","#ABDFFF","#61C9FF","#22BAED","#1B9CD0","#227BA2","#215B77"],BASE_CURRENCY:["#A0DC2C","#FF6500","#0059FF"],TAX_DEDUCTION:[["#a7da52","#A0DC2C","#92d90f","#6a9a0b","#385407"],["#ff9c5a","#ff8231","#ff6500","#b64700","#6b2a00"],["#5b95ff","#327aff","#005aff","#0040b6","#001d52"]]};function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},o=c(e);try{for(o.s();!(t=o.n()).done;){var l=t.value,d=l.year,f=parseFloat(l.amount),y=l.type;d in r||(r[d]={}),y in r[d]||(r[d][y]={});var h=n?parseFloat(l.currency_weight):1,v=l.currency;v in r[d][y]||(r[d][y][v]={amount:0,weightedAmount:0}),r[d][y][v].amount+=f,r[d][y][v].weightedAmount+=f*h}}catch(e){o.e(e)}finally{o.f()}var data=[];for(var m in r)for(var F in r[m])for(var w in r[m][F])data.push({year:m,type:F,currency:w,amount:r[m][F][w].amount,weightedAmount:r[m][F][w].weightedAmount});return data}function y(e){var t=.75*(document.body.clientHeight-64-24-24-24-24-24);if(null==e||""===e)return Math.max(t,480);var n=.75*document.getElementById(e).parentElement.offsetWidth;return Math.max(480,Math.min(t,n))}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.$g2.Chart,data=f(t,r),l=new o({container:n,autoFit:!0,height:y(n)});l.data(data),l.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),l.scale("weightedAmount",{alias:"金额",nice:!0,formatter:function(e){return e=parseFloat(parseFloat(e).toFixed(2))}}),l.axis("weightedAmount",{title:{offset:80,style:{fill:"#aaaaaa"}}}),l.scale("year",{nice:!0}),l.axis("year",{tickLine:null}),l.tooltip({shared:!1,showMarkers:!0,showTitle:!0,customItems:function(e){var t,n=c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parsedAmount=parseFloat(r.data.amount).toFixed(2),r.parsedWeightedAmount=parseFloat(r.data.weightedAmount).toFixed(2),r.currency=r.data.currency,r.type=r.data.type}}catch(e){n.e(e)}finally{n.f()}return e},itemTpl:'<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;"><span style="background-color:{color};" class="g2-tooltip-marker"></span><span>{type} {currency}</span><br/><span style="padding-left: 16px">{parsedAmount} ({parsedWeightedAmount})</span></li>'}),l.interaction("element-highlight-by-color"),l.interaction("legend-highlight"),l.interaction("axis-label-highlight");var h=[{type:"dodge",dodgeBy:"currency",marginRatio:0},{type:"stack"}];return l.interval().adjust(h).position("year*weightedAmount").color("type",d.YEAR_AND_TYPE),l.render(),l}function v(e){var t=[],n=[],r=[];for(var o in e)for(var c in e[o]){t.includes(c)||t.push(c);var l=e[o][c].amount,d=e[o][c].weightedAmount;l>0&&n.push({type:o,amount:l,weightedAmount:d,currency:"".concat(o," - ").concat(c)})}for(var f=0,y=t;f<y.length;f++){var h=y[f];for(var v in e)if(e[v][h]){var m=e[v][h].amount,F=e[v][h].weightedAmount;m>0&&r.push({type:"".concat(h," - ").concat(v),amount:m,weightedAmount:F,currency:h})}}return[n,r]}var m=["薪金收入","被动收入","福利收入"];function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no",r="收入",o="负数金额",l="净收入",d={},f={},y=[],h=[{name:r}];d[r]=0,f[d[r]]={},"yes-and-aggregate"===n&&(h.push({name:l}),d[l]=1,f[d[l]]={},f[d[l]][d[r]]=0,h.push({name:o}),d[o]=2,f[d[o]]={},f[d[l]][d[o]]=0);var v,F=c(m);try{for(F.s();!(v=F.n()).done;){var w=v.value;d[w]=Object.keys(d).length,h.push({name:w}),f[d[r]][d[w]]={}}}catch(e){F.e(e)}finally{F.f()}for(var i in e){var A,x=c(e[i]);try{for(x.s();!(A=x.n()).done;){var C=A.value,E=parseFloat(C.amount);t&&(E*=parseFloat(C.currency_weight));var _=C.type;if(E<0){if("no"===n)continue;"yes-and-aggregate"===n&&(_=o)}d[_]||(d[_]=Object.keys(d).length,h.push({name:_}),f[d[r]][d[m[i]]][d[_]]=0),"yes-and-aggregate"===n&&E<0?f[d[l]][d[o]]+=E:f[d[r]][d[m[i]]][d[_]]+=E}}catch(e){x.e(e)}finally{x.f()}}for(var k in e){var link={source:d[m[k]],target:d[r],value:0};for(var B in f[d[r]][d[m[k]]]){y.push({source:parseInt(B),target:d[m[k]],value:f[d[r]][d[m[k]]][B]});var O=f[d[r]][d[m[k]]][B];link.value+=O,"yes-and-aggregate"===n&&(f[d[l]][d[r]]+=O)}y.push(link)}return"yes-and-aggregate"===n&&(y.push({source:d[r],target:d[l],value:f[d[l]][d[r]]}),y.push({source:d[o],target:d[l],value:f[d[l]][d[o]]})),{nodes:h,links:y}}function w(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={},d=[e,t,n],i=0;i<d.length;i++){var f,y=c(d[i]);try{for(y.s();!(f=y.n()).done;){var h=f.value,F=m[i],w=parseFloat(h.amount);if(F in l||(l[F]={}),o||!(w<=0)){var A=r?parseFloat(h.currency_weight):1,x=h.currency;x in l[F]||(l[F][x]={amount:0,weightedAmount:0}),l[F][x].amount+=w,l[F][x].weightedAmount+=w*A}}}catch(e){y.e(e)}finally{y.f()}}return v(l)}function A(e,t,n,r){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=e.$dataset.DataView,f=Object(o.a)(d.CATEGORY.G2_GREEN_MAGIC),y=Object(o.a)(d.CATEGORY.G2_CLASSIC),h=Object(o.a)(d.CATEGORY.G2_CLASSIC).reverse(),v=Object(o.a)(d.CATEGORY.G2_GREEN_MAGIC).reverse(),m=.02,F=-10,w=[0,10,40,60],A={start:{x:0,y:0},end:c?{x:1,y:.5}:{x:.5,y:1}},x={start:c?{x:0,y:.5}:{x:.5,y:0},end:{x:1,y:1}},C=t.createView({region:A,padding:w}),E=new l;E.source(n).transform({type:"percent",field:"weightedAmount",dimension:"type",as:"percent"}),C.data(E.rows),C.interval().adjust("stack").position("percent").color("type",f).label("percent",(function(){return{offset:F,content:function(data){return data.percent<m?"...":"".concat(data.type,": ").concat((100*data.percent).toFixed(2),"%")}}})),C.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),C.coordinate("theta",{radius:.5}),C.tooltip({showTitle:!0,showMarkers:!0}),C.interaction("element-active");var _=t.createView({region:A,padding:w}),k=new l;k.source(n).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),_.data(k.rows),_.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),_.coordinate("theta",{innerRadius:.5/.75,radius:.75}),_.interval().adjust("stack").position("percent").color("currency",y).label("currency").tooltip("currency*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"});var B=t.createView({region:x,padding:w}),O=new l;O.source(r).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),B.data(O.rows),B.interval().adjust("stack").position("percent").color("currency",h).label("percent",(function(){return{offset:F,content:function(data){return data.percent<m?"...":"".concat(data.currency,": ").concat((100*data.percent).toFixed(2),"%")}}})),B.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),B.coordinate("theta",{radius:.5}),B.tooltip({showTitle:!0,showMarkers:!0}),B.interaction("element-active");var D=t.createView({region:x,padding:w}),Y=new l;Y.source(r).transform({type:"percent",field:"weightedAmount",dimension:"type",as:"percent"}),D.data(Y.rows),D.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),D.coordinate("theta",{innerRadius:.5/.75,radius:.75}),D.interval().adjust("stack").position("percent").color("type",v).label("type").tooltip("type*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"}),t.legend(!1),t.render()}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.$g2.Chart,o=e.$dataset.DataSet,c=new r({container:"basic-category-sankey",autoFit:!0,height:y("basic-category-sankey"),appendPadding:16,syncViewPadding:!0}),l=e.yesOrNoNegative,data=F(t,n,l),d=new o,f=d.createView().source(data,{type:"graph",edges:function(e){return e.links}});f.transform({type:"diagram.sankey",nodeWidth:.02,nodePadding:.03,sort:function(a,b){return a.value>b.value?0:a.value<b.value?-1:0}});var h=f.edges.map((function(e){return{source:e.source.name,target:e.target.name,name:e.source.name,x:e.x,y:e.y,value:e.value}})),v=f.nodes.map((function(e){return{x:e.x,y:e.y,name:e.name}}));c.legend(!1),c.tooltip({showTitle:!1,showMarkers:!1}),c.axis(!1),c.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},source:{sync:"color"},name:{sync:"color"}});var m=c.createView();m.data(v),m.polygon().position("x*y").color("name").label("x*name",(function(e,t){var n=1===e[1];return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8,content:t}})).tooltip(!1);var w=c.createView();return w.data(h),w.edge().position("x*y").shape("arc").color("name").tooltip("target*source*value",(function(e,source,t){return{name:source+" → "+e,value:parseFloat(t).toFixed(2)}})).style("source*target",(function(source,e){return{opacity:.4,lineWidth:0}})).state({active:{style:{opacity:.8,lineWidth:0}}}),c.interaction("element-active"),c.render(),c}function C(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=e.$g2.Chart,d=new l({container:"basic-category-pie",autoFit:!0,height:y("basic-category-pie")}),f="no"!==e.yesOrNoNegative,h=w(t,n,o,c,f),v=Object(r.a)(h,2),m=v[0],F=v[1];return A(e,d,m,F),d}function E(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=[],d={},f=9999,y=0,h=c(t);try{for(h.s();!(n=h.n()).done;){var v,m=n.value,F=c(m);try{for(F.s();!(v=F.n()).done;){var w=v.value,A=parseInt(w.year),x=parseFloat(w.amount);A<f&&(f=A),A>y&&(y=A),A in d||(d[A]={});var C=r?parseFloat(w.currency_weight):1,E=w.currency;l.includes(E)||l.push(E),d[A][E]||(d[A][E]={amount:0,weightedAmount:0}),d[A][E].amount+=x,d[A][E].weightedAmount+=x*C}}catch(e){F.e(e)}finally{F.f()}}}catch(e){h.e(e)}finally{h.f()}for(var _={},k=0,B=l;k<B.length;k++){var O=B[k];_[O]=0}for(var data=[],i=f;i<=y;i++)if(i in d){var D,Y=c(l);try{for(Y.s();!(D=Y.n()).done;){var G=D.value,T=G in d[i]?parseFloat(d[i][G].weightedAmount):0;_[G]+=T,o?data.push({year:i.toString(10),currency:"".concat(G,"_").concat(e.$t("income.accumulated")),value:parseFloat(_[G].toFixed(2))}):data.push({year:i.toString(10),currency:G,value:parseFloat(T.toFixed(2))})}}catch(e){Y.e(e)}finally{Y.f()}}return data}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.$g2.Chart,c=new o({container:"all-accumulated",autoFit:!0,height:y("all-accumulated")}),data=E(e,t,n,r);return c.data(data),c.tooltip({showCrosshairs:!0,shared:!0}),c.scale("value",{nice:!0}),c.scale("date",{nice:!0,type:"time"}),c.axis("value",{label:{formatter:function(e){return parseFloat(e).toFixed(2)}}}),c.line().position("year*value").color("currency",d.BASE_CURRENCY).shape("smooth"),c.point().position("year*value").color("currency",d.BASE_CURRENCY).shape("circle").style({stroke:"#fff",lineWidth:1}),c.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),c.render(),c}function k(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},o=c(e);try{for(o.s();!(t=o.n()).done;){var l=t.value,f=parseFloat(l.amount);if(!(f<0)){void 0!==l.currency_weight&&null!==l.currency_weight&&(f*=n?parseFloat(l.currency_weight):1);var y=l.type,h=l.platform;h in r||(r[h]={},r[h].value=0,r[h].children={}),r[h].value+=f,y in r[h].children||(r[h].children[y]=0),r[h].children[y]+=f}}}catch(e){o.e(e)}finally{o.f()}var data=[];for(var v in r){var m={name:v,brand:v,value:r[v].value,children:[]};for(var F in r[v].children)m.children.push({name:"".concat(v," - ").concat(F),value:r[v].children[F]});data.push(m)}if(data.sort((function(a,b){return b.value-a.value})),data.length<=d.G2_YELLOW_CYAN.length)return data;for(var w=[],i=0;i<d.G2_YELLOW_CYAN.length;i++)w.push(data[i]);for(var A={name:"其他",brand:"其他",value:0,children:[]},x=d.G2_YELLOW_CYAN.length;x<data.length;x++)A.children.push({name:"其他 - ".concat(data[x].name),value:data[x].value});return w.push(A),w}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"advanced-platform",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.$g2.Chart,l=e.$dataset.DataView,f=k(t,r);f.forEach((function(td){td.value=0}));var data={name:"root",children:f},h=new l;h.source(data,{type:"hierarchy"}).transform({field:"value",type:"hierarchy.treemap",tile:"treemapResquarify",as:["x","y"]});var v,m=[],F=c(h.getAllNodes());try{for(F.s();!(v=F.n()).done;){var w=v.value;if(!w.children){var A={name:w.data.name,x:w.x,y:w.y,depth:w.depth,value:w.value};!w.data.brand&&w.parent?A.brand=w.parent.data.brand:A.brand=w.data.brand,m.push(A)}}}catch(e){F.e(e)}finally{F.f()}var x=new o({container:n,autoFit:!0,height:y(n)});return x.coordinate().scale(1,-1),x.data(m),x.axis(!1),x.legend({position:"bottom"}),x.tooltip({showTitle:!1,showMarkers:!1}),x.polygon().position("x*y").color("brand",d.G2_YELLOW_CYAN).tooltip("name*value",(function(e,t){return{name:e,value:"(".concat(parseFloat(t).toFixed(2),")")}})).style({lineWidth:1,stroke:"#fff"}).label("name",{offset:0,style:{textBaseline:"middle",fill:"#000",shadowBlur:10,shadowColor:"#fff"},layout:{type:"limit-in-shape"}}),x.interaction("element-active"),x.render(),x}function O(e,t){var n=function(e,t){var n,r=t.$t("income.taxable"),o=t.$t("income.all"),l=t.$t("income.tax-return"),d=t.currencyTaxDeductionTaxableOnly,f=[],y=[],h=c(e);try{for(h.s();!(n=h.n()).done;){var v=n.value;f.includes(v.currency)||f.push(v.currency),parseFloat(v.amount)<0&&!y.includes(v.category)&&y.push(v.category)}}catch(e){h.e(e)}finally{h.f()}y.push(l);var m,F=d?[r].concat(y):[o].concat(y),w={},A=c(F);try{for(A.s();!(m=A.n()).done;){var x=m.value;w[x]={};var C,E=c(f);try{for(E.s();!(C=E.n()).done;){var _=C.value;w[x][_]=0}}catch(e){E.e(e)}finally{E.f()}}}catch(e){A.e(e)}finally{A.f()}var k,B=c(e);try{for(B.s();!(k=B.n()).done;){var O=k.value,D=parseFloat(O.amount);if(0!==D){var Y=String("退税"===O.category?l:O.category);if(d){if(D>0&&O.taxable){w[r][O.currency]+=D;var G,T=c(y);try{for(T.s();!(G=T.n()).done;)w[G.value][O.currency]+=D}catch(e){T.e(e)}finally{T.f()}}else if(y.includes(Y))for(var i=y.indexOf(Y);i<y.length;i++)w[y[i]][O.currency]+=D}else if(D>0&&Y!==l){w[o][O.currency]+=D;var S,N=c(y);try{for(N.s();!(S=N.n()).done;)w[S.value][O.currency]+=D}catch(e){N.e(e)}finally{N.f()}}else if(y.includes(Y))for(var R=y.indexOf(Y);R<y.length;R++)w[y[R]][O.currency]+=D}}}catch(e){B.e(e)}finally{B.f()}var j,data=[],I=c(F.reverse());try{for(I.s();!(j=I.n()).done;){var W,$=j.value,L=c(f);try{for(L.s();!(W=L.n()).done;){var M=W.value;0!==parseFloat(w[$][M])&&data.push({type:$===r||$===o?$:t.$t("income.after-what",{what:$}),currency:M,value:w[$][M]})}}catch(e){L.e(e)}finally{L.f()}}}catch(e){I.e(e)}finally{I.f()}return[data,d?w[r]:w[o]]}(t.filter((function(t){return e.selectedYears.includes(String(t.year))})),e),o=Object(r.a)(n,2),data=o[0],base=o[1],l=new(0,e.$g2.Chart)({container:"tax-deduction",autoFit:!0,height:y("tax-deduction"),padding:[30,120,95]}),f=0,h=Object.keys(base).length,v=function(e){var t=l.createView({region:{start:{x:f/h,y:0},end:{x:(f+1)/h,y:1}},padding:[0,10,40,60]}),n=data.filter((function(t){return t.currency===e}));t.data(n),t.axis(!1),t.tooltip({showMarkers:!1,showTitle:!1,itemTpl:'<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;"><span style="background-color:{color};" class="g2-tooltip-marker"></span><br/><span style="padding-left: 16px">{value}</span><br/><span style="padding-left: 16px">{name}</span></li>'}),t.coordinate("rect").transpose().scale(-1,1),t.interval().adjust("symmetric").position("type*value").color("type",d.TAX_DEDUCTION[f]).shape("funnel").tooltip("currency*type*value",(function(e,t,n){return{name:e,value:"".concat(n.toFixed(2)," (").concat((100*parseFloat(n)/parseFloat(base[e])).toFixed(2),"%)")}})).label("currency").style({lineWidth:1,stroke:"#fff"}).animate({appear:{animation:"fade-in"},update:{annotation:"fade-in"}}),t.removeInteraction("element-active");var r,o=c(n);try{for(o.s();!(r=o.n()).done;){var y=r.value;t.annotation().text({top:!0,position:[y.type,"center"],content:"".concat(y.type,"\n").concat(parseFloat(y.value).toFixed(2),"\n(").concat((100*parseFloat(y.value)/parseFloat(base[y.currency])).toFixed(2),"%)"),style:{fill:"#fff",stroke:null,fontSize:12,textAlign:"center",shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"}})}}catch(e){o.e(e)}finally{o.f()}f++};for(var m in base)v(m);return l.legend(!1),l.removeInteraction("legend-filter"),l.render(),l}}}]);