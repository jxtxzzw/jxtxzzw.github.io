(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1539:function(e,t,r){"use strict";r.r(t);r(137),r(121),r(110),r(71),r(98),r(92),r(120),r(111),r(112);var o=r(41);function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,d=!0,h=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return d=e.done,e},e:function(e){h=!0,n=e},f:function(){try{d||null==r.return||r.return()}finally{if(h)throw n}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var d=["#EE915D","#2BCBCB"];function h(e){var t=.75*(document.body.clientHeight-64-24-24-24-24-24);if(null==e||""===e)return Math.max(t,480);var r=.75*document.getElementById(e).parentElement.offsetWidth;return Math.max(480,Math.min(t,r))}function c(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=Object(o.a)(e,1),d=l[0],h={},c=n(d);try{for(c.s();!(t=c.n()).done;){var v=t.value,f=parseFloat(v.weight);!isNaN(f)&&f>0&&(h[v.date]=f)}}catch(e){c.e(e)}finally{c.f()}var y,w={},m=n(d);try{for(m.s();!(y=m.n()).done;){var P=y.value,b=parseFloat(P.bodyFat);!isNaN(b)&&b>0&&(w[P.date]=b)}}catch(e){m.e(e)}finally{m.f()}var data=[];for(var _ in h)data.push({date:_,category:"体重",value:parseFloat(h[_])});if(r)for(var C in w)data.push({date:C,category:"体脂率",value:parseFloat(w[C])});return data}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.$g2.Chart,data=c(t,o),l=new n({container:r,autoFit:!0,height:h(r)});return l.data(data),l.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),l.scale("weight",{alias:"体重",nice:!0,formatter:function(e){return e=parseFloat(parseFloat(e).toFixed(2))}}),l.axis("weight",{title:{offset:80,style:{fill:"#aaaaaa"}}}),l.scale("date",{nice:!0,type:"time"}),l.axis("date",{tickLine:null}),l.tooltip({shared:!1,showMarkers:!0,showTitle:!0}),l.line().position("date*value").color("category",d).shape("smooth"),l.interaction("element-highlight-by-color"),l.interaction("legend-highlight"),l.interaction("axis-label-highlight"),l.render(),l}function f(e){var t,r=[],l={},d={},h={},c=n(Object(o.a)(e,1)[0]);try{for(c.s();!(t=c.n()).done;){var v=t.value;r.includes(v.date)||r.push(v.date);var s=parseFloat(v.sys);!isNaN(s)&&s>0&&(l[v.date]=s);var f=parseFloat(v.dia);!isNaN(f)&&f>0&&(d[v.date]=f);var p=parseFloat(v.pulse);!isNaN(p)&&p>0&&(h[v.date]=p)}}catch(e){c.e(e)}finally{c.f()}for(var data=[],y=0,w=r;y<w.length;y++){var dd=w[y],m={date:dd};dd in l&&(m.sys=l[dd]),dd in d&&(m.dia=d[dd]),dd in h&&(m.pulse=h[dd]),data.push(m)}return data}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.$g2.Chart,l=e.$dataset.DataView,data=f(t),d=new n({container:r,autoFit:!0,height:h(r)}),c=(new l).source(data);return c.transform({type:"map",callback:function(e){return e.range=[e.dia,e.dia,e.sys,e.sys],e}}),d.data(c.rows),d.scale("range",{nice:!0,min:40,max:180}),d.scale("date",{nice:!0,type:"time"}),d.schema().position("date*range").shape("box").tooltip("date*dia*sys",(function(e,t,r){return{name:e,dia:t,sys:r}})).style({stroke:"#545454",fill:"#1890FF",fillOpacity:.3}),o&&(d.scale("pulse",{min:40,max:180}),d.line().position("date*pulse").shape("smooth")),d.interaction("active-region"),d.render(),d}function w(e){var t,r={},l=[],d={},h=[],c=n(Object(o.a)(e,1)[0]);try{for(c.s();!(t=c.n()).done;){var v=t.value;void 0!==v.bloodPressureCatelog&&null!==v.bloodPressureCatelog&&""!==v.bloodPressureCatelog&&(l.includes(v.bloodPressureCatelog)||(l.push(v.bloodPressureCatelog),r[v.bloodPressureCatelog]=0),r[v.bloodPressureCatelog]+=1,void 0!==v.ekg&&null!==v.ekg&&""!==v.ekg&&(h.includes(v.ekg)||(h.push(v.ekg),d[v.ekg]=0),d[v.ekg]+=1))}}catch(e){c.e(e)}finally{c.f()}for(var f=[],y=[],w=0,m=l;w<m.length;w++){var P=m[w];f.push({name:P,count:r[P]})}for(var _=0,C=h;_<C.length;_++){var A=C[_];y.push({name:A,count:d[A]})}return[f,y]}function m(e){var t,r=[],l={},d=n(Object(o.a)(e,1)[0]);try{for(d.s();!(t=d.n()).done;){var h=t.value;r.includes(h.date)||(r.push(h.date),l[h.date]={}),void 0!==h.bloodPressureCatelog&&null!==h.bloodPressureCatelog&&""!==h.bloodPressureCatelog&&(l[h.date].bloodPressureCatelog=h.bloodPressureCatelog),void 0!==h.ekg&&null!==h.ekg&&""!==h.ekg&&(l[h.date].ekg=h.ekg)}}catch(e){d.e(e)}finally{d.f()}r.sort();for(var c={},v=[],f={},y=[],w=[],m=[],P=0,_=r;P<_.length;P++){var C=_[P];if(l[C].bloodPressureCatelog){c[l[C].bloodPressureCatelog]||(c[l[C].bloodPressureCatelog]=0),v.includes(l[C].bloodPressureCatelog)||v.push(l[C].bloodPressureCatelog),c[l[C].bloodPressureCatelog]+=1;var A,k=n(v);try{for(k.s();!(A=k.n()).done;){var x=A.value,$={date:C,type:x,value:c[x]};w.push($)}}catch(e){k.e(e)}finally{k.f()}}if(l[C].ekg){f[l[C].ekg]||(f[l[C].ekg]=0),y.includes(l[C].ekg)||y.push(l[C].ekg),f[l[C].ekg]+=1;var F,B=n(y);try{for(B.s();!(F=B.n()).done;){var H=F.value,I={date:C,type:H,value:f[H]};m.push(I)}}catch(e){B.e(e)}finally{B.f()}}}return console.log(w),[w,m]}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e.$g2.Chart,d=e.$dataset.DataSet,c=m(t),v=Object(o.a)(c,2),f=v[0],y=v[1],w=new l({container:r,autoFit:!0,height:h(r)});if(n){var P={start:{x:0,y:0},end:{x:.5,y:1}},_={start:{x:.5,y:0},end:{x:1,y:1}},C=[0,10,40,60],A=w.createView({region:P,padding:C}),k=new d,x=k.createView().source(f).transform({type:"percent",field:"value",dimension:"type",groupBy:["date"],as:"percent"});A.data(x.rows);var $=w.createView({region:_,padding:C}),F=new d,B=F.createView().source(y).transform({type:"percent",field:"value",dimension:"type",groupBy:["date"],as:"percent"});$.data(B.rows),A.scale({percent:{min:0,formatter:function(e){return(100*e).toFixed(2)+"%"}}}),A.tooltip({shared:!0,showMarkers:!1}),A.legend(!1),w.legend(!1),A.interval().position("date*percent").color("type").adjust("stack"),$.scale({percent:{min:0,formatter:function(e){return(100*e).toFixed(2)+"%"}}}),$.tooltip({shared:!0,showMarkers:!1}),$.legend(!1),w.legend(!1),$.interval().position("date*percent").color("type").adjust("stack")}else{var H=new d,I=H.createView().source(f).transform({type:"percent",field:"value",dimension:"type",groupBy:["date"],as:"percent"});w.data(I.rows),w.scale({percent:{min:0,formatter:function(e){return(100*e).toFixed(2)+"%"}}}),w.tooltip({shared:!0,showMarkers:!1}),w.legend(!0),w.interval().position("date*percent").color("type").adjust("stack")}return w.render(),w}function _(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e.$g2.Chart,d=w(t),c=Object(o.a)(d,2),v=c[0],f=c[1],y=new l({container:r,autoFit:!0,height:h(r)});if(n){var m={start:{x:0,y:0},end:{x:.5,y:1}},P={start:{x:.5,y:0},end:{x:1,y:1}},_=[0,10,40,60],C=y.createView({region:m,padding:_});C.data(v);var A=y.createView({region:P,padding:_});A.data(f),C.coordinate("theta",{radius:.75}),C.tooltip({showTitle:!0,showMarkers:!0}),C.legend(!1),y.legend(!1),C.interval().position("count").color("name").adjust("stack"),A.coordinate("theta",{radius:.75}),A.tooltip({showTitle:!0,showMarkers:!0}),A.legend(!1),y.legend(!1),A.interval().position("count").color("name").adjust("stack")}else y.data(v),y.coordinate("theta",{radius:.75}),y.tooltip({showTitle:!0,showMarkers:!0}),y.legend(!0),y.interval().position("count").color("name").adjust("stack"),y.interaction("element-active");return y.render(),y}var C=r(399),A={name:"Health",data:function(){return{screenHeight:0,screenWidth:0,MIN_WIDTH:640,MIN_HEIGHT:480,showBodyFat:!0,showPulse:!0,oldChart:{healthWeightAndFat:void 0,healthBloodPressureAndPulse:void 0,healthBloodPressureAndPulseAggregated:void 0,healthBloodPressureAndPulseAggregatedPie:void 0}}},watch:{"$i18n.locale":function(){this.renderAllCharts()},showBodyFat:function(){this.renderAllCharts(["health-weight-and-fat"])},showPulse:function(){this.renderAllCharts(["health-blood-pressure-and-pulse","health-blood-pressure-and-pulse-aggregated","health-blood-pressure-and-pulse-aggregated-pie"])},"$store.state.size.height":function(){this.screenHeight=this.$store.getters["size/getHeight"]},"$store.state.size.width":function(){this.screenWidth=this.$store.getters["size/getWidth"]}},mounted:function(){"jxtxzzw"===this.$route.query.admin&&(this.screenHeight=this.$store.getters["size/getHeight"],this.screenWidth=this.$store.getters["size/getWidth"],this.renderAllCharts())},methods:{renderAllCharts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["health-weight-and-fat","health-blood-pressure-and-pulse","health-blood-pressure-and-pulse-aggregated","health-blood-pressure-and-pulse-aggregated-pie"];e.includes("health-weight-and-fat")&&(this.oldChart.healthWeightAndFat&&this.oldChart.healthWeightAndFat.destroy(),this.oldChart.healthWeightAndFat=v(this,[C.healthWeight],"health-weight-and-fat",this.showBodyFat)),e.includes("health-blood-pressure-and-pulse")&&(this.oldChart.healthBloodPressureAndPulse&&this.oldChart.healthBloodPressureAndPulse.destroy(),this.oldChart.healthBloodPressureAndPulse=y(this,[C.healthBloodPressure],"health-blood-pressure-and-pulse",this.showPulse)),e.includes("health-blood-pressure-and-pulse-aggregated")&&(this.oldChart.healthBloodPressureAndPulseAggregated&&this.oldChart.healthBloodPressureAndPulseAggregated.destroy(),this.oldChart.healthBloodPressureAndPulseAggregated=P(this,[C.healthBloodPressure],"health-blood-pressure-and-pulse-aggregated",this.showPulse)),e.includes("health-blood-pressure-and-pulse-aggregated-pie")&&(this.oldChart.healthBloodPressureAndPulseAggregatedPie&&this.oldChart.healthBloodPressureAndPulseAggregatedPie.destroy(),this.oldChart.healthBloodPressureAndPulseAggregatedPie=_(this,[C.healthBloodPressure],"health-blood-pressure-and-pulse-aggregated-pie",this.showPulse)),window.dispatchEvent(new Event("resize"))}}},k=A,x=r(134),component=Object(x.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["jxtxzzw"===e.$route.query.admin?r("div",[r("Divider",[e._v(e._s(e.$t("health.weight")))]),e._v(" "),r("Alert",{attrs:{type:"info"}},[e._v("\n      "+e._s(e.$t("health.hide-body-fat"))+"\n      "),r("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.showBodyFat,callback:function(t){e.showBodyFat=t},expression:"showBodyFat"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("health.show")))]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("health.hide")))])]),e._v("\n      "+e._s(e.$t("health.show-body-fat"))+"\n      "),r("br")],1),e._v(" "),r("Row",[r("div",{style:{width:"100%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"},attrs:{span:24}},[r("div",{attrs:{id:"health-weight-and-fat"}})])]),e._v(" "),r("Divider",[e._v(e._s(e.$t("health.blood-pressure")))]),e._v(" "),r("Alert",{attrs:{type:"info"}},[r("div",[e._v("\n        "+e._s(e.$t("health.hide-pulse"))+"\n        "),r("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.showPulse,callback:function(t){e.showPulse=t},expression:"showPulse"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("health.show")))]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("health.hide")))])]),e._v("\n        "+e._s(e.$t("health.show-pulse"))+"\n      ")],1)]),e._v(" "),r("Row",[r("div",{style:{width:"100%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"},attrs:{span:24}},[r("div",{attrs:{id:"health-blood-pressure-and-pulse"}})])]),e._v(" "),r("Row",[r("div",{style:{width:"100%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"},attrs:{span:24}},[r("div",{attrs:{id:"health-blood-pressure-and-pulse-aggregated"}})])]),e._v(" "),r("Row",[r("div",{style:{width:"100%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"},attrs:{span:24}},[r("div",{attrs:{id:"health-blood-pressure-and-pulse-aggregated-pie"}})])]),e._v(" "),r("Divider",[e._v(e._s(e.$t("health.blood-sugar")))]),e._v(" "),r("Alert",{attrs:{type:"info"}},[r("div",[e._v("\n        "+e._s(e.$t("health.no-data"))+"\n      ")])])],1):r("div",[r("Alert",{attrs:{type:"error","show-icon":""}},[e._v("\n      "+e._s(e.$t("error.error"))+"\n      "),r("template",{slot:"desc"},[e._v("\n        "+e._s(e.$t("error.permission"))+"\n      ")])],2)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);