(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1545:function(e,t,n){"use strict";n.r(t);var r=n(198),o=(n(137),n(121),n(101),n(70),n(93),n(83),n(113),n(99),n(100),n(1468)),c=n(398);function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var h={name:"Income",data:function(){return{yesOrNoNegative:"no",screenHeight:0,screenWidth:0,MIN_WIDTH:640,MIN_HEIGHT:480,incomeTypesCheckGroup:["薪金收入"],selectedYears:[],years:[],currencyBasicYear:!0,currencyBasicCategory:!0,currencyAdvanced:!0,currencyBenefits:!0,currencyAllAccumulated:!0,currencyTaxDeduction:!1,currencyTaxDeductionTaxableOnly:!0,oldChart:{allAccumulated:void 0,incomeChartForYearAndType:void 0,incomeChartForBasicCategory:void 0,incomeChartForBasicCategoryOverview:void 0,advancedIncomeChartForYearAndType:void 0,advancedIncomeChartForAdvancedPlatform:void 0,benefitsIncomeChartForYearAndType:void 0,benefitsIncomeChartForAdvancedPlatform:void 0,taxDeduction:void 0},showPendingCheck:!1,showAccumulatedCheck:!1,showAnnotationCheck:!0}},watch:{"$i18n.locale":function(){this.renderAllCharts()},currencyBasicYear:function(){this.renderAllCharts(["basic-year"])},currencyBasicCategory:function(){this.renderAllCharts(["basic-category","basic-category-overview"])},yesOrNoNegative:function(){this.renderAllCharts(["basic-category","basic-category-overview"])},currencyAdvanced:function(){this.renderAllCharts(["advanced-year","advanced-platform"])},currencyBenefits:function(){this.renderAllCharts(["benefits-year","benefits-platform"])},incomeTypesCheckGroup:function(){this.renderAllCharts(["all-accumulated"])},currencyAllAccumulated:function(){this.renderAllCharts(["all-accumulated"])},currencyTaxDeduction:function(){this.renderAllCharts(["tax-deduction"])},showAccumulatedCheck:function(){this.renderAllCharts(["all-accumulated"])},years:function(){this.renderAllCharts(["tax-deduction"])},selectedYears:function(){this.renderAllCharts(["tax-deduction"])},currencyTaxDeductionTaxableOnly:function(){this.renderAllCharts(["tax-deduction"])},"$store.state.size.height":function(){this.screenHeight=this.$store.getters["size/getHeight"]},"$store.state.size.width":function(){this.screenWidth=this.$store.getters["size/getWidth"]}},mounted:function(){this.screenHeight=this.$store.getters["size/getHeight"],this.screenWidth=this.$store.getters["size/getWidth"],this.renderAllCharts(),this.preprocess()},methods:{getChartWidth:function(){return(this.screenWidth>2*this.MIN_WIDTH+296+20?50:100)+"%"},preprocess:function(){var e,t=l(c.income);try{for(t.s();!(e=t.n()).done;){var n=e.value,o=String(n.year);this.years.includes(o)||this.years.push(o)}}catch(e){t.e(e)}finally{t.f()}var d,h=l(c.advancedIncome);try{for(h.s();!(d=h.n()).done;){var v=d.value,y=String(v.year);this.years.includes(y)||this.years.push(y)}}catch(e){h.e(e)}finally{h.f()}var m,_=l(c.benefitsIncome);try{for(_.s();!(m=_.n()).done;){var f=m.value,C=String(f.year);this.years.includes(C)||this.years.push(C)}}catch(e){_.e(e)}finally{_.f()}this.years.sort(),this.selectedYears=Object(r.a)(this.years)},renderAllCharts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["basic-year","basic-category","basic-category-overview","advanced-year","advanced-platform","benefits-year","benefits-platform","all-accumulated","tax-deduction"];if(e.includes("basic-year")&&(this.oldChart.incomeChartForYearAndType&&this.oldChart.incomeChartForYearAndType.destroy(),this.oldChart.incomeChartForYearAndType=o.g(this,c.income,"basic-year",this.currencyBasicYear)),e.includes("basic-category")&&(this.oldChart.incomeChartForBasicCategory&&this.oldChart.incomeChartForBasicCategory.destroy(),this.oldChart.incomeChartForBasicCategory=o.c(this,[c.income,c.advancedIncome,c.benefitsIncome],this.currencyBasicCategory)),e.includes("basic-category-overview")&&(this.oldChart.incomeChartForBasicCategoryOverview&&this.oldChart.incomeChartForBasicCategoryOverview.destroy(),this.oldChart.incomeChartForBasicCategoryOverview=o.d(this,c.income,c.advancedIncome,c.benefitsIncome,this.currencyBasicCategory)),e.includes("advanced-year")&&(this.oldChart.advancedIncomeChartForYearAndType&&this.oldChart.advancedIncomeChartForYearAndType.destroy(),this.oldChart.advancedIncomeChartForYearAndType=o.g(this,c.advancedIncome,"advanced-year",this.currencyAdvanced)),e.includes("advanced-platform")&&(this.oldChart.advancedIncomeChartForAdvancedPlatform&&this.oldChart.advancedIncomeChartForAdvancedPlatform.destroy(),this.oldChart.advancedIncomeChartForAdvancedPlatform=o.e(this,c.advancedIncome,"advanced-platform",this.currencyAdvanced)),e.includes("benefits-year")&&(this.oldChart.benefitsIncomeChartForYearAndType&&this.oldChart.benefitsIncomeChartForYearAndType.destroy(),this.oldChart.benefitsIncomeChartForYearAndType=o.g(this,c.benefitsIncome,"benefits-year",this.currencyBenefits)),e.includes("benefits-platform")&&(this.oldChart.benefitsIncomeChartForAdvancedPlatform&&this.oldChart.benefitsIncomeChartForAdvancedPlatform.destroy(),this.oldChart.benefitsIncomeChartForAdvancedPlatform=o.e(this,c.benefitsIncome,"benefits-platform",this.currencyBenefits)),e.includes("all-accumulated")){this.oldChart.allAccumulated&&this.oldChart.allAccumulated.destroy();var t=[];this.incomeTypesCheckGroup.includes("薪金收入")&&t.push(c.income),this.incomeTypesCheckGroup.includes("被动收入")&&t.push(c.advancedIncome),this.incomeTypesCheckGroup.includes("福利收入")&&t.push(c.benefitsIncome),this.oldChart.allAccumulated=o.b(this,t,this.currencyAllAccumulated,this.showAccumulatedCheck)}e.includes("tax-deduction")&&(this.oldChart.taxDeduction&&this.oldChart.taxDeduction.destroy(),this.oldChart.taxDeduction=o.f(this,c.income)),window.dispatchEvent(new Event("resize"))}}},v=h,y=n(134),component=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Divider",[e._v(e._s(e.$t("income.basic-category")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n    "+e._s(e.$t("income.show-original-amount"))+"\n    "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyBasicCategory,callback:function(t){e.currencyBasicCategory=t},expression:"currencyBasicCategory"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n    "+e._s(e.$t("income.show-equivalent-cny"))+"\n    "),n("br"),e._v("\n    "+e._s(e.$t("income.yes-or-no-negative"))+"\n    "),n("RadioGroup",{model:{value:e.yesOrNoNegative,callback:function(t){e.yesOrNoNegative=t},expression:"yesOrNoNegative"}},[n("Radio",{attrs:{label:"yes"}},[e._v(e._s(e.$t("income.yes")))]),e._v(" "),n("Radio",{attrs:{label:"no"}},[e._v(e._s(e.$t("income.no")))]),e._v(" "),n("Radio",{attrs:{label:"yes-and-aggregate"}},[e._v(e._s(e.$t("income.yes-and-aggregate")))])],1)],1),e._v(" "),n("Alert",{attrs:{type:"no"!==e.yesOrNoNegative?"success":"warning"}},[e._v("\n    "+e._s("no"!==e.yesOrNoNegative?e.$t("income.yes-negative"):e.$t("income.no-negative"))+"\n  ")]),e._v(" "),n("Row",[n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("div",{attrs:{id:"basic-category-sankey"}})]),e._v(" "),n("div",{style:{width:(e.screenWidth>2*e.MIN_WIDTH+296+24?50:100)+"%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("div",{attrs:{id:"basic-category-pie"}})])]),e._v(" "),n("Divider",[e._v(e._s(e.$t("income.all-accumulated")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[n("div",[e._v("\n      "+e._s(e.$t("income.show-original-amount"))+"\n      "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyAllAccumulated,callback:function(t){e.currencyAllAccumulated=t},expression:"currencyAllAccumulated"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n      "+e._s(e.$t("income.show-equivalent-cny"))+"\n    ")],1),e._v(" "),n("div",[e._v("\n      "+e._s(e.$t("income.show-year-value"))+"\n      "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.showAccumulatedCheck,callback:function(t){e.showAccumulatedCheck=t},expression:"showAccumulatedCheck"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n      "+e._s(e.$t("income.show-accumulated"))+"\n    ")],1)]),e._v(" "),n("Alert",[n("CheckboxGroup",{model:{value:e.incomeTypesCheckGroup,callback:function(t){e.incomeTypesCheckGroup=t},expression:"incomeTypesCheckGroup"}},[n("Checkbox",{attrs:{label:"薪金收入"}}),e._v(" "),n("Checkbox",{attrs:{label:"被动收入"}}),e._v(" "),n("Checkbox",{attrs:{label:"福利收入"}})],1)],1),e._v(" "),n("Alert",{attrs:{type:"success"}},[e._v("\n    "+e._s(e.$t("income.yes-negative"))+"\n  ")]),e._v(" "),n("Row",[n("div",{style:{width:"100%",minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"},attrs:{span:24}},[n("div",{attrs:{id:"all-accumulated"}})])]),e._v(" "),n("Row",[n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.basic-year")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyBasicYear,callback:function(t){e.currencyBasicYear=t},expression:"currencyBasicYear"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"success"}},[e._v("\n        "+e._s(e.$t("income.yes-negative"))+"\n      ")]),e._v(" "),n("div",{attrs:{id:"basic-year"}})],1),e._v(" "),n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.tax-deduction")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1,disabled:""},model:{value:e.currencyTaxDeduction,callback:function(t){e.currencyTaxDeduction=t},expression:"currencyTaxDeduction"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n        "),n("br"),e._v("\n        "+e._s(e.$t("income.show-regardless-of-taxable"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyTaxDeductionTaxableOnly,callback:function(t){e.currencyTaxDeductionTaxableOnly=t},expression:"currencyTaxDeductionTaxableOnly"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-only-taxable"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.filter-by-year"))+"\n        "),n("Select",{staticStyle:{width:"unset"},attrs:{multiple:"",size:"small","max-tag-count":5},model:{value:e.selectedYears,callback:function(t){e.selectedYears=t},expression:"selectedYears"}},e._l(e.years,(function(t){return n("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),n("div",{attrs:{id:"tax-deduction"}})],1)]),e._v(" "),n("Row",[n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.advanced-year")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyAdvanced,callback:function(t){e.currencyAdvanced=t},expression:"currencyAdvanced"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"success"}},[e._v("\n        "+e._s(e.$t("income.yes-negative"))+"\n      ")]),e._v(" "),n("div",{attrs:{id:"advanced-year"}})],1),e._v(" "),n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.advanced-platform")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyAdvanced,callback:function(t){e.currencyAdvanced=t},expression:"currencyAdvanced"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("income.no-negative"))+"\n      ")]),e._v(" "),n("div",{attrs:{id:"advanced-platform"}})],1)]),e._v(" "),n("Row",[n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.benefits-year")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyBenefits,callback:function(t){e.currencyBenefits=t},expression:"currencyBenefits"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"success"}},[e._v("\n        "+e._s(e.$t("income.yes-negative"))+"\n      ")]),e._v(" "),n("div",{attrs:{id:"benefits-year"}})],1),e._v(" "),n("div",{style:{width:e.getChartWidth(),minHeight:e.MIN_HEIGHT+"px",minWidth:e.MIN_WIDTH+"px"}},[n("Divider",[e._v(e._s(e.$t("income.benefits-platform")))]),e._v(" "),n("Alert",{attrs:{type:"info"}},[e._v("\n        "+e._s(e.$t("income.show-original-amount"))+"\n        "),n("i-switch",{attrs:{size:"large","true-value":!0,"false-value":!1},model:{value:e.currencyBenefits,callback:function(t){e.currencyBenefits=t},expression:"currencyBenefits"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v(e._s(e.$t("income.open")))]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v(e._s(e.$t("income.close")))])]),e._v("\n        "+e._s(e.$t("income.show-equivalent-cny"))+"\n      ")],1),e._v(" "),n("Alert",{attrs:{type:"warning"}},[e._v("\n        "+e._s(e.$t("income.no-negative"))+"\n      ")]),e._v(" "),n("div",{attrs:{id:"benefits-platform"}})],1)])],1)}),[],!1,null,null,null);t.default=component.exports}}]);