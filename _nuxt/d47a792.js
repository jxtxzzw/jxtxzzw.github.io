(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1590:function(t,e,n){"use strict";n.r(e);n(102);var o=n(425),r={name:"Footprint",data:function(){return{footprint:o.f,screenHeight:0,screenWidth:0}},computed:{contentHeight:function(){return this.screenHeight-64-96},contentWidth:function(){return this.screenWidth-200-96}},watch:{"$store.state.size.height":function(){this.screenHeight=this.$store.getters["size/getHeight"]},"$store.state.size.width":function(){this.screenWidth=this.$store.getters["size/getWidth"]}},mounted:function(){this.drawScene()},methods:{drawScene:function(){var t=this,e=this.$l7,n=e.Scene,o=e.PointLayer,r=e.Popup,c=new n({id:"map",logoVisible:!1,preserveDrawingBuffer:!0,map:new(0,this.$l7maps.GaodeMap)({pitch:0,type:"amap",style:"light",center:[108.5525,34.3227],zoom:4,maxZoom:18})});c.on("loaded",(function(){t.screenHeight=t.$store.getters["size/getHeight"],t.screenWidth=t.$store.getters["size/getWidth"],t.screenWidth-=1,t.screenHeight-=1}));var data=this.footprint,h=new o({}).source(data,{cluster:!0,parser:{type:"json",x:"lng",y:"lat"}}).shape("circle").scale("point_count",{type:"quantile"}).size("point_count",[5,10,21,42,84]).color("#4cfd47").style({opacity:1,strokeWidth:1}).active(!0).select(!0).animate(!0);h.on("mousemove",(function(t){var e="<span>";if(t.feature.cluster)e="这里有 ".concat(t.feature.point_count," 条记录");else{var n=t.feature,o=n.date,h=n.name;o&&(e+="于 ".concat(o," ")),e+="到达 ".concat(h,"</span>")}var d=new r({offsets:[0,0],closeButton:!1}).setLnglat(t.lngLat).setHTML(e);c.addPopup(d)})),c.addLayer(h)}}},c=n(128),component=Object(c.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{style:{width:this.contentWidth+"px",height:this.contentHeight+"px",position:"relative"}},[e("div",{attrs:{id:"map"}})])}),[],!1,null,null,null);e.default=component.exports}}]);