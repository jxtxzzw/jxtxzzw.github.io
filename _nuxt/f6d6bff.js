(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1464:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return F}));var r=n(40);n(135),n(98),n(109),n(99),n(112),n(71),n(92),n(120),n(110),n(111);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},c=o(e);try{for(c.s();!(t=c.n()).done;){var l=t.value,d=l.year,f=parseFloat(l.amount),h=l.type;d in r||(r[d]={}),h in r[d]||(r[d][h]=n?{}:0);var v=parseFloat(l.currency_weight);if(n){var y=l.currency;y in r[d][h]||(r[d][h][y]={amount:0,weightedAmount:0}),r[d][h][y].amount+=f,r[d][h][y].weightedAmount+=f*v}else r[d][h]+=f*v}}catch(e){c.e(e)}finally{c.f()}var data=[];for(var m in r)for(var w in r[m])if(n)for(var F in r[m][w])data.push({year:m,type:w,currency:F,amount:r[m][w][F].amount,weightedAmount:r[m][w][F].weightedAmount});else data.push({year:m,type:w,amount:r[m][w]});return data}function d(){return.75*(document.body.clientHeight-64-24-24-24-24-24)}function f(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["#74CBED","#FF6B3B","#247FEA","#F6C022","#AE0025","#7666F9","#9967BD","#E19348","#FF9EC6","#76523B","#585853","#6395F9","#62DAAB"],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=e.$g2.Chart,data=l(t,c),h=new f({container:r,autoFit:!0,height:d()});return h.data(data),h.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),h.scale(c?"weightedAmount":"amount",{alias:"金额",formatter:function(e){return e=parseFloat(parseFloat(e).toFixed(2))}}),h.axis("year",{tickLine:null}),h.axis(c?"weightedAmount":"amount",{title:{offset:80,style:{fill:"#aaaaaa"}}}),h.tooltip({shared:!1,showMarkers:!0,showTitle:!0}),h.interaction("active-region"),h.interaction("element-highlight-by-color"),h.interaction("legend-highlight"),h.interaction("axis-label-highlight"),n=c?[{type:"dodge",dodgeBy:"currency",marginRatio:0},{type:"stack"}]:"stack",h.interval().adjust(n).position("year*".concat(c?"weightedAmount":"amount")).color("type",o).label("value",(function(){return{position:"middle",offset:0,content:function(e){var t=parseFloat(parseFloat(e.amount).toFixed(2));if(c){var n=parseFloat(parseFloat(e.weightedAmount).toFixed(2));return"".concat(e.currency," ").concat(t," \n (").concat(n,")")}return"(".concat(t,")")},style:{stroke:"#fff"}}})),h.render(),h}function h(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c={},l=0,d=o(e);try{for(d.s();!(n=d.n()).done;){var f=n.value,h=f.category,v=parseFloat(f.amount);if(h in c||(c[h]=r?{}:0),!(v<=0)){var y=parseFloat(f.currency_weight);if(r){var m=f.currency;m in c[h]||(c[h][m]={amount:0,weightedAmount:0}),c[h][m].amount+=v,c[h][m].weightedAmount+=v*y}else c[h]+=v*y,l+=v*y}}}catch(e){d.e(e)}finally{d.f()}var w,F=o(t);try{for(F.s();!(w=F.n()).done;){var A=w.value,x="被动收入",k=parseFloat(A.amount);if(x in c||(c[x]=r?{}:0),!(k<=0)){var C=parseFloat(A.currency_weight);if(r){var j=A.currency;j in c[x]||(c[x][j]={amount:0,weightedAmount:0}),c[x][j].amount+=k,c[x][j].weightedAmount+=k*C}else c[x]+=k*C,l+=k*C}}}catch(e){F.e(e)}finally{F.f()}if(r){var B=[],E=[],M=[];for(var T in c)for(var _ in c[T]){B.includes(_)||B.push(_);var $=c[T][_].amount,D=c[T][_].weightedAmount;$>0&&E.push({category:T,amount:$,weightedAmount:D,currency:"".concat(T," - ").concat(_)})}for(var S=0,W=B;S<W.length;S++){var I=W[S];for(var V in c)if(c[V][I]){var L=c[V][I].amount,H=c[V][I].weightedAmount;L>0&&M.push({category:"".concat(I," - ").concat(V),amount:L,weightedAmount:H,currency:I})}}return[E,M]}var data=[];for(var O in c){var R=c[O];R>0&&data.push({category:O,amount:R,percent:R/l})}return data}function v(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=e.$g2.Chart,l=e.$dataset.DataView,f=new c({container:"basic-category",autoFit:!0,height:d()});if(o){var v=["#e57575","#96ef78","#ba75e8","#7af1e0","#ccec68","#768dea","#e573de","#626114","#b0adad","#f1c265","#20a0ff","#7e6767"],y=h(t,n,o),m=Object(r.a)(y,2),w=m[0],F=m[1],A=f.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},padding:[0,10,40,60]}),x=new l;x.source(w).transform({type:"percent",field:"weightedAmount",dimension:"category",as:"percent"}),A.data(x.rows),A.interval().adjust("stack").position("percent").color("category").label("percent",(function(e){return{offset:e>.02?-30:30,content:function(data){return"".concat(data.category,": ").concat(parseFloat(100*data.percent).toFixed(2),"%")}}})),A.scale({percent:{formatter:function(e){return e=parseFloat(100*e).toFixed(2)+"%"}}}),A.coordinate("theta",{radius:.5}),A.tooltip({showTitle:!0,showMarkers:!0}),A.interaction("element-active");var k=f.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},padding:[0,10,40,60]}),C=new l;C.source(w).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),k.data(C.rows),k.scale({percent:{formatter:function(e){return e=parseFloat(100*e).toFixed(2)+"%"}}}),k.coordinate("theta",{innerRadius:.5/.75,radius:.75}),k.interval().adjust("stack").position("percent").color("currency",v).label("currency").tooltip("currency*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"});var j=f.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},padding:[0,10,40,60]}),B=new l;B.source(F).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),j.data(B.rows),j.interval().adjust("stack").position("percent").color("currency").label("percent",(function(e){return{offset:e>.02?-30:30,content:function(data){return"".concat(data.currency,": ").concat(parseFloat(100*data.percent).toFixed(2),"%")}}})),j.scale({percent:{formatter:function(e){return e=parseFloat(100*e).toFixed(2)+"%"}}}),j.coordinate("theta",{radius:.5}),j.tooltip({showTitle:!0,showMarkers:!0}),j.interaction("element-active");var E=f.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},padding:[0,10,40,60]}),M=new l;M.source(F).transform({type:"percent",field:"weightedAmount",dimension:"category",as:"percent"}),E.data(M.rows),E.scale({percent:{formatter:function(e){return e=parseFloat(100*e).toFixed(2)+"%"}}}),E.coordinate("theta",{innerRadius:.5/.75,radius:.75}),E.interval().adjust("stack").position("percent").color("category",v).label("category").tooltip("category*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"})}else{var data=h(t,n,o),T=new l;T.source(data).transform({type:"percent",field:"amount",dimension:"category",as:"percent"}),f.data(T.rows),f.interval().adjust("stack").position("percent").color("category").label("percent",(function(e){return{offset:e>.02?-30:30,content:function(data){return"".concat(data.category,": ").concat(parseFloat(100*data.percent).toFixed(2),"%")}}})),f.scale({percent:{formatter:function(e){return e=parseFloat(100*e).toFixed(2)+"%"}}}),f.coordinate("theta",{radius:.5}),f.legend(!1),f.tooltip({showTitle:!0,showMarkers:!0}),f.interaction("element-active")}return f.legend(!1),f.render(),f}function y(e,t){var n=new(0,e.$g2.Chart)({container:"all-accumulated",autoFit:!0,height:d()}),data=function(e){var t,n=[],r={},c=9999,l=0,d=o(e);try{for(d.s();!(t=d.n()).done;){var f,h=o(t.value);try{for(h.s();!(f=h.n()).done;){var v=f.value,y=parseInt(v.year),m=parseFloat(v.amount);y<c&&(c=y),y>l&&(l=y),y in r||(r[y]={});var w=parseFloat(v.currency_weight),F=v.currency;n.includes(F)||n.push(F),r[y][F]||(r[y][F]={amount:0,weightedAmount:0}),r[y][F].amount+=m,r[y][F].weightedAmount+=m*w}}catch(e){h.e(e)}finally{h.f()}}}catch(e){d.e(e)}finally{d.f()}for(var A={},x=0,k=n;x<k.length;x++)A[k[x]]=0;for(var data=[],i=c;i<=l;i++)if(i in r){var C,j=o(n);try{for(j.s();!(C=j.n()).done;){var B=C.value,E=B in r[i]?parseFloat(r[i][B].amount):0;E=parseFloat(parseFloat(E).toFixed(2)),data.push({year:i,currency:B,value:E}),A[B]+=B in r[i]?parseFloat(r[i][B].amount):0,E=parseFloat(parseFloat(A[B]).toFixed(2)),data.push({year:i,currency:"".concat(B,"_(ACCUMULATED)"),value:E})}}catch(e){j.e(e)}finally{j.f()}}return data}(t);return n.data(data),n.tooltip({showCrosshairs:!0,shared:!0}),n.axis("value",{label:{formatter:function(e){return parseFloat(e).toFixed(2)}}}),n.line().position("year*value").color("currency").shape("smooth"),n.point().position("year*value").color("currency").shape("circle").style({stroke:"#fff",lineWidth:1}),n.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),n.render(),n}function m(e,t){var n=e.$g2.Chart,r=e.$dataset.DataView,c=function(e){var t,n={},r=o(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,l=parseFloat(c.amount);if(!(l<0)){void 0!==c.currency_weight&&null!==c.currency_weight&&(l*=parseFloat(c.currency_weight));var d=c.type,f=c.platform;f in n||(n[f]={},n[f].value=0,n[f].children={}),n[f].value+=l,d in n[f].children||(n[f].children[d]=0),n[f].children[d]+=l}}}catch(e){r.e(e)}finally{r.f()}var data=[];for(var h in n){var v={name:h,brand:h,value:n[h].value,children:[]};for(var y in n[h].children)v.children.push({name:"".concat(h," - ").concat(y),value:n[h].children[y]});data.push(v)}return data.sort((function(a,b){return b.value-a.value})),data}(t);c.forEach((function(td){td.value=0}));var data={name:"root",children:c},l=new r;l.source(data,{type:"hierarchy"}).transform({field:"value",type:"hierarchy.treemap",tile:"treemapResquarify",as:["x","y"]});var f,h=[],v=o(l.getAllNodes());try{for(v.s();!(f=v.n()).done;){var y=f.value;if(!y.children){var m={name:y.data.name,x:y.x,y:y.y,depth:y.depth,value:y.value};!y.data.brand&&y.parent?m.brand=y.parent.data.brand:m.brand=y.data.brand,h.push(m)}}}catch(e){v.e(e)}finally{v.f()}var w=new n({container:"advanced-platform",autoFit:!0,height:d()});return w.coordinate().scale(1,-1),w.data(h),w.axis(!1),w.legend({position:"bottom"}),w.tooltip({showTitle:!1,showMarkers:!1}),w.polygon().position("x*y").color("brand").tooltip("name*value",(function(e,t){return{name:e,value:"(".concat(parseFloat(t).toFixed(2),")")}})).style({lineWidth:1,stroke:"#fff"}).label("name",{offset:0,style:{textBaseline:"middle",fill:"#000",shadowBlur:10,shadowColor:"#fff"},layout:{type:"limit-in-shape"}}),w.interaction("element-active"),w.render(),w}function w(e,t,n){return n.indexOf(e)===t}function F(e,t){document.getElementById("balance").innerHTML='\n<div id="app-container-balance">\n  <div id="g2-customize-tooltip-balance"></div>\n  <div id="g2-container-balance"></div>\n</div>\n';var n=new(0,e.$g2.Chart)({container:"g2-container-balance",autoFit:!0,height:d()}),data=function(e){var t,n=[],r=[],c=o(e);try{for(c.s();!(t=c.n()).done;){var l=t.value;r[l.date]||(r[l.date]={}),n.includes(l.currency)||n.push(l.currency);var d=parseFloat(l.amount),f=parseFloat(l.currency_weight);r[l.date][l.currency]||(r[l.date][l.currency]={amount:0,weightedAmount:0}),r[l.date][l.currency].amount=d,r[l.date][l.currency].weightedAmount=d*f}}catch(e){c.e(e)}finally{c.f()}var data=[];for(var h in r){var v,y=o(n);try{for(y.s();!(v=y.n()).done;){var m=v.value,a=m in r[h]?parseFloat(r[h][m].amount):0;a=parseFloat(parseFloat(a).toFixed(2));var w=m in r[h]?parseFloat(r[h][m].weightedAmount):0;w=parseFloat(parseFloat(w).toFixed(2)),data.push({date:h,currency:m,value:w,originalAmount:a})}}catch(e){y.e(e)}finally{y.f()}}return data}(t);n.data(data),n.scale("value",{nice:!0}),n.scale("date",{nice:!0,type:"time"}),n.tooltip({showCrosshairs:!0,shared:!0}),n.area().adjust("stack").position("date*value").color("currency"),n.line().adjust("stack").position("date*value").color("currency"),n.interaction("element-highlight"),n.axis("value",{label:{formatter:function(e){return parseFloat(e).toFixed(2)}}}),n.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}});var r=document.getElementById("g2-customize-tooltip-balance");function c(data){var title=data.title,e=data.items;return'\n    <div class="tooltip-title">'.concat(title,'</div>\n    <div class="tooltip-items">\n      ').concat(e.map((function(e){var t=e.color,n=e.name,r=e.value,o=e.data.originalAmount;return'\n        <div class="tooltip-item" style="border-left: 2px solid '.concat(t,'">\n          <div class="tooltip-item-name">').concat(n," (Weighted ").concat(n,')</div>\n          <div class="tooltip-item-value">').concat(o," (").concat(r,")</div>\n        </div>\n        ")})).join(""),"\n    </div>\n  ")}var l=data[data.length-1].date;n.on("afterrender",(function(){var e=data.filter((function(e){return e.date===l})).map((function(e){return{name:e.currency,value:e.value,data:{originalAmount:e.originalAmount}}}));r.innerHTML=c({title:l,items:e})})),n.on("tooltip:change",(function(e){r.innerHTML=c(e.data)}));var f,h="9999-12-31",v="0000-01-01",y=0,m=o(data);try{for(m.s();!(f=m.n()).done;){var F=f.value;F.date>v&&(v=F.date),F.date<h&&(h=F.date),y+=F.value}}catch(e){m.e(e)}finally{m.f()}var A=y/data.map((function(e){return e.date})).filter(w).length;return n.annotation().line({top:!0,start:[h,A],end:[v,A],style:{stroke:"#595959",lineWidth:1,lineDash:[3,3]},text:{position:"start",style:{fill:"#8c8c8c",fontSize:12,fontWeight:300},content:"均值线：(".concat(A,")"),offsetY:-5}}),n.render(),n}}}]);