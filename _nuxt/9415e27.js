(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1467:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return C})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return D})),n.d(t,"d",(function(){return O})),n.d(t,"g",(function(){return R}));var r=n(41),o=n(222),c=(n(136),n(70),n(198),n(199),n(93),n(114),n(102),n(115),n(101),n(83),n(113),n(99),n(100),n(39));function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f={YEAR_AND_TYPE:["#74CBED","#FF6B3B","#247FEA","#F6C022","#585853","#7666F9","#62DAAB","#0C3967","#AE0025","#76523B","#FF9EC6","#6395F9","#9967BD"],CATEGORY:{G2_CLASSIC:["#661900","#B22C00","#E6450F","#FF6500","#FF8C00","#FFB200","#FFCB33","#FFDF80","#E0F2EB","#66D8FF","#1AC5FF","#00A5FF","#007FFF","#0059FF","#0040FF","#002CB2","#001F7F"],G2_GREEN_MAGIC:["#EAACFF","#DD78FF","#C53FFF","#A700FF","#8500FF","#620BE1","#3607C2","#27029A","#141787","#014c63","#10686c","#168575","#16a37e","#0bc286","#65cf9b","#96dcb0","#c1e8c5"]},G2_YELLOW_CYAN:["#795B16","#A37B16","#D09C10","#EDB40A","#FFC741","#FFD470","#FFDE94","#FFE9B8","#EFF3DE","#C9E9FF","#ABDFFF","#8AD4FF","#61C9FF","#22BAED","#1B9CD0","#227BA2","#215B77"],BASE_CURRENCY:["#A0DC2C","#FF6500","#0059FF"]};function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},o=l(e);try{for(o.s();!(t=o.n()).done;){var c=t.value,d=c.year,f=parseFloat(c.amount),v=c.type;d in r||(r[d]={}),v in r[d]||(r[d][v]={});var h=n?parseFloat(c.currency_weight):1,y=c.currency;y in r[d][v]||(r[d][v][y]={amount:0,weightedAmount:0}),r[d][v][y].amount+=f,r[d][v][y].weightedAmount+=f*h}}catch(e){o.e(e)}finally{o.f()}var data=[];for(var m in r)for(var F in r[m])for(var w in r[m][F])data.push({year:m,type:F,currency:w,amount:r[m][F][w].amount,weightedAmount:r[m][F][w].weightedAmount});return data}function h(){return.75*(document.body.clientHeight-64-24-24-24-24-24)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"container",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.$g2.Chart,data=v(t,r),c=new o({container:n,autoFit:!0,height:h()});c.data(data),c.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),c.scale("weightedAmount",{alias:"金额",nice:!0,formatter:function(e){return e=parseFloat(parseFloat(e).toFixed(2))}}),c.axis("weightedAmount",{title:{offset:80,style:{fill:"#aaaaaa"}}}),c.scale("year",{nice:!0}),c.axis("year",{tickLine:null}),c.tooltip({shared:!1,showMarkers:!0,showTitle:!0,customItems:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parsedAmount=parseFloat(r.data.amount).toFixed(2),r.parsedWeightedAmount=parseFloat(r.data.weightedAmount).toFixed(2),r.currency=r.data.currency,r.type=r.data.type}}catch(e){n.e(e)}finally{n.f()}return e},itemTpl:'<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;"><span style="background-color:{color};" class="g2-tooltip-marker"></span><span>{type} {currency}</span><br/><span style="padding-left: 16px">{parsedAmount} ({parsedWeightedAmount})</span></li>'}),c.interaction("element-highlight-by-color"),c.interaction("legend-highlight"),c.interaction("axis-label-highlight");var d=[{type:"dodge",dodgeBy:"currency",marginRatio:0},{type:"stack"}];return c.interval().adjust(d).position("year*weightedAmount").color("type",f.YEAR_AND_TYPE),c.render(),c}function m(e){var t=[],n=[],r=[];for(var o in e)for(var c in e[o]){t.includes(c)||t.push(c);var l=e[o][c].amount,d=e[o][c].weightedAmount;l>0&&n.push({type:o,amount:l,weightedAmount:d,currency:"".concat(o," - ").concat(c)})}for(var f=0,v=t;f<v.length;f++){var h=v[f];for(var y in e)if(e[y][h]){var m=e[y][h].amount,F=e[y][h].weightedAmount;m>0&&r.push({type:"".concat(h," - ").concat(y),amount:m,weightedAmount:F,currency:h})}}return[n,r]}function F(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={},o=l(e);try{for(o.s();!(t=o.n()).done;){var c=t.value,d=c.type,f=parseFloat(c.amount);if(d in r||(r[d]={}),!(f<=0)){var v=n?parseFloat(c.currency_weight):1,h=c.currency;h in r[d]||(r[d][h]={amount:0,weightedAmount:0}),r[d][h].amount+=f,r[d][h].weightedAmount+=f*v}}}catch(e){o.e(e)}finally{o.f()}return m(r)}function w(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={},c=[e,t,n],d=["薪金收入","被动收入","福利收入"],i=0;i<c.length;i++){var f,v=l(c[i]);try{for(v.s();!(f=v.n()).done;){var h=f.value,y=d[i],F=parseFloat(h.amount);if(y in o||(o[y]={}),!(F<=0)){var w=r?parseFloat(h.currency_weight):1,A=h.currency;A in o[y]||(o[y][A]={amount:0,weightedAmount:0}),o[y][A].amount+=F,o[y][A].weightedAmount+=F*w}}}catch(e){v.e(e)}finally{v.f()}}return m(o)}function A(e,t,n,r){var c=e.$dataset.DataView,l=Object(o.a)(f.CATEGORY.G2_GREEN_MAGIC),d=Object(o.a)(f.CATEGORY.G2_CLASSIC),v=Object(o.a)(f.CATEGORY.G2_CLASSIC.reverse()),h=Object(o.a)(f.CATEGORY.G2_GREEN_MAGIC.reverse()),y=t.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},padding:[0,10,40,60]}),m=new c;m.source(n).transform({type:"percent",field:"weightedAmount",dimension:"type",as:"percent"}),y.data(m.rows),y.interval().adjust("stack").position("percent").color("type",l).label("percent",(function(){return{offset:-10,content:function(data){return data.percent<.02?"...":"".concat(data.type,": ").concat((100*data.percent).toFixed(2),"%")}}})),y.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),y.coordinate("theta",{radius:.5}),y.tooltip({showTitle:!0,showMarkers:!0}),y.interaction("element-active");var F=t.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},padding:[0,10,40,60]}),w=new c;w.source(n).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),F.data(w.rows),F.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),F.coordinate("theta",{innerRadius:.5/.75,radius:.75}),F.interval().adjust("stack").position("percent").color("currency",d).label("currency").tooltip("currency*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"});var A=t.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},padding:[0,10,40,60]}),x=new c;x.source(r).transform({type:"percent",field:"weightedAmount",dimension:"currency",as:"percent"}),A.data(x.rows),A.interval().adjust("stack").position("percent").color("currency",v).label("percent",(function(){return{offset:-10,content:function(data){return data.percent<.02?"...":"".concat(data.currency,": ").concat((100*data.percent).toFixed(2),"%")}}})),A.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),A.coordinate("theta",{radius:.5}),A.tooltip({showTitle:!0,showMarkers:!0}),A.interaction("element-active");var C=t.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},padding:[0,10,40,60]}),E=new c;E.source(r).transform({type:"percent",field:"weightedAmount",dimension:"type",as:"percent"}),C.data(E.rows),C.scale({percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}}),C.coordinate("theta",{innerRadius:.5/.75,radius:.75}),C.interval().adjust("stack").position("percent").color("type",h).label("type").tooltip("type*percent",(function(e,t){return{name:e,value:t=(100*t).toFixed(2)+"%"}})).style({lineWidth:1,stroke:"#fff"}),t.legend(!1),t.render()}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.$g2.Chart,c=new o({container:"basic-category",autoFit:!0,height:h()}),l=F(t,n),d=Object(r.a)(l,2),f=d[0],v=d[1];return A(e,c,f,v),c}function C(e,t,n,o){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=e.$g2.Chart,d=new l({container:"basic-category-overview",autoFit:!0,height:h()}),f=w(t,n,o,c),v=Object(r.a)(f,2),y=v[0],m=v[1];return A(e,d,y,m),d}function E(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=[],d={},f=9999,v=0,h=l(t);try{for(h.s();!(n=h.n()).done;){var y,m=n.value,F=l(m);try{for(F.s();!(y=F.n()).done;){var w=y.value,A=parseInt(w.year),x=parseFloat(w.amount);A<f&&(f=A),A>v&&(v=A),A in d||(d[A]={});var C=r?parseFloat(w.currency_weight):1,E=w.currency;c.includes(E)||c.push(E),d[A][E]||(d[A][E]={amount:0,weightedAmount:0}),d[A][E].amount+=x,d[A][E].weightedAmount+=x*C}}catch(e){F.e(e)}finally{F.f()}}}catch(e){h.e(e)}finally{h.f()}for(var _={},B=0,D=c;B<D.length;B++){var k=D[B];_[k]=0}for(var data=[],i=f;i<=v;i++)if(i in d){var Y,O=l(c);try{for(O.s();!(Y=O.n()).done;){var R=Y.value,S=R in d[i]?parseFloat(d[i][R].weightedAmount):0;_[R]+=S,o?data.push({year:i.toString(10),currency:"".concat(R,"_").concat(e.$t("income.accumulated")),value:parseFloat(_[R].toFixed(2))}):data.push({year:i.toString(10),currency:R,value:parseFloat(S.toFixed(2))})}}catch(e){O.e(e)}finally{O.f()}}return data}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.$g2.Chart,c=new o({container:"all-accumulated",autoFit:!0,height:h()}),data=E(e,t,n,r);return c.data(data),c.tooltip({showCrosshairs:!0,shared:!0}),c.scale("value",{nice:!0}),c.scale("date",{nice:!0,type:"time"}),c.axis("value",{label:{formatter:function(e){return parseFloat(e).toFixed(2)}}}),c.line().position("year*value").color("currency",f.BASE_CURRENCY).shape("smooth"),c.point().position("year*value").color("currency",f.BASE_CURRENCY).shape("circle").style({stroke:"#fff",lineWidth:1}),c.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}}),c.render(),c}function B(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},o=l(e);try{for(o.s();!(t=o.n()).done;){var c=t.value,d=parseFloat(c.amount);if(!(d<0)){void 0!==c.currency_weight&&null!==c.currency_weight&&(d*=n?parseFloat(c.currency_weight):1);var v=c.type,h=c.platform;h in r||(r[h]={},r[h].value=0,r[h].children={}),r[h].value+=d,v in r[h].children||(r[h].children[v]=0),r[h].children[v]+=d}}}catch(e){o.e(e)}finally{o.f()}var data=[];for(var y in r){var m={name:y,brand:y,value:r[y].value,children:[]};for(var F in r[y].children)m.children.push({name:"".concat(y," - ").concat(F),value:r[y].children[F]});data.push(m)}if(data.sort((function(a,b){return b.value-a.value})),data.length<=f.G2_YELLOW_CYAN.length)return data;for(var w=[],i=0;i<f.G2_YELLOW_CYAN.length;i++)w.push(data[i]);for(var A={name:"其他",brand:"其他",value:0,children:[]},x=f.G2_YELLOW_CYAN.length;x<data.length;x++)A.children.push({name:"其他 - ".concat(data[x].name),value:data[x].value});return w.push(A),w}function D(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.$g2.Chart,o=e.$dataset.DataView,c=B(t,n);c.forEach((function(td){td.value=0}));var data={name:"root",children:c},d=new o;d.source(data,{type:"hierarchy"}).transform({field:"value",type:"hierarchy.treemap",tile:"treemapResquarify",as:["x","y"]});var v,y=[],m=l(d.getAllNodes());try{for(m.s();!(v=m.n()).done;){var F=v.value;if(!F.children){var w={name:F.data.name,x:F.x,y:F.y,depth:F.depth,value:F.value};!F.data.brand&&F.parent?w.brand=F.parent.data.brand:w.brand=F.data.brand,y.push(w)}}}catch(e){m.e(e)}finally{m.f()}var A=new r({container:"advanced-platform",autoFit:!0,height:h()});return A.coordinate().scale(1,-1),A.data(y),A.axis(!1),A.legend({position:"bottom"}),A.tooltip({showTitle:!1,showMarkers:!1}),A.polygon().position("x*y").color("brand",f.G2_YELLOW_CYAN).tooltip("name*value",(function(e,t){return{name:e,value:"(".concat(parseFloat(t).toFixed(2),")")}})).style({lineWidth:1,stroke:"#fff"}).label("name",{offset:0,style:{textBaseline:"middle",fill:"#000",shadowBlur:10,shadowColor:"#fff"},layout:{type:"limit-in-shape"}}),A.interaction("element-active"),A.render(),A}function k(e,t){var n,r=[],o=[],c=l(e);try{for(c.s();!(n=c.n()).done;){var d=n.value;if(!d.pending||t){o[d.date]||(o[d.date]={}),r.includes(d.currency)||r.push(d.currency);var f=parseFloat(d.amount),v=parseFloat(d.currency_weight);o[d.date][d.currency]||(o[d.date][d.currency]={amount:0,weightedAmount:0}),o[d.date][d.currency].amount+=f,o[d.date][d.currency].weightedAmount+=f*v}}}catch(e){c.e(e)}finally{c.f()}var data=[];for(var h in o){var y,m=l(r);try{for(m.s();!(y=m.n()).done;){var F=y.value,a=F in o[h]?parseFloat(o[h][F].amount):0;a=parseFloat(a.toFixed(2));var w=F in o[h]?parseFloat(o[h][F].weightedAmount):0;w=parseFloat(w.toFixed(2)),data.push({date:h,currency:F,value:w,originalAmount:a})}}catch(e){m.e(e)}finally{m.f()}}return data}function Y(e,t,n){return n.indexOf(e)===t}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.getElementById("balance");r.innerHTML="\n<div id='app-container-balance'>\n  <div id='g2-customize-tooltip-balance'></div>\n  <div id='g2-container-balance'></div>\n</div>\n";var o=e.$g2.Chart,d=e.$dataset.DataView,v=new o({container:"g2-container-balance",autoFit:!0,height:h()}),data=k(t,n);v.data(data),v.scale("value",{nice:!0}),v.scale("date",{nice:!0,type:"time"}),v.tooltip({showCrosshairs:!0,shared:!0}),v.area().adjust("stack").position("date*value").color("currency",f.BASE_CURRENCY),v.line().adjust("stack").position("date*value").color("currency",f.BASE_CURRENCY),v.interaction("element-highlight"),v.axis("value",{label:{formatter:function(e){return parseFloat(e).toFixed(2)}}}),v.option("slider",{height:30,trendCfg:{smooth:!0,isArea:!0}});var y=document.getElementById("g2-customize-tooltip-balance");function m(data){var title=data.title,e=data.items,t=0,n="".concat(e.map((function(e){var n=e.color,r=e.name,o=e.value,c=e.data.originalAmount;return t+=parseFloat(o),"\n        <div class='tooltip-item' style='border-left: 2px solid ".concat(n,"'>\n          <div class='tooltip-item-name'>").concat(r," (Weighted ").concat(r,")</div>\n          <div class='tooltip-item-value'>").concat(c," (").concat(o,")</div>\n        </div>\n        ")})).join(""));return"\n    <div class='tooltip-title'>".concat(title,"</div>\n    <div class='tooltip-items'>\n      <div class='tooltip-item' style='border-left: 2px solid #2B2B2B'>\n          <div class='tooltip-item-name'>(Weighted Sum)</div>\n          <div class='tooltip-item-value'>(").concat(t.toFixed(2),")</div>\n        </div>\n      ").concat(n,"\n    </div>\n  ")}var F=data[data.length-1].date;v.on("afterrender",(function(){var e=data.filter((function(e){return e.date===F})).map((function(e){return{name:e.currency,value:e.value,data:{originalAmount:e.originalAmount}}}));y.innerHTML=m({title:F,items:e})})),v.on("tooltip:change",(function(e){y.innerHTML=m(e.data)}));var w,A="9999-12-31",x="0000-01-01",C=[],E=0,_=l(data);try{for(_.s();!(w=_.n()).done;){var B=w.value;B.date>x&&(x=B.date),B.date<A&&(A=B.date),C[B.date]?C[B.date]+=parseFloat(B.value):C[B.date]=parseFloat(B.value),E+=parseFloat(B.value)}}catch(e){_.e(e)}finally{_.f()}var D=data.map((function(e){return e.date})).filter(Y).length,O=E/D;v.annotation().line({top:!0,start:[A,O],end:[x,O],style:{stroke:"#c849ff",lineWidth:1,lineDash:[3,5]},text:{position:"end",style:{fill:"#c849ff",fontSize:12,fontWeight:300},content:"".concat(e.$t("income.average-line"),"\n").concat(O.toFixed(2)),offsetX:-20,offsetY:-5}}),E=0;var R,S,j=0;for(var G in C){var W=(E+=C[G])/(j+=1);R||(R=G,S=W),v.annotation().line({top:!0,start:[R,S],end:[G,W],style:{stroke:"#c849ff",lineWidth:1,lineDash:[5,5]}}),R=G,S=W}var T=7776e6,L=[];for(var I in C){var N=(Date.parse(I)-Date.parse(A))/T;L.push({datum:N,value:parseFloat(C[I])})}var $=(new d).source(L);$.transform({type:"regression",method:"polynomial",fields:["datum","value"],bandwidth:1,as:["datum","value"]});var M=$.rows.map((function(e){return{date:Object(c.dateFormat)(new Date(Date.parse(Object(c.dateFormat)(new Date(A)))+e.datum*T)),value:e.value}}));for(var V in M){var U=M[V],z=0===parseInt(V)?U:M[V-1];v.annotation().line({top:!0,start:[U.date,U.value],end:[z.date,z.value],style:{stroke:"#ffbd49",lineWidth:1,lineDash:[5,3]}})}return v.annotation().text({content:"".concat(e.$t("income.prediction-line"),"\n").concat(M[M.length-1].value),top:!0,position:[M[M.length-1].date,M[M.length-1].value],style:{fill:"#ffbd49",fontSize:12,fontWeight:300},offsetY:-5}),v.render(),v}function R(e,t){var n=function(e,t){var n,r=t.$t("income.taxable"),o=[],c=[],d=l(e);try{for(d.s();!(n=d.n()).done;){var f=n.value;o.includes(f.currency)||o.push(f.currency),parseFloat(f.amount)<0&&!c.includes(f.category)&&c.push(f.category)}}catch(e){d.e(e)}finally{d.f()}var v,h=[r].concat(c),y={},m=l(h);try{for(m.s();!(v=m.n()).done;){var F=v.value;y[F]={};var w,A=l(o);try{for(A.s();!(w=A.n()).done;){var x=w.value;y[F][x]=0}}catch(e){A.e(e)}finally{A.f()}}}catch(e){m.e(e)}finally{m.f()}var C,E=l(e);try{for(E.s();!(C=E.n()).done;){var _=C.value,B=parseFloat(_.amount);if(B>0&&_.taxable){y[r][_.currency]+=B;var D,k=l(c);try{for(k.s();!(D=k.n()).done;)y[D.value][_.currency]+=B}catch(e){k.e(e)}finally{k.f()}}else if(c.includes(_.category))for(var i=c.indexOf(_.category);i<c.length;i++)y[c[i]][_.currency]+=B}}catch(e){E.e(e)}finally{E.f()}var Y,data=[],O=l(h.reverse());try{for(O.s();!(Y=O.n()).done;){var R,S=Y.value,j=l(o);try{for(j.s();!(R=j.n()).done;){var G=R.value;data.push({type:S===r?S:t.$t("income.after-what",{what:S}),currency:G,value:y[S][G]})}}catch(e){j.e(e)}finally{j.f()}}}catch(e){O.e(e)}finally{O.f()}return[data,y[r]]}(t,e),o=Object(r.a)(n,2),data=o[0],base=o[1],c=new(0,e.$g2.Chart)({container:"tax-deduction",autoFit:!0,height:h(),padding:[30,120,95]}),d=0,f=Object.keys(base).length,v=function(e){var t=c.createView({region:{start:{x:d/f,y:0},end:{x:(d+1)/f,y:1}},padding:[0,10,40,60]});d++;var n=data.filter((function(t){return t.currency===e}));t.data(n),t.axis(!1),t.tooltip({showMarkers:!1,showTitle:!1,itemTpl:'<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;"><span style="background-color:{color};" class="g2-tooltip-marker"></span><br/><span style="padding-left: 16px">{value}</span><br/><span style="padding-left: 16px">{name}</span></li>'}),t.coordinate("rect").transpose().scale(-1,1),t.interval().adjust("symmetric").position("type*value").color("type",["#69C0FF","#40A9FF","#1890FF","#0050B3","#0C3967FF"]).shape("funnel").tooltip("currency*type*value",(function(e,t,n){return{name:e,value:"".concat(n.toFixed(2)," (").concat((100*parseFloat(n)/parseFloat(base[e])).toFixed(2),"%)")}})).label("currency").style({lineWidth:1,stroke:"#fff"}).animate({appear:{animation:"fade-in"},update:{annotation:"fade-in"}}),t.removeInteraction("element-active");var r,o=l(n);try{for(o.s();!(r=o.n()).done;){var v=r.value;t.annotation().text({top:!0,position:[v.type,"center"],content:"".concat(v.type,"\n").concat(parseFloat(v.value).toFixed(2),"\n(").concat((100*parseFloat(v.value)/parseFloat(base[v.currency])).toFixed(2),"%)"),style:{fill:"#fff",stroke:null,fontSize:12,textAlign:"center",shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)"}})}}catch(e){o.e(e)}finally{o.f()}};for(var y in base)v(y);return c.removeInteraction("legend-filter"),c.render(),c}}}]);