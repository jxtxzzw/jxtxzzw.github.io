(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1567:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(102);function o(map,source,t){var e=t.$l7,n=e.Scene,o=e.Popup,r=t.$l7maps,c=r.GaodeMap,h=r.Mapbox,l={center:[108.5525,34.3227],pitch:0,zoom:4,maxZoom:18},d=new n({id:"".concat(map,"Footprint"),logoVisible:!1,preserveDrawingBuffer:!1,map:"china"===map?new c(l):new h(l)});d.on("loaded",(function(){window.dispatchEvent(new Event("resize")),t.screenHeight=t.$store.getters["size/getHeight"],t.screenWidth=t.$store.getters["size/getWidth"],t.screenWidth-=1,t.screenHeight-=1}));var f=function(data,t){return new(0,t.$l7.PointLayer)({name:"layer"}).source(data,{cluster:!0,parser:{type:"json",x:"lng",y:"lat"}}).shape("circle").scale("point_count",{type:"quantile"}).size("point_count",[30,40,50,60,70]).color("#4cfd47").style({opacity:1,strokeWidth:1}).active(!0).select(!0).animate(!0)}("china"===map?source.filter((function(t){return"china"===t.map})):source,t);return f.on("mousemove",(function(e){var n="<span>";if(e.feature.cluster)n=t.$t("footprint.cluster",{count:e.feature.point_count});else{var r=e.feature,c=r.date,h=r.name;c&&(n+=t.$t("footprint.date",{date:c})),n+=t.$t("footprint.name",{name:h}),n+="</span>"}var l=new o({offsets:[0,0],closeButton:!1}).setLnglat(e.lngLat).setHTML(n);d.addPopup(l)})),d.addLayer(f),d}},1573:function(t,e,n){"use strict";n.r(e);var o=n(1567),r=n(425),c={name:"ChinaFootprint",data:function(){return{map:"china",source:r.g,screenHeight:0,screenWidth:0}},computed:{getId:function(){return this.map+"Footprint"},contentHeight:function(){return this.screenHeight-160-106},contentWidth:function(){return this.screenWidth-200-96}},watch:{"$store.state.size.height":function(){this.screenHeight=this.$store.getters["size/getHeight"]},"$store.state.size.width":function(){this.screenWidth=this.$store.getters["size/getWidth"]}},mounted:function(){this.screenHeight=this.$store.getters["size/getHeight"],this.screenWidth=this.$store.getters["size/getWidth"];var t=o.a(this.map,this.source,this);this.$emit("scene",t)}},h=n(128),component=Object(h.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{style:{width:this.contentWidth+"px",height:this.contentHeight+"px",justifyContent:"center",position:"absolute",zIndex:2},attrs:{id:this.getId}})])}),[],!1,null,null,null);e.default=component.exports},1574:function(t,e,n){"use strict";n.r(e);var o=n(1567),r=n(425),c={name:"WorldFootprint",data:function(){return{map:"world",source:r.g,screenHeight:0,screenWidth:0}},computed:{getId:function(){return this.map+"Footprint"},contentHeight:function(){return this.screenHeight-160-106},contentWidth:function(){return this.screenWidth-200-96}},watch:{"$store.state.size.height":function(){this.screenHeight=this.$store.getters["size/getHeight"]},"$store.state.size.width":function(){this.screenWidth=this.$store.getters["size/getWidth"]}},mounted:function(){this.screenHeight=this.$store.getters["size/getHeight"],this.screenWidth=this.$store.getters["size/getWidth"];var t=o.a(this.map,this.source,this);this.$emit("scene",t)}},h=n(128),component=Object(h.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{style:{width:this.contentWidth+"px",height:this.contentHeight+"px",justifyContent:"center",position:"absolute",zIndex:1},attrs:{id:this.getId}})])}),[],!1,null,null,null);e.default=component.exports},1594:function(t,e,n){"use strict";n.r(e);var o=n(1573),r={name:"Footprint",components:{WorldFootprint:n(1574).default,ChinaFootprint:o.default},data:function(){return{map:"china",chinaScene:null,worldScene:null}},watch:{map:function(){this.$store.commit("size/setHeight",600),this.$store.commit("size/setWidth",600),this.chinaScene.render(),this.worldScene.render()}},methods:{saveChinaScene:function(t){this.chinaScene=t},saveWorldScene:function(t){this.worldScene=t}}},c=n(128),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Alert",{attrs:{type:"info"}},[n("p",[t._v("\n      "+t._s(t.$t("footprint.current"))+"\n      "),n("i-switch",{attrs:{size:"large","true-value":"china","false-value":"world"},model:{value:t.map,callback:function(e){t.map=e},expression:"map"}},[n("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t.$t("footprint.china")))]),t._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t.$t("footprint.world")))])]),t._v("\n      "+t._s(t.$t("navigation.footprint"))+"\n    ")],1),t._v(" "),n("template",{slot:"desc"},[t._v(t._s(t.$t("footprint.desc")))])],2),t._v(" "),n("ChinaFootprint",{style:{display:"china"===t.map?"block":"none"},on:{scene:t.saveChinaScene}}),t._v(" "),n("WorldFootprint",{on:{scene:t.saveWorldScene}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ChinaFootprint:n(1573).default,WorldFootprint:n(1574).default})}}]);