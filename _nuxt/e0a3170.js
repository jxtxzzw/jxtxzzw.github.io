/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],[function(e,t,n){"use strict";n.r(t);var r=n(102);n.d(t,"container",(function(){return r.c})),n.d(t,"createSceneContainer",(function(){return r.b})),n.d(t,"createLayerContainer",(function(){return r.a})),n.d(t,"lazyInject",(function(){return r.d})),n.d(t,"lazyMultiInject",(function(){return r.e}));var o=n(35);n.d(t,"BasePostProcessingPass",(function(){return o.a}));var l=n(10);n.d(t,"TYPES",(function(){return l.a}));var c=n(302);n.d(t,"packCircleVertex",(function(){return c.a}));var d=n(271);n.d(t,"BlendType",(function(){return d.a}));var f=n(272);n.d(t,"ScaleTypes",(function(){return f.b})),n.d(t,"StyleScaleType",(function(){return f.c})),n.d(t,"AttributeType",(function(){return f.a}));var h=n(273);for(var v in h)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return h[e]}))}(v);var m=n(274);n.d(t,"MapServiceEvent",(function(){return m.a}));var y=n(93);n.d(t,"CoordinateSystem",(function(){return y.a})),n.d(t,"CoordinateUniform",(function(){return y.b}));var x=n(275);for(var v in x)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return x[e]}))}(v);var _=n(276);n.d(t,"CameraUniform",(function(){return _.a}));var w=n(277);for(var v in w)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return w[e]}))}(v);var k=n(278);n.d(t,"SceneEventList",(function(){return k.a}));var S=n(279);for(var v in S)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return S[e]}))}(v);var C=n(280);for(var v in C)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return C[e]}))}(v);var T=n(281);for(var v in T)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return T[e]}))}(v);var E=n(282);n.d(t,"PositionType",(function(){return E.a}));var M=n(283);for(var v in M)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return M[e]}))}(v);var P=n(284);for(var v in P)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return P[e]}))}(v);var A=n(285);for(var v in A)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return A[e]}))}(v);var O=n(30);n.d(t,"InteractionEvent",(function(){return O.a}));var I=n(286);for(var v in I)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return I[e]}))}(v);var D=n(287);for(var v in D)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return D[e]}))}(v);var R=n(288);for(var v in R)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return R[e]}))}(v);var z=n(289);for(var v in z)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return z[e]}))}(v);var L=n(290);for(var v in L)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return L[e]}))}(v);var j=n(44);n.d(t,"PassType",(function(){return j.a}));var F=n(291);for(var v in F)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent","PassType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return F[e]}))}(v);var N=n(292);for(var v in N)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent","PassType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return N[e]}))}(v);var B=n(293);for(var v in B)["default","container","createSceneContainer","createLayerContainer","lazyInject","lazyMultiInject","TYPES","packCircleVertex","BasePostProcessingPass","BlendType","ScaleTypes","StyleScaleType","AttributeType","MapServiceEvent","CoordinateSystem","CoordinateUniform","CameraUniform","SceneEventList","PositionType","InteractionEvent","PassType"].indexOf(v)<0&&function(e){n.d(t,e,(function(){return B[e]}))}(v);var V=n(23);n.d(t,"gl",(function(){return V.a}))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34);t.METADATA_KEY=r;var o=n(431);t.Container=o.Container;var l=n(67);t.BindingScopeEnum=l.BindingScopeEnum,t.BindingTypeEnum=l.BindingTypeEnum,t.TargetTypeEnum=l.TargetTypeEnum;var c=n(447);t.AsyncContainerModule=c.AsyncContainerModule,t.ContainerModule=c.ContainerModule;var d=n(448);t.injectable=d.injectable;var f=n(449);t.tagged=f.tagged;var h=n(450);t.named=h.named;var v=n(242);t.inject=v.inject,t.LazyServiceIdentifer=v.LazyServiceIdentifer;var m=n(451);t.optional=m.optional;var y=n(452);t.unmanaged=y.unmanaged;var x=n(453);t.multiInject=x.multiInject;var _=n(454);t.targetName=_.targetName;var w=n(455);t.postConstruct=w.postConstruct;var k=n(240);t.MetadataReader=k.MetadataReader;var S=n(90);t.id=S.id;var C=n(79);t.decorate=C.decorate;var T=n(245);t.traverseAncerstors=T.traverseAncerstors,t.taggedConstraint=T.taggedConstraint,t.namedConstraint=T.namedConstraint,t.typeConstraint=T.typeConstraint;var E=n(115);t.getServiceIdentifierAsString=E.getServiceIdentifierAsString;var M=n(456);t.multiBindToService=M.multiBindToService},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return B}));var r={};n.r(r),n.d(r,"create",(function(){return l})),n.d(r,"clone",(function(){return c})),n.d(r,"copy",(function(){return d})),n.d(r,"identity",(function(){return f})),n.d(r,"fromValues",(function(){return h})),n.d(r,"set",(function(){return v})),n.d(r,"transpose",(function(){return m})),n.d(r,"invert",(function(){return y})),n.d(r,"adjoint",(function(){return x})),n.d(r,"determinant",(function(){return _})),n.d(r,"multiply",(function(){return w})),n.d(r,"rotate",(function(){return k})),n.d(r,"scale",(function(){return S})),n.d(r,"fromRotation",(function(){return C})),n.d(r,"fromScaling",(function(){return T})),n.d(r,"str",(function(){return E})),n.d(r,"frob",(function(){return M})),n.d(r,"LDU",(function(){return P})),n.d(r,"add",(function(){return A})),n.d(r,"subtract",(function(){return O})),n.d(r,"exactEquals",(function(){return I})),n.d(r,"equals",(function(){return D})),n.d(r,"multiplyScalar",(function(){return R})),n.d(r,"multiplyScalarAndAdd",(function(){return z})),n.d(r,"mul",(function(){return L})),n.d(r,"sub",(function(){return sub}));var o=n(14);function l(){var e=new o.a(4);return o.a!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function c(a){var e=new o.a(4);return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e}function d(e,a){return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e}function f(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function h(e,t,n,r){var l=new o.a(4);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l}function v(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function m(e,a){if(e===a){var t=a[1];e[1]=a[2],e[2]=t}else e[0]=a[0],e[1]=a[2],e[2]=a[1],e[3]=a[3];return e}function y(e,a){var t=a[0],n=a[1],r=a[2],o=a[3],l=t*o-r*n;return l?(l=1/l,e[0]=o*l,e[1]=-n*l,e[2]=-r*l,e[3]=t*l,e):null}function x(e,a){var t=a[0];return e[0]=a[3],e[1]=-a[1],e[2]=-a[2],e[3]=t,e}function _(a){return a[0]*a[3]-a[2]*a[1]}function w(e,a,b){var t=a[0],n=a[1],r=a[2],o=a[3],l=b[0],c=b[1],d=b[2],f=b[3];return e[0]=t*l+r*c,e[1]=n*l+o*c,e[2]=t*d+r*f,e[3]=n*d+o*f,e}function k(e,a,t){var n=a[0],r=a[1],o=a[2],l=a[3],s=Math.sin(t),c=Math.cos(t);return e[0]=n*c+o*s,e[1]=r*c+l*s,e[2]=n*-s+o*c,e[3]=r*-s+l*c,e}function S(e,a,t){var n=a[0],r=a[1],o=a[2],l=a[3],c=t[0],d=t[1];return e[0]=n*c,e[1]=r*c,e[2]=o*d,e[3]=l*d,e}function C(e,t){var s=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=s,e[2]=-s,e[3]=n,e}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function E(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function M(a){return Math.hypot(a[0],a[1],a[2],a[3])}function P(e,t,n,a){return e[2]=a[2]/a[0],n[0]=a[0],n[1]=a[1],n[3]=a[3]-e[2]*n[1],[e,t,n]}function A(e,a,b){return e[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e[3]=a[3]+b[3],e}function O(e,a,b){return e[0]=a[0]-b[0],e[1]=a[1]-b[1],e[2]=a[2]-b[2],e[3]=a[3]-b[3],e}function I(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function D(a,b){var e=a[0],t=a[1],n=a[2],r=a[3],l=b[0],c=b[1],d=b[2],f=b[3];return Math.abs(e-l)<=o.b*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(t-c)<=o.b*Math.max(1,Math.abs(t),Math.abs(c))&&Math.abs(n-d)<=o.b*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=o.b*Math.max(1,Math.abs(r),Math.abs(f))}function R(e,a,b){return e[0]=a[0]*b,e[1]=a[1]*b,e[2]=a[2]*b,e[3]=a[3]*b,e}function z(e,a,b,t){return e[0]=a[0]+b[0]*t,e[1]=a[1]+b[1]*t,e[2]=a[2]+b[2]*t,e[3]=a[3]+b[3]*t,e}var L=w,sub=O,j=n(32),F=n(81),N=n(146),B=n(120)},function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"s",(function(){return H})),n.d(t,"q",(function(){return $})),n.d(t,"r",(function(){return G})),n.d(t,"o",(function(){return J})),n.d(t,"B",(function(){return Q})),n.d(t,"u",(function(){return ee})),n.d(t,"x",(function(){return te})),n.d(t,"w",(function(){return ie})),n.d(t,"t",(function(){return ne})),n.d(t,"D",(function(){return re})),n.d(t,"e",(function(){return oe})),n.d(t,"C",(function(){return ae})),n.d(t,"v",(function(){return se})),n.d(t,"z",(function(){return ue})),n.d(t,"y",(function(){return le})),n.d(t,"k",(function(){return ce})),n.d(t,"i",(function(){return de})),n.d(t,"c",(function(){return fe})),n.d(t,"j",(function(){return he})),n.d(t,"A",(function(){return me})),n.d(t,"l",(function(){return ge})),n.d(t,"n",(function(){return ye})),n.d(t,"p",(function(){return be})),n.d(t,"g",(function(){return pe})),n.d(t,"f",(function(){return xe})),n.d(t,"h",(function(){return _e})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o}));var r={};n.r(r),n.d(r,"getContainer",(function(){return f})),n.d(r,"trim",(function(){return h})),n.d(r,"splitWords",(function(){return v})),n.d(r,"create",(function(){return m})),n.d(r,"remove",(function(){return y})),n.d(r,"addClass",(function(){return x})),n.d(r,"removeClass",(function(){return _})),n.d(r,"hasClass",(function(){return w})),n.d(r,"setClass",(function(){return k})),n.d(r,"getClass",(function(){return S})),n.d(r,"empty",(function(){return C})),n.d(r,"setTransform",(function(){return E})),n.d(r,"triggerResize",(function(){return M})),n.d(r,"printCanvas",(function(){return P}));var o={};function l(e){var t=0;e+="x";for(var n=Math.floor(65745979961613.07),i=0;i<e.length;i++)t>n&&(t=Math.floor(t/137)),t=131*t+e.charCodeAt(i);return t}function c(e){for(var t=5381,i=(e=e.toString()).length;i;)t=33*t^e.charCodeAt(--i);return t>>>0}n.r(o),n.d(o,"sum",(function(){return Se})),n.d(o,"max",(function(){return we})),n.d(o,"min",(function(){return ke})),n.d(o,"mean",(function(){return Ce})),n.d(o,"mode",(function(){return Te})),n.d(o,"statMap",(function(){return Ee})),n.d(o,"getColumn",(function(){return Me})),n.d(o,"getSatByColumn",(function(){return Pe}));var d=window.document.documentElement.style;function f(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function v(e){return h(e).split(/\s+/)}function m(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function x(e,t){if(void 0!==e.classList)for(var n=v(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!w(e,t)){var o=S(e);k(e,(o?o+" ":"")+t)}}function _(e,t){void 0!==e.classList?e.classList.remove(t):k(e,h((" "+S(e)+" ").replace(" "+t+" "," ")))}function w(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=S(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function k(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function S(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function C(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}var T=function(e){if(!d)return e[0];for(var i in e)if(e[i]&&e[i]in d)return e[i];return e[0]}(["transform","WebkitTransform"]);function E(e,t){e.style[T]=t}function M(){if("function"==typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function P(canvas){var e=["padding: "+(canvas.height/2-8)+"px "+canvas.width/2+"px;","line-height: "+canvas.height+"px;","background-image: url("+canvas.toDataURL()+");"];console.log("%c\n",e.join(""))}var A=n(2),O=n.n(A),I=n(1),D=n.n(I),R=n(8),z=n.n(R),L=n(9),j=n.n(L),F=n(4),N=n.n(F),B=n(311);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N()(e);if(t){var o=N()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j()(this,n)}}var U=function(e){z()(n,e);var t=V(n);function n(e,r,o){var l;return O()(this,n),(l=t.call(this,e)).status=void 0,l.url=void 0,l.status=r,l.url=o,l.name=l.constructor.name,l.message=e,l}return D()(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(n.n(B)()(Error));function W(e){var t=new XMLHttpRequest;for(var n in t.open("GET",e.url,!0),e.headers)e.headers.hasOwnProperty(n)&&t.setRequestHeader(n,e.headers[n]);return t.withCredentials="include"===e.credentials,t}var H=function(e,t){var n=W(e);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var data;try{data=JSON.parse(n.response)}catch(e){return t(e)}t(null,data)}else 401===n.status?t(new U("".concat(n.statusText),n.status,e.url)):t(new U(n.statusText,n.status,e.url))},n.send(),n},$=function(e,t){var n=W(e);return n.responseType="arraybuffer",n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return t(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?t(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new U(n.statusText,n.status,e.url))},n.send(),n};var G=function(e,t){return $(e,(function(e,n){if(e)t(e);else if(n){var img=new window.Image;img.crossOrigin="anonymous";var r=window.URL||window.webkitURL;img.onload=function(){t(null,img),r.revokeObjectURL(img.src)};var o=new window.Blob([new Uint8Array(n.data)],{type:"image/png"});img.src=n.data.byteLength?r.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}))},Z=n(24),Y=n.n(Z),X=n(84),K=2*Math.PI*6378137/2;function J(data){var e=[1/0,1/0,-1/0,-1/0];return data.forEach((function(t){var n=t.coordinates;!function e(t,n){Array.isArray(n[0])?n.forEach((function(n){e(t,n)})):(t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1]));return t}(e,n)})),e}function Q(data,e){return function e(t,n){if(Array.isArray(t[0]))return t.map((function(t){return e(t,n)}));return n(t)}(data,e)}function ee(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1},r=(e=re(e,t))[0],o=e[1],l=r*K/180,c=Math.log(Math.tan((90+o)*Math.PI/360))/(Math.PI/180);return c=c*K/180,n.enable&&(l=Number(l.toFixed(n.decimal)),c=Number(c.toFixed(n.decimal))),3===e.length?[l,c,e[2]]:[l,c]}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=e[0],r=e[1],o=n/K*180,l=r/K*180;return l=180/Math.PI*(2*Math.atan(Math.exp(l*Math.PI/180))-Math.PI/2),null!=t&&(o=Number(o.toFixed(t)),l=Number(l.toFixed(t))),3===e.length?[o,l,e[2]]:[o,l]}function ie(e){if(null==e)throw new Error("lng is required");return(e>180||e<-180)&&((e%=360)>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function ne(e){if(null==e)throw new Error("lat is required");return(e>90||e<-90)&&((e%=180)>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function re(e,t){if(!1===t)return e;var n=ie(e[0]),r=ne(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function oe(e){var t=Math.max(Math.min(85.0511287798,e[1]),-85.0511287798),n=Math.PI/180,r=e[0]*n,o=t*n;o=Math.log(Math.tan(Math.PI/4+o/2));return r=(256<<20)*(.5/Math.PI*r+.5),o=(256<<20)*(-.5/Math.PI*o+(n=.5)),[Math.floor(r),Math.floor(o)]}function ae(e){var a=.5/Math.PI,t=-.5/Math.PI,n=.5,r=Y()(e,2),o=r[0],l=r[1];return o=(o/(256<<20)-.5)/a,l=(l/(256<<20)-n)/t,l=2*(Math.atan(Math.pow(Math.E,l))-Math.PI/4),[o/(n=Math.PI/180),l/n]}function se(e,t,n){var r=Object(X.degreesToRadians)(t[1]-e[1]),o=Object(X.degreesToRadians)(t[0]-e[0]),l=Object(X.degreesToRadians)(e[1]),c=Object(X.degreesToRadians)(t[1]),a=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(l)*Math.cos(c);return Object(X.radiansToLength)(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),"meters")}function ue(e){var t=Math.PI/180,n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),o=Math.sin(r*t);return[6378137*e[0]*t,6378137*Math.log((1+o)/(1-o))/2]}function le(b,e){var t=Math.abs(b[1][1]-b[0][1])*e,n=Math.abs(b[1][0]-b[0][0])*e;return[[b[0][0]-n,b[0][1]-t],[b[1][0]+n,b[1][1]+t]]}function ce(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function de(e){return[[e[0],e[1]],[e[2],e[3]]]}var fe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;O()(this,e),this.limit=void 0,this.cache=void 0,this.destroy=void 0,this.order=void 0,this.limit=t,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return D()(e,[{key:"clear",value:function(){var e=this;this.order.forEach((function(t){e.delete(t)})),this.cache={},this.order=[]}},{key:"get",value:function(e){var t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}},{key:"set",value:function(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}},{key:"delete",value:function(e){var t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}},{key:"deleteCache",value:function(e){delete this.cache[e]}},{key:"deleteOrder",value:function(e){var t=this.order.findIndex((function(t){return t===e}));t>=0&&this.order.splice(t,1)}},{key:"appendOrder",value:function(e){this.order.push(e)}},{key:"defaultDestroy",value:function(e,t){return null}}]),e}();function he(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}var pe,ve=n(595);function me(e){var t=ve.a(e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function ge(e){return(e&&e[0])+256*(e&&e[1])+65536*(e&&e[2])-1}function ye(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function be(e){var canvas=document.createElement("canvas"),t=canvas.getContext("2d");canvas.width=256,canvas.height=1;for(var data,n=t.createLinearGradient(0,0,256,1),r=e.positions[0],o=e.positions[e.positions.length-1],i=0;i<e.colors.length;++i){var l=(e.positions[i]-r)/(o-r);n.addColorStop(l,e.colors[i])}return t.fillStyle=n,t.fillRect(0,0,256,1),data=new Uint8ClampedArray(t.getImageData(0,0,256,1).data),new ImageData(data,256,1)}!function(e){e.CENTER="center",e.TOP="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e.BOTTOM="bottom",e["BOTTOM-LEFT"]="bottom-left",e.LEFT="left",e.RIGHT="right"}(pe||(pe={}));var xe={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function _e(element,e,t){var n=element.classList;for(var r in xe)xe.hasOwnProperty(r)&&n.remove("l7-".concat(t,"-anchor-").concat(r));n.add("l7-".concat(t,"-anchor-").concat(e))}function we(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],i=1;i<e.length;i++)e[i]>t&&(t=e[i]);return 1*t}function ke(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],i=1;i<e.length;i++)e[i]<t&&(t=e[i]);return 1*t}function Se(e){if(0===e.length)return 0;for(var t=1*e[0],i=1;i<e.length;i++)t+=1*e[i];return t}function Ce(e){if(0===e.length)throw new Error("mean requires at least one data point");return Se(e)/e.length}function Te(e){if(0===e.length)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var t=e[0],n=NaN,r=0,o=1,i=1;i<e.length+1;i++)e[i]!==t?(o>r&&(r=o,n=t),o=1,t=e[i]):o++;return 1*n}var Ee={min:ke,max:we,mean:Ce,sum:Se,mode:Te};function Me(data,e){return data.map((function(t){return t[e]}))}function Pe(e,t){return Ee[e](t)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),ILogService:Symbol.for("ILogService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l}));var r=1e-6,o="undefined"!=typeof Float32Array?Float32Array:Array,l=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,i=arguments.length;i--;)e+=arguments[i]*arguments[i];return Math.sqrt(e)})},,,,,,function(e,t,n){var r=n(464),o=n(506)((function(object,source,e){r(object,source,e)}));e.exports=o},,,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"}(r||(r={}))},,,function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function l(){}function c(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function d(e,t,n,r,l){if("function"!=typeof n)throw new TypeError("The listener must be a function");var d=new c(n,r||e,l),f=o?o+t:t;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],d]:e._events[f].push(d):(e._events[f]=d,e._eventsCount++),e}function f(e,t){0==--e._eventsCount?e._events=new l:delete e._events[t]}function h(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(o=!1)),h.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},h.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,l=new Array(r);i<r;i++)l[i]=n[i].fn;return l},h.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},h.prototype.emit=function(e,t,n,r,l,c){var d=o?o+e:e;if(!this._events[d])return!1;var f,i,h=this._events[d],v=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),v){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,n),!0;case 4:return h.fn.call(h.context,t,n,r),!0;case 5:return h.fn.call(h.context,t,n,r,l),!0;case 6:return h.fn.call(h.context,t,n,r,l,c),!0}for(i=1,f=new Array(v-1);i<v;i++)f[i-1]=arguments[i];h.fn.apply(h.context,f)}else{var m,y=h.length;for(i=0;i<y;i++)switch(h[i].once&&this.removeListener(e,h[i].fn,void 0,!0),v){case 1:h[i].fn.call(h[i].context);break;case 2:h[i].fn.call(h[i].context,t);break;case 3:h[i].fn.call(h[i].context,t,n);break;case 4:h[i].fn.call(h[i].context,t,n,r);break;default:if(!f)for(m=1,f=new Array(v-1);m<v;m++)f[m-1]=arguments[m];h[i].fn.apply(h[i].context,f)}}return!0},h.prototype.on=function(e,t,n){return d(this,e,t,n,!1)},h.prototype.once=function(e,t,n){return d(this,e,t,n,!0)},h.prototype.removeListener=function(e,t,n,r){var l=o?o+e:e;if(!this._events[l])return this;if(!t)return f(this,l),this;var c=this._events[l];if(c.fn)c.fn!==t||r&&!c.once||n&&c.context!==n||f(this,l);else{for(var i=0,d=[],h=c.length;i<h;i++)(c[i].fn!==t||r&&!c[i].once||n&&c[i].context!==n)&&d.push(c[i]);d.length?this._events[l]=1===d.length?d[0]:d:f(this,l)}return this},h.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&f(this,t)):(this._events=new l,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=o,h.EventEmitter=h,e.exports=h},,,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Hover="hover",e.Click="click",e.Select="select",e.Active="active",e.Drag="drag"}(r||(r={}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return o})),n.d(t,"clone",(function(){return l})),n.d(t,"copy",(function(){return c})),n.d(t,"fromValues",(function(){return d})),n.d(t,"set",(function(){return f})),n.d(t,"identity",(function(){return h})),n.d(t,"transpose",(function(){return v})),n.d(t,"invert",(function(){return m})),n.d(t,"adjoint",(function(){return y})),n.d(t,"determinant",(function(){return x})),n.d(t,"multiply",(function(){return _})),n.d(t,"translate",(function(){return w})),n.d(t,"scale",(function(){return k})),n.d(t,"rotate",(function(){return S})),n.d(t,"rotateX",(function(){return C})),n.d(t,"rotateY",(function(){return T})),n.d(t,"rotateZ",(function(){return E})),n.d(t,"fromTranslation",(function(){return M})),n.d(t,"fromScaling",(function(){return P})),n.d(t,"fromRotation",(function(){return A})),n.d(t,"fromXRotation",(function(){return O})),n.d(t,"fromYRotation",(function(){return I})),n.d(t,"fromZRotation",(function(){return D})),n.d(t,"fromRotationTranslation",(function(){return R})),n.d(t,"fromQuat2",(function(){return z})),n.d(t,"getTranslation",(function(){return L})),n.d(t,"getScaling",(function(){return j})),n.d(t,"getRotation",(function(){return F})),n.d(t,"fromRotationTranslationScale",(function(){return N})),n.d(t,"fromRotationTranslationScaleOrigin",(function(){return B})),n.d(t,"fromQuat",(function(){return V})),n.d(t,"frustum",(function(){return U})),n.d(t,"perspective",(function(){return W})),n.d(t,"perspectiveFromFieldOfView",(function(){return H})),n.d(t,"ortho",(function(){return $})),n.d(t,"lookAt",(function(){return G})),n.d(t,"targetTo",(function(){return Z})),n.d(t,"str",(function(){return Y})),n.d(t,"frob",(function(){return X})),n.d(t,"add",(function(){return K})),n.d(t,"subtract",(function(){return J})),n.d(t,"multiplyScalar",(function(){return Q})),n.d(t,"multiplyScalarAndAdd",(function(){return ee})),n.d(t,"exactEquals",(function(){return te})),n.d(t,"equals",(function(){return ie})),n.d(t,"mul",(function(){return ne})),n.d(t,"sub",(function(){return sub}));var r=n(14);function o(){var e=new r.a(16);return r.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function l(a){var e=new r.a(16);return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[4]=a[4],e[5]=a[5],e[6]=a[6],e[7]=a[7],e[8]=a[8],e[9]=a[9],e[10]=a[10],e[11]=a[11],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],e}function c(e,a){return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[4]=a[4],e[5]=a[5],e[6]=a[6],e[7]=a[7],e[8]=a[8],e[9]=a[9],e[10]=a[10],e[11]=a[11],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],e}function d(e,t,n,o,l,c,d,f,h,v,m,y,x,_,w,k){var S=new r.a(16);return S[0]=e,S[1]=t,S[2]=n,S[3]=o,S[4]=l,S[5]=c,S[6]=d,S[7]=f,S[8]=h,S[9]=v,S[10]=m,S[11]=y,S[12]=x,S[13]=_,S[14]=w,S[15]=k,S}function f(e,t,n,r,o,l,c,d,f,h,v,m,y,x,_,w,k){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=l,e[5]=c,e[6]=d,e[7]=f,e[8]=h,e[9]=v,e[10]=m,e[11]=y,e[12]=x,e[13]=_,e[14]=w,e[15]=k,e}function h(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function v(e,a){if(e===a){var t=a[1],n=a[2],r=a[3],o=a[6],l=a[7],c=a[11];e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=t,e[6]=a[9],e[7]=a[13],e[8]=n,e[9]=o,e[11]=a[14],e[12]=r,e[13]=l,e[14]=c}else e[0]=a[0],e[1]=a[4],e[2]=a[8],e[3]=a[12],e[4]=a[1],e[5]=a[5],e[6]=a[9],e[7]=a[13],e[8]=a[2],e[9]=a[6],e[10]=a[10],e[11]=a[14],e[12]=a[3],e[13]=a[7],e[14]=a[11],e[15]=a[15];return e}function m(e,a){var t=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],d=a[6],f=a[7],h=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],k=a[15],S=t*c-n*l,C=t*d-r*l,T=t*f-o*l,E=n*d-r*c,M=n*f-o*c,P=r*f-o*d,A=h*_-v*x,O=h*w-m*x,I=h*k-y*x,D=v*w-m*_,R=v*k-y*_,z=m*k-y*w,L=S*z-C*R+T*D+E*I-M*O+P*A;return L?(L=1/L,e[0]=(c*z-d*R+f*D)*L,e[1]=(r*R-n*z-o*D)*L,e[2]=(_*P-w*M+k*E)*L,e[3]=(m*M-v*P-y*E)*L,e[4]=(d*I-l*z-f*O)*L,e[5]=(t*z-r*I+o*O)*L,e[6]=(w*T-x*P-k*C)*L,e[7]=(h*P-m*T+y*C)*L,e[8]=(l*R-c*I+f*A)*L,e[9]=(n*I-t*R-o*A)*L,e[10]=(x*M-_*T+k*S)*L,e[11]=(v*T-h*M-y*S)*L,e[12]=(c*O-l*D-d*A)*L,e[13]=(t*D-n*O+r*A)*L,e[14]=(_*C-x*E-w*S)*L,e[15]=(h*E-v*C+m*S)*L,e):null}function y(e,a){var t=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],d=a[6],f=a[7],h=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],k=a[15];return e[0]=c*(m*k-y*w)-v*(d*k-f*w)+_*(d*y-f*m),e[1]=-(n*(m*k-y*w)-v*(r*k-o*w)+_*(r*y-o*m)),e[2]=n*(d*k-f*w)-c*(r*k-o*w)+_*(r*f-o*d),e[3]=-(n*(d*y-f*m)-c*(r*y-o*m)+v*(r*f-o*d)),e[4]=-(l*(m*k-y*w)-h*(d*k-f*w)+x*(d*y-f*m)),e[5]=t*(m*k-y*w)-h*(r*k-o*w)+x*(r*y-o*m),e[6]=-(t*(d*k-f*w)-l*(r*k-o*w)+x*(r*f-o*d)),e[7]=t*(d*y-f*m)-l*(r*y-o*m)+h*(r*f-o*d),e[8]=l*(v*k-y*_)-h*(c*k-f*_)+x*(c*y-f*v),e[9]=-(t*(v*k-y*_)-h*(n*k-o*_)+x*(n*y-o*v)),e[10]=t*(c*k-f*_)-l*(n*k-o*_)+x*(n*f-o*c),e[11]=-(t*(c*y-f*v)-l*(n*y-o*v)+h*(n*f-o*c)),e[12]=-(l*(v*w-m*_)-h*(c*w-d*_)+x*(c*m-d*v)),e[13]=t*(v*w-m*_)-h*(n*w-r*_)+x*(n*m-r*v),e[14]=-(t*(c*w-d*_)-l*(n*w-r*_)+x*(n*d-r*c)),e[15]=t*(c*m-d*v)-l*(n*m-r*v)+h*(n*d-r*c),e}function x(a){var e=a[0],t=a[1],n=a[2],r=a[3],o=a[4],l=a[5],c=a[6],d=a[7],f=a[8],h=a[9],v=a[10],m=a[11],y=a[12],x=a[13],_=a[14],w=a[15];return(e*l-t*o)*(v*w-m*_)-(e*c-n*o)*(h*w-m*x)+(e*d-r*o)*(h*_-v*x)+(t*c-n*l)*(f*w-m*y)-(t*d-r*l)*(f*_-v*y)+(n*d-r*c)*(f*x-h*y)}function _(e,a,b){var t=a[0],n=a[1],r=a[2],o=a[3],l=a[4],c=a[5],d=a[6],f=a[7],h=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],k=a[15],S=b[0],C=b[1],T=b[2],E=b[3];return e[0]=S*t+C*l+T*h+E*x,e[1]=S*n+C*c+T*v+E*_,e[2]=S*r+C*d+T*m+E*w,e[3]=S*o+C*f+T*y+E*k,S=b[4],C=b[5],T=b[6],E=b[7],e[4]=S*t+C*l+T*h+E*x,e[5]=S*n+C*c+T*v+E*_,e[6]=S*r+C*d+T*m+E*w,e[7]=S*o+C*f+T*y+E*k,S=b[8],C=b[9],T=b[10],E=b[11],e[8]=S*t+C*l+T*h+E*x,e[9]=S*n+C*c+T*v+E*_,e[10]=S*r+C*d+T*m+E*w,e[11]=S*o+C*f+T*y+E*k,S=b[12],C=b[13],T=b[14],E=b[15],e[12]=S*t+C*l+T*h+E*x,e[13]=S*n+C*c+T*v+E*_,e[14]=S*r+C*d+T*m+E*w,e[15]=S*o+C*f+T*y+E*k,e}function w(e,a,t){var n,r,o,l,c,d,f,h,v,m,y,x,_=t[0],w=t[1],k=t[2];return a===e?(e[12]=a[0]*_+a[4]*w+a[8]*k+a[12],e[13]=a[1]*_+a[5]*w+a[9]*k+a[13],e[14]=a[2]*_+a[6]*w+a[10]*k+a[14],e[15]=a[3]*_+a[7]*w+a[11]*k+a[15]):(n=a[0],r=a[1],o=a[2],l=a[3],c=a[4],d=a[5],f=a[6],h=a[7],v=a[8],m=a[9],y=a[10],x=a[11],e[0]=n,e[1]=r,e[2]=o,e[3]=l,e[4]=c,e[5]=d,e[6]=f,e[7]=h,e[8]=v,e[9]=m,e[10]=y,e[11]=x,e[12]=n*_+c*w+v*k+a[12],e[13]=r*_+d*w+m*k+a[13],e[14]=o*_+f*w+y*k+a[14],e[15]=l*_+h*w+x*k+a[15]),e}function k(e,a,t){var n=t[0],r=t[1],o=t[2];return e[0]=a[0]*n,e[1]=a[1]*n,e[2]=a[2]*n,e[3]=a[3]*n,e[4]=a[4]*r,e[5]=a[5]*r,e[6]=a[6]*r,e[7]=a[7]*r,e[8]=a[8]*o,e[9]=a[9]*o,e[10]=a[10]*o,e[11]=a[11]*o,e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15],e}function S(e,a,t,n){var s,o,l,c,d,f,h,v,m,y,x,_,w,k,S,C,T,E,M,P,A,O,I,D,R=n[0],z=n[1],L=n[2],j=Math.hypot(R,z,L);return j<r.b?null:(R*=j=1/j,z*=j,L*=j,s=Math.sin(t),l=1-(o=Math.cos(t)),c=a[0],d=a[1],f=a[2],h=a[3],v=a[4],m=a[5],y=a[6],x=a[7],_=a[8],w=a[9],k=a[10],S=a[11],C=R*R*l+o,T=z*R*l+L*s,E=L*R*l-z*s,M=R*z*l-L*s,P=z*z*l+o,A=L*z*l+R*s,O=R*L*l+z*s,I=z*L*l-R*s,D=L*L*l+o,e[0]=c*C+v*T+_*E,e[1]=d*C+m*T+w*E,e[2]=f*C+y*T+k*E,e[3]=h*C+x*T+S*E,e[4]=c*M+v*P+_*A,e[5]=d*M+m*P+w*A,e[6]=f*M+y*P+k*A,e[7]=h*M+x*P+S*A,e[8]=c*O+v*I+_*D,e[9]=d*O+m*I+w*D,e[10]=f*O+y*I+k*D,e[11]=h*O+x*I+S*D,a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e)}function C(e,a,t){var s=Math.sin(t),n=Math.cos(t),r=a[4],o=a[5],l=a[6],c=a[7],d=a[8],f=a[9],h=a[10],v=a[11];return a!==e&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e[4]=r*n+d*s,e[5]=o*n+f*s,e[6]=l*n+h*s,e[7]=c*n+v*s,e[8]=d*n-r*s,e[9]=f*n-o*s,e[10]=h*n-l*s,e[11]=v*n-c*s,e}function T(e,a,t){var s=Math.sin(t),n=Math.cos(t),r=a[0],o=a[1],l=a[2],c=a[3],d=a[8],f=a[9],h=a[10],v=a[11];return a!==e&&(e[4]=a[4],e[5]=a[5],e[6]=a[6],e[7]=a[7],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e[0]=r*n-d*s,e[1]=o*n-f*s,e[2]=l*n-h*s,e[3]=c*n-v*s,e[8]=r*s+d*n,e[9]=o*s+f*n,e[10]=l*s+h*n,e[11]=c*s+v*n,e}function E(e,a,t){var s=Math.sin(t),n=Math.cos(t),r=a[0],o=a[1],l=a[2],c=a[3],d=a[4],f=a[5],h=a[6],v=a[7];return a!==e&&(e[8]=a[8],e[9]=a[9],e[10]=a[10],e[11]=a[11],e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]),e[0]=r*n+d*s,e[1]=o*n+f*s,e[2]=l*n+h*s,e[3]=c*n+v*s,e[4]=d*n-r*s,e[5]=f*n-o*s,e[6]=h*n-l*s,e[7]=v*n-c*s,e}function M(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function P(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,n){var s,o,l,c=n[0],d=n[1],f=n[2],h=Math.hypot(c,d,f);return h<r.b?null:(c*=h=1/h,d*=h,f*=h,s=Math.sin(t),l=1-(o=Math.cos(t)),e[0]=c*c*l+o,e[1]=d*c*l+f*s,e[2]=f*c*l-d*s,e[3]=0,e[4]=c*d*l-f*s,e[5]=d*d*l+o,e[6]=f*d*l+c*s,e[7]=0,e[8]=c*f*l+d*s,e[9]=d*f*l-c*s,e[10]=f*f*l+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function O(e,t){var s=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=s,e[7]=0,e[8]=0,e[9]=-s,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t){var s=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-s,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=s,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function D(e,t){var s=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=s,e[2]=0,e[3]=0,e[4]=-s,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,q,t){var n=q[0],r=q[1],o=q[2],l=q[3],c=n+n,d=r+r,f=o+o,h=n*c,v=n*d,m=n*f,y=r*d,x=r*f,_=o*f,w=l*c,k=l*d,S=l*f;return e[0]=1-(y+_),e[1]=v+S,e[2]=m-k,e[3]=0,e[4]=v-S,e[5]=1-(h+_),e[6]=x+w,e[7]=0,e[8]=m+k,e[9]=x-w,e[10]=1-(h+y),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function z(e,a){var t=new r.a(3),n=-a[0],o=-a[1],l=-a[2],c=a[3],d=a[4],f=a[5],h=a[6],v=a[7],m=n*n+o*o+l*l+c*c;return m>0?(t[0]=2*(d*c+v*n+f*l-h*o)/m,t[1]=2*(f*c+v*o+h*n-d*l)/m,t[2]=2*(h*c+v*l+d*o-f*n)/m):(t[0]=2*(d*c+v*n+f*l-h*o),t[1]=2*(f*c+v*o+h*n-d*l),t[2]=2*(h*c+v*l+d*o-f*n)),R(e,a,t),e}function L(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function j(e,t){var n=t[0],r=t[1],o=t[2],l=t[4],c=t[5],d=t[6],f=t[8],h=t[9],v=t[10];return e[0]=Math.hypot(n,r,o),e[1]=Math.hypot(l,c,d),e[2]=Math.hypot(f,h,v),e}function F(e,t){var n=new r.a(3);j(n,t);var o=1/n[0],l=1/n[1],c=1/n[2],d=t[0]*o,f=t[1]*l,h=t[2]*c,v=t[4]*o,m=t[5]*l,y=t[6]*c,x=t[8]*o,_=t[9]*l,w=t[10]*c,k=d+m+w,S=0;return k>0?(S=2*Math.sqrt(k+1),e[3]=.25*S,e[0]=(y-_)/S,e[1]=(x-h)/S,e[2]=(f-v)/S):d>m&&d>w?(S=2*Math.sqrt(1+d-m-w),e[3]=(y-_)/S,e[0]=.25*S,e[1]=(f+v)/S,e[2]=(x+h)/S):m>w?(S=2*Math.sqrt(1+m-d-w),e[3]=(x-h)/S,e[0]=(f+v)/S,e[1]=.25*S,e[2]=(y+_)/S):(S=2*Math.sqrt(1+w-d-m),e[3]=(f-v)/S,e[0]=(x+h)/S,e[1]=(y+_)/S,e[2]=.25*S),e}function N(e,q,t,s){var n=q[0],r=q[1],o=q[2],l=q[3],c=n+n,d=r+r,f=o+o,h=n*c,v=n*d,m=n*f,y=r*d,x=r*f,_=o*f,w=l*c,k=l*d,S=l*f,C=s[0],T=s[1],E=s[2];return e[0]=(1-(y+_))*C,e[1]=(v+S)*C,e[2]=(m-k)*C,e[3]=0,e[4]=(v-S)*T,e[5]=(1-(h+_))*T,e[6]=(x+w)*T,e[7]=0,e[8]=(m+k)*E,e[9]=(x-w)*E,e[10]=(1-(h+y))*E,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function B(e,q,t,s,n){var r=q[0],o=q[1],l=q[2],c=q[3],d=r+r,f=o+o,h=l+l,v=r*d,m=r*f,y=r*h,x=o*f,_=o*h,w=l*h,k=c*d,S=c*f,C=c*h,T=s[0],E=s[1],M=s[2],P=n[0],A=n[1],O=n[2],I=(1-(x+w))*T,D=(m+C)*T,R=(y-S)*T,z=(m-C)*E,L=(1-(v+w))*E,j=(_+k)*E,F=(y+S)*M,N=(_-k)*M,B=(1-(v+x))*M;return e[0]=I,e[1]=D,e[2]=R,e[3]=0,e[4]=z,e[5]=L,e[6]=j,e[7]=0,e[8]=F,e[9]=N,e[10]=B,e[11]=0,e[12]=t[0]+P-(I*P+z*A+F*O),e[13]=t[1]+A-(D*P+L*A+N*O),e[14]=t[2]+O-(R*P+j*A+B*O),e[15]=1,e}function V(e,q){var t=q[0],n=q[1],r=q[2],o=q[3],l=t+t,c=n+n,d=r+r,f=t*l,h=n*l,v=n*c,m=r*l,y=r*c,x=r*d,_=o*l,w=o*c,k=o*d;return e[0]=1-v-x,e[1]=h+k,e[2]=m-w,e[3]=0,e[4]=h-k,e[5]=1-f-x,e[6]=y+_,e[7]=0,e[8]=m+w,e[9]=y-_,e[10]=1-f-v,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U(e,t,n,r,o,l,c){var d=1/(n-t),f=1/(o-r),h=1/(l-c);return e[0]=2*l*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*l*f,e[6]=0,e[7]=0,e[8]=(n+t)*d,e[9]=(o+r)*f,e[10]=(c+l)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=c*l*2*h,e[15]=0,e}function W(e,t,n,r,o){var l,c=1/Math.tan(t/2);return e[0]=c/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(l=1/(r-o),e[10]=(o+r)*l,e[14]=2*o*r*l):(e[10]=-1,e[14]=-2*r),e}function H(e,t,n,r){var o=Math.tan(t.upDegrees*Math.PI/180),l=Math.tan(t.downDegrees*Math.PI/180),c=Math.tan(t.leftDegrees*Math.PI/180),d=Math.tan(t.rightDegrees*Math.PI/180),f=2/(c+d),h=2/(o+l);return e[0]=f,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-(c-d)*f*.5,e[9]=(o-l)*h*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function $(e,t,n,r,o,l,c){var d=1/(t-n),f=1/(r-o),h=1/(l-c);return e[0]=-2*d,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*h,e[11]=0,e[12]=(t+n)*d,e[13]=(o+r)*f,e[14]=(c+l)*h,e[15]=1,e}function G(e,t,n,o){var l,c,d,f,v,m,y,x,_,w,k=t[0],S=t[1],C=t[2],T=o[0],E=o[1],M=o[2],P=n[0],A=n[1],O=n[2];return Math.abs(k-P)<r.b&&Math.abs(S-A)<r.b&&Math.abs(C-O)<r.b?h(e):(y=k-P,x=S-A,_=C-O,l=E*(_*=w=1/Math.hypot(y,x,_))-M*(x*=w),c=M*(y*=w)-T*_,d=T*x-E*y,(w=Math.hypot(l,c,d))?(l*=w=1/w,c*=w,d*=w):(l=0,c=0,d=0),f=x*d-_*c,v=_*l-y*d,m=y*c-x*l,(w=Math.hypot(f,v,m))?(f*=w=1/w,v*=w,m*=w):(f=0,v=0,m=0),e[0]=l,e[1]=f,e[2]=y,e[3]=0,e[4]=c,e[5]=v,e[6]=x,e[7]=0,e[8]=d,e[9]=m,e[10]=_,e[11]=0,e[12]=-(l*k+c*S+d*C),e[13]=-(f*k+v*S+m*C),e[14]=-(y*k+x*S+_*C),e[15]=1,e)}function Z(e,t,n,r){var o=t[0],l=t[1],c=t[2],d=r[0],f=r[1],h=r[2],v=o-n[0],m=l-n[1],y=c-n[2],x=v*v+m*m+y*y;x>0&&(v*=x=1/Math.sqrt(x),m*=x,y*=x);var _=f*y-h*m,w=h*v-d*y,k=d*m-f*v;return(x=_*_+w*w+k*k)>0&&(_*=x=1/Math.sqrt(x),w*=x,k*=x),e[0]=_,e[1]=w,e[2]=k,e[3]=0,e[4]=m*k-y*w,e[5]=y*_-v*k,e[6]=v*w-m*_,e[7]=0,e[8]=v,e[9]=m,e[10]=y,e[11]=0,e[12]=o,e[13]=l,e[14]=c,e[15]=1,e}function Y(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function X(a){return Math.hypot(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15])}function K(e,a,b){return e[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e[3]=a[3]+b[3],e[4]=a[4]+b[4],e[5]=a[5]+b[5],e[6]=a[6]+b[6],e[7]=a[7]+b[7],e[8]=a[8]+b[8],e[9]=a[9]+b[9],e[10]=a[10]+b[10],e[11]=a[11]+b[11],e[12]=a[12]+b[12],e[13]=a[13]+b[13],e[14]=a[14]+b[14],e[15]=a[15]+b[15],e}function J(e,a,b){return e[0]=a[0]-b[0],e[1]=a[1]-b[1],e[2]=a[2]-b[2],e[3]=a[3]-b[3],e[4]=a[4]-b[4],e[5]=a[5]-b[5],e[6]=a[6]-b[6],e[7]=a[7]-b[7],e[8]=a[8]-b[8],e[9]=a[9]-b[9],e[10]=a[10]-b[10],e[11]=a[11]-b[11],e[12]=a[12]-b[12],e[13]=a[13]-b[13],e[14]=a[14]-b[14],e[15]=a[15]-b[15],e}function Q(e,a,b){return e[0]=a[0]*b,e[1]=a[1]*b,e[2]=a[2]*b,e[3]=a[3]*b,e[4]=a[4]*b,e[5]=a[5]*b,e[6]=a[6]*b,e[7]=a[7]*b,e[8]=a[8]*b,e[9]=a[9]*b,e[10]=a[10]*b,e[11]=a[11]*b,e[12]=a[12]*b,e[13]=a[13]*b,e[14]=a[14]*b,e[15]=a[15]*b,e}function ee(e,a,b,t){return e[0]=a[0]+b[0]*t,e[1]=a[1]+b[1]*t,e[2]=a[2]+b[2]*t,e[3]=a[3]+b[3]*t,e[4]=a[4]+b[4]*t,e[5]=a[5]+b[5]*t,e[6]=a[6]+b[6]*t,e[7]=a[7]+b[7]*t,e[8]=a[8]+b[8]*t,e[9]=a[9]+b[9]*t,e[10]=a[10]+b[10]*t,e[11]=a[11]+b[11]*t,e[12]=a[12]+b[12]*t,e[13]=a[13]+b[13]*t,e[14]=a[14]+b[14]*t,e[15]=a[15]+b[15]*t,e}function te(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ie(a,b){var e=a[0],t=a[1],n=a[2],o=a[3],l=a[4],c=a[5],d=a[6],f=a[7],h=a[8],v=a[9],m=a[10],y=a[11],x=a[12],_=a[13],w=a[14],k=a[15],S=b[0],C=b[1],T=b[2],E=b[3],M=b[4],P=b[5],A=b[6],O=b[7],I=b[8],D=b[9],R=b[10],z=b[11],L=b[12],j=b[13],F=b[14],N=b[15];return Math.abs(e-S)<=r.b*Math.max(1,Math.abs(e),Math.abs(S))&&Math.abs(t-C)<=r.b*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(n-T)<=r.b*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(o-E)<=r.b*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(l-M)<=r.b*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-P)<=r.b*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(d-A)<=r.b*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(f-O)<=r.b*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(h-I)<=r.b*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(v-D)<=r.b*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(m-R)<=r.b*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(y-z)<=r.b*Math.max(1,Math.abs(y),Math.abs(z))&&Math.abs(x-L)<=r.b*Math.max(1,Math.abs(x),Math.abs(L))&&Math.abs(_-j)<=r.b*Math.max(1,Math.abs(_),Math.abs(j))&&Math.abs(w-F)<=r.b*Math.max(1,Math.abs(w),Math.abs(F))&&Math.abs(k-N)<=r.b*Math.max(1,Math.abs(k),Math.abs(N))}var ne=_,sub=J},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r,o,l,c,d,f=n(3),h=n.n(f),v=n(13),m=n.n(v),y=n(2),x=n.n(y),_=n(1),w=n.n(_),k=n(12),S=n.n(k),C=(n(25),n(197)),T=n.n(C),E=n(57),M=n.n(E),P=n(315),A=n.n(P),O=n(5),I=n(0),D=n(10),R=n(44);function z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?z(Object(source),!0).forEach((function(t){h()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):z(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=(r=Object(O.injectable)(),o=Object(O.inject)(D.a.IShaderModuleService),r((c=function(){function e(){x()(this,e),m()(this,"shaderModuleService",d,this),this.rendererService=void 0,this.config=void 0,this.quad="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",this.enabled=!0,this.renderToScreen=!1,this.model=void 0,this.name=void 0,this.optionsToUpdate={}}return w()(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getType",value:function(){return R.a.PostProcessing}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(D.a.IRendererService);var n=this.rendererService,r=n.createAttribute,o=n.createBuffer,l=n.createModel,c=this.setupShaders(),d=c.vs,f=c.fs,h=c.uniforms;this.model=l({vs:d,fs:f,attributes:{a_Position:r({buffer:o({data:[-4,-4,4,-4,0,4],type:I.gl.FLOAT}),size:2})},uniforms:L(L({u_Texture:null},h),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(e){var t=this,n=e.multiPassRenderer.getPostProcessor(),r=this.rendererService,o=r.useFramebuffer,l=r.getViewportSize,c=r.clear,d=l(),f=d.width,h=d.height;o(this.renderToScreen?null:n.getWriteFBO(),(function(){c({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:L({u_Texture:n.getReadFBO(),u_ViewportSize:[f,h]},t.convertOptionsToUniforms(t.optionsToUpdate))})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"setRenderToScreen",value:function(e){this.renderToScreen=e}},{key:"updateOptions",value:function(e){this.optionsToUpdate=L(L({},this.optionsToUpdate),e)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Object.keys(e).forEach((function(n){M()(e[n])||(t["u_".concat(T()(A()(n)))]=e[n])})),t}}]),e}(),d=S()(c.prototype,"shaderModuleService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c))||l)},function(e,t,n){"use strict";(function(e,r){function o(e,t,n,r){return new(n||(n=Promise))((function(o,l){function c(e){try{f(r.next(e))}catch(e){l(e)}}function d(e){try{f(r.throw(e))}catch(e){l(e)}}function f(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,d)}f((r=r.apply(e,t||[])).next())}))}function l(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],n=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return l}function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f(e,t){return e(t={exports:{}},t.exports),t.exports}n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return F}));var h=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},e.exports=t.default}));d(h);var v=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t.default}));d(v);var m=f((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=d,n.wrap=f;var o,l=n.hasSetImmediate="function"==typeof e&&e,c=n.hasNextTick="object"==typeof r&&"function"==typeof r.nextTick;function d(e){setTimeout(e,0)}function f(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e((function(){return t.apply(void 0,n)}))}}o=l?e:c?r.nextTick:d,n.default=f(o)}));d(m);m.fallback,m.wrap,m.hasSetImmediate,m.hasNextTick;var y=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,x.isAsync)(e))return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=t.pop(),o=e.apply(this,t);return l(o,r)};return(0,n.default)((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return l(r,n);n(null,r)}))};var n=o(v),r=o(m);function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return e.then((function(e){c(t,null,e)}),(function(e){c(t,e&&e.message?e:new Error(e))}))}function c(e,t,n){try{e(t,n)}catch(e){(0,r.default)((function(e){throw e}),e)}}e.exports=t.default}));d(y);var x=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n,r=(n=y)&&n.__esModule?n:{default:n};function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return o(e)?(0,r.default)(e):e},t.isAsync=o,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}}));d(x);x.isAsyncIterable,x.isAsyncGenerator,x.isAsync;var _=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t=e.length);if(!t)throw new Error("arity is undefined");function n(){for(var n=this,r=[],o=arguments.length;o--;)r[o]=arguments[o];return"function"==typeof r[t-1]?e.apply(this,r):new Promise((function(o,l){r[t-1]=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(e)return l(e);o(t.length>1?t:t[0])},e.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+e.name+")"}),n},e.exports=t.default}));d(_);var w=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=l(h),r=l(x),o=l(_);function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,o){var l=(0,n.default)(t)?[]:{};e(t,(function(e,t,n){(0,r.default)(e)((function(e){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];r.length<2&&(r=r[0]),l[t]=r,n(e)}))}),(function(e){return o(e,l)}))}),3),e.exports=t.default}));d(w);var k=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},e.exports=t.default}));d(k);var S=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default}));d(S);var C=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var i=-1,t=e.length;return function(){return++i<t?{value:e[i],key:i}:null}}(e);var t=(0,r.default)(e);return t?function(e){var i=-1;return function(){var t=e.next();return t.done?null:(i++,{value:t.value,key:i})}}(t):(o=e,l=o?Object.keys(o):[],i=-1,c=l.length,function(){var e=l[++i];return i<c?{value:o[e],key:e}:null});var o,l,i,c};var n=o(h),r=o(S);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}));d(C);var T=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},e.exports=t.default}));d(T);var E=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={},e.exports=t.default}));d(E);var M=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var l=!1,c=!1,d=!1,f=0,h=0;function v(){f>=t||d||l||(d=!0,e.next().then((function(e){var t=e.value,r=e.done;if(!c&&!l){if(d=!1,r)return l=!0,void(f<=0&&o(null));f++,n(t,h,m),h++,v()}})).catch(y))}function m(e,t){if(f-=1,!c)return e?y(e):!1===e?(l=!0,void(c=!0)):t===r.default||l&&f<=0?(l=!0,o(null)):void v()}function y(e){c||(d=!1,l=!0,o(e))}v()};var n,r=(n=E)&&n.__esModule?n:{default:n};e.exports=t.default}));d(M);var P=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=d(k),r=d(C),o=d(T),l=d(M),c=d(E);function d(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t,d,f){if(f=(0,n.default)(f),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return f(null);if((0,x.isAsyncGenerator)(t))return(0,l.default)(t,e,d,f);if((0,x.isAsyncIterable)(t))return(0,l.default)(t[Symbol.asyncIterator](),e,d,f);var h=(0,r.default)(t),v=!1,m=!1,y=0,_=!1;function w(e,t){if(!m)if(y-=1,e)v=!0,f(e);else if(!1===e)v=!0,m=!0;else{if(t===c.default||v&&y<=0)return v=!0,f(null);_||k()}}function k(){for(_=!0;y<e&&!v;){var t=h();if(null===t)return v=!0,void(y<=0&&f(null));y+=1,d(t.value,t.key,(0,o.default)(w))}_=!1}k()}},e.exports=t.default}));d(P);var A=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=l(P),r=l(x),o=l(_);function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,o,l){return(0,n.default)(t)(e,(0,r.default)(o),l)}),4),e.exports=t.default}));d(A);var O=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(A),r=o(_);function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)((function(e,t,r){return(0,n.default)(e,1,t,r)}),3),e.exports=t.default}));d(O);var I=d(f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(r.default,e,t)};var n=o(w),r=o(O);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}))),D=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,I(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push((function(r){t.apply(void 0,function(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(c(arguments[i]));return e}(n.args)),r(null,e)}))},e}(),R=f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=v(h),r=v(E),o=v(A),l=v(k),c=v(T),d=v(x),f=v(_);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){n=(0,l.default)(n);var o=0,d=0,f=e.length,h=!1;function v(e,t){!1===e&&(h=!0),!0!==h&&(e?n(e):++d!==f&&t!==r.default||n(null))}for(0===f&&n(null);o<f;o++)t(e[o],o,(0,c.default)(v))}function y(e,t,n){return(0,o.default)(e,1/0,t,n)}t.default=(0,f.default)((function(e,t,r){return((0,n.default)(e)?m:y)(e,(0,d.default)(t),r)}),3),e.exports=t.default}));d(R);var z=d(f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(n.default,e,t)};var n=o(R),r=o(w);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}))),L=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return z(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push((function(r){return o(n,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),r(null,e),[2]}}))}))}))},e}(),j=d(f((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c(k),r=c(T),o=c(x),l=c(_);function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,l.default)((function(e,t){if(t=(0,n.default)(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var l=0;function c(t){(0,o.default)(e[l++]).apply(void 0,t.concat([(0,r.default)(d)]))}function d(n){for(var r=[],o=arguments.length-1;o-- >0;)r[o]=arguments[o+1];if(!1!==n)return n||l===e.length?t.apply(void 0,[n].concat(r)):void c(r)}c([])})),e.exports=t.default}))),F=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return j(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push((function(e){var n=t();e(!!n&&null,n)})):this.tasks.push((function(n,r){r(!!t()&&null,e)}))},e}(),N=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return I(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push((function(n){n(t(),e)}))},e}()}).call(this,n(227).setImmediate,n(78))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f}));var r={},o={},l=function(e){return o[e]},c=function(e,t){o[e]=t},d=function(e){return r[e]},f=function(e,t){r[e]=t}},,,,,,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Normal="normal",e.PostProcessing="post-processing"}(r||(r={}))},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=o},function(e,t,n){var r=n(249),o="object"==typeof self&&self&&self.Object===Object&&self,l=r||o||Function("return this")();e.exports=l},function(e,t){e.exports=function(e){return null==e}},,,,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,function(e,t,n){"use strict";function r(data,e,t){t=t||2;var n,r,d,f,h,v,x,_=e&&e.length,k=_?e[0]*t:data.length,S=o(data,0,k,t,!0),C=[];if(!S||S.next===S.prev)return C;if(_&&(S=function(data,e,t,n){var i,r,c,d,f,h=[];for(i=0,r=e.length;i<r;i++)c=e[i]*n,d=i<r-1?e[i+1]*n:data.length,(f=o(data,c,d,n,!1))===f.next&&(f.steiner=!0),h.push(w(f));for(h.sort(m),i=0;i<h.length;i++)y(h[i],t),t=l(t,t.next);return t}(data,e,S,t)),data.length>80*t){n=d=data[0],r=f=data[1];for(var i=t;i<k;i+=t)(h=data[i])<n&&(n=h),(v=data[i+1])<r&&(r=v),h>d&&(d=h),v>f&&(f=v);x=0!==(x=Math.max(d-n,f-r))?1/x:0}return c(S,C,t,n,r,x),C}function o(data,e,t,n,r){var i,o;if(r===R(data,e,t,n)>0)for(i=e;i<t;i+=n)o=O(i,data[i],data[i+1],o);else for(i=t-n;i>=e;i-=n)o=O(i,data[i],data[i+1],o);return o&&C(o,o.next)&&(I(o),o=o.next),o}function l(e,t){if(!e)return e;t||(t=e);var n,p=e;do{if(n=!1,p.steiner||!C(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(I(p),(p=t=p.prev)===p.next)break;n=!0}}while(n||p!==t);return t}function c(e,t,n,r,o,m,y){if(e){!y&&m&&function(e,t,n,r){var p=e;do{null===p.z&&(p.z=_(p.x,p.y,t,n,r)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==e);p.prevZ.nextZ=null,p.prevZ=null,function(e){var i,p,q,t,n,r,o,l,c=1;do{for(p=e,e=null,n=null,r=0;p;){for(r++,q=p,o=0,i=0;i<c&&(o++,q=q.nextZ);i++);for(l=c;o>0||l>0&&q;)0!==o&&(0===l||!q||p.z<=q.z)?(t=p,p=p.nextZ,o--):(t=q,q=q.nextZ,l--),n?n.nextZ=t:e=t,t.prevZ=n,n=t;p=q}n.nextZ=null,c*=2}while(r>1)}(p)}(e,r,o,m);for(var x,w,k=e;e.prev!==e.next;)if(x=e.prev,w=e.next,m?f(e,r,o,m):d(e))t.push(x.i/n),t.push(e.i/n),t.push(w.i/n),I(e),e=w.next,k=w.next;else if((e=w)===k){y?1===y?c(e=h(l(e),t,n),t,n,r,o,m,2):2===y&&v(e,t,n,r,o,m):c(l(e),t,n,r,o,m,1);break}}}function d(e){var a=e.prev,b=e,t=e.next;if(area(a,b,t)>=0)return!1;for(var p=e.next.next;p!==e.prev;){if(k(a.x,a.y,b.x,b.y,t.x,t.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function f(e,t,n,r){var a=e.prev,b=e,o=e.next;if(area(a,b,o)>=0)return!1;for(var l=a.x<b.x?a.x<o.x?a.x:o.x:b.x<o.x?b.x:o.x,c=a.y<b.y?a.y<o.y?a.y:o.y:b.y<o.y?b.y:o.y,d=a.x>b.x?a.x>o.x?a.x:o.x:b.x>o.x?b.x:o.x,f=a.y>b.y?a.y>o.y?a.y:o.y:b.y>o.y?b.y:o.y,h=_(l,c,t,n,r),v=_(d,f,t,n,r),p=e.prevZ,m=e.nextZ;p&&p.z>=h&&m&&m.z<=v;){if(p!==e.prev&&p!==e.next&&k(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==e.prev&&m!==e.next&&k(a.x,a.y,b.x,b.y,o.x,o.y,m.x,m.y)&&area(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&k(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=v;){if(m!==e.prev&&m!==e.next&&k(a.x,a.y,b.x,b.y,o.x,o.y,m.x,m.y)&&area(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var p=e;do{var a=p.prev,b=p.next.next;!C(a,b)&&T(a,p,p.next,b)&&P(a,b)&&P(b,a)&&(t.push(a.i/n),t.push(p.i/n),t.push(b.i/n),I(p),I(p.next),p=e=b),p=p.next}while(p!==e);return l(p)}function v(e,t,n,r,o,d){var a=e;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&S(a,b)){var f=A(a,b);return a=l(a,a.next),f=l(f,f.next),c(a,t,n,r,o,d),void c(f,t,n,r,o,d)}b=b.next}a=a.next}while(a!==e)}function m(a,b){return a.x-b.x}function y(e,t){if(t=function(e,t){var n,p=t,r=e.x,o=e.y,l=-1/0;do{if(o<=p.y&&o>=p.next.y&&p.next.y!==p.y){var c=p.x+(o-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(c<=r&&c>l){if(l=c,c===r){if(o===p.y)return p;if(o===p.next.y)return p.next}n=p.x<p.next.x?p:p.next}}p=p.next}while(p!==t);if(!n)return null;if(r===l)return n;var d,f=n,h=n.x,v=n.y,m=1/0;p=n;do{r>=p.x&&p.x>=h&&r!==p.x&&k(o<v?r:l,o,h,v,o<v?l:r,o,p.x,p.y)&&(d=Math.abs(o-p.y)/(r-p.x),P(p,e)&&(d<m||d===m&&(p.x>n.x||p.x===n.x&&x(n,p)))&&(n=p,m=d)),p=p.next}while(p!==f);return n}(e,t)){var b=A(t,e);l(t,t.next),l(b,b.next)}}function x(e,p){return area(e.prev,e,p.prev)<0&&area(p.next,e,e.next)<0}function _(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function w(e){var p=e,t=e;do{(p.x<t.x||p.x===t.x&&p.y<t.y)&&(t=p),p=p.next}while(p!==e);return t}function k(e,t,n,r,o,l,c,d){return(o-c)*(t-d)-(e-c)*(l-d)>=0&&(e-c)*(r-d)-(n-c)*(t-d)>=0&&(n-c)*(l-d)-(o-c)*(r-d)>=0}function S(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&T(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(P(a,b)&&P(b,a)&&function(a,b){var p=a,e=!1,t=(a.x+b.x)/2,n=(a.y+b.y)/2;do{p.y>n!=p.next.y>n&&p.next.y!==p.y&&t<(p.next.x-p.x)*(n-p.y)/(p.next.y-p.y)+p.x&&(e=!e),p=p.next}while(p!==a);return e}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||C(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,e){return(q.y-p.y)*(e.x-q.x)-(q.x-p.x)*(e.y-q.y)}function C(e,t){return e.x===t.x&&e.y===t.y}function T(e,t,n,r){var o=M(area(e,t,n)),l=M(area(e,t,r)),c=M(area(n,r,e)),d=M(area(n,r,t));return o!==l&&c!==d||(!(0!==o||!E(e,n,t))||(!(0!==l||!E(e,r,t))||(!(0!==c||!E(n,e,r))||!(0!==d||!E(n,t,r)))))}function E(p,q,e){return q.x<=Math.max(p.x,e.x)&&q.x>=Math.min(p.x,e.x)&&q.y<=Math.max(p.y,e.y)&&q.y>=Math.min(p.y,e.y)}function M(e){return e>0?1:e<0?-1:0}function P(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function A(a,b){var e=new D(a.i,a.x,a.y),t=new D(b.i,b.x,b.y),n=a.next,r=b.prev;return a.next=b,b.prev=a,e.next=n,n.prev=e,t.next=e,e.prev=t,r.next=t,t.prev=r,t}function O(i,e,t,n){var p=new D(i,e,t);return n?(p.next=n.next,p.prev=n,n.next.prev=p,n.next=p):(p.prev=p,p.next=p),p}function I(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function D(i,e,t){this.i=i,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(data,e,t,n){for(var r=0,i=e,o=t-n;i<t;i+=n)r+=(data[o]-data[i])*(data[i+1]+data[o+1]),o=i;return r}e.exports=r,e.exports.default=r,r.deviation=function(data,e,t,n){var r=e&&e.length,o=r?e[0]*t:data.length,l=Math.abs(R(data,0,o,t));if(r)for(var i=0,c=e.length;i<c;i++){var d=e[i]*t,f=i<c-1?e[i+1]*t:data.length;l-=Math.abs(R(data,d,f,t))}var h=0;for(i=0;i<n.length;i+=3){var a=n[i]*t,b=n[i+1]*t,v=n[i+2]*t;h+=Math.abs((data[a]-data[v])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[v+1]-data[a+1]))}return 0===l&&0===h?0:Math.abs((h-l)/l)},r.flatten=function(data){for(var e=data[0][0].length,t={vertices:[],holes:[],dimensions:e},n=0,i=0;i<data.length;i++){for(var r=0;r<data[i].length;r++)for(var o=0;o<e;o++)t.vertices.push(data[i][r][o]);i>0&&(n+=data[i-1].length,t.holes.push(n))}return t}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(e,t,n){var r=n(80),o=n(26);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(34);function l(e,t,n,o,l){var c={},d="number"==typeof l,f=void 0!==l&&d?l.toString():n;if(d&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(c=Reflect.getMetadata(e,t));var h=c[f];if(Array.isArray(h))for(var v=0,m=h;v<m.length;v++){var y=m[v];if(y.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+y.key.toString())}else h=[];h.push(o),c[f]=h,Reflect.defineMetadata(e,c,t)}function c(e,t){Reflect.decorate(e,t)}function d(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){l(o.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){l(o.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?c([d(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):c([e],t)}},function(e,t,n){var r=n(141),o=n(476),l=n(477),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?o(e):l(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return o})),n.d(t,"clone",(function(){return l})),n.d(t,"fromValues",(function(){return c})),n.d(t,"copy",(function(){return d})),n.d(t,"set",(function(){return f})),n.d(t,"add",(function(){return h})),n.d(t,"subtract",(function(){return v})),n.d(t,"multiply",(function(){return m})),n.d(t,"divide",(function(){return y})),n.d(t,"ceil",(function(){return x})),n.d(t,"floor",(function(){return _})),n.d(t,"min",(function(){return w})),n.d(t,"max",(function(){return k})),n.d(t,"round",(function(){return S})),n.d(t,"scale",(function(){return C})),n.d(t,"scaleAndAdd",(function(){return T})),n.d(t,"distance",(function(){return E})),n.d(t,"squaredDistance",(function(){return M})),n.d(t,"length",(function(){return P})),n.d(t,"squaredLength",(function(){return A})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return I})),n.d(t,"normalize",(function(){return D})),n.d(t,"dot",(function(){return R})),n.d(t,"cross",(function(){return z})),n.d(t,"lerp",(function(){return L})),n.d(t,"random",(function(){return j})),n.d(t,"transformMat2",(function(){return F})),n.d(t,"transformMat2d",(function(){return N})),n.d(t,"transformMat3",(function(){return B})),n.d(t,"transformMat4",(function(){return V})),n.d(t,"rotate",(function(){return U})),n.d(t,"angle",(function(){return W})),n.d(t,"zero",(function(){return H})),n.d(t,"str",(function(){return $})),n.d(t,"exactEquals",(function(){return G})),n.d(t,"equals",(function(){return Z})),n.d(t,"len",(function(){return X})),n.d(t,"sub",(function(){return sub})),n.d(t,"mul",(function(){return K})),n.d(t,"div",(function(){return div})),n.d(t,"dist",(function(){return J})),n.d(t,"sqrDist",(function(){return Q})),n.d(t,"sqrLen",(function(){return ee})),n.d(t,"forEach",(function(){return te}));var r=n(14);function o(){var e=new r.a(2);return r.a!=Float32Array&&(e[0]=0,e[1]=0),e}function l(a){var e=new r.a(2);return e[0]=a[0],e[1]=a[1],e}function c(e,t){var n=new r.a(2);return n[0]=e,n[1]=t,n}function d(e,a){return e[0]=a[0],e[1]=a[1],e}function f(e,t,n){return e[0]=t,e[1]=n,e}function h(e,a,b){return e[0]=a[0]+b[0],e[1]=a[1]+b[1],e}function v(e,a,b){return e[0]=a[0]-b[0],e[1]=a[1]-b[1],e}function m(e,a,b){return e[0]=a[0]*b[0],e[1]=a[1]*b[1],e}function y(e,a,b){return e[0]=a[0]/b[0],e[1]=a[1]/b[1],e}function x(e,a){return e[0]=Math.ceil(a[0]),e[1]=Math.ceil(a[1]),e}function _(e,a){return e[0]=Math.floor(a[0]),e[1]=Math.floor(a[1]),e}function w(e,a,b){return e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e}function k(e,a,b){return e[0]=Math.max(a[0],b[0]),e[1]=Math.max(a[1],b[1]),e}function S(e,a){return e[0]=Math.round(a[0]),e[1]=Math.round(a[1]),e}function C(e,a,b){return e[0]=a[0]*b,e[1]=a[1]*b,e}function T(e,a,b,t){return e[0]=a[0]+b[0]*t,e[1]=a[1]+b[1]*t,e}function E(a,b){var e=b[0]-a[0],t=b[1]-a[1];return Math.hypot(e,t)}function M(a,b){var e=b[0]-a[0],t=b[1]-a[1];return e*e+t*t}function P(a){var e=a[0],t=a[1];return Math.hypot(e,t)}function A(a){var e=a[0],t=a[1];return e*e+t*t}function O(e,a){return e[0]=-a[0],e[1]=-a[1],e}function I(e,a){return e[0]=1/a[0],e[1]=1/a[1],e}function D(e,a){var t=a[0],n=a[1],r=t*t+n*n;return r>0&&(r=1/Math.sqrt(r)),e[0]=a[0]*r,e[1]=a[1]*r,e}function R(a,b){return a[0]*b[0]+a[1]*b[1]}function z(e,a,b){var t=a[0]*b[1]-a[1]*b[0];return e[0]=e[1]=0,e[2]=t,e}function L(e,a,b,t){var n=a[0],r=a[1];return e[0]=n+t*(b[0]-n),e[1]=r+t*(b[1]-r),e}function j(e,t){t=t||1;var n=2*r.c()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function F(e,a,t){var n=a[0],r=a[1];return e[0]=t[0]*n+t[2]*r,e[1]=t[1]*n+t[3]*r,e}function N(e,a,t){var n=a[0],r=a[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function B(e,a,t){var n=a[0],r=a[1];return e[0]=t[0]*n+t[3]*r+t[6],e[1]=t[1]*n+t[4]*r+t[7],e}function V(e,a,t){var n=a[0],r=a[1];return e[0]=t[0]*n+t[4]*r+t[12],e[1]=t[1]*n+t[5]*r+t[13],e}function U(e,a,b,t){var n=a[0]-b[0],r=a[1]-b[1],o=Math.sin(t),l=Math.cos(t);return e[0]=n*l-r*o+b[0],e[1]=n*o+r*l+b[1],e}function W(a,b){var e=a[0],t=a[1],n=b[0],r=b[1],o=Math.sqrt(e*e+t*t)*Math.sqrt(n*n+r*r),l=o&&(e*n+t*r)/o;return Math.acos(Math.min(Math.max(l,-1),1))}function H(e){return e[0]=0,e[1]=0,e}function $(a){return"vec2("+a[0]+", "+a[1]+")"}function G(a,b){return a[0]===b[0]&&a[1]===b[1]}function Z(a,b){var e=a[0],t=a[1],n=b[0],o=b[1];return Math.abs(e-n)<=r.b*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(t-o)<=r.b*Math.max(1,Math.abs(t),Math.abs(o))}var Y,X=P,sub=v,K=m,div=y,J=E,Q=M,ee=A,te=(Y=o(),function(a,e,t,n,r,o){var i,l;for(e||(e=2),t||(t=0),l=n?Math.min(n*e+t,a.length):a.length,i=t;i<l;i+=e)Y[0]=a[i],Y[1]=a[i+1],r(Y,Y,o),a[i]=Y[0],a[i+1]=Y[1];return a})},,,function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function o(e,t,n){return void 0===n&&(n={}),r({type:"Point",coordinates:e},t,n)}function polygon(e,t,n){void 0===n&&(n={});for(var o=0,l=e;o<l.length;o++){var c=l[o];if(c.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var d=0;d<c[c.length-1].length;d++)if(c[c.length-1][d]!==c[0][d])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:e},t,n)}function l(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:e},t,n)}function c(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function d(e,t,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:e},t,n)}function f(e,t,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:e},t,n)}function h(e,t,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:e},t,n)}function v(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function m(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function y(e){return 180*(e%(2*Math.PI))/Math.PI}function x(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=r,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return o(t).geometry;case"LineString":return l(t).geometry;case"Polygon":return polygon(t).geometry;case"MultiPoint":return f(t).geometry;case"MultiLineString":return d(t).geometry;case"MultiPolygon":return h(t).geometry;default:throw new Error(e+" is invalid")}},t.point=o,t.points=function(e,t,n){return void 0===n&&(n={}),c(e.map((function(e){return o(e,t)})),n)},t.polygon=polygon,t.polygons=function(e,t,n){return void 0===n&&(n={}),c(e.map((function(e){return polygon(e,t)})),n)},t.lineString=l,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),c(e.map((function(e){return l(e,t)})),n)},t.featureCollection=c,t.multiLineString=d,t.multiPoint=f,t.multiPolygon=h,t.geometryCollection=function(e,t,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:e},t,n)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=v,t.lengthToRadians=m,t.lengthToDegrees=function(e,t){return y(m(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=y,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return v(m(e,t),n)},t.convertArea=function(area,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(area>=0))throw new Error("area must be a positive number");var r=t.areaFactors[e];if(!r)throw new Error("invalid original units");var o=t.areaFactors[n];if(!o)throw new Error("invalid final units");return area/r*o},t.isNumber=x,t.isObject=function(input){return!!input&&input.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!x(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")},t.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},t.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},t.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},t.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},t.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},t.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},t.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.id=function(){return r++}},function(e,t,n){var r=n(475),o=n(480);e.exports=function(object,e){var t=o(object,e);return r(t)?t:void 0}},function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var o=n(28),l={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"===(void 0===r?"undefined":Object(o.a)(r))&&r},c=l.window||l.self||l.global,d=l.process||{};console}).call(this,n(41),n(78))},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e[e.LNGLAT=1]="LNGLAT",e[e.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",e[e.VECTOR_TILE=3]="VECTOR_TILE",e[e.IDENTITY=4]="IDENTITY",e[e.P20=5]="P20",e[e.P20_OFFSET=6]="P20_OFFSET",e[e.METER_OFFSET=7]="METER_OFFSET"}(r||(r={}));var o={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"}},,,,,,,,function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"d",(function(){return ro})),n.d(t,"e",(function(){return oo})),n.d(t,"b",(function(){return so})),n.d(t,"a",(function(){return uo}));n(430);var r=n(27),o=n.n(r),l=n(5),c=n(310),d=n.n(c),f=n(10),h=n(3),v=n.n(h),m=n(2),y=n.n(m),x=n(1),_=n.n(x),w=n(7),k=n(312),S=n.n(k);function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function E(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var P;function A(e,t,n){var r,o=E(t);try{for(o.s();!(r=o.n()).done;){var l=r.value,c=l.icon,d=l.xOffset;e[c.id]=T(T({},c),{},{x:d,y:n,image:c.image})}}catch(e){o.e(e)}finally{o.f()}}function O(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function I(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var L=function(){for(var e=[],i=32;i<128;i++)e.push(String.fromCharCode(i));return e}();function j(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="black",e.textBaseline="middle"}function F(e,t){for(var i=0;i<e.length;i++)t.data[4*i+3]=e[i]}var N,B=Object(l.injectable)()(P=function(){function e(){y()(this,e),this.fontAtlas=void 0,this.iconFontGlyphs={},this.fontOptions=void 0,this.key=void 0,this.cache=new w.c(3)}return _()(e,[{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:"sans-serif",fontWeight:"normal",characterSet:L,fontSize:24,buffer:3,sdf:!0,cutoff:.25,radius:8},this.key=""}},{key:"addIconGlyphs",value:function(e){var t=this;e.forEach((function(glyph){t.iconFontGlyphs[glyph.name]=glyph.unicode}))}},{key:"getGlyph",value:function(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}},{key:"setFontOptions",value:function(option){this.fontOptions=z(z({},this.fontOptions),option),this.key=this.getKey();var e=this.getNewChars(this.key,this.fontOptions.characterSet),t=this.cache.get(this.key);if(!t||0!==e.length){var n=this.generateFontAtlas(this.key,e,t);this.fontAtlas=n,this.cache.set(this.key,n)}}},{key:"destroy",value:function(){this.cache.clear()}},{key:"generateFontAtlas",value:function(e,t,n){var r=this.fontOptions,o=r.fontFamily,l=r.fontWeight,c=r.fontSize,d=r.buffer,f=r.sdf,h=r.radius,v=r.cutoff,canvas=n&&n.data;canvas||((canvas=document.createElement("canvas")).width=1024);var m=canvas.getContext("2d");j(m,o,c,l);var y=function(e){var t=e.characterSet,n=e.getFontWidth,r=e.fontHeight,o=e.buffer,l=e.maxCanvasWidth,c=e.mapping,d=void 0===c?{}:c,f=e.xOffset,h=void 0===f?0:f,v=e.yOffset,m=void 0===v?0:v,y=0,x=h;Array.from(t).forEach((function(e,i){if(!d[e]){var t=n(e,i);x+30>l&&(x=0,y++),d[e]={x:x,y:m+30*y,width:30,height:30,advance:t},x+=30}}));var _=r+2*o;return{mapping:d,xOffset:x,yOffset:m+y*_,canvasHeight:O(m+(y+1)*_)}}(z({getFontWidth:function(e){return m.measureText(e).width},fontHeight:1*c,buffer:d,characterSet:t,maxCanvasWidth:1024},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),x=y.mapping,_=y.canvasHeight,w=y.xOffset,k=y.yOffset;if(canvas.height!==_){var C=m.getImageData(0,0,canvas.width,canvas.height);canvas.height=_,m.putImageData(C,0,0)}if(j(m,o,c,l),f){var T,E=new S.a(c,d,h,v,o,l),M=m.getImageData(0,0,E.size,E.size),P=I(t);try{for(P.s();!(T=P.n()).done;){var A=T.value;F(E.draw(A),M),m.putImageData(M,x[A].x,x[A].y)}}catch(e){P.e(e)}finally{P.f()}}else{var D,R=I(t);try{for(R.s();!(D=R.n()).done;){var L=D.value;m.fillText(L,x[L].x,x[L].y+1*c)}}catch(e){R.e(e)}finally{R.f()}}return{xOffset:w,yOffset:k,mapping:x,data:canvas,width:canvas.width,height:canvas.height}}},{key:"getKey",value:function(){var e=this.fontOptions,t=e.fontFamily,n=e.fontWeight,r=e.fontSize,o=e.buffer,l=e.sdf,c=e.radius,d=e.cutoff;return l?"".concat(t," ").concat(n," ").concat(r," ").concat(o," ").concat(c," ").concat(d):"".concat(t," ").concat(n," ").concat(r," ").concat(o)}},{key:"getNewChars",value:function(e,t){var n=this.cache.get(e);if(!n)return t;var r=[],o=n.mapping,l=new Set(Object.keys(o));return new Set(t).forEach((function(e){l.has(e)||r.push(e)})),r}},{key:"scale",get:function(){return 1}},{key:"canvas",get:function(){var data=this.cache.get(this.key);return data&&data.data}},{key:"mapping",get:function(){var data=this.cache.get(this.key);return data&&data.mapping}}]),e}())||P,V=n(8),U=n.n(V),W=n(9),H=n.n(W),$=n(4),G=n.n($);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Y,X,K=Object(l.injectable)()(N=function(e){U()(n,e);var t=Z(n);function n(){var e;y()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).canvasHeight=void 0,e.texture=void 0,e.canvas=void 0,e.iconData=void 0,e.iconMap=void 0,e.ctx=void 0,e}return _()(n,[{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(e,image){var t=this,n=new Image;if(this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,width:64,height:64}),this.updateIconMap(),this.loadImage(image).then((function(img){n=img;var r=t.iconData.find((function(t){return t.id===e}));r&&(r.image=n),t.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(e){return this.iconMap.hasOwnProperty(e)}},{key:"removeImage",value:function(e){this.hasImage(e)&&(this.iconData=this.iconData.filter((function(t){return t.id!==e})),delete this.iconMap[e],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var e=this;this.canvas.width=1024,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(t){var n=e.iconMap[t],r=n.x,o=n.y,image=n.image;image&&e.ctx.drawImage(image,r,o,64,64)}))}},{key:"updateIconMap",value:function(){var e=function(e,t,n){var r,o=0,l=0,c=0,d=[],f={},h=E(e);try{for(h.s();!(r=h.n()).done;){var v=r.value;if(!f[v.id]){var m=v.height,y=v.width;o+y+t>n&&(A(f,d,l),o=0,l=c+l+t,c=0,d=[]),d.push({icon:v,xOffset:o}),o=o+y+t,c=Math.max(c,m)}}}catch(e){h.e(e)}finally{h.f()}return d.length>0&&A(f,d,l),{mapping:f,canvasHeight:O(c+l+t)}}(this.iconData,3,1024),t=e.mapping,n=e.canvasHeight;this.iconMap=t,this.canvasHeight=n}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var image=new Image;image.crossOrigin="anonymous",image.onload=function(){t(image)},image.onerror=function(){n(new Error("Could not load image at "+e))},image.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(r.EventEmitter))||N,J=n(24),Q=n.n(J),ee=n(6),te=Object(l.injectable)()(Y=function(){function e(){y()(this,e),this.viewport=void 0,this.overridedViewProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0,this.jitteredProjectionMatrix=void 0,this.viewMatrixInverse=void 0,this.cameraPosition=void 0}return _()(e,[{key:"init",value:function(){}},{key:"update",value:function(e){this.viewport=e,this.viewMatrixInverse=ee.b.invert(ee.b.create(),this.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var e=this.viewport.getCenter(),t=Q()(e,2);return[t[0],t[1]]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}},{key:"setViewProjectionMatrix",value:function(e){this.overridedViewProjectionMatrix=e}},{key:"jitterProjectionMatrix",value:function(e,t){var n=ee.b.fromTranslation(ee.b.create(),[e,t,0]);this.jitteredProjectionMatrix=ee.b.multiply(ee.b.create(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=ee.b.multiply(ee.b.create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}())||Y;function ie(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var re,oe,ae,se=Object(l.injectable)()(X=function(){function e(){y()(this,e),this.container=void 0,this.controlCorners=void 0,this.controlContainer=void 0,this.scene=void 0,this.mapsService=void 0,this.controls=[],this.unAddControls=[]}return _()(e,[{key:"init",value:function(e,t){this.container=e.container,this.scene=t,this.mapsService=t.get(f.a.IMapService),this.initControlPos()}},{key:"addControl",value:function(e,t){t.get(f.a.IMapService).map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}},{key:"getControlByName",value:function(e){return this.controls.find((function(t){return t.controlOption.name===e}))}},{key:"removeControl",value:function(e){var t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}},{key:"addControls",value:function(){var e=this;this.unAddControls.forEach((function(t){t.addTo(e.scene),e.controls.push(t)})),this.unAddControls=[]}},{key:"destroy",value:function(){var e,t=ie(this.controls);try{for(t.s();!(e=t.n()).done;){e.value.remove()}}catch(e){t.e(e)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var e=this.controlCorners={},t="l7-",n=this.controlContainer=w.b.create("div","l7-control-container",this.container);function r(r,o){var l=t+r+" "+t+o;e[r+o]=w.b.create("div",l,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")}},{key:"clearControlPos",value:function(){for(var i in this.controlCorners)this.controlCorners[i]&&w.b.remove(this.controlCorners[i]);this.controlContainer&&w.b.remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),e}())||X,ue=Object(l.injectable)()(re=function(){function e(){y()(this,e),this.container=void 0,this.scene=void 0,this.mapsService=void 0,this.markers=[],this.markerLayers=[],this.unAddMarkers=[],this.unAddMarkerLayers=[]}return _()(e,[{key:"addMarkerLayer",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}},{key:"removeMarkerLayer",value:function(e){e.destroy(),this.markerLayers.indexOf(e);var t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}},{key:"addMarker",value:function(marker){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(marker),marker.addTo(this.scene)):this.unAddMarkers.push(marker)}},{key:"addMarkers",value:function(){var e=this;this.unAddMarkers.forEach((function(marker){marker.addTo(e.scene),e.markers.push(marker)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var e=this;this.unAddMarkerLayers.forEach((function(t){e.markerLayers.push(t),t.addTo(e.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(marker){marker.remove(),this.markers.indexOf(marker);var e=this.markers.indexOf(marker);e>-1&&this.markers.splice(e,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(f.a.IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(marker){marker.remove()})),this.markers=[],this.markerLayers.forEach((function(e){e.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(e){e.destroy()}}]),e}())||re,le=Object(l.injectable)()(oe=function(){function e(){y()(this,e),this.scene=void 0,this.popup=void 0,this.mapsService=void 0,this.unAddPopup=void 0}return _()(e,[{key:"removePopup",value:function(e){e.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(e){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(e.addTo(this.scene),this.popup=e):this.unAddPopup=e}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(f.a.IMapService)}}]),e}())||oe,ce=n(20),de=n.n(ce),fe={MapToken:"您正在使用 Demo测试地图token，如果生产环境中使用去对应地图请注册Token",SDK:"请确认引入了mapbox-gl api且在L7之前引入"};function he(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function pe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?he(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):he(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ve={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},me={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15}},ge=Object(l.injectable)()(ae=function(){function e(){y()(this,e),this.sceneConfigCache={},this.layerConfigCache={}}return _()(e,[{key:"getSceneConfig",value:function(e){return this.sceneConfigCache[e]}},{key:"getSceneWarninfo",value:function(e){return fe[e]}},{key:"setSceneConfig",value:function(e,t){this.sceneConfigCache[e]=pe(pe({},ve),t)}},{key:"getLayerConfig",value:function(e){return this.layerConfigCache[e]}},{key:"setLayerConfig",value:function(e,t,n){this.layerConfigCache[t]=pe({},de()({},this.sceneConfigCache[e],me,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}())||ae,ye=n(13),be=n.n(ye),xe=n(12),_e=n.n(xe),we=(n(25),Math.PI/180);function ke(e){var t=e.latitude,n=void 0===t?0:t,r=e.zoom,o=void 0===r?0:r,l=e.scale,c=e.highPrecision,d=void 0!==c&&c,f=e.flipY,h=void 0!==f&&f,v={},m=512*(l=void 0!==l?l:Math.pow(2,o)),y=Math.cos(n*we),x=m/360,_=x/y,w=m/4003e4/y;if(v.pixelsPerMeter=[w,-w,w],v.metersPerPixel=[1/w,-1/w,1/w],v.pixelsPerDegree=[x,-_,w],v.degreesPerPixel=[1/x,-1/_,1/w],d){var k=we*Math.tan(n*we)/y,S=x*k/2,C=m/4003e4*k,T=C/_*w;v.pixelsPerDegree2=[0,-S,C],v.pixelsPerMeter2=[T,0,T],h&&(v.pixelsPerDegree2[1]=-v.pixelsPerDegree2[1],v.pixelsPerMeter2[1]=-v.pixelsPerMeter2[1])}return h&&(v.pixelsPerMeter[1]=-v.pixelsPerMeter[1],v.metersPerPixel[1]=-v.metersPerPixel[1],v.pixelsPerDegree[1]=-v.pixelsPerDegree[1],v.degreesPerPixel[1]=-v.degreesPerPixel[1]),v}var Se,Ce,Te,Ee,Me,Pe,Ae,Oe,Ie,De,Re,ze,Le=n(93),je=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Fe=(Se=Object(l.injectable)(),Ce=Object(l.inject)(f.a.ICameraService),Se((Ee=function(){function e(){y()(this,e),this.needRefresh=!0,be()(this,"cameraService",Me,this),this.coordinateSystem=void 0,this.viewportCenter=void 0,this.viewportCenterProjection=void 0,this.pixelsPerDegree=void 0,this.pixelsPerDegree2=void 0,this.pixelsPerMeter=void 0}return _()(e,[{key:"refresh",value:function(){var e=this.cameraService.getZoom(),t=this.cameraService.getZoomScale(),n=this.cameraService.getCenter(),r=ke({latitude:n[1],zoom:e}),o=r.pixelsPerMeter,l=r.pixelsPerDegree;this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=o,this.pixelsPerDegree=l,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Le.a.LNGLAT||this.coordinateSystem===Le.a.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Le.a.LNGLAT_OFFSET?this.calculateLnglatOffset(n,e):this.coordinateSystem===Le.a.P20_OFFSET&&this.calculateLnglatOffset(n,e,t,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(e){this.coordinateSystem=e}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(e,t,n,r){var o=ke({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),l=o.pixelsPerMeter,c=o.pixelsPerDegree,d=o.pixelsPerDegree2,f=this.cameraService.getViewMatrix(),h=this.cameraService.getProjectionMatrix(),v=ee.b.multiply([],h,f),m=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=ee.e.transformMat4([],[m[0],m[1],0,1],v),f=this.cameraService.getViewMatrixUncentered()||f,v=ee.b.multiply([],h,f),v=ee.b.multiply([],v,je),this.cameraService.setViewProjectionMatrix(v),this.pixelsPerMeter=l,this.pixelsPerDegree=c,this.pixelsPerDegree2=d}}]),e}(),Me=_e()(Ee.prototype,"cameraService",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Ee))||Te),Ne=n(18),Be=n.n(Ne),Ve=n(106),Ue=n.n(Ve),We=n(30);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var $e,qe,Ge,Ze,Ye,Xe,Ke,Je,Qe,et,tt,it={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancle"},nt=(Pe=Object(l.injectable)(),Ae=Object(l.inject)(f.a.IMapService),Oe=Object(l.inject)(f.a.ILogService),Pe((De=function(e){U()(n,e);var t=He(n);function n(){var e;y()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),be()(e,"mapService",Re,Be()(e)),be()(e,"logger",ze,Be()(e)),e.hammertime=void 0,e.lastClickTime=0,e.lastClickXY=[-1,-1],e.clickTimer=void 0,e.$containter=void 0,e.onDrag=function(t){var n=e.interactionEvent(t);n.type=it[n.type],e.emit(We.a.Drag,n)},e.onHammer=function(t){t.srcEvent.stopPropagation();var n=e.interactionEvent(t);e.emit(We.a.Hover,n)},e.onTouch=function(t){var n=t.touches[0];e.onHover({x:n.pageX,y:n.pageY,type:"touch"})},e.onHover=function(t){var n=t.clientX,r=t.clientY,o=t.type,l=e.mapService.getMapContainer();if(l){var c=l.getBoundingClientRect(),d=c.top;n=n-c.left-l.clientLeft,r=r-d-l.clientTop}var f=e.mapService.containerToLngLat([n,r]);if("click"!==o)"touch"!==o?"click"!==o&&"dblclick"!==o&&e.emit(We.a.Hover,{x:n,y:r,lngLat:f,type:o,target:t}):e.isDoubleTap(n,r,f);else{if("ontouchstart"in document.documentElement==!0)return;e.isDoubleTap(n,r,f)}},e}return _()(n,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(We.a.Hover)}},{key:"triggerHover",value:function(e){var t=e.x,n=e.y;this.emit(We.a.Hover,{x:t,y:n})}},{key:"triggerSelect",value:function(e){this.emit(We.a.Select,{featureId:e})}},{key:"triggerActive",value:function(e){this.emit(We.a.Active,{featureId:e})}},{key:"addEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();if(e){var t=new Ue.a.Manager(e);t.add(new Ue.a.Tap({event:"dblclick",taps:2})),t.add(new Ue.a.Tap({event:"click"})),t.add(new Ue.a.Pan({threshold:0,pointers:0})),t.add(new Ue.a.Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("mousemove",this.onHover),e.addEventListener("mousedown",this.onHover),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t,this.logger.debug("add event listeners on canvas")}}},{key:"removeEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(e){var t,n,r=e.type;"touch"===e.pointerType?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));var o=this.mapService.getMapContainer();if(o){var l=o.getBoundingClientRect(),c=l.top;t-=l.left,n-=c}return{x:t,y:n,lngLat:this.mapService.containerToLngLat([t,n]),type:r,target:e.srcEvent}}},{key:"isDoubleTap",value:function(e,t,n){var r=this,o=(new Date).getTime(),l="click";o-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),l="dblclick",this.emit(We.a.Hover,{x:e,y:t,lngLat:n,type:l})):(this.lastClickTime=o,this.lastClickXY=[e,t],this.clickTimer=setTimeout((function(){l="click",r.emit(We.a.Hover,{x:e,y:t,lngLat:n,type:l})}),400))}}]),n}(o.a),Re=_e()(De.prototype,"mapService",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=_e()(De.prototype,"logger",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=De))||Ie),ot=n(22),at=n.n(ot),st=n(31),ut=n.n(st),lt=n(23);function ct(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ft(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ct(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ct(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ht,pt,vt,mt,gt,yt,bt,xt,_t,wt,kt,St,Ct,Tt=($e=Object(l.injectable)(),qe=Object(l.inject)(f.a.IRendererService),Ge=Object(l.inject)(f.a.IGlobalConfigService),Ze=Object(l.inject)(f.a.IInteractionService),Ye=Object(l.inject)(f.a.ILayerService),$e((Ke=function(){function e(){var t=this;y()(this,e),be()(this,"rendererService",Je,this),be()(this,"configService",Qe,this),be()(this,"interactionService",et,this),be()(this,"layerService",tt,this),this.pickingFBO=void 0,this.width=0,this.height=0,this.alreadyInPicking=!1,this.pickBufferScale=1,this.pickFromPickingFBO=function(e,n){var r,o=n.x,l=n.y,c=n.lngLat,d=n.type,f=n.target,h=!1,v=t.rendererService,m=(v.getViewportSize,v.readPixels),y=(0,v.getContainer)().getBoundingClientRect(),x=y.width,_=y.height;x*=window.devicePixelRatio,_*=window.devicePixelRatio;var k,S=e.getLayerConfig(),C=S.enableHighlight,T=S.enableSelect,E=o*window.devicePixelRatio,M=l*window.devicePixelRatio;if(E>x-1*window.devicePixelRatio||E<0||M>_-1*window.devicePixelRatio||M<0)return!1;if(0!==(k=m({x:Math.floor(E/t.pickBufferScale),y:Math.floor((_-(l+1)*window.devicePixelRatio)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}))[0]||0!==k[1]||0!==k[2]){var P=Object(w.l)(k),A=e.getSource().getFeatureById(P);P!==e.getCurrentPickId()&&"mousemove"===d&&(d="mouseenter");var O={x:o,y:l,type:d,lngLat:c,featureId:P,feature:A,target:f};A&&(h=!0,e.setCurrentPickId(P),t.triggerHoverOnLayer(e,O))}else{var I={x:o,y:l,lngLat:c,type:null!==e.getCurrentPickId()&&"mousemove"===d?"mouseout":"un"+d,featureId:null,target:f,feature:null};t.triggerHoverOnLayer(e,ft(ft({},I),{},{type:"unpick"})),t.triggerHoverOnLayer(e,I),e.setCurrentPickId(null)}if(C&&t.highlightPickedFeature(e,k),T&&"click"===d&&(null===(r=k)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var D=Object(w.l)(k);null===e.getCurrentSelectedId()||D!==e.getCurrentSelectedId()?(t.selectFeature(e,k),e.setCurrentSelectedId(D)):(t.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return h}}var t,n;return _()(e,[{key:"init",value:function(e){var t=this.rendererService,n=t.createTexture2D,r=t.createFramebuffer,o=(t.getViewportSize,(0,t.getContainer)().getBoundingClientRect()),l=o.width,c=o.height;l*=window.devicePixelRatio,c*=window.devicePixelRatio,this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(l/this.pickBufferScale),height:Math.round(c/this.pickBufferScale),wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})}),this.interactionService.on(We.a.Hover,this.pickingAllLayer.bind(this))}},{key:"pickingAllLayer",value:(n=ut()(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alreadyInPicking&&!this.layerService.alreadyInRendering){e.next=2;break}return e.abrupt("return");case 2:return this.alreadyInPicking=!0,e.next=5,this.pickingLayers(t);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"pickingLayers",value:(t=ut()(at.a.mark((function e(t){var n,r,o,l,c,d,f,h=this;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=this.rendererService).getViewportSize,r=n.useFramebuffer,o=n.clear,l=n.getContainer,c=l().getBoundingClientRect(),d=c.width,f=c.height,d*=window.devicePixelRatio,f*=window.devicePixelRatio,this.width===d&&this.height===f||(this.pickingFBO.resize({width:Math.round(d/this.pickBufferScale),height:Math.round(f/this.pickBufferScale)}),this.width=d,this.height=f),r(this.pickingFBO,(function(){h.layerService.getLayers().filter((function(e){return e.needPick(t.type)})).reverse().some((function(e){return o({framebuffer:h.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels(),e.hooks.afterPickingEncode.call(),h.pickFromPickingFBO(e,t)&&!e.getLayerConfig().enablePropagation}))}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"triggerHoverOnLayer",value:function(e,t){e.emit(t.type,t)}},{key:"highlightPickedFeature",value:function(e,t){var n=Q()(t,3),r=n[0],g=n[1],b=n[2];e.hooks.beforeHighlight.call([r,g,b])}},{key:"selectFeature",value:function(e,t){var n=Q()(t,3),r=n[0],g=n[1],b=n[2];e.hooks.beforeSelect.call([r,g,b])}}]),e}(),Je=_e()(Ke.prototype,"rendererService",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=_e()(Ke.prototype,"configService",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=_e()(Ke.prototype,"interactionService",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=_e()(Ke.prototype,"layerService",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=Ke))||Xe),Et=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];y()(this,e),this.autoStart=void 0,this.startTime=0,this.oldTime=0,this.running=!1,this.elapsedTime=0,this.autoStart=t}return _()(e,[{key:"start",value:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}(),Mt=(ht=Object(l.injectable)(),pt=Object(l.inject)(f.a.IRendererService),vt=Object(l.inject)(f.a.IGlobalConfigService),ht((gt=function(){function e(){y()(this,e),this.clock=new Et,this.alreadyInRendering=!1,this.layers=[],this.layerRenderID=void 0,this.sceneInited=!1,this.animateInstanceCount=0,be()(this,"renderService",yt,this),be()(this,"configService",bt,this)}return _()(e,[{key:"add",value:function(e){this.sceneInited&&e.init(),this.layers.push(e)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(e){e.inited||e.init()}))}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers.find((function(t){return t.id===e}))}},{key:"getLayerByName",value:function(e){return this.layers.find((function(t){return t.name===e}))}},{key:"remove",value:function(e){var t=this.layers.indexOf(e);t>-1&&this.layers.splice(t,1),e.emit("remove",null),e.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(){this.alreadyInRendering||(this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).forEach((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()})),this.alreadyInRendering=!1)}},{key:"updateRenderOrder",value:function(){this.layers.sort((function(pre,e){return pre.zIndex-e.zIndex}))}},{key:"destroy",value:function(){this.layers.forEach((function(e){return e.destroy()})),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){0==this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0==--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"clear",value:function(){this.renderService.clear({color:[0,0,0,0],depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),e}(),yt=_e()(gt.prototype,"renderService",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=_e()(gt.prototype,"configService",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=gt))||mt),Pt=n(49),At=n.n(Pt),Ot=n(17),It=n.n(Ot),Dt=n(57),Rt=n.n(Dt),zt=function(){function e(t){var n=this;y()(this,e),this.name=void 0,this.type=void 0,this.scale=void 0,this.descriptor=void 0,this.featureBufferLayout=[],this.needRescale=!1,this.needRemapping=!1,this.needRegenerateVertices=!1,this.featureRange={startIndex:0,endIndex:1/0},this.vertexAttribute=void 0,this.defaultCallback=function(e){var t;return 0===e.length?(null===(t=n.scale)||void 0===t?void 0:t.defaultValues)||[]:e.map((function(param,e){var t;return(null===(t=n.scale)||void 0===t?void 0:t.scalers[e].func)(param)}))},this.setProps(t)}return _()(e,[{key:"setProps",value:function(e){Object.assign(this,e)}},{key:"mapping",value:function(e){var t;if(null===(t=this.scale)||void 0===t?void 0:t.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,It()(e));if(!Rt()(r))return[r]}return this.defaultCallback(e)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}();function Lt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function jt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Lt(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Lt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ft=(xt={},v()(xt,lt.a.FLOAT,4),v()(xt,lt.a.UNSIGNED_BYTE,1),v()(xt,lt.a.UNSIGNED_SHORT,2),xt),Nt=(_t=Object(l.injectable)(),wt=Object(l.inject)(f.a.IRendererService),_t((St=function(){function e(){y()(this,e),this.attributesAndIndices=void 0,be()(this,"rendererService",Ct,this),this.attributes=[],this.triangulation=void 0,this.featureLayout={sizePerElement:0,elements:[]}}return _()(e,[{key:"registerStyleAttribute",value:function(e){var t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new zt(e),this.attributes.push(t)),t}},{key:"updateStyleAttribute",value:function(e,t,n){var r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute(jt(jt({},t),{},{name:e})));var o=t.scale;o&&r&&(r.scale=o,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(e){return this.attributes.find((function(t){return t.name===e}))}},{key:"getLayerAttributeScale",value:function(e){var t,n=this.getLayerStyleAttribute(e),r=null==n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=this.attributes.find((function(t){return t.name===e}));if(o&&o.descriptor){var l=o.descriptor,c=l.update,d=l.buffer,f=l.size,h=void 0===f?0:f,v=Ft[d.type||lt.a.FLOAT];if(c){var m=this.featureLayout,y=m.elements,x=m.sizePerElement,_=y.slice(n,r);if(!_.length)return;var w=_[0].offset,k=w*h*v,S=_.map((function(e,n){for(var r=e.featureIdx,o=e.vertices,l=e.normals,d=o.length/x,f=[],h=0;h<d;h++){var v=l?l.slice(3*h,3*h+3):[];f.push.apply(f,It()(c(t[r],r,o.slice(h*x,h*x+x),n,v)))}return f})).reduce((function(e,t){return e.push.apply(e,It()(t)),e}),[]);o.vertexAttribute.updateBuffer({data:S,offset:k})}}}},{key:"createAttributesAndIndices",value:function(e,t){var n=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var r=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),o=0,l=[],c=3;e.forEach((function(e,t){var d=n.triangulation(e),f=d.indices,h=d.vertices,v=d.normals,m=d.size;f.forEach((function(i){l.push(i+o)})),c=m;var y=h.length/m;n.featureLayout.sizePerElement=c,n.featureLayout.elements.push({featureIdx:t,vertices:h,normals:v,offset:o}),o+=y;for(var x=function(n){var o=(null==v?void 0:v.slice(3*n,3*n+3))||[],l=h.slice(n*m,n*m+m);r.forEach((function(r,c){var d;r&&r.update&&(d=r.buffer.data).push.apply(d,It()(r.update(e,t,l,n,o)))}))},_=0;_<y;_++)x(_)}));var d=this.rendererService,f=d.createAttribute,h=d.createBuffer,v=d.createElements,m={};r.forEach((function(e,t){if(e){var r=e.buffer,o=(e.update,e.name,At()(e,["buffer","update","name"])),l=f(jt({buffer:h(r)},o));m[e.name||""]=l,n.attributes[t].vertexAttribute=l}}));var y=v({data:l,type:lt.a.UNSIGNED_INT,count:l.length});return this.attributesAndIndices={attributes:m,elements:y},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var e;this.attributes.forEach((function(e){e.vertexAttribute&&e.vertexAttribute.destroy()})),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[]}}]),e}(),Ct=_e()(St.prototype,"rendererService",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=St))||kt),Bt=n(28),Vt=n(62),Ut=n(45),Wt=n(82),Ht=n(83),$t=n(313),qt="undefined"!=typeof __VERSION__?__VERSION__:"untranspiled source",Gt=Object($t.a)();function Zt(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(e){return null}}var Yt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";Object(Wt.a)(this,e),this.storage=Zt(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return Object(Ht.a)(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function Xt(image,e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,r=image.src.replace(/\(/g,"%28").replace(/\)/g,"%29");image.width>n&&(t=Math.min(t,n/image.width));var o=image.width*t,l=image.height*t,style=["font-size:1px;","padding:".concat(Math.floor(l/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(l,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(l,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),style]}var Kt={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function Jt(e){return"string"==typeof e?Kt[e.toUpperCase()]||Kt.WHITE:e}function Qt(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e))){var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ti(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),o=Object.getOwnPropertyNames(r),l=Qt(o);try{var c=function(){var r=t.value;"function"==typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(l.s();!(t=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}}function ii(e,t){if(!e)throw new Error(t||"Assertion failed")}var ni=n(92);function ri(){var e;if(Gt&&ni.b.performance)e=ni.b.performance.now();else if(ni.a.hrtime){var t=ni.a.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var oi={debug:Gt&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},ai={enabled:!0,level:0};function si(){}var ui={},ci={once:!0};function di(table){for(var e in table)for(var title in table[e])return title||"untitled";return"empty"}var fi,hi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;Object(Wt.a)(this,e),this.id=n,this.VERSION=qt,this._startTs=ri(),this._deltaTs=ri(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new Yt("__probe-".concat(this.id,"__"),ai),this.userData={},this.timeStamp("".concat(this.id," started")),ti(this),Object.seal(this)}return Object(Ht.a)(e,[{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((ri()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((ri()-this._deltaTs).toPrecision(10))}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"assert",value:function(e,t){ii(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,oi.warn,arguments,ci)}},{key:"error",value:function(e){return this._getLogFunction(0,e,oi.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,oi.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,oi.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){return this._getLogFunction(e,t,oi.debug||oi.info,arguments,ci)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||si,n&&[n],{tag:di(t)}):si}},{key:"image",value:function(e){var t=e.logLevel,r=e.priority,o=e.image,l=e.message,c=void 0===l?"":l,d=e.scale,f=void 0===d?1:d;return this._shouldLog(t||r)?Gt?function(e){var image=e.image,t=e.message,n=void 0===t?"":t,r=e.scale,o=void 0===r?1:r;if("string"==typeof image){var img=new Image;return img.onload=function(){var e,t=Xt(img,n,o);(e=console).log.apply(e,Object(Vt.a)(t))},img.src=image,si}var element=image.nodeName||"";if("img"===element.toLowerCase()){var l;return(l=console).log.apply(l,Object(Vt.a)(Xt(image,n,o))),si}if("canvas"===element.toLowerCase()){var c=new Image;return c.onload=function(){var e;return(e=console).log.apply(e,Object(Vt.a)(Xt(c,n,o)))},c.src=image.toDataURL(),si}return si}({image:o,message:c,scale:f}):function(e){var image=e.image,t=(e.message,e.scale),r=void 0===t?1:t,o=null;try{o=n(519)}catch(e){}if(o)return function(){return o(image,{fit:"box",width:"".concat(Math.round(80*r),"%")}).then((function(data){return console.log(data)}))};return si}({image:o,message:c,scale:f}):si}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(Object(Ut.a)({},e,t))}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||si)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=n=vi({logLevel:e,message:t,opts:n}),o=r.collapsed;return n.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(n)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||si)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=pi(e)}},{key:"_getLogFunction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(this._shouldLog(e)){var l;o=vi({logLevel:e,message:t,args:r,opts:o}),ii(n=n||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=ri();var c=o.tag||o.message;if(o.once){if(ui[c])return si;ui[c]=ri()}return t=mi(this.id,o.message,o),(l=n).bind.apply(l,[console,t].concat(Object(Vt.a)(o.args)))}return si}},{key:"level",set:function(e){this.setLevel(e)},get:function(){return this.getLevel()}},{key:"priority",set:function(e){this.level=e},get:function(){return this.level}}]),e}();function pi(e){if(!e)return 0;var t;switch(Object(Bt.a)(e)){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return ii(Number.isFinite(t)&&t>=0),t}function vi(e){var t=e.logLevel,n=e.message;e.logLevel=pi(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(e.args=r,Object(Bt.a)(t)){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());var o=Object(Bt.a)(e.message);return ii("string"===o||"object"===o),Object.assign(e,e.opts)}function mi(e,t,n){if("string"==typeof t){var time=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((c=n.total)<10?"".concat(c.toFixed(2),"ms"):c<100?"".concat(c.toFixed(1),"ms"):c<1e3?"".concat(c.toFixed(0),"ms"):"".concat((c/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(time,"  ").concat(t):"".concat(e,": ").concat(t),r=t,o=n.color,l=n.background,Gt||"string"!=typeof r||(o&&(o=Jt(o),r="[".concat(o,"m").concat(r,"[39m")),l&&(o=Jt(l),r="[".concat(l+10,"m").concat(r,"[49m"))),t=r}var r,o,l,c;return t}hi.VERSION=qt;var gi=new hi({id:"L7"}).enable(!1);gi.priority=5;var yi,bi,xi,_i,wi,ki,Si,Ci,Ti,Ei,Mi,Pi,Ai,Oi,Ii,Di,Ri,zi,Li,ji,Fi,Ni,Bi,Vi,Ui,Wi,Hi,$i,qi,Gi,Zi,Yi,Xi,Ki,Ji,Qi=Object(l.injectable)()(fi=function(){function e(){y()(this,e)}return _()(e,[{key:"error",value:function(e){gi.error(e)()}},{key:"warn",value:function(e){gi.probe(1,e)()}},{key:"info",value:function(e){gi.info(3,e)()}},{key:"debug",value:function(e){gi.probe(4,e)()}}]),e}())||fi,en=n(36),tn=n(202),nn=n.n(tn),rn=(window.document.documentElement.style,0);function on(e){var t=e;if("string"==typeof e&&(t=document.getElementById(e)),t){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(rn++),n.classList.add("l7-scene"),t.appendChild(n),n}return null}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var sn=(yi=Object(l.injectable)(),bi=Object(l.inject)(f.a.SceneID),xi=Object(l.inject)(f.a.IIconService),_i=Object(l.inject)(f.a.IFontService),wi=Object(l.inject)(f.a.IControlService),ki=Object(l.inject)(f.a.ILogService),Si=Object(l.inject)(f.a.IGlobalConfigService),Ci=Object(l.inject)(f.a.IMapService),Ti=Object(l.inject)(f.a.ICoordinateSystemService),Ei=Object(l.inject)(f.a.IRendererService),Mi=Object(l.inject)(f.a.ILayerService),Pi=Object(l.inject)(f.a.ICameraService),Ai=Object(l.inject)(f.a.IInteractionService),Oi=Object(l.inject)(f.a.IPickingService),Ii=Object(l.inject)(f.a.IShaderModuleService),Di=Object(l.inject)(f.a.IMarkerService),Ri=Object(l.inject)(f.a.IPopupService),yi((Li=function(e){U()(r,e);var t,n=an(r);function r(){var e;return y()(this,r),(e=n.call(this)).destroyed=!1,e.loaded=!1,be()(e,"id",ji,Be()(e)),be()(e,"iconService",Fi,Be()(e)),be()(e,"fontService",Ni,Be()(e)),be()(e,"controlService",Bi,Be()(e)),be()(e,"logger",Vi,Be()(e)),be()(e,"configService",Ui,Be()(e)),be()(e,"map",Wi,Be()(e)),be()(e,"coordinateSystemService",Hi,Be()(e)),be()(e,"rendererService",$i,Be()(e)),be()(e,"layerService",qi,Be()(e)),be()(e,"cameraService",Gi,Be()(e)),be()(e,"interactionService",Zi,Be()(e)),be()(e,"pickingService",Yi,Be()(e)),be()(e,"shaderModuleService",Xi,Be()(e)),be()(e,"markerService",Ki,Be()(e)),be()(e,"popupService",Ji,Be()(e)),e.inited=!1,e.initPromise=void 0,e.rendering=!1,e.$container=void 0,e.canvas=void 0,e.markerContainer=void 0,e.hooks=void 0,e.handleWindowResized=function(){e.emit("resize"),e.$container&&(e.initContainer(),w.b.triggerResize(),e.coordinateSystemService.needRefresh=!0,e.render())},e.handleMapCameraChanged=function(t){e.cameraService.update(t),e.render()},e.hooks={init:new en.a},e}return _()(r,[{key:"init",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",ut()(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),e()})),t.map.init()}));case 2:t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(We.a.Drag,t.addSceneEvent.bind(t)),t.logger.debug("map ".concat(t.id," loaded"));case 10:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",ut()(at.a.mark((function e(){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=on(t.configService.getSceneConfig(t.id).id||""),t.$container=n,!n){e.next=11;break}return t.canvas=w.b.create("canvas","",n),t.setCanvas(),e.next=7,t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id));case 7:nn()(t.$container,t.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(t.handleWindowResized),e.next=12;break;case 11:t.logger.error("容器 id 不存在");case 12:t.pickingService.init(t.id),t.logger.debug("scene ".concat(t.id," renderer loaded"));case 14:case"end":return e.stop()}}),e)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(e){this.logger.debug("add layer ".concat(e.name," to scene ").concat(this.id)),this.layerService.add(e),this.render()}},{key:"render",value:(t=ut()(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rendering&&!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.rendering=!0,this.inited){e.next=13;break}return e.next=6,this.initPromise;case 6:this.destroyed&&this.destroy(),this.logger.info(" render inited"),this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 13:this.layerService.renderLayers(),this.logger.debug("scene ".concat(this.id," render")),this.rendering=!1;case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(e){var t,n=null===(t=this.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];return this.render(),"jpg"===e?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png")}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var e=this.$container.parentElement;null!==e&&(this.markerContainer=w.b.create("div","l7-marker-container",e))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){this.inited?(this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.removeAllListeners(),this.inited=!1,Object(tn.unbind)(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)):this.destroyed=!0}},{key:"initContainer",value:function(){var e,t,n=window.devicePixelRatio,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,o=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,canvas=this.canvas;canvas&&(canvas.width=r*n,canvas.height=o*n,canvas.style.width="".concat(r,"px"),canvas.style.height="".concat(o,"px")),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*o})}},{key:"setCanvas",value:function(){var e,t,n=window.devicePixelRatio,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,o=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,canvas=this.canvas;canvas.width=r*n,canvas.height=o*n,canvas.style.width="".concat(r,"px"),canvas.style.height="".concat(o,"px")}},{key:"addSceneEvent",value:function(e){this.emit(e.type,e)}}]),r}(r.EventEmitter),ji=_e()(Li.prototype,"id",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi=_e()(Li.prototype,"iconService",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=_e()(Li.prototype,"fontService",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=_e()(Li.prototype,"controlService",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=_e()(Li.prototype,"logger",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ui=_e()(Li.prototype,"configService",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=_e()(Li.prototype,"map",[Ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hi=_e()(Li.prototype,"coordinateSystemService",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=_e()(Li.prototype,"rendererService",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qi=_e()(Li.prototype,"layerService",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=_e()(Li.prototype,"cameraService",[Pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zi=_e()(Li.prototype,"interactionService",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=_e()(Li.prototype,"pickingService",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=_e()(Li.prototype,"shaderModuleService",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=_e()(Li.prototype,"markerService",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ji=_e()(Li.prototype,"popupService",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zi=Li))||zi),un=n(152),ln=n.n(un);var cn,dn=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function fn(content){var e={};return{content:content=content.replace(dn,(function(t,n,r){var o=r.split(":"),l=o[0].trim(),c="";switch(o.length>1&&(c=o[1].trim()),n){case"bool":c="true"===c;break;case"float":case"int":c=Number(c);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":c=c?c.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(function(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16}return t}(n)).fill(0)}return e[l]=c,"uniform ".concat(n," ").concat(l,";\n")})),uniforms:e}}function hn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function pn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?hn(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):hn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var vn,mn,gn,yn,bn,xn,_n="#define PI 3.14159265359",wn=/precision\s+(high|low|medium)p\s+float/,kn=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Sn=Object(l.injectable)()(cn=function(){function e(){y()(this,e),this.moduleCache={},this.rawContentCache={}}return _()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:_n,fs:_n}),this.registerModule("decode",{vs:"#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",fs:""}),this.registerModule("projection",{vs:"#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n  return vector;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n  return position;\n\n  // TODO: 瓦片坐标系 & 常规世界坐标系\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}\n\n",fs:""}),this.registerModule("project",{vs:"\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n",fs:""}),this.registerModule("sdf_2d",{vs:"",fs:"/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n"}),this.registerModule("lighting",{vs:"// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",fs:""}),this.registerModule("light",{vs:"#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",fs:""}),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n",fs:"varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n"})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=t.fs,o=t.uniforms,l=fn(n),c=l.content,d=l.uniforms,f=fn(r),h=f.content,v=f.uniforms;this.rawContentCache[e]={fs:h,uniforms:pn(pn(pn({},d),v),o),vs:c}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,o=this.processModule(n,[],"vs"),l=o.content,c=o.includeList,d=this.processModule(r,[],"fs"),f=d.content,h=d.includeList,v=f,m=ln()(c.concat(h).concat(e)).reduce((function(e,n){return pn(pn({},e),t.rawContentCache[n].uniforms)}),{});return wn.test(f)||(v="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n"+f),this.moduleCache[e]={fs:v.trim(),uniforms:m,vs:l.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this;return{content:e.replace(kn,(function(e,o){var l=o.split(" ")[0].replace(/"/g,"");if(t.indexOf(l)>-1)return"";var c=r.rawContentCache[l][n];return t.push(l),r.processModule(c,t,n).content})),includeList:t}}}]),e}())||cn,Cn=n(40),Tn=n.n(Cn),En=n(44),Mn=(vn=Object(l.injectable)(),mn=Object(l.inject)(f.a.IShaderModuleService),vn((yn=function(){function e(){y()(this,e),be()(this,"shaderModuleService",bn,this),this.rendererService=void 0,this.cameraService=void 0,this.mapService=void 0,this.interactionService=void 0,this.layerService=void 0,this.config=void 0}return _()(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return En.a.Normal}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(f.a.IRendererService),this.cameraService=e.getContainer().get(f.a.ICameraService),this.mapService=e.getContainer().get(f.a.IMapService),this.interactionService=e.getContainer().get(f.a.IInteractionService),this.layerService=e.getContainer().get(f.a.ILayerService)}},{key:"render",value:function(e){}}]),e}(),bn=_e()(yn.prototype,"shaderModuleService",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=yn))||gn);function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var An,On,In,Dn,Rn,zn=Object(l.injectable)()(xn=function(e){U()(n,e);var t=Pn(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(e,t){Tn()(G()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(Mn))||xn;function Ln(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Fn,Nn,Bn,Vn,Un,Wn=(An=Object(l.injectable)(),On=Object(l.inject)(f.a.IPostProcessor),An((Dn=function(){function e(){y()(this,e),this.passes=[],be()(this,"postProcessor",Rn,this),this.layer=void 0,this.renderFlag=void 0,this.width=0,this.height=0}var t;return _()(e,[{key:"setLayer",value:function(e){this.layer=e}},{key:"setRenderFlag",value:function(e){this.renderFlag=e}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:(t=ut()(at.a.mark((function e(){var t,n,r;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ln(this.passes),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.render(this.layer);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.layer.renderModels();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))),function(){return t.apply(this,arguments)})},{key:"resize",value:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t)}},{key:"add",value:function(e,t){e.getType()===En.a.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}},{key:"insert",value:function(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),Rn=_e()(Dn.prototype,"postProcessor",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Dn))||In);function Hn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function $n(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Hn(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Hn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Gn,Zn=(Fn=Object(l.injectable)(),Nn=Object(l.inject)(f.a.ILogService),Fn((Vn=function(e){U()(n,e);var t=qn(n);function n(){var e;y()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),be()(e,"logger",Un,Be()(e)),e.pickingFBO=void 0,e.layer=void 0,e.width=0,e.height=0,e.alreadyInRendering=!1,e.pickFromPickingFBO=function(t){var n=t.x,r=t.y,o=t.lngLat,l=t.type;if(e.layer.isVisible()&&e.layer.needPick(l)){var c,d=e.rendererService,f=d.getViewportSize,h=d.readPixels,v=d.useFramebuffer,m=f(),y=m.width,x=m.height,_=e.layer.getLayerConfig(),k=_.enableHighlight,S=_.enableSelect,C=n*window.devicePixelRatio,T=r*window.devicePixelRatio;if(!(C>y||C<0||T>x||T<0))v(e.pickingFBO,(function(){var t;if(0!==(c=h({x:Math.round(C),y:Math.round(x-(r+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}))[0]||0!==c[1]||0!==c[2]){e.logger.debug("picked");var d=Object(w.l)(c),f=e.layer.getSource().getFeatureById(d),v={x:n,y:r,type:l,lngLat:o,featureId:d,feature:f};f&&(e.layer.setCurrentPickId(d),e.triggerHoverOnLayer(v))}else{var m={x:n,y:r,lngLat:o,type:null===e.layer.getCurrentPickId()?"un"+l:"mouseout",featureId:null,feature:null};e.triggerHoverOnLayer($n($n({},m),{},{type:"unpick"})),e.triggerHoverOnLayer(m),e.layer.setCurrentPickId(null)}k&&e.highlightPickedFeature(c),S&&"click"===l&&(null===(t=c)||void 0===t?void 0:t.toString())!==[0,0,0,0].toString()&&e.selectFeature(c)}))}},e}return _()(n,[{key:"getType",value:function(){return En.a.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(e,t){Tn()(G()(n.prototype),"init",this).call(this,e,t),this.layer=e;var r=this.rendererService,o=r.createTexture2D,l=r.createFramebuffer,c=(0,r.getViewportSize)(),d=c.width,f=c.height;this.pickingFBO=l({color:o({width:d,height:f,wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})}),this.interactionService.on(We.a.Hover,this.pickFromPickingFBO),this.interactionService.on(We.a.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(We.a.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(e){var t=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,o=n.useFramebuffer,l=n.clear,c=r(),d=c.width,f=c.height;this.alreadyInRendering=!0,this.width===d&&this.height===f||(this.pickingFBO.resize({width:d,height:f}),this.width=d,this.height=f),o(this.pickingFBO,(function(){l({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=t.layer.multiPassRenderer.getRenderFlag();t.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),t.layer.multiPassRenderer.setRenderFlag(n),t.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(e){this.layer.emit(e.type,e)}},{key:"highlightPickedFeature",value:function(e){var t=Q()(e,3),n=t[0],g=t[1],b=t[2];this.layer.hooks.beforeHighlight.call([n,g,b]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(e){var t=Q()(e,3),n=t[0],g=t[1],b=t[2];this.layer.hooks.beforeSelect.call([n,g,b]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(e){var t=e.featureId,n=Object(w.n)(t);this.selectFeature(new Uint8Array(n))}},{key:"highlightFeatureHandle",value:function(e){var t=e.featureId,n=Object(w.n)(t);this.highlightPickedFeature(new Uint8Array(n))}}]),n}(Mn),Un=_e()(Vn.prototype,"logger",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=Vn))||Bn),Yn=n(35);function Xn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Kn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Xn(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Xn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Qn,er=Object(l.injectable)()(Gn=function(e){U()(n,e);var t=Jn(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),l=o.width,c=o.height;return{vs:t,fs:n,uniforms:Kn(Kn({},r),{},{u_ViewportSize:[l,c]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Rt()(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}]),n}(Yn.a))||Gn;function ir(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function nr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ir(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ir(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var or,ar=Object(l.injectable)()(Qn=function(e){U()(n,e);var t=rr(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}"});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),l=o.width,c=o.height;return{vs:t,fs:n,uniforms:nr(nr({},r),{},{u_ViewportSize:[l,c]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Rt()(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}]),n}(Yn.a))||Qn;function sr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ur(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?sr(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):sr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var cr,dr=Object(l.injectable)()(or=function(e){U()(n,e);var t=lr(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}'});var e=this.shaderModuleService.getModule("colorhalftone-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),l=o.width,c=o.height;return{vs:t,fs:n,uniforms:ur(ur({},r),{},{u_ViewportSize:[l,c]})}}}]),n}(Yn.a))||or;function fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var pr,vr=Object(l.injectable)()(cr=function(e){U()(n,e);var t=fr(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}"}),this.shaderModuleService.getModule("copy-pass")}}]),n}(Yn.a))||cr;function mr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function gr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?mr(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):mr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var xr,_r=Object(l.injectable)()(pr=function(e){U()(n,e);var t=yr(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var e=this.shaderModuleService.getModule("hexagonalpixelate-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),l=o.width,c=o.height;return{vs:t,fs:n,uniforms:gr(gr({},r),{},{u_ViewportSize:[l,c]})}}}]),n}(Yn.a))||pr;function wr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function kr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?wr(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):wr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Cr,Tr=Object(l.injectable)()(xr=function(e){U()(n,e);var t=Sr(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}"});var e=this.shaderModuleService.getModule("ink-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),l=o.width,c=o.height;return{vs:t,fs:n,uniforms:kr(kr({},r),{},{u_ViewportSize:[l,c]})}}}]),n}(Yn.a))||xr;function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Mr,Pr=Object(l.injectable)()(Cr=function(e){U()(n,e);var t=Er(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}"}),this.shaderModuleService.getModule("noise-pass")}}]),n}(Yn.a))||Cr;function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Or,Ir,Dr,Rr,zr,Lr,jr,Fr=Object(l.injectable)()(Mr=function(e){U()(n,e);var t=Ar(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:"varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}"}),this.shaderModuleService.getModule("sepia-pass")}}]),n}(Yn.a))||Mr,Nr=(Or=Object(l.injectable)(),Ir=Object(l.inject)(f.a.IRendererService),Dr=Object(l.postConstruct)(),Or((zr=function(){function e(){y()(this,e),be()(this,"rendererService",Lr,this),this.passes=[],this.readFBO=void 0,this.writeFBO=void 0}var t;return _()(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:(t=ut()(at.a.mark((function e(t){var i,n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<this.passes.length)){e.next=10;break}return(n=this.passes[i]).setRenderToScreen(this.isLastEnabledPass(i)),e.next=6,n.render(t);case 6:i!==this.passes.length-1&&this.swap();case 7:i++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"resize",value:function(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}},{key:"add",value:function(e,t,n){e.init(t,n),this.passes.push(e)}},{key:"insert",value:function(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}},{key:"getPostProcessingPassByName",value:function(e){return this.passes.find((function(p){return p.getName()===e}))}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(e){for(var i=e+1;i<this.passes.length;i++)if(this.passes[i].isEnabled())return!1;return!0}},{key:"swap",value:function(){var e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}]),e}(),Lr=_e()(zr.prototype,"rendererService",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e()(zr.prototype,"init",[Dr],Object.getOwnPropertyDescriptor(zr.prototype,"init"),zr.prototype),Rr=zr))||Rr);function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Vr,Ur,Wr,Hr,$r,qr,Gr,Zr=Object(l.injectable)()(jr=function(e){U()(n,e);var t=Br(n);function n(){return y()(this,n),t.apply(this,arguments)}return _()(n,[{key:"getType",value:function(){return En.a.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(e,t){Tn()(G()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(e){var t=this.rendererService,n=t.useFramebuffer,r=t.clear;n(null,(function(){r({color:[0,0,0,0],depth:1,stencil:0}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(Mn))||jr;function Yr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Xr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Yr(Object(source),!0).forEach((function(t){v()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Yr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G()(e);if(t){var o=G()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H()(this,n)}}var Jr="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}";function Qr(e,base){for(var t=0,n=1/base,i=e;i>0;)t+=n*(i%base),i=Math.floor(i/base),n/=base;return t}var eo=1,to=(Vr=Object(l.injectable)(),Ur=Object(l.inject)(f.a.IShaderModuleService),Wr=Object(l.inject)(f.a.ILogService),Vr(($r=function(e){U()(n,e);var t=Kr(n);function n(){var e;y()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),be()(e,"shaderModuleService",qr,Be()(e)),be()(e,"logger",Gr,Be()(e)),e.haltonSequence=[],e.accumulatingId=0,e.frame=0,e.timer=void 0,e.sampleRenderTarget=void 0,e.prevRenderTarget=void 0,e.outputRenderTarget=void 0,e.copyRenderTarget=void 0,e.blendModel=void 0,e.outputModel=void 0,e.copyModel=void 0,e}return _()(n,[{key:"getType",value:function(){return En.a.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(e,t){Tn()(G()(n.prototype),"init",this).call(this,e,t);var r=this.rendererService,o=r.createFramebuffer,l=r.createTexture2D;this.sampleRenderTarget=o({color:l({width:1,height:1,wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})}),this.prevRenderTarget=o({color:l({width:1,height:1,wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})}),this.outputRenderTarget=o({color:l({width:1,height:1,wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})}),this.copyRenderTarget=o({color:l({width:1,height:1,wrapS:lt.a.CLAMP_TO_EDGE,wrapT:lt.a.CLAMP_TO_EDGE})});for(var i=0;i<30;i++)this.haltonSequence.push([Qr(i,2),Qr(i,3)]);this.blendModel=this.createTriangleModel("blend-pass","uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n"),this.outputModel=this.createTriangleModel("copy-pass",Jr,{blend:{enable:!0,func:{srcRGB:lt.a.ONE,dstRGB:lt.a.ONE_MINUS_SRC_ALPHA,srcAlpha:lt.a.ONE,dstAlpha:lt.a.ONE_MINUS_SRC_ALPHA},equation:{rgb:lt.a.FUNC_ADD,alpha:lt.a.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",Jr)}},{key:"render",value:function(e){var t=this,n=this.rendererService,r=n.clear,o=n.getViewportSize,l=n.useFramebuffer,c=o(),d=c.width,f=c.height;this.sampleRenderTarget.resize({width:d,height:f}),this.prevRenderTarget.resize({width:d,height:f}),this.outputRenderTarget.resize({width:d,height:f}),this.copyRenderTarget.resize({width:d,height:f}),this.resetFrame(),this.stopAccumulating();var h=e.multiPassRenderer.getPostProcessor().getReadFBO();l(h,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:h}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}));this.accumulatingId=eo++,this.timer=window.setTimeout((function(){!function n(r){t.accumulatingId&&r===t.accumulatingId&&(t.isFinished()||(t.doRender(e),requestAnimationFrame((function(){n(r)}))))}(t.accumulatingId)}),50)}},{key:"doRender",value:function(e){var t=this;this.logger.debug("accumulatingId: ".concat(this.accumulatingId));var n=this.rendererService,r=n.clear,o=n.getViewportSize,l=n.useFramebuffer,c=o(),d=c.width,f=c.height,h=e.getLayerConfig().jitterScale,v=void 0===h?1:h,m=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*m[0]-1)/d*v,(2*m[1]-1)/f*v),e.multiPassRenderer.setRenderFlag(!1),e.hooks.beforeRender.call(),l(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.sampleRenderTarget}),e.render()})),e.hooks.afterRender.call(),e.multiPassRenderer.setRenderFlag(!0);var y=e.getLayerConfig();l(this.outputRenderTarget,(function(){t.blendModel.draw({uniforms:{u_opacity:y.opacity||1,u_MixRatio:0===t.frame?1:.9,u_Diffuse1:t.sampleRenderTarget,u_Diffuse2:0===t.frame?e.multiPassRenderer.getPostProcessor().getReadFBO():t.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(l(this.copyRenderTarget,(function(){t.outputModel.draw({uniforms:{u_Texture:t.outputRenderTarget}})})),l(e.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){t.copyModel.draw({uniforms:{u_Texture:t.copyRenderTarget}})})),e.multiPassRenderer.getPostProcessor().render(e));var x=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=x,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(e,t,n){this.shaderModuleService.registerModule(e,{vs:"attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",fs:t});var r=this.shaderModuleService.getModule(e),o=r.vs,l=r.fs,c=r.uniforms,d=this.rendererService,f=d.createAttribute,h=d.createBuffer;return(0,d.createModel)(Xr({vs:o,fs:l,attributes:{a_Position:f({buffer:h({data:[-4,-4,4,-4,0,4],type:lt.a.FLOAT}),size:2})},uniforms:Xr({},c),depth:{enable:!1},count:3},n))}}]),n}(Mn),qr=_e()($r.prototype,"shaderModuleService",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr=_e()($r.prototype,"logger",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=$r))||Hr),io=new l.Container;io.bind(f.a.IGlobalConfigService).to(ge).inSingletonScope(),io.bind(f.a.IShaderModuleService).to(Sn).inSingletonScope(),io.bind(f.a.ILogService).to(Qi).inSingletonScope(),Object(l.decorate)(Object(l.injectable)(),r.EventEmitter),io.bind(f.a.IEventEmitter).to(r.EventEmitter);var no=d()(io,!1),ro=function(e){var t=no.lazyInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}},oo=function(e){var t=no.lazyMultiInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}},ao=(t.c=io,0);function so(){var e=new l.Container;return e.parent=io,e.bind(f.a.SceneID).toConstantValue("".concat(ao++)),e.bind(f.a.ILayerService).to(Mt).inSingletonScope(),e.bind(f.a.ISceneService).to(sn).inSingletonScope(),e.bind(f.a.ICameraService).to(te).inSingletonScope(),e.bind(f.a.ICoordinateSystemService).to(Fe).inSingletonScope(),e.bind(f.a.IInteractionService).to(nt).inSingletonScope(),e.bind(f.a.IPickingService).to(Tt).inSingletonScope(),e.bind(f.a.IControlService).to(se).inSingletonScope(),e.bind(f.a.IMarkerService).to(ue).inSingletonScope(),e.bind(f.a.IIconService).to(K).inSingletonScope(),e.bind(f.a.IFontService).to(B).inSingletonScope(),e.bind(f.a.IPopupService).to(le).inSingletonScope(),e.bind(f.a.INormalPass).to(zn).whenTargetNamed("clear"),e.bind(f.a.INormalPass).to(Zn).whenTargetNamed("pixelPicking"),e.bind(f.a.INormalPass).to(Zr).whenTargetNamed("render"),e.bind(f.a.INormalPass).to(to).whenTargetNamed("taa"),e.bind(f.a.IFactoryNormalPass).toFactory((function(e){return function(t){return e.container.getNamed(f.a.INormalPass,t)}})),e.bind(f.a.IPostProcessingPass).to(vr).whenTargetNamed("copy"),e.bind(f.a.IPostProcessingPass).to(er).whenTargetNamed("blurH"),e.bind(f.a.IPostProcessingPass).to(ar).whenTargetNamed("blurV"),e.bind(f.a.IPostProcessingPass).to(Pr).whenTargetNamed("noise"),e.bind(f.a.IPostProcessingPass).to(Fr).whenTargetNamed("sepia"),e.bind(f.a.IPostProcessingPass).to(dr).whenTargetNamed("colorHalftone"),e.bind(f.a.IPostProcessingPass).to(_r).whenTargetNamed("hexagonalPixelate"),e.bind(f.a.IPostProcessingPass).to(Tr).whenTargetNamed("ink"),e.bind(f.a.IFactoryPostProcessingPass).toFactory((function(e){return function(t){var n=e.container.getNamed(f.a.IPostProcessingPass,t);return n.setName(t),n}})),e}function uo(e){var t=new l.Container;return t.parent=e,t.bind(f.a.IStyleAttributeService).to(Nt).inSingletonScope(),t.bind(f.a.IMultiPassRenderer).to(Wn).inSingletonScope(),t.bind(f.a.IPostProcessor).to(Nr).inSingletonScope(),t}},,function(e,t,n){"use strict";var r=n(38),o=n(335),l=n(323),c=n(326),d=n(154),f=n(327),h=n(336),v=n(157),m=n(329),y=n(330),x=n(337),_=n(331),w=n(332);n.d(t,"getTransform",(function(){return r.b})),n.d(t,"getParser",(function(){return r.a}));n(298);t.default=h.a,Object(r.c)("geojson",l.a),Object(r.c)("image",c.a),Object(r.c)("csv",o.a),Object(r.c)("json",d.a),Object(r.c)("raster",f.a),Object(r.d)("cluster",v.a),Object(r.d)("filter",m.a),Object(r.d)("join",_.a),Object(r.d)("map",w.a),Object(r.d)("grid",y.a),Object(r.d)("hexagon",x.a)},function(e,t,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,l=r(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?e(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=r},function(e,t,n){var r;!function(o,l,c,d){"use strict";var f,h=["","webkit","Moz","MS","ms","o"],v=l.createElement("div"),m=Math.round,y=Math.abs,x=Date.now;function _(e,t,n){return setTimeout(M(e,n),t)}function w(e,t,n){return!!Array.isArray(e)&&(k(e,n[t],n),!0)}function k(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function S(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",l=o.console&&(o.console.warn||o.console.log);return l&&l.call(o.console,r,n),e.apply(this,arguments)}}f="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(e),t=1;t<arguments.length;t++){var source=arguments[t];if(null!=source)for(var n in source)source.hasOwnProperty(n)&&(output[n]=source[n])}return output}:Object.assign;var C=S((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),T=S((function(e,t){return C(e,t,!0)}),"merge","Use `assign`.");function E(e,base,t){var n,r=base.prototype;(n=e.prototype=Object.create(r)).constructor=e,n._super=r,t&&f(n,t)}function M(e,t){return function(){return e.apply(t,arguments)}}function P(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function A(e,t){return void 0===e?t:e}function O(e,t,n){k(z(t),(function(t){e.addEventListener(t,n,!1)}))}function I(e,t,n){k(z(t),(function(t){e.removeEventListener(t,n,!1)}))}function D(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function R(e,t){return e.indexOf(t)>-1}function z(e){return e.trim().split(/\s+/g)}function L(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function j(e){return Array.prototype.slice.call(e,0)}function F(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var l=t?e[i][t]:e[i];L(o,l)<0&&r.push(e[i]),o[i]=l,i++}return n&&(r=t?r.sort((function(a,b){return a[t]>b[t]})):r.sort()),r}function N(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<h.length;){if((r=(n=h[i])?n+o:t)in e)return r;i++}}var B=1;function V(element){var e=element.ownerDocument||element;return e.defaultView||e.parentWindow||o}var U="ontouchstart"in o,W=void 0!==N(o,"PointerEvent"),H=U&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),$=["x","y"],G=["clientX","clientY"];function Z(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){P(e.options.enable,[e])&&n.handler(t)},this.init()}function Y(e,t,input){var n=input.pointers.length,r=input.changedPointers.length,o=1&t&&n-r==0,l=12&t&&n-r==0;input.isFirst=!!o,input.isFinal=!!l,o&&(e.session={}),input.eventType=t,function(e,input){var t=e.session,n=input.pointers,r=n.length;t.firstInput||(t.firstInput=X(input));r>1&&!t.firstMultiple?t.firstMultiple=X(input):1===r&&(t.firstMultiple=!1);var o=t.firstInput,l=t.firstMultiple,c=l?l.center:o.center,d=input.center=K(n);input.timeStamp=x(),input.deltaTime=input.timeStamp-o.timeStamp,input.angle=te(c,d),input.distance=ee(c,d),function(e,input){var t=input.center,n=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==input.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:t.x,y:t.y});input.deltaX=r.x+(t.x-n.x),input.deltaY=r.y+(t.y-n.y)}(t,input),input.offsetDirection=Q(input.deltaX,input.deltaY);var f=J(input.deltaTime,input.deltaX,input.deltaY);input.overallVelocityX=f.x,input.overallVelocityY=f.y,input.overallVelocity=y(f.x)>y(f.y)?f.x:f.y,input.scale=l?(h=l.pointers,v=n,ee(v[0],v[1],G)/ee(h[0],h[1],G)):1,input.rotation=l?function(e,t){return te(t[1],t[0],G)+te(e[1],e[0],G)}(l.pointers,n):0,input.maxPointers=t.prevInput?input.pointers.length>t.prevInput.maxPointers?input.pointers.length:t.prevInput.maxPointers:input.pointers.length,function(e,input){var t,n,r,o,l=e.lastInterval||input,c=input.timeStamp-l.timeStamp;if(8!=input.eventType&&(c>25||void 0===l.velocity)){var d=input.deltaX-l.deltaX,f=input.deltaY-l.deltaY,h=J(c,d,f);n=h.x,r=h.y,t=y(h.x)>y(h.y)?h.x:h.y,o=Q(d,f),e.lastInterval=input}else t=l.velocity,n=l.velocityX,r=l.velocityY,o=l.direction;input.velocity=t,input.velocityX=n,input.velocityY=r,input.direction=o}(t,input);var h,v;var m=e.element;D(input.srcEvent.target,m)&&(m=input.srcEvent.target);input.target=m}(e,input),e.emit("hammer.input",input),e.recognize(input),e.session.prevInput=input}function X(input){for(var e=[],i=0;i<input.pointers.length;)e[i]={clientX:m(input.pointers[i].clientX),clientY:m(input.pointers[i].clientY)},i++;return{timeStamp:x(),pointers:e,center:K(e),deltaX:input.deltaX,deltaY:input.deltaY}}function K(e){var t=e.length;if(1===t)return{x:m(e[0].clientX),y:m(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:m(n/t),y:m(r/t)}}function J(e,t,n){return{x:t/e||0,y:n/e||0}}function Q(e,t){return e===t?1:y(e)>=y(t)?e<0?2:4:t<0?8:16}function ee(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function te(e,t,n){n||(n=$);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}Z.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(V(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(V(this.element),this.evWin,this.domHandler)}};var ie={mousedown:1,mousemove:2,mouseup:4};function ne(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Z.apply(this,arguments)}E(ne,Z,{handler:function(e){var t=ie[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var re={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},oe={2:"touch",3:"pen",4:"mouse",5:"kinect"},ae="pointerdown",se="pointermove pointerup pointercancel";function ue(){this.evEl=ae,this.evWin=se,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(ae="MSPointerDown",se="MSPointerMove MSPointerUp MSPointerCancel"),E(ue,Z,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=re[r],l=oe[e.pointerType]||e.pointerType,c="touch"==l,d=L(t,e.pointerId,"pointerId");1&o&&(0===e.button||c)?d<0&&(t.push(e),d=t.length-1):12&o&&(n=!0),d<0||(t[d]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:l,srcEvent:e}),n&&t.splice(d,1))}});var le={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ce(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Z.apply(this,arguments)}function de(e,t){var n=j(e.touches),r=j(e.changedTouches);return 12&t&&(n=F(n.concat(r),"identifier",!0)),[n,r]}E(ce,Z,{handler:function(e){var t=le[e.type];if(1===t&&(this.started=!0),this.started){var n=de.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function he(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Z.apply(this,arguments)}function pe(e,t){var n=j(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,l=j(e.changedTouches),c=[],d=this.target;if(o=n.filter((function(e){return D(e.target,d)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<l.length;)r[l[i].identifier]&&c.push(l[i]),12&t&&delete r[l[i].identifier],i++;return c.length?[F(o.concat(c),"identifier",!0),c]:void 0}E(he,Z,{handler:function(e){var t=fe[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function ve(){Z.apply(this,arguments);var e=M(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new ne(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function me(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ge.call(this,t)):12&e&&ge.call(this,t)}function ge(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var i=r.indexOf(n);i>-1&&r.splice(i,1)}),2500)}}function ye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),l=Math.abs(n-r.y);if(o<=25&&l<=25)return!0}return!1}E(ve,Z,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)me.call(this,t,n);else if(o&&ye.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=N(v.style,"touchAction"),xe=void 0!==be,_e=function(){if(!xe)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();function we(e,t){this.manager=e,this.set(t)}we.prototype={set:function(e){"compute"==e&&(e=this.compute()),xe&&this.manager.element.style&&_e[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return k(this.manager.recognizers,(function(t){P(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(R(e,"none"))return"none";var t=R(e,"pan-x"),n=R(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(R(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(input){var e=input.srcEvent,t=input.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=R(n,"none")&&!_e.none,o=R(n,"pan-y")&&!_e["pan-y"],l=R(n,"pan-x")&&!_e["pan-x"];if(r){var c=1===input.pointers.length,d=input.distance<2,f=input.deltaTime<250;if(c&&d&&f)return}if(!l||!o)return r||o&&6&t||l&&24&t?this.preventSrc(e):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function ke(e){this.options=f({},this.defaults,e||{}),this.id=B++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Se(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ce(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Te(e,t){var n=t.manager;return n?n.get(e):e}function Ee(){ke.apply(this,arguments)}function Me(){Ee.apply(this,arguments),this.pX=null,this.pY=null}function Pe(){Ee.apply(this,arguments)}function Ae(){ke.apply(this,arguments),this._timer=null,this._input=null}function Oe(){Ee.apply(this,arguments)}function Ie(){Ee.apply(this,arguments)}function De(){ke.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Re(element,e){return(e=e||{}).recognizers=A(e.recognizers,Re.defaults.preset),new ze(element,e)}ke.prototype={defaults:{},set:function(e){return f(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(w(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Te(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return w(e,"dropRecognizeWith",this)||(e=Te(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(w(e,"requireFailure",this))return this;var t=this.requireFail;return-1===L(t,e=Te(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(w(e,"dropRequireFailure",this))return this;e=Te(e,this);var t=L(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(input){var e=this,t=this.state;function n(t){e.manager.emit(t,input)}t<8&&n(e.options.event+Se(t)),n(e.options.event),input.additionalEvent&&n(input.additionalEvent),t>=8&&n(e.options.event+Se(t))},tryEmit:function(input){if(this.canEmit())return this.emit(input);this.state=32},canEmit:function(){for(var i=0;i<this.requireFail.length;){if(!(33&this.requireFail[i].state))return!1;i++}return!0},recognize:function(e){var t=f({},e);if(!P(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},E(Ee,ke,{defaults:{pointers:1},attrTest:function(input){var e=this.options.pointers;return 0===e||input.pointers.length===e},process:function(input){var e=this.state,t=input.eventType,n=6&e,r=this.attrTest(input);return n&&(8&t||!r)?16|e:n||r?4&t?8|e:2&e?4|e:2:32}}),E(Me,Ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(input){var e=this.options,t=!0,n=input.distance,r=input.direction,o=input.deltaX,l=input.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,t=o!=this.pX,n=Math.abs(input.deltaX)):(r=0===l?1:l<0?8:16,t=l!=this.pY,n=Math.abs(input.deltaY))),input.direction=r,t&&n>e.threshold&&r&e.direction},attrTest:function(input){return Ee.prototype.attrTest.call(this,input)&&(2&this.state||!(2&this.state)&&this.directionTest(input))},emit:function(input){this.pX=input.deltaX,this.pY=input.deltaY;var e=Ce(input.direction);e&&(input.additionalEvent=this.options.event+e),this._super.emit.call(this,input)}}),E(Pe,Ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.scale-1)>this.options.threshold||2&this.state)},emit:function(input){if(1!==input.scale){var e=input.scale<1?"in":"out";input.additionalEvent=this.options.event+e}this._super.emit.call(this,input)}}),E(Ae,ke,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(input){var e=this.options,t=input.pointers.length===e.pointers,n=input.distance<e.threshold,r=input.deltaTime>e.time;if(this._input=input,!n||!t||12&input.eventType&&!r)this.reset();else if(1&input.eventType)this.reset(),this._timer=_((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&input.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(input){8===this.state&&(input&&4&input.eventType?this.manager.emit(this.options.event+"up",input):(this._input.timeStamp=x(),this.manager.emit(this.options.event,this._input)))}}),E(Oe,Ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(input){return this._super.attrTest.call(this,input)&&(Math.abs(input.rotation)>this.options.threshold||2&this.state)}}),E(Ie,Ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Me.prototype.getTouchAction.call(this)},attrTest:function(input){var e,t=this.options.direction;return 30&t?e=input.overallVelocity:6&t?e=input.overallVelocityX:24&t&&(e=input.overallVelocityY),this._super.attrTest.call(this,input)&&t&input.offsetDirection&&input.distance>this.options.threshold&&input.maxPointers==this.options.pointers&&y(e)>this.options.velocity&&4&input.eventType},emit:function(input){var e=Ce(input.offsetDirection);e&&this.manager.emit(this.options.event+e,input),this.manager.emit(this.options.event,input)}}),E(De,ke,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(input){var e=this.options,t=input.pointers.length===e.pointers,n=input.distance<e.threshold,r=input.deltaTime<e.time;if(this.reset(),1&input.eventType&&0===this.count)return this.failTimeout();if(n&&r&&t){if(4!=input.eventType)return this.failTimeout();var o=!this.pTime||input.timeStamp-this.pTime<e.interval,l=!this.pCenter||ee(this.pCenter,input.center)<e.posThreshold;if(this.pTime=input.timeStamp,this.pCenter=input.center,l&&o?this.count+=1:this.count=1,this._input=input,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=_((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=_((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Re.VERSION="2.0.7",Re.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Oe,{enable:!1}],[Pe,{enable:!1},["rotate"]],[Ie,{direction:6}],[Me,{direction:6},["swipe"]],[De],[De,{event:"doubletap",taps:2},["tap"]],[Ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ze(element,e){var t;this.options=f({},Re.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||element,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=element,this.input=new((t=this).options.inputClass||(W?ue:H?he:U?ve:ne))(t,Y),this.touchAction=new we(this,this.options.touchAction),Le(this,!0),k(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Le(e,t){var n,element=e.element;element.style&&(k(e.options.cssProps,(function(r,o){n=N(element.style,o),t?(e.oldCssProps[n]=element.style[n],element.style[n]=r):element.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ze.prototype={set:function(e){return f(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&8&o.state)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&14&n.state&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof ke)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(w(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(w(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=L(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return k(z(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return k(z(e),(function(e){t?n[e]&&n[e].splice(L(n[e],t),1):delete n[e]})),this}},emit:function(e,data){this.options.domEvents&&function(e,data){var t=l.createEvent("Event");t.initEvent(e,!0,!0),t.gesture=data,data.target.dispatchEvent(t)}(e,data);var t=this.handlers[e]&&this.handlers[e].slice();if(t&&t.length){data.type=e,data.preventDefault=function(){data.srcEvent.preventDefault()};for(var i=0;i<t.length;)t[i](data),i++}},destroy:function(){this.element&&Le(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},f(Re,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ze,Input:Z,TouchAction:we,TouchInput:he,MouseInput:ne,PointerEventInput:ue,TouchMouseInput:ve,SingleTouchInput:ce,Recognizer:ke,AttrRecognizer:Ee,Tap:De,Pan:Me,Swipe:Ie,Pinch:Pe,Rotate:Oe,Press:Ae,on:O,off:I,each:k,merge:T,extend:C,assign:f,inherit:E,bindFn:M,prefixed:N}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Re,void 0===(r=function(){return Re}.call(t,n,t,e))||(e.exports=r)}(window,document)},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48);function o(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function l(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=o,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",o=n(e,t);return 0!==o.length&&(r="\nRegistered bindings:",o.forEach((function(e){var t="Object";null!==e.implementationType&&(t=l(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(function e(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||e(t.parentRequest,n))}(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=o(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),o=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==o&&o.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=l},function(e,t,n){var r=n(262),o=n(185);e.exports=function(source,e,object,t){var n=!object;object||(object={});for(var l=-1,c=e.length;++l<c;){var d=e[l],f=t?t(object[d],source[d],d,object,source):void 0;void 0===f&&(f=source[d]),n?o(object,d,f):r(object,d,f)}return object}},function(e,t,n){var r=n(263),o=n(504),l=n(144);e.exports=function(object){return l(object)?r(object,!0):o(object)}},function(e,t){e.exports=function(e,t){t||(t=document);var head=t.head||t.getElementsByTagName("head")[0];if(!head){head=t.createElement("head");var body=t.body||t.getElementsByTagName("body")[0];body?body.parentNode.insertBefore(head,body):t.documentElement.appendChild(head)}var style=t.createElement("style");style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(t.createTextNode(e));return head.appendChild(style),style}},,function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return o})),n.d(t,"clone",(function(){return l})),n.d(t,"fromValues",(function(){return c})),n.d(t,"copy",(function(){return d})),n.d(t,"set",(function(){return f})),n.d(t,"add",(function(){return h})),n.d(t,"subtract",(function(){return v})),n.d(t,"multiply",(function(){return m})),n.d(t,"divide",(function(){return y})),n.d(t,"ceil",(function(){return x})),n.d(t,"floor",(function(){return _})),n.d(t,"min",(function(){return w})),n.d(t,"max",(function(){return k})),n.d(t,"round",(function(){return S})),n.d(t,"scale",(function(){return C})),n.d(t,"scaleAndAdd",(function(){return T})),n.d(t,"distance",(function(){return E})),n.d(t,"squaredDistance",(function(){return M})),n.d(t,"length",(function(){return P})),n.d(t,"squaredLength",(function(){return A})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return I})),n.d(t,"normalize",(function(){return D})),n.d(t,"dot",(function(){return R})),n.d(t,"cross",(function(){return z})),n.d(t,"lerp",(function(){return L})),n.d(t,"random",(function(){return j})),n.d(t,"transformMat4",(function(){return F})),n.d(t,"transformQuat",(function(){return N})),n.d(t,"zero",(function(){return B})),n.d(t,"str",(function(){return V})),n.d(t,"exactEquals",(function(){return U})),n.d(t,"equals",(function(){return W})),n.d(t,"sub",(function(){return sub})),n.d(t,"mul",(function(){return $})),n.d(t,"div",(function(){return div})),n.d(t,"dist",(function(){return G})),n.d(t,"sqrDist",(function(){return Z})),n.d(t,"len",(function(){return Y})),n.d(t,"sqrLen",(function(){return X})),n.d(t,"forEach",(function(){return K}));var r=n(14);function o(){var e=new r.a(4);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function l(a){var e=new r.a(4);return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e}function c(e,t,n,o){var l=new r.a(4);return l[0]=e,l[1]=t,l[2]=n,l[3]=o,l}function d(e,a){return e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],e}function f(e,t,n,r,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e}function h(e,a,b){return e[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e[3]=a[3]+b[3],e}function v(e,a,b){return e[0]=a[0]-b[0],e[1]=a[1]-b[1],e[2]=a[2]-b[2],e[3]=a[3]-b[3],e}function m(e,a,b){return e[0]=a[0]*b[0],e[1]=a[1]*b[1],e[2]=a[2]*b[2],e[3]=a[3]*b[3],e}function y(e,a,b){return e[0]=a[0]/b[0],e[1]=a[1]/b[1],e[2]=a[2]/b[2],e[3]=a[3]/b[3],e}function x(e,a){return e[0]=Math.ceil(a[0]),e[1]=Math.ceil(a[1]),e[2]=Math.ceil(a[2]),e[3]=Math.ceil(a[3]),e}function _(e,a){return e[0]=Math.floor(a[0]),e[1]=Math.floor(a[1]),e[2]=Math.floor(a[2]),e[3]=Math.floor(a[3]),e}function w(e,a,b){return e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.min(a[2],b[2]),e[3]=Math.min(a[3],b[3]),e}function k(e,a,b){return e[0]=Math.max(a[0],b[0]),e[1]=Math.max(a[1],b[1]),e[2]=Math.max(a[2],b[2]),e[3]=Math.max(a[3],b[3]),e}function S(e,a){return e[0]=Math.round(a[0]),e[1]=Math.round(a[1]),e[2]=Math.round(a[2]),e[3]=Math.round(a[3]),e}function C(e,a,b){return e[0]=a[0]*b,e[1]=a[1]*b,e[2]=a[2]*b,e[3]=a[3]*b,e}function T(e,a,b,t){return e[0]=a[0]+b[0]*t,e[1]=a[1]+b[1]*t,e[2]=a[2]+b[2]*t,e[3]=a[3]+b[3]*t,e}function E(a,b){var e=b[0]-a[0],t=b[1]-a[1],n=b[2]-a[2],r=b[3]-a[3];return Math.hypot(e,t,n,r)}function M(a,b){var e=b[0]-a[0],t=b[1]-a[1],n=b[2]-a[2],r=b[3]-a[3];return e*e+t*t+n*n+r*r}function P(a){var e=a[0],t=a[1],n=a[2],r=a[3];return Math.hypot(e,t,n,r)}function A(a){var e=a[0],t=a[1],n=a[2],r=a[3];return e*e+t*t+n*n+r*r}function O(e,a){return e[0]=-a[0],e[1]=-a[1],e[2]=-a[2],e[3]=-a[3],e}function I(e,a){return e[0]=1/a[0],e[1]=1/a[1],e[2]=1/a[2],e[3]=1/a[3],e}function D(e,a){var t=a[0],n=a[1],r=a[2],o=a[3],l=t*t+n*n+r*r+o*o;return l>0&&(l=1/Math.sqrt(l)),e[0]=t*l,e[1]=n*l,e[2]=r*l,e[3]=o*l,e}function R(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function z(e,u,t,n){var r=t[0]*n[1]-t[1]*n[0],o=t[0]*n[2]-t[2]*n[0],l=t[0]*n[3]-t[3]*n[0],c=t[1]*n[2]-t[2]*n[1],d=t[1]*n[3]-t[3]*n[1],f=t[2]*n[3]-t[3]*n[2],h=u[0],v=u[1],m=u[2],y=u[3];return e[0]=v*f-m*d+y*c,e[1]=-h*f+m*l-y*o,e[2]=h*d-v*l+y*r,e[3]=-h*c+v*o-m*r,e}function L(e,a,b,t){var n=a[0],r=a[1],o=a[2],l=a[3];return e[0]=n+t*(b[0]-n),e[1]=r+t*(b[1]-r),e[2]=o+t*(b[2]-o),e[3]=l+t*(b[3]-l),e}function j(e,t){var n,o,l,c,d,f;t=t||1;do{d=(n=2*r.c()-1)*n+(o=2*r.c()-1)*o}while(d>=1);do{f=(l=2*r.c()-1)*l+(c=2*r.c()-1)*c}while(f>=1);var h=Math.sqrt((1-d)/f);return e[0]=t*n,e[1]=t*o,e[2]=t*l*h,e[3]=t*c*h,e}function F(e,a,t){var n=a[0],r=a[1],o=a[2],l=a[3];return e[0]=t[0]*n+t[4]*r+t[8]*o+t[12]*l,e[1]=t[1]*n+t[5]*r+t[9]*o+t[13]*l,e[2]=t[2]*n+t[6]*r+t[10]*o+t[14]*l,e[3]=t[3]*n+t[7]*r+t[11]*o+t[15]*l,e}function N(e,a,q){var t=a[0],n=a[1],r=a[2],o=q[0],l=q[1],c=q[2],d=q[3],f=d*t+l*r-c*n,h=d*n+c*t-o*r,v=d*r+o*n-l*t,m=-o*t-l*n-c*r;return e[0]=f*d+m*-o+h*-c-v*-l,e[1]=h*d+m*-l+v*-o-f*-c,e[2]=v*d+m*-c+f*-l-h*-o,e[3]=a[3],e}function B(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function V(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function U(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function W(a,b){var e=a[0],t=a[1],n=a[2],o=a[3],l=b[0],c=b[1],d=b[2],f=b[3];return Math.abs(e-l)<=r.b*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(t-c)<=r.b*Math.max(1,Math.abs(t),Math.abs(c))&&Math.abs(n-d)<=r.b*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-f)<=r.b*Math.max(1,Math.abs(o),Math.abs(f))}var H,sub=v,$=m,div=y,G=E,Z=M,Y=P,X=A,K=(H=o(),function(a,e,t,n,r,o){var i,l;for(e||(e=4),t||(t=0),l=n?Math.min(n*e+t,a.length):a.length,i=t;i<l;i+=e)H[0]=a[i],H[1]=a[i+1],H[2]=a[i+2],H[3]=a[i+3],r(H,H,o),a[i]=H[0],a[i+1]=H[1],a[i+2]=H[2],a[i+3]=H[3];return a})},,,,,,,function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var content=function(e,t){var content=e[1]||"",n=e[3];if(!n)return content;if(t&&"function"==typeof btoa){var r=(l=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var l,c,data;return[content].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(content,"}"):content})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&o[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],l=o[0],c={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(c):n.push(r[l]={id:l,parts:[c]})}return n}n.r(t),n.d(t,"default",(function(){return y}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,f=!1,h=function(){},v=null,m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(e,t,n,o){f=n,v=o||{};var c=r(e,t);return x(c),function(t){for(var n=[],i=0;i<c.length;i++){var o=c[i];(d=l[o.id]).refs--,n.push(d)}t?x(c=r(e,t)):c=[];for(i=0;i<n.length;i++){var d;if(0===(d=n[i]).refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete l[d.id]}}}}function x(e){for(var i=0;i<e.length;i++){var t=e[i],n=l[t.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](t.parts[r]);for(;r<t.parts.length;r++)n.parts.push(w(t.parts[r]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{var o=[];for(r=0;r<t.parts.length;r++)o.push(w(t.parts[r]));l[t.id]={id:t.id,refs:1,parts:o}}}}function _(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function w(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(f)return h;r.parentNode.removeChild(r)}if(m){var o=d++;r=c||(c=_()),t=C.bind(null,r,o,!1),n=C.bind(null,r,o,!0)}else r=_(),t=T.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var k,S=(k=[],function(e,t){return k[e]=t,k.filter(Boolean).join("\n")});function C(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=S(t,o);else{var l=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(l,c[t]):e.appendChild(l)}}function T(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),v.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},,,,,,,,,,function(e,t,n){var r=n(465),o=n(466),l=n(467),c=n(468),d=n(469);function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=l,f.prototype.has=c,f.prototype.set=d,e.exports=f},function(e,t,n){var r=n(140);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(56).Symbol;e.exports=r},function(e,t,n){var r=n(91)(Object,"create");e.exports=r},function(e,t,n){var r=n(489);e.exports=function(map,e){var data=map.__data__;return r(e)?data["string"==typeof e?"string":"hash"]:data.map}},function(e,t,n){var r=n(68),o=n(260);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(540);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return o})),n.d(t,"clone",(function(){return l})),n.d(t,"length",(function(){return c})),n.d(t,"fromValues",(function(){return d})),n.d(t,"copy",(function(){return f})),n.d(t,"set",(function(){return h})),n.d(t,"add",(function(){return v})),n.d(t,"subtract",(function(){return m})),n.d(t,"multiply",(function(){return y})),n.d(t,"divide",(function(){return x})),n.d(t,"ceil",(function(){return _})),n.d(t,"floor",(function(){return w})),n.d(t,"min",(function(){return k})),n.d(t,"max",(function(){return S})),n.d(t,"round",(function(){return C})),n.d(t,"scale",(function(){return T})),n.d(t,"scaleAndAdd",(function(){return E})),n.d(t,"distance",(function(){return M})),n.d(t,"squaredDistance",(function(){return P})),n.d(t,"squaredLength",(function(){return A})),n.d(t,"negate",(function(){return O})),n.d(t,"inverse",(function(){return I})),n.d(t,"normalize",(function(){return D})),n.d(t,"dot",(function(){return R})),n.d(t,"cross",(function(){return z})),n.d(t,"lerp",(function(){return L})),n.d(t,"hermite",(function(){return j})),n.d(t,"bezier",(function(){return F})),n.d(t,"random",(function(){return N})),n.d(t,"transformMat4",(function(){return B})),n.d(t,"transformMat3",(function(){return V})),n.d(t,"transformQuat",(function(){return U})),n.d(t,"rotateX",(function(){return W})),n.d(t,"rotateY",(function(){return H})),n.d(t,"rotateZ",(function(){return $})),n.d(t,"angle",(function(){return G})),n.d(t,"zero",(function(){return Z})),n.d(t,"str",(function(){return Y})),n.d(t,"exactEquals",(function(){return X})),n.d(t,"equals",(function(){return K})),n.d(t,"sub",(function(){return sub})),n.d(t,"mul",(function(){return Q})),n.d(t,"div",(function(){return div})),n.d(t,"dist",(function(){return ee})),n.d(t,"sqrDist",(function(){return te})),n.d(t,"len",(function(){return ie})),n.d(t,"sqrLen",(function(){return ne})),n.d(t,"forEach",(function(){return re}));var r=n(14);function o(){var e=new r.a(3);return r.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function l(a){var e=new r.a(3);return e[0]=a[0],e[1]=a[1],e[2]=a[2],e}function c(a){var e=a[0],t=a[1],n=a[2];return Math.hypot(e,t,n)}function d(e,t,n){var o=new r.a(3);return o[0]=e,o[1]=t,o[2]=n,o}function f(e,a){return e[0]=a[0],e[1]=a[1],e[2]=a[2],e}function h(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function v(e,a,b){return e[0]=a[0]+b[0],e[1]=a[1]+b[1],e[2]=a[2]+b[2],e}function m(e,a,b){return e[0]=a[0]-b[0],e[1]=a[1]-b[1],e[2]=a[2]-b[2],e}function y(e,a,b){return e[0]=a[0]*b[0],e[1]=a[1]*b[1],e[2]=a[2]*b[2],e}function x(e,a,b){return e[0]=a[0]/b[0],e[1]=a[1]/b[1],e[2]=a[2]/b[2],e}function _(e,a){return e[0]=Math.ceil(a[0]),e[1]=Math.ceil(a[1]),e[2]=Math.ceil(a[2]),e}function w(e,a){return e[0]=Math.floor(a[0]),e[1]=Math.floor(a[1]),e[2]=Math.floor(a[2]),e}function k(e,a,b){return e[0]=Math.min(a[0],b[0]),e[1]=Math.min(a[1],b[1]),e[2]=Math.min(a[2],b[2]),e}function S(e,a,b){return e[0]=Math.max(a[0],b[0]),e[1]=Math.max(a[1],b[1]),e[2]=Math.max(a[2],b[2]),e}function C(e,a){return e[0]=Math.round(a[0]),e[1]=Math.round(a[1]),e[2]=Math.round(a[2]),e}function T(e,a,b){return e[0]=a[0]*b,e[1]=a[1]*b,e[2]=a[2]*b,e}function E(e,a,b,t){return e[0]=a[0]+b[0]*t,e[1]=a[1]+b[1]*t,e[2]=a[2]+b[2]*t,e}function M(a,b){var e=b[0]-a[0],t=b[1]-a[1],n=b[2]-a[2];return Math.hypot(e,t,n)}function P(a,b){var e=b[0]-a[0],t=b[1]-a[1],n=b[2]-a[2];return e*e+t*t+n*n}function A(a){var e=a[0],t=a[1],n=a[2];return e*e+t*t+n*n}function O(e,a){return e[0]=-a[0],e[1]=-a[1],e[2]=-a[2],e}function I(e,a){return e[0]=1/a[0],e[1]=1/a[1],e[2]=1/a[2],e}function D(e,a){var t=a[0],n=a[1],r=a[2],o=t*t+n*n+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=a[0]*o,e[1]=a[1]*o,e[2]=a[2]*o,e}function R(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function z(e,a,b){var t=a[0],n=a[1],r=a[2],o=b[0],l=b[1],c=b[2];return e[0]=n*c-r*l,e[1]=r*o-t*c,e[2]=t*l-n*o,e}function L(e,a,b,t){var n=a[0],r=a[1],o=a[2];return e[0]=n+t*(b[0]-n),e[1]=r+t*(b[1]-r),e[2]=o+t*(b[2]-o),e}function j(e,a,b,t,n,r){var o=r*r,l=o*(2*r-3)+1,c=o*(r-2)+r,d=o*(r-1),f=o*(3-2*r);return e[0]=a[0]*l+b[0]*c+t[0]*d+n[0]*f,e[1]=a[1]*l+b[1]*c+t[1]*d+n[1]*f,e[2]=a[2]*l+b[2]*c+t[2]*d+n[2]*f,e}function F(e,a,b,t,n,r){var o=1-r,l=o*o,c=r*r,d=l*o,f=3*r*l,h=3*c*o,v=c*r;return e[0]=a[0]*d+b[0]*f+t[0]*h+n[0]*v,e[1]=a[1]*d+b[1]*f+t[1]*h+n[1]*v,e[2]=a[2]*d+b[2]*f+t[2]*h+n[2]*v,e}function N(e,t){t=t||1;var n=2*r.c()*Math.PI,o=2*r.c()-1,l=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*l,e[1]=Math.sin(n)*l,e[2]=o*t,e}function B(e,a,t){var n=a[0],r=a[1],o=a[2],l=t[3]*n+t[7]*r+t[11]*o+t[15];return l=l||1,e[0]=(t[0]*n+t[4]*r+t[8]*o+t[12])/l,e[1]=(t[1]*n+t[5]*r+t[9]*o+t[13])/l,e[2]=(t[2]*n+t[6]*r+t[10]*o+t[14])/l,e}function V(e,a,t){var n=a[0],r=a[1],o=a[2];return e[0]=n*t[0]+r*t[3]+o*t[6],e[1]=n*t[1]+r*t[4]+o*t[7],e[2]=n*t[2]+r*t[5]+o*t[8],e}function U(e,a,q){var t=q[0],n=q[1],r=q[2],o=q[3],l=a[0],c=a[1],d=a[2],f=n*d-r*c,h=r*l-t*d,v=t*c-n*l,m=n*v-r*h,y=r*f-t*v,x=t*h-n*f,_=2*o;return f*=_,h*=_,v*=_,m*=2,y*=2,x*=2,e[0]=l+f+m,e[1]=c+h+y,e[2]=d+v+x,e}function W(e,a,b,t){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0],n[1]=p[1]*Math.cos(t)-p[2]*Math.sin(t),n[2]=p[1]*Math.sin(t)+p[2]*Math.cos(t),e[0]=n[0]+b[0],e[1]=n[1]+b[1],e[2]=n[2]+b[2],e}function H(e,a,b,t){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[2]*Math.sin(t)+p[0]*Math.cos(t),n[1]=p[1],n[2]=p[2]*Math.cos(t)-p[0]*Math.sin(t),e[0]=n[0]+b[0],e[1]=n[1]+b[1],e[2]=n[2]+b[2],e}function $(e,a,b,t){var p=[],n=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],n[0]=p[0]*Math.cos(t)-p[1]*Math.sin(t),n[1]=p[0]*Math.sin(t)+p[1]*Math.cos(t),n[2]=p[2],e[0]=n[0]+b[0],e[1]=n[1]+b[1],e[2]=n[2]+b[2],e}function G(a,b){var e=a[0],t=a[1],n=a[2],r=b[0],o=b[1],l=b[2],c=Math.sqrt(e*e+t*t+n*n)*Math.sqrt(r*r+o*o+l*l),d=c&&R(a,b)/c;return Math.acos(Math.min(Math.max(d,-1),1))}function Z(e){return e[0]=0,e[1]=0,e[2]=0,e}function Y(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function X(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function K(a,b){var e=a[0],t=a[1],n=a[2],o=b[0],l=b[1],c=b[2];return Math.abs(e-o)<=r.b*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(t-l)<=r.b*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(n-c)<=r.b*Math.max(1,Math.abs(n),Math.abs(c))}var J,sub=m,Q=y,div=x,ee=M,te=P,ie=c,ne=A,re=(J=o(),function(a,e,t,n,r,o){var i,l;for(e||(e=3),t||(t=0),l=n?Math.min(n*e+t,a.length):a.length,i=t;i<l;i+=e)J[0]=a[i],J[1]=a[i+1],J[2]=a[i+2],r(J,J,o),a[i]=J[0],a[i+1]=J[1],a[i+2]=J[2];return a})},function(e,t,n){var r=n(501),o=n(190),l=n(191),c=l&&l.isTypedArray,d=c?o(c):r;e.exports=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return L})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return B})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return H})),n.d(t,"f",(function(){return ne})),n.d(t,"e",(function(){return Q}));var r,o=n(3),l=n.n(o),c=n(2),d=n.n(c),f=n(1),h=n.n(f),v=n(8),m=n.n(v),y=n(9),x=n.n(y),_=n(4),w=n.n(_),k=n(0),S=n(7),C=n(27);function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){l()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}!function(e){e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft"}(r||(r={}));var P=0,A=function(e){m()(n,e);var t=M(n);function n(e){var r;return d()(this,n),(r=t.call(this)).controlOption=void 0,r.container=void 0,r.sceneContainer=void 0,r.mapsService=void 0,r.renderService=void 0,r.layerService=void 0,r.controlService=void 0,r.isShow=void 0,r.controlOption=E(E({},r.getDefault()),e||{}),r}return h()(n,[{key:"getDefault",value:function(){return{position:r.TOPRIGHT,name:"".concat(P++)}}},{key:"setPosition",value:function(e){var t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(e){this.mapsService=e.get(k.TYPES.IMapService),this.renderService=e.get(k.TYPES.IRendererService),this.layerService=e.get(k.TYPES.ILayerService),this.controlService=e.get(k.TYPES.IControlService),this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();var t=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return S.b.addClass(t,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var e=this.container;S.b.addClass(e,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var e=this.container;S.b.removeClass(e,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;S.b.remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){var t=this.mapsService.getContainer();null!==t&&t.focus()}}}]),n}(C.EventEmitter),O=n(18),I=n.n(O);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var R=function(e){m()(n,e);var t=D(n);function n(e){var r;return d()(this,n),(r=t.call(this,e)).layerControlInputs=void 0,r.layers=void 0,r.lastZIndex=void 0,r.handlingClick=void 0,r.layersLink=void 0,r.baseLayersList=void 0,r.separator=void 0,r.overlaysList=void 0,r.form=void 0,r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),Object(S.j)(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],I()(r)),r}return h()(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:k.PositionType.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var e=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(t){t.layer.on("remove",e.onLayerChange),t.layer.on("add",e.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(e,t){return this.addLayer(e,t,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var e=this.renderService.getViewportSize().height;S.b.addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var t=e-(this.container.offsetTop+50);return t<this.form.clientHeight?(S.b.addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=t+"px"):S.b.removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return S.b.removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var e=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(t){t.layer.off("remove",e.onLayerChange),t.layer.off("add",e.onLayerChange)})))}},{key:"initLayout",value:function(){var e="l7-control-layers",t=this.container=S.b.create("div",e),n=this.controlOption.collapsed;t.setAttribute("aria-haspopup","true");var form=this.form=S.b.create("form",e+"-list");n&&(this.mapsService.on("click",this.collapse),t.addEventListener("mouseenter",this.expand),t.addEventListener("mouseleave",this.collapse)),this.layersLink=S.b.create("a",e+"-toggle",t),this.layersLink.title="Layers",n||this.expand(),this.baseLayersList=S.b.create("div",e+"-base",form),this.separator=S.b.create("div",e+"-separator",form),this.overlaysList=S.b.create("div",e+"-overlays",form),t.appendChild(form)}},{key:"initLayers",value:function(){var e=this,t=this.controlOption,n=t.baseLayers,r=void 0===n?{}:n,o=t.overlayers,l=void 0===o?{}:o;Object.keys(r).forEach((function(t,n){e.addLayer(r[t],t,!1)})),Object.keys(l).forEach((function(t,n){e.addLayer(l[t],t,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var e,t,i,n;S.b.empty(this.baseLayersList),S.b.empty(this.overlaysList),this.layerControlInputs=[];var r=0;for(i=0;i<this.layers.length;i++)n=this.layers[i],this.addItem(n),t=t||n.overlay,e=e||!n.overlay,r+=n.overlay?0:1;return this.controlOption.hideSingleBase&&(e=e&&r>1,this.baseLayersList.style.display=e?"":"none"),this.separator.style.display=t&&e?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var input,e,t=this.layerControlInputs,n=this.mapsService.getZoom(),i=t.length-1;i>=0;i--)if(input=t[i],(e=this.layerService.getLayer(input.layerId))&&e.inited){var r=e.getMinZoom(),o=e.getMaxZoom();input.disabled=n<r||n>o}}},{key:"addLayer",value:function(e,t,n){this.mapsService&&(e.on("add",this.onLayerChange),e.on("remove",this.onLayerChange)),this.layers.push({layer:e,name:t,overlay:n});var r=this.controlOption,o=r.sortLayers,l=r.sortFunction,c=r.autoZIndex;o&&this.layers.sort((function(a,b){return l(a.layer,b.layer,a.name,b.name)})),c&&e.setZIndex&&(this.lastZIndex++,e.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(e){this.handlingClick||this.update();var t=this.layerService.getLayer(e.target.layerId),n=(null==t?void 0:t.overlay)?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this.emit(n,t)}},{key:"createRadioElement",value:function(e,t){var n='<input type="radio" class="l7-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(e){var input,label=document.createElement("label"),t=this.layerService.getLayer(e.layer.id),n=t&&t.inited&&e.layer.isVisible();e.overlay?((input=document.createElement("input")).type="checkbox",input.className="l7-control-layers-selector",input.defaultChecked=n):input=this.createRadioElement("l7-base-layers",n),this.layerControlInputs.push(input),input.layerId=e.layer.id,input.addEventListener("click",this.onInputClick);var r=document.createElement("span");r.innerHTML=" "+e.name;var o=document.createElement("div");return label.appendChild(o),o.appendChild(input),o.appendChild(r),(e.overlay?this.overlaysList:this.baseLayersList).appendChild(label),this.checkDisabledLayers(),label}},{key:"onInputClick",value:function(){var input,e,t=this.layerControlInputs,n=[],r=[];this.handlingClick=!0;for(var i=t.length-1;i>=0;i--)input=t[i],e=this.layerService.getLayer(input.layerId),input.checked?n.push(e):input.checked||r.push(e);r.forEach((function(e){e.hide()})),n.forEach((function(e){e.show()})),this.handlingClick=!1}}]),n}(A);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var L=function(e){m()(n,e);var t=z(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getDefault",value:function(){return{position:r.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var e=S.b.create("div","l7-control-logo"),t=S.b.create("a","l7-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://antv.alipay.com/l7",t.setAttribute("aria-label","AntV logo"),t.setAttribute("rel","noopener nofollow"),e.appendChild(t),e}},{key:"onRemove",value:function(){return null}}]),n}(A);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var F=function(e){m()(n,e);var t=j(n);function n(e){var r;return d()(this,n),(r=t.call(this,e)).mScale=void 0,r.iScale=void 0,Object(S.j)(["update"],I()(r)),r}return h()(n,[{key:"getDefault",value:function(){return{position:r.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var e=S.b.create("div","l7-control-scale");this.addScales("l7-control-scale-line",e);var t=this.controlOption.updateWhenIdle;return this.mapsService.on(t?"moveend":"mapmove",this.update),this.mapsService.on(t?"zoomend":"zoomchange",this.update),this.update(),e}},{key:"onRemove",value:function(){var e=this.controlOption.updateWhenIdle;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var e=this.mapsService,t=this.controlOption.maxWidth,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),o=e.containerToLngLat([t,n]),l=Object(S.v)([r.lng,r.lat],[o.lng,o.lat]);this.updateScales(l)}},{key:"updateScales",value:function(e){var t=this.controlOption,n=t.metric,r=t.imperial;n&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e)}},{key:"updateMetric",value:function(e){var t=this.getRoundNum(e),label=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,label,t/e)}},{key:"updateImperial",value:function(e){var t,n,r,o=3.2808399*e;o>5280?(t=o/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(o),this.updateScale(this.iScale,r+" ft",r/o))}},{key:"updateScale",value:function(e,text,t){var n=this.controlOption.maxWidth;e.style.width=Math.round(n*t)+"px",e.innerHTML=text}},{key:"getRoundNum",value:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}},{key:"addScales",value:function(e,t){var n=this.controlOption,r=n.metric,o=n.imperial;r&&(this.mScale=S.b.create("div",e,t)),o&&(this.iScale=S.b.create("div",e,t))}}]),n}(A);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var B=function(e){m()(n,e);var t=N(n);function n(e){var r;return d()(this,n),(r=t.call(this,e)).disabled=void 0,r.zoomInButton=void 0,r.zoomOutButton=void 0,Object(S.j)(["updateDisabled","zoomIn","zoomOut"],I()(r)),r}return h()(n,[{key:"getDefault",value:function(){return{position:r.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var e=S.b.create("div","l7-control-zoom l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,"l7-control-zoom-in",e,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,"l7-control-zoom-out",e,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),e}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(html,e,t,n,r){var link=S.b.create("a",t,n);return link.innerHTML=html,link.title=e,link.href="javascript:void(0)",link.addEventListener("click",r),link}},{key:"updateDisabled",value:function(){var e=this.mapsService;S.b.removeClass(this.zoomInButton,"l7-disabled"),S.b.removeClass(this.zoomOutButton,"l7-disabled"),(this.disabled||e.getZoom()<=e.getMinZoom())&&S.b.addClass(this.zoomOutButton,"l7-disabled"),(this.disabled||e.getZoom()>=e.getMaxZoom())&&S.b.addClass(this.zoomInButton,"l7-disabled")}}]),n}(A);function V(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(t){l()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var H=function(e){m()(n,e);var t=W(n);function n(option){var e;return d()(this,n),(e=t.call(this)).markerOption=void 0,e.defaultMarker=void 0,e.popup=void 0,e.mapsService=void 0,e.sceneSerive=void 0,e.lngLat=void 0,e.scene=void 0,e.added=!1,e.eventHandle=function(t){e.emit(t.type,{target:t,data:e.markerOption.extData,lngLat:e.lngLat})},e.markerOption=U(U({},e.getDefault()),option),Object(S.j)(["update","onMove","onUp","addDragHandler","onMapClick"],I()(e)),e.init(),e}return h()(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:S.g.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(e){this.scene=e,this.mapsService=e.get(k.TYPES.IMapService),this.sceneSerive=e.get(k.TYPES.ISceneService);var t=this.markerOption,element=t.element;t.draggable;return this.mapsService.getMarkerContainer().appendChild(element),this.registerMarkerEvent(element),this.mapsService.on("camerachange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var element=this.markerOption.element;return element&&S.b.remove(element),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(e){var t=this;if(!this.added)return this.once("added",(function(){t.setElement(e)})),this;var element=this.markerOption.element;return element&&S.b.remove(element),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.update(),this}},{key:"openPopup",value:function(){var e=this;if(!this.added)return this.once("added",(function(){e.openPopup()})),this;var t=this.popup;return t?(t.isOpen()||t.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var e=this;this.added||this.once("added",(function(){e.closePopup()}));var t=this.popup;return t&&t.remove(),this}},{key:"setPopup",value:function(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var e=this.popup;return e?(e.isOpen()?e.remove():e.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(e){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(data){this.markerOption.extData=data}},{key:"update",value:function(){if(this.mapsService){var e=this.markerOption,element=e.element,t=e.anchor;this.updatePosition(),S.b.setTransform(element,"".concat(S.f[t]))}}},{key:"onMapClick",value:function(e){var element=this.markerOption.element;this.popup&&element&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.markerOption,element=e.element,t=e.offsets,n=this.lngLat,r=n.lng,o=n.lat,l=this.mapsService.getBounds(),c=this.mapsService.getZoom();if((r<l[0][0]||r>l[1][0]||o<l[0][1]||o>l[1][1])&&c>3)element&&(element.style.display="none");else{var d=this.mapsService.lngLatToContainer([r,o]);element&&(element.style.display="block",element.style.left=d.x+t[0]+"px",element.style.top=d.y-t[1]+"px")}}}},{key:"init",value:function(){var e=this,element=this.markerOption.element,t=this.markerOption,n=t.color,r=t.anchor;if(!element){this.defaultMarker=!0,element=S.b.create("div"),this.markerOption.element=element;var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttributeNS(null,"display","block"),svg.setAttributeNS(null,"height","48px"),svg.setAttributeNS(null,"width","48px"),svg.setAttributeNS(null,"viewBox","0 0 1024 1024");var path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),path.setAttributeNS(null,"fill",n),svg.appendChild(path),element.appendChild(svg)}S.b.addClass(element,"l7-marker"),element.addEventListener("click",(function(t){e.onMapClick(t)})),element.addEventListener("click",this.eventHandle),Object(S.h)(element,r,"marker")}},{key:"registerMarkerEvent",value:function(element){element.addEventListener("mousemove",this.eventHandle),element.addEventListener("click",this.eventHandle),element.addEventListener("mousedown",this.eventHandle),element.addEventListener("mouseup",this.eventHandle),element.addEventListener("dblclick",this.eventHandle),element.addEventListener("contextmenu",this.eventHandle),element.addEventListener("mouseover",this.eventHandle),element.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var element=this.getElement();element.removeEventListener("mousemove",this.eventHandle),element.removeEventListener("click",this.eventHandle),element.removeEventListener("mousedown",this.eventHandle),element.removeEventListener("mouseup",this.eventHandle),element.removeEventListener("dblclick",this.eventHandle),element.removeEventListener("contextmenu",this.eventHandle),element.removeEventListener("mouseover",this.eventHandle),element.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(e){throw new Error("Method not implemented.")}},{key:"onUp",value:function(e){throw new Error("Method not implemented.")}}]),n}(C.EventEmitter),$=n(20),G=n.n($),Z=n(153),Y=n.n(Z);function X(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function K(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?X(Object(source),!0).forEach((function(t){l()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):X(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Q=function(e){m()(n,e);var t=J(n);function n(option){var e,r;return d()(this,n),(r=t.call(this)).markers=[],r.markerLayerOption=void 0,r.clusterIndex=void 0,r.points=[],r.clusterMarkers=[],r.mapsService=void 0,r.scene=void 0,r.zoom=void 0,r.bbox=void 0,r.markerLayerOption=G()(r.getDefault(),option),Object(S.j)(["update"],I()(r)),r.zoom=(null===(e=r.markerLayerOption.clusterOption)||void 0===e?void 0:e.zoom)||-99,r}return h()(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(e){return this.scene=e,this.mapsService=e.get(k.TYPES.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(marker){this.markerLayerOption.cluster&&this.addPoint(marker,this.markers.length),this.markers.push(marker)}},{key:"removeMarker",value:function(marker){this.markers.indexOf(marker);var e=this.markers.indexOf(marker);e>-1&&this.markers.splice(e,1)}},{key:"getMarkers",value:function(){return this.markerLayerOption.cluster?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var e=this;this.getMarkers().forEach((function(marker){marker.addTo(e.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(marker){marker.remove()})),this.clusterMarkers.forEach((function(e){e.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(marker,e){var t=marker.getLnglat(),n={geometry:{type:"Point",coordinates:[t.lng,t.lat]},properties:K(K({},marker.getExtData()),{},{marker_id:e})};this.points.push(n)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var e=this.markerLayerOption.clusterOption,t=e.radius,n=e.minZoom,r=void 0===n?0:n,o=e.maxZoom;this.clusterIndex=new Y.a({radius:t,minZoom:r,maxZoom:o}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(e,t){var n=this,r=e[0].concat(e[1]),o=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach((function(marker){marker.remove()})),this.clusterMarkers=[],o.forEach((function(e){var t,r=n.markerLayerOption.clusterOption,o=r.field,c=r.method;if(e.properties&&(null===(t=e.properties)||void 0===t?void 0:t.cluster_id)){var d,f=n.getLeaves(null===(d=e.properties)||void 0===d?void 0:d.cluster_id);if(e.properties.clusterData=f,o&&c){var h=null==f?void 0:f.map((function(e){return l()({},o,e.properties[o])})),v=S.d.getColumn(h,o),m=S.d.getSatByColumn(c,v),y="point_"+c;e.properties[y]=m.toFixed(2)}}var marker=n.clusterMarker(e);n.clusterMarkers.push(marker),marker.addTo(n.scene)}))}},{key:"getLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?this.clusterIndex.getLeaves(e,t,n):null}},{key:"clusterMarker",value:function(e){var t=this.markerLayerOption.clusterOption.element,element=void 0===t?this.generateElement.bind(this):t;return new H({element:element(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]})}},{key:"normalMarker",value:function(e){var t=e.properties.marker_id;return this.markers[t]}},{key:"update",value:function(){var e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!Object(S.k)(this.bbox,t))&&(this.bbox=Object(S.y)(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(e){var t=S.b.create("div","l7-marker-cluster"),label=S.b.create("div","",t),span=S.b.create("span","",label),n=this.markerLayerOption.clusterOption,r=n.field,o=n.method;e.properties.point_count=e.properties.point_count||1;var text=r&&o?e.properties["point_"+o]||e.properties[r]:e.properties.point_count;return span.textContent=text,t}}]),n}(C.EventEmitter);function ee(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function te(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ee(Object(source),!0).forEach((function(t){l()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ee(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ne=function(e){m()(n,e);var t=ie(n);function n(e){var r;return d()(this,n),(r=t.call(this)).popupOption=void 0,r.mapsService=void 0,r.sceneSerive=void 0,r.lngLat=void 0,r.content=void 0,r.closeButton=void 0,r.timeoutInstance=void 0,r.container=void 0,r.tip=void 0,r.scene=void 0,r.popupOption=te(te({},r.getdefault()),e),Object(S.j)(["update","onClickClose","remove"],I()(r)),r}return h()(n,[{key:"addTo",value:function(e){var t=this;return this.mapsService=e.get(k.TYPES.IMapService),this.sceneSerive=e.get(k.TYPES.ISceneService),this.mapsService.on("camerachange",this.update),this.scene=e,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){t.mapsService.on("click",t.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(html){var e,t=window.document.createDocumentFragment(),n=window.document.createElement("body");for(n.innerHTML=html;e=n.firstChild;)t.appendChild(e);return this.setDOMContent(t)}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&this.mapsService.on("camerachange",this.update),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(text){return this.setDOMContent(window.document.createTextNode(text))}},{key:"setMaxWidth",value:function(e){return this.popupOption.maxWidth=e,this.update(),this}},{key:"setDOMContent",value:function(e){return this.createContent(),this.content.appendChild(e),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&S.b.remove(this.content),this.content=S.b.create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=S.b.create("button","l7-popup-close-button",this.content),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"removeDom",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:S.g.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(e){e.stopPropagation&&e.stopPropagation(),this.remove()}},{key:"update",value:function(){var e=this,t=this.lngLat,n=this.popupOption,r=n.className,o=n.maxWidth,l=n.anchor;if(this.mapsService&&t&&this.content){var c=this.mapsService.getMarkerContainer();if(!this.container&&c)this.container=this.creatDom("div","l7-popup",c),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(t){return e.container.classList.add(t)})),this.popupOption.stopPropagation&&["mousemove","mousedown","mouseup","click","dblclick"].forEach((function(t){e.container.addEventListener(t,(function(e){e.stopPropagation()}))}));o&&this.container.style.maxWidth!==o&&(this.container.style.maxWidth=o),this.updatePosition(),S.b.setTransform(this.container,"".concat(S.f[l])),Object(S.h)(this.container,l,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.lngLat,t=e.lng,n=e.lat,r=this.popupOption.offsets,o=this.mapsService.lngLatToContainer([t,n]);this.container.style.left=o.x+r[0]+"px",this.container.style.top=o.y-r[1]+"px"}}}]),n}(C.EventEmitter);n(118)('/* @antv/l7-component */\n.l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n }\n\n.l7-marker {\n\tposition: absolute !important;\n\ttop: 0;\n\tleft: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: column-reverse;\n            flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 5px;\n\t}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n\n\n.l7-popup-anchor-left {\n    -webkit-flex-direction: row;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-top: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-top: none;\n\tborder-right: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-bottom: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-bottom: none;\n\tborder-left: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-bottom: none;\n\tborder-right: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-left: none;\n\tborder-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-right: none;\n\tborder-left-color: #fff;\n}\n\n.l7-popup-close-button {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tborder: 0;\n\tpadding: 0;\n\tfont-size: 25px;\n\tline-height: 20px;\n\tborder-radius: 0 3px 0 0;\n\tcursor: pointer;\n\tbackground-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n\tbackground-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n\tposition: relative;\n\tbackground: #fff;\n\tborder-radius: 3px;\n\t-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\t        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\tpadding: 10px 10px 15px;\n\tpointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n\tborder-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n\tborder-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n\tborder-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n\tborder-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n.l7-popup-track-pointer * {\n\tpointer-events: none;\n\t-webkit-user-select: none;\n\t   -moz-user-select: none;\n\t    -ms-user-select: none;\n\t        user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n\tdisplay: -webkit-box;\n\tdisplay: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\tborder-radius: 4px;\n\t}\n.l7-bar a,\n.l7-bar a:hover {\n\tbackground-color: #fff;\n\twidth: 30px;\n\theight: 30px;\n  font-size: 20px;\n\tdisplay: block;\n\ttext-align: center;\n\ttext-decoration: none;\n\tcolor: #8E9DAB;\n\t}\n.l7-bar a,\n.l7-control-layers-toggle {\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tdisplay: block;\n\t}\n.l7-bar a:hover {\n\tbackground-color: #f4f4f4;\n\t}\n.l7-bar a:first-child {\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t}\n.l7-bar a:last-child {\n\tborder-bottom-left-radius: 2px;\n\tborder-bottom-right-radius: 2px;\n\tborder-bottom: none;\n\t}\n.l7-bar a.l7-disabled {\n\tcursor: default;\n\tbackground-color: #f4f4f4;\n\tcolor: #bbb;\n\t}\n\n\n/* control positioning */\n\n.l7-control-container {\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n\tdisplay: none;\n}\n.l7-control {\n\tposition: relative;\n\tz-index: 800;\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\n\tpointer-events: auto;\n\t}\n.l7-control {\n\tfloat: left;\n\tclear: both;\n\t}.l7-top,\n  .l7-bottom {\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    }\n  .l7-top {\n    top: 0;\n    }\n  .l7-right {\n    right: 0;\n    }\n  .l7-bottom {\n    bottom: 0;\n    }\n  .l7-left {\n    left: 0;\n    }\n\n  .l7-control {\n    float: left;\n    clear: both;\n    }\n  .l7-right .l7-control {\n    float: right;\n    }\n  .l7-top .l7-control {\n    margin-top: 10px;\n    }\n  .l7-bottom .l7-control {\n    margin-bottom: 10px;\n    }\n  .l7-left .l7-control {\n    margin-left: 10px;\n    }\n  .l7-right .l7-control {\n    margin-right: 10px;\n    }\n\n  /* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n\tbackground: #fff;\n\tbackground: rgba(255, 255, 255, 0.7);\n\tmargin: 0;\n\t}\n.l7-control-attribution,\n.l7-control-scale-line {\n\tpadding: 0 5px;\n  color: #333;\n\t}\n.l7-control-attribution a {\n\ttext-decoration: none;\n\t}\n.l7-control-attribution a:hover {\n\ttext-decoration: underline;\n\t}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n\t}\n.l7-left .l7-control-scale {\n\tmargin-left: 5px;\n\t}\n.l7-bottom .l7-control-scale {\n\tmargin-bottom: 5px;\n\t}\n.l7-control-scale-line {\n\tborder: 2px solid #000;\n  border-top: none;\n  color: #000;\n\tline-height: 1.1;\n\tpadding: 2px 5px 1px;\n\tfont-size: 11px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\n\tbackground: #fff;\n\t}\n.l7-control-scale-line:not(:first-child) {\n\tborder-top: 2px solid #777;\n\tborder-bottom: none;\n\tmargin-top: -2px;\n\t}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n\tborder-bottom: 2px solid #777;\n\t}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\t-webkit-box-shadow: none;\n\t        box-shadow: none;\n\t}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\tborder: 2px solid rgba(0,0,0,0.2);\n\tbackground-clip: padding-box;\n  }\n  /*logo */\n\n  .l7-ctrl-logo {\n    background-size: 100% 100%;\n    width: 89px;\n    height: 16px;\n    margin: 0 0 -3px -3px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC\');\n}\n\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 2px;\n\t}\n.l7-control-layers-toggle {\n\tbackground-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC\');\n\twidth: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n\t}\n\n.l7-touch .l7-control-layers-toggle {\n\twidth: 44px;\n\theight: 44px;\n\t}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n\tdisplay: none;\n\t}\n.l7-control-layers-expanded .l7-control-layers-list {\n\tdisplay: block;\n\tposition: relative;\n\t}\n.l7-control-layers-expanded {\n\tpadding: 6px 10px 6px 6px;\n\tcolor: #59626B;\n\tbackground: #fff;\n\t}\n.l7-control-layers-scrollbar {\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tpadding-right: 5px;\n\t}\n.l7-control-layers-selector {\n\tmargin-top: 2px;\n\tposition: relative;\n\ttop: 1px;\n\t}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n  }\n  .l7-control-layers label input[type="radio"],\n  .l7-control-layers label input[type="checkbox"] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n\theight: 0;\n\tborder-top: 1px solid #D8D8D8;\n\tmargin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n }\n .amap-logo{\n  display: none !important;\n }\n\n\n')},,,,function(e,t,n){var r=n(520);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){e.exports=function(){"use strict";function e(n,r,o,l,c,d){if(!(c-l<=o)){var f=l+c>>1;!function select(e,n,r,o,l,c){for(;l>o;){if(l-o>600){var d=l-o+1,f=r-o+1,h=Math.log(d),s=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*s*(d-s)/d)*(f-d/2<0?-1:1),m=Math.max(o,Math.floor(r-f*s/d+v)),y=Math.min(l,Math.floor(r+(d-f)*s/d+v));select(e,n,r,m,y,c)}var x=n[2*r+c],i=o,_=l;for(t(e,n,o,r),n[2*l+c]>x&&t(e,n,o,l);i<_;){for(t(e,n,i,_),i++,_--;n[2*i+c]<x;)i++;for(;n[2*_+c]>x;)_--}n[2*o+c]===x?t(e,n,o,_):(_++,t(e,n,_,l)),_<=r&&(o=_+1),r<=_&&(l=_-1)}}(n,r,f,l,c,d%2),e(n,r,o,l,f-1,d+1),e(n,r,o,f+1,c,d+1)}}function t(e,t,i,r){n(e,i,r),n(t,2*i,2*r),n(t,2*i+1,2*r+1)}function n(e,i,t){var n=e[i];e[i]=e[t],e[t]=n}function r(e,t,n,r){var o=e-n,l=t-r;return o*o+l*l}var o=function(p){return p[0]},l=function(p){return p[1]},c=function(t,n,r,c,d){void 0===n&&(n=o),void 0===r&&(r=l),void 0===c&&(c=64),void 0===d&&(d=Float64Array),this.nodeSize=c,this.points=t;for(var f=t.length<65536?Uint16Array:Uint32Array,h=this.ids=new f(t.length),v=this.coords=new d(2*t.length),i=0;i<t.length;i++)h[i]=i,v[2*i]=n(t[i]),v[2*i+1]=r(t[i]);e(h,v,c,0,h.length-1,0)};c.prototype.range=function(e,t,n,r){return function(e,t,n,r,o,l,c){for(var d,f,h=[0,e.length-1,0],v=[];h.length;){var m=h.pop(),y=h.pop(),x=h.pop();if(y-x<=c)for(var i=x;i<=y;i++)d=t[2*i],f=t[2*i+1],d>=n&&d<=o&&f>=r&&f<=l&&v.push(e[i]);else{var _=Math.floor((x+y)/2);d=t[2*_],f=t[2*_+1],d>=n&&d<=o&&f>=r&&f<=l&&v.push(e[_]);var w=(m+1)%2;(0===m?n<=d:r<=f)&&(h.push(x),h.push(_-1),h.push(w)),(0===m?o>=d:l>=f)&&(h.push(_+1),h.push(y),h.push(w))}}return v}(this.ids,this.coords,e,t,n,r,this.nodeSize)},c.prototype.within=function(e,t,n){return function(e,t,n,o,l,c){for(var d=[0,e.length-1,0],f=[],h=l*l;d.length;){var v=d.pop(),m=d.pop(),y=d.pop();if(m-y<=c)for(var i=y;i<=m;i++)r(t[2*i],t[2*i+1],n,o)<=h&&f.push(e[i]);else{var x=Math.floor((y+m)/2),_=t[2*x],w=t[2*x+1];r(_,w,n,o)<=h&&f.push(e[x]);var k=(v+1)%2;(0===v?n-l<=_:o-l<=w)&&(d.push(y),d.push(x-1),d.push(k)),(0===v?n+l>=_:o+l>=w)&&(d.push(x+1),d.push(m),d.push(k))}}return f}(this.ids,this.coords,e,t,n,this.nodeSize)};var d={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},f=function(e){this.options=w(Object.create(d),e),this.trees=new Array(this.options.maxZoom+1)};function h(e,t,n,r,o){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:o}}function v(p,e){var t=p.geometry.coordinates,n=t[0],r=t[1];return{x:x(n),y:_(r),zoom:1/0,index:e,parentId:-1}}function m(e){return{type:"Feature",id:e.id,properties:y(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function y(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return w(w({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function x(e){return e/360+.5}function _(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function w(e,t){for(var n in t)e[n]=t[n];return e}function k(p){return p.x}function S(p){return p.y}return f.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,o=t.maxZoom,l=t.nodeSize;n&&console.time("total time");var d="prepare "+e.length+" points";n&&console.time(d),this.points=e;for(var f=[],i=0;i<e.length;i++)e[i].geometry&&f.push(v(e[i],i));this.trees[o+1]=new c(f,k,S,l,Float32Array),n&&console.timeEnd(d);for(var h=o;h>=r;h--){var m=+Date.now();f=this._cluster(f,h),this.trees[h]=new c(f,k,S,l,Float32Array),n&&console.log("z%d: %d clusters in %dms",h,f.length,+Date.now()-m)}return n&&console.timeEnd("total time"),this},f.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){var c=this.getClusters([n,r,180,l],t),d=this.getClusters([-180,r,o,l],t);return c.concat(d)}for(var f=this.trees[this._limitZoom(t)],h=[],i=0,v=f.range(x(n),_(l),x(o),_(r));i<v.length;i+=1){var y=v[i],w=f.points[y];h.push(w.numPoints?m(w):this.points[w.index])}return h},f.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(r);var l=o.points[t];if(!l)throw new Error(r);for(var c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=[],i=0,f=o.within(l.x,l.y,c);i<f.length;i+=1){var h=f[i],v=o.points[h];v.parentId===e&&d.push(v.numPoints?m(v):this.points[v.index])}if(0===d.length)throw new Error(r);return d},f.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},f.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],o=Math.pow(2,e),l=this.options,c=l.extent,p=l.radius/c,d=(n-p)/o,f=(n+1+p)/o,h={features:[]};return this._addTileFeatures(r.range((t-p)/o,d,(t+1+p)/o,f),r.points,t,n,o,h),0===t&&this._addTileFeatures(r.range(1-p/o,d,1,f),r.points,o,n,o,h),t===o-1&&this._addTileFeatures(r.range(0,d,p/o,f),r.points,-1,n,o,h),h.features.length?h:null},f.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},f.prototype._appendLeaves=function(e,t,n,r,o){for(var i=0,l=this.getChildren(t);i<l.length;i+=1){var c=l[i],d=c.properties;if(d&&d.cluster?o+d.point_count<=r?o+=d.point_count:o=this._appendLeaves(e,d.cluster_id,n,r,o):o<r?o++:e.push(c),e.length===n)break}return o},f.prototype._addTileFeatures=function(e,t,n,r,o,l){for(var c=0,d=e;c<d.length;c+=1){var f=t[d[c]],h=f.numPoints,v={type:1,geometry:[[Math.round(this.options.extent*(f.x*o-n)),Math.round(this.options.extent*(f.y*o-r))]],tags:h?y(f):this.points[f.index].properties},m=void 0;h?m=f.id:this.options.generateId?m=f.index:this.points[f.index].id&&(m=this.points[f.index].id),void 0!==m&&(v.id=m),l.features.push(v)}},f.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},f.prototype._cluster=function(e,t){for(var n=[],r=this.options,o=r.radius,l=r.extent,c=r.reduce,d=r.minPoints,f=o/(l*Math.pow(2,t)),i=0;i<e.length;i++){var p=e[i];if(!(p.zoom<=t)){p.zoom=t;for(var v=this.trees[t+1],m=v.within(p.x,p.y,f),y=p.numPoints||1,x=y,_=0,w=m;_<w.length;_+=1){var k=w[_],b=v.points[k];b.zoom>t&&(x+=b.numPoints||1)}if(x>=d){for(var S=p.x*y,C=p.y*y,T=c&&y>1?this._map(p,!0):null,E=(i<<5)+(t+1)+this.points.length,M=0,P=m;M<P.length;M+=1){var A=P[M],O=v.points[A];if(!(O.zoom<=t)){O.zoom=t;var I=O.numPoints||1;S+=O.x*I,C+=O.y*I,O.parentId=E,c&&(T||(T=this._map(p,!0)),c(T,this._map(O)))}}p.parentId=E,n.push(h(S/x,C/x,E,x,T))}else if(n.push(p),x>1)for(var D=0,R=m;D<R.length;D+=1){var z=R[D],L=v.points[z];L.zoom<=t||(L.zoom=t,n.push(L))}}}return n},f.prototype._getOriginId=function(e){return e-this.points.length>>5},f.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},f.prototype._map=function(e,t){if(e.numPoints)return t?w({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?w({},r):r},f}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),o=n.n(r),l=n(17),c=n.n(l),d=n(155),f=n.n(d);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(data,e){var t=e.x,n=e.y,r=e.x1,o=e.y1,l=e.coordinates,d=[];return data.forEach((function(col,e){var h=[];(t&&n&&(h=[parseFloat(col[t]),parseFloat(col[n])]),t&&n&&r&&o)&&(h=[[parseFloat(col[t]),parseFloat(col[n])],[parseFloat(col[r]),parseFloat(col[o])]]);if(l){var m="Polygon";Array.isArray(l[0])||(m="Point"),Array.isArray(l[0])&&!Array.isArray(l[0][0])&&(m="LineString");var y={type:m,coordinates:c()(col[l])};f()(y,!0),h=y.coordinates}var x=v(v({},col),{},{_id:e,coordinates:h});d.push(x)})),{dataArray:d}}},function(e,t,n){var r=n(555);function o(a,b){return function(e){return a(e,b)}}function l(e,t){t=!!t,e[0]=c(e[0],t);for(var i=1;i<e.length;i++)e[i]=c(e[i],!t);return e}function c(e,t){return function(e){return r.ring(e)>=0}(e)===t?e:e.reverse()}e.exports=function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(o(e,n)),t;case"GeometryCollection":return t.geometries=t.geometries.map(o(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(e,t){"Polygon"===e.type?e.coordinates=l(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(o(l,t)));return e}(t,n);default:return t}}},function(e,t,n){var r=n(80),o=n(101),l=n(61);e.exports=function(e){return"string"==typeof e||!o(e)&&l(e)&&"[object String]"==r(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(3),o=n.n(r),l=n(153),c=n.n(l);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function h(data,option){var e=option.radius,t=void 0===e?40:e,n=option.maxZoom,r=void 0===n?18:n,o=option.minZoom,l=void 0===o?0:o,d=option.zoom,h=void 0===d?2:d;if(data.pointIndex){var v=data.pointIndex.getClusters(data.extent,Math.floor(h));return data.dataArray=v.map((function(e,t){return f({coordinates:e.geometry.coordinates,_id:t+1},e.properties)})),data}var m=new c.a({radius:t,minZoom:l,maxZoom:r}),y={type:"FeatureCollection",features:[]};return y.features=data.dataArray.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:f({},e)}})),m.load(y.features),m}},function(e,t,n){var r=n(80),o=n(61);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(182),o=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(181),o=n(245),l=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=o.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=o.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return o.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return o.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return o.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,o.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!o.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=l},,function(e,t,n){var r=n(91)(n(56),"Map");e.exports=r},function(e,t,n){var r=n(253);e.exports=function(object,e,t){"__proto__"==e&&r?r(object,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):object[e]=t}},function(e,t,n){var r=n(496);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(258)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){(function(e){var r=n(56),o=n(500),l=t&&!t.nodeType&&t,c=l&&"object"==typeof e&&e&&!e.nodeType&&e,d=c&&c.exports===l?r.Buffer:void 0,f=(d?d.isBuffer:void 0)||o;e.exports=f}).call(this,n(114)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(249),o=t&&!t.nodeType&&t,l=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=l&&l.exports===o&&r.process,d=function(){try{var e=l&&l.require&&l.require("util").types;return e||c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=d}).call(this,n(114)(e))},function(e,t,n){var r=n(263),o=n(560),l=n(144);e.exports=function(object){return l(object)?r(object):o(object)}},function(e,t,n){var r=n(564),o=n(294),l=Object.prototype.propertyIsEnumerable,c=Object.getOwnPropertySymbols,d=c?function(object){return null==object?[]:(object=Object(object),r(c(object),(function(symbol){return l.call(object,symbol)})))}:o;e.exports=d},function(e,t,n){var r=n(568),o=n(184),l=n(569),c=n(266),d=n(570),f=n(80),h=n(250),v=h(r),m=h(o),y=h(l),x=h(c),_=h(d),w=f;(r&&"[object DataView]"!=w(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=w(new o)||l&&"[object Promise]"!=w(l.resolve())||c&&"[object Set]"!=w(new c)||d&&"[object WeakMap]"!=w(new d))&&(w=function(e){var t=f(e),n="[object Object]"==t?e.constructor:void 0,r=n?h(n):"";if(r)switch(r){case v:return"[object DataView]";case m:return"[object Map]";case y:return"[object Promise]";case x:return"[object Set]";case _:return"[object WeakMap]"}return t}),e.exports=w},function(e,t,n){"use strict";n.r(t),n.d(t,"GaodeMap",(function(){return be})),n.d(t,"Mapbox",(function(){return cr})),n.d(t,"Map",(function(){return Kn}));var r,o,l,c,d,f=n(2),h=n.n(f),v=n(1),m=n.n(v),y=n(8),x=n.n(y),_=n(9),w=n.n(_),k=n(4),S=n.n(k),C=n(3),T=n.n(C),E=n(13),M=n.n(E),P=n(12),A=n.n(P),O=(n(25),n(0));function I(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(t){T()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var R,z,L,j,F,N,B,V,U,W,H,$,G,Z=(r=Object(O.lazyInject)(O.TYPES.ILogService),o=Object(O.lazyInject)(O.TYPES.IGlobalConfigService),l=function(){function e(t){h()(this,e),M()(this,"logger",c,this),M()(this,"configService",d,this),this.config=void 0,this.config=t}return m()(e,[{key:"setContainer",value:function(e,t){e.bind(O.TYPES.MapConfig).toConstantValue(D(D({},this.config),{},{id:t})),e.bind(O.TYPES.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),c=A()(l.prototype,"logger",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=A()(l.prototype,"configService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l),Y=n(22),X=n.n(Y),K=n(49),J=n.n(K),Q=n(31),ee=n.n(Q),te=n(317),ie=n.n(te),ne=n(7),re=n(6),oe=n(5),ae={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"},se=n(24),ue=n.n(se),le=Math.PI/180,ce=function(){function e(){h()(this,e),this.projectionMatrix=re.b.create(),this.viewMatrix=re.b.create(),this.viewProjectionMatrix=re.b.create(),this.ViewProjectionMatrixUncentered=re.b.create(),this.viewUncenteredMatrix=re.b.create(),this.zoom=void 0,this.center=void 0}return m()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.pitch,o=void 0===r?0:r,l=e.bearing,c=void 0===l?0:l,d=e.center,f=void 0===d?[0,0]:d,h=e.offsetOrigin,v=void 0===h?[0,0]:h,m=e.cameraHeight,y=void 0===m?1:m,x=e.aspect,_=void 0===x?1:x,w=e.near,k=void 0===w?.1:w,S=e.far,C=void 0===S?1e3:S,T=e.fov,E=void 0===T?0:T;this.zoom=n,this.center=f;var M=o*le,P=(360-c)*le;re.b.perspective(this.projectionMatrix,E,_,k,C);var A=re.d.fromValues(y*Math.sin(M)*Math.sin(P),-y*Math.sin(M)*Math.cos(P),y*Math.cos(M)),O=re.d.fromValues(-Math.cos(M)*Math.sin(P),Math.cos(M)*Math.cos(P),Math.sin(M));re.b.lookAt(this.viewMatrix,A,re.d.fromValues(0,0,0),O),this.viewUncenteredMatrix=re.b.clone(this.viewMatrix),re.b.translate(this.viewMatrix,this.viewMatrix,re.d.fromValues(-v[0],v[1],0)),re.b.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),re.b.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var e=ue()(this.center,2);return[e[0],e[1]]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=Math.max(Math.min(85.0511287798,e[1]),-85.0511287798),r=Math.PI/180,o=e[0]*r,l=n*r;l=Math.log(Math.tan(Math.PI/4+l/2));return[o=(256<<20)*(.5/Math.PI*o+.5)-215440491,l=-((256<<20)*(-.5/Math.PI*l+(r=.5))-106744817)]}}]),e}();function de(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function fe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?de(Object(source),!0).forEach((function(t){T()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):de(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n(118)("/* @antv/l7-maps */\n.amap-logo{\n display: none !important;\n}\n");var he=0;window.forceWebGL=!0;var pe=!1,ve=[],me=(R=Object(oe.injectable)(),z=Object(oe.inject)(O.TYPES.IGlobalConfigService),L=Object(oe.inject)(O.TYPES.ILogService),j=Object(oe.inject)(O.TYPES.MapConfig),F=Object(oe.inject)(O.TYPES.ICoordinateSystemService),N=Object(oe.inject)(O.TYPES.IEventEmitter),R((V=function(){function e(){var t=this;h()(this,e),this.map=void 0,M()(this,"configService",U,this),M()(this,"logger",W,this),M()(this,"config",H,this),M()(this,"coordinateSystemService",$,this),M()(this,"eventEmitter",G,this),this.markerContainer=void 0,this.$mapContainer=void 0,this.viewport=void 0,this.cameraChangedCallback=void 0,this.handleCameraChanged=function(e){var n=e.camera,r=n.fov,o=n.near,l=n.far,c=n.height,d=n.pitch,f=n.rotation,h=n.aspect,v=n.position,m=t.getCenter(),y=m.lng,x=m.lat;t.cameraChangedCallback&&(t.viewport.syncWithMapCamera({aspect:h,bearing:360-f,far:l,fov:r,cameraHeight:c,near:o,pitch:d,zoom:t.map.getZoom()-1,center:[y,x],offsetOrigin:[v.x,v.y]}),t.viewport.getZoom()>12?t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.P20_OFFSET):t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.P20),t.cameraChangedCallback(t.viewport))}}var t;return m()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getContainer();if(null!==e){var t=e.getElementsByClassName("amap-maps")[0];this.markerContainer=ne.b.create("div","l7-marker-container",t)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==O.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==O.MapServiceEvent.indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){var e=this.map.getCenter();return{lng:e.getLng(),lat:e.getLat()}}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds().toBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),o=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng();return[[r.lng<n.getLng()?n.getLng()-180:n.getLng(),n.getLat()],[o,t.getLat()]]}},{key:"getMinZoom",value:function(){return this.map.get("zooms")[0]-1}},{key:"getMaxZoom",value:function(){return this.map.get("zooms")[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(p){this.map.panTo(p)}},{key:"panBy",value:function(e){this.map.panTo(e)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(style){this.map.setMapStyle(this.getMapStyle(style))}},{key:"setMapStatus",value:function(option){this.map.setStatus(option)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var p=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:p.getX(),y:p.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null==n?void 0:n.getLng(),lat:null==n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=new AMap.LngLat(e[0],e[1]),n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],o=this.viewport.projectFlat(e),l=re.b.create();return re.b.translate(l,l,re.d.fromValues(o[0],o[1],t)),re.b.scale(l,l,re.d.fromValues(r[0],r[1],r[2])),re.b.rotateX(l,l,n[0]),re.b.rotateY(l,l,n[1]),re.b.rotateZ(l,l,n[2]),l}},{key:"init",value:(t=ee()(X.a.mark((function e(){var t,n,r,style,o,l,c,d,f,h,v,m,y,x,_=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,style=void 0===r?"light":r,o=t.minZoom,l=void 0===o?0:o,c=t.maxZoom,d=void 0===c?18:c,f=t.token,h=void 0===f?"15cd8a57710d40c9b7c0e3cc120f1200":f,v=t.mapInstance,m=t.plugin,y=void 0===m?[]:m,x=J()(t,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),e.next=3,new Promise((function(e){var t=function(){if(v)_.map=v,_.$mapContainer=_.map.getContainer(),setTimeout((function(){_.map.on("camerachange",_.handleCameraChanged),e()}),30);else{_.$mapContainer=_.creatAmapContainer(n);var map=new AMap.Map(_.$mapContainer,fe({mapStyle:_.getMapStyle(style),zooms:[l,d],viewMode:"3D"},x));map.on("camerachange",_.handleCameraChanged),_.map=map,setTimeout((function(){e()}),10)}};pe||v?pe&&window.AMap||v?t():ve.push(t):("15cd8a57710d40c9b7c0e3cc120f1200"===h&&_.logger.warn(_.configService.getSceneWarninfo("MapToken")),pe=!0,y.push("Map3D"),ie.a.load({key:h,version:"1.4.15",plugins:y}).then((function(e){t(),ve.length&&(ve.forEach((function(e){return e()})),ve=[])})).catch((function(e){throw new Error(e)})))}));case 3:this.viewport=new ce;case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0];return"jpg"===e?null==n?void 0:n.toDataURL("image/jpeg"):null==n?void 0:n.toDataURL("image/png")}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){this.map.destroy(),delete window.initAMap;var e=document.getElementById("amap-script");e&&document.head.removeChild(e)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"getMapStyle",value:function(e){return ae[e]?ae[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"==typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+he++,t.appendChild(n),n}}]),e}(),U=A()(V.prototype,"configService",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=A()(V.prototype,"logger",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=A()(V.prototype,"config",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=A()(V.prototype,"coordinateSystemService",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=A()(V.prototype,"eventEmitter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=V))||B);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var ye,be=function(e){x()(n,e);var t=ge(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"getServiceConstructor",value:function(){return me}}]),n}(Z),xe=n(18),_e=n.n(xe),we=n(20),ke=n.n(we),Se=n(27),Ce=n(119),Te=n.n(Ce),Ee=n(321),Me=n.n(Ee);function Pe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Oe(e,t,n){var r=n-t,o=((e-t)%r+r)%r+t;return o===t?n:o}function Ie(e,t,n){return Math.min(n,Math.max(t,e))}function De(a,b,e){return a*(1-e)+b*e}function Re(e,t,n,r){var o=new Me.a(e,t,n,r);return function(e){return o.solve(e)}}var ze=Re(.25,.1,.25,1);function Le(){return!!window.matchMedia&&(null==ye&&(ye=window.matchMedia("(prefers-reduced-motion: reduce)")),ye.matches)}function je(e,t){var n,r={},o=Pe(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;l in e&&(r[l]=e[l])}}catch(e){o.e(e)}finally{o.f()}return r}var Fe=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date),Ne=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Be=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;function Ve(e){var t=Ne(e);return{cancel:function(){return Be(t)}}}var Ue=function(){function e(t,n){h()(this,e),this.ne=void 0,this.sw=void 0,t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return m()(e,null,[{key:"convert",value:function(input){return input instanceof e?input:new e(input)}}]),m()(e,[{key:"setNorthEast",value:function(e){return this.ne=e instanceof We?new We(e.lng,e.lat):We.convert(e),this}},{key:"setSouthWest",value:function(e){return this.sw=e instanceof We?new We(e.lng,e.lat):We.convert(e),this}},{key:"extend",value:function(t){var n,r,o=this.sw,l=this.ne;if(t instanceof We)n=t,r=t;else{if(!(t instanceof e)){if(Array.isArray(t)){if(4===t.length||t.every(Array.isArray)){var c=t;return this.extend(e.convert(c))}var d=t;return this.extend(We.convert(d))}return this}if(n=t.sw,r=t.ne,!n||!r)return this}return o||l?(o.lng=Math.min(n.lng,o.lng),o.lat=Math.min(n.lat,o.lat),l.lng=Math.max(r.lng,l.lng),l.lat=Math.max(r.lat,l.lat)):(this.sw=new We(n.lng,n.lat),this.ne=new We(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new We((this.sw.lng+this.ne.lng)/2,(this.sw.lat+this.ne.lat)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}},{key:"getNorthWest",value:function(){return new We(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new We(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this.sw.lng}},{key:"getSouth",value:function(){return this.sw.lat}},{key:"getEast",value:function(){return this.ne.lng}},{key:"getNorth",value:function(){return this.ne.lat}},{key:"toArray",value:function(){return[this.sw.toArray(),this.ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this.sw.toString(),", ").concat(this.ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this.sw&&this.ne)}},{key:"contains",value:function(e){var t=We.convert(e),n=t.lng,r=t.lat,o=this.sw.lat<=r&&r<=this.ne.lat,l=this.sw.lng<=n&&n<=this.ne.lng;return this.sw.lng>this.ne.lng&&(l=this.sw.lng>=n&&n>=this.ne.lng),o&&l}}]),e}(),We=function(){function e(t,n){if(h()(this,e),this.lng=void 0,this.lat=void 0,isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return m()(e,null,[{key:"convert",value:function(input){if(input instanceof e)return input;if(Array.isArray(input)&&(2===input.length||3===input.length))return new e(Number(input[0]),Number(input[1]));if(!Array.isArray(input)&&"object"===Te()(input)&&null!==input){var t="lng"in input?input.lng:input.lon;return new e(Number(t),Number(input.lat))}throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),m()(e,[{key:"wrap",value:function(){return new e(Oe(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toBounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=40075017,r=360*t/n,o=r/Math.cos(Math.PI/180*this.lat);return new Ue(new e(this.lng-o,this.lat-r),new e(this.lng+o,this.lat+r))}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,a=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(a,1))}}]),e}(),He=function(){function e(t,n){h()(this,e),this.x=void 0,this.y=void 0,this.x=t,this.y=n}return m()(e,null,[{key:"convert",value:function(a){return a instanceof e?a:Array.isArray(a)?new e(a[0],a[1]):a}}]),m()(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"_add",value:function(p){return this.x+=p.x,this.y+=p.y,this}},{key:"add",value:function(p){return this.clone()._add(p)}},{key:"_sub",value:function(p){return this.x-=p.x,this.y-=p.y,this}},{key:"sub",value:function(p){return this.clone()._sub(p)}},{key:"_multByPoint",value:function(p){return this.x*=p.x,this.y*=p.y,this}},{key:"multByPoint",value:function(p){return this.clone()._multByPoint(p)}},{key:"_divByPoint",value:function(p){return this.x/=p.x,this.y/=p.y,this}},{key:"divByPoint",value:function(p){return this.clone()._divByPoint(p)}},{key:"_mult",value:function(e){return this.x*=e,this.y*=e,this}},{key:"mult",value:function(e){return this.clone()._mult(e)}},{key:"_div",value:function(e){return this.x/=e,this.y/=e,this}},{key:"div",value:function(e){return this.clone()._div(e)}},{key:"_rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,o=n*this.x+t*this.y;return this.x=r,this.y=o,this}},{key:"rotate",value:function(e){return this.clone()._rotate(e)}},{key:"_rotateAround",value:function(e,p){var t=Math.cos(e),n=Math.sin(e),r=p.x+t*(this.x-p.x)-n*(this.y-p.y),o=p.y+n*(this.x-p.x)+t*(this.y-p.y);return this.x=r,this.y=o,this}},{key:"roateAround",value:function(e,p){return this.clone()._rotateAround(e,p)}},{key:"_matMult",value:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this}},{key:"matMult",value:function(e){return this.clone()._matMult(e)}},{key:"_unit",value:function(){return this.div(this.mag()),this}},{key:"unit",value:function(){return this.clone()._unit()}},{key:"_perp",value:function(){var e=this.y;return this.y=this.x,this.x=-e,this}},{key:"perp",value:function(){return this.clone()._perp()}},{key:"_round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"round",value:function(){return this.clone()._round()}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"dist",value:function(p){return Math.sqrt(this.distSqr(p))}},{key:"distSqr",value:function(p){var e=p.x-this.x,t=p.y-this.y;return e*e+t*t}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleTo",value:function(b){return Math.atan2(this.y-b.y,this.x-b.x)}},{key:"angleWith",value:function(b){return this.angleWithSep(b.x,b.y)}},{key:"angleWithSep",value:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)}}]),e}(),$e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(h()(this,e),this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=n,this.left=r,this.right=o}return m()(e,[{key:"interpolate",value:function(e,t,n){return null!=t.top&&null!=e.top&&(this.top=De(e.top,t.top,n)),null!=t.bottom&&null!=e.bottom&&(this.bottom=De(e.bottom,t.bottom,n)),null!=t.left&&null!=e.left&&(this.left=De(e.left,t.left,n)),null!=t.right&&null!=e.right&&(this.right=De(e.right,t.right,n)),this}},{key:"getCenter",value:function(e,t){var n=Ie((this.left+e-this.right)/2,0,e),r=Ie((this.top+t-this.bottom)/2,0,t);return new He(n,r)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new e(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),e}(),qe=2*Math.PI*6371008.8;function Ge(e){return qe*Math.cos(e*Math.PI/180)}function Ze(e){return(180+e)/360}function Ye(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Xe(e,t){return e/Ge(t)}function Ke(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}var Je=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;h()(this,e),this.x=void 0,this.y=void 0,this.z=void 0,this.x=+t,this.y=+n,this.z=+r}return m()(e,null,[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=We.convert(t);return new e(Ze(r.lng),Ye(r.lat),Xe(n,r.lat))}}]),m()(e,[{key:"toLngLat",value:function(){return new We(360*this.x-180,Ke(this.y))}},{key:"toAltitude",value:function(){return e=this.z,t=this.y,e*Ge(Ke(t));var e,t}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/qe*(e=Ke(this.y),1/Math.cos(e*Math.PI/180));var e}}]),e}();function Qe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var tt=function(){function e(t,n,r,o,l){h()(this,e),this.tileSize=void 0,this.tileZoom=void 0,this.lngRange=void 0,this.latRange=void 0,this.maxValidLatitude=void 0,this.scale=void 0,this.width=void 0,this.height=void 0,this.angle=void 0,this.rotationMatrix=void 0,this.pixelsToGLUnits=void 0,this.cameraToCenterDistance=void 0,this.mercatorMatrix=void 0,this.projMatrix=void 0,this.invProjMatrix=void 0,this.alignedProjMatrix=void 0,this.pixelMatrix=void 0,this.pixelMatrixInverse=void 0,this.glCoordMatrix=void 0,this.labelPlaneMatrix=void 0,this._fov=void 0,this._pitch=void 0,this._zoom=void 0,this._renderWorldCopies=void 0,this._minZoom=void 0,this._maxZoom=void 0,this._minPitch=void 0,this._maxPitch=void 0,this._center=void 0,this.zoomFraction=void 0,this.unmodified=void 0,this.edgeInsets=void 0,this.constraining=void 0,this.posMatrixCache=void 0,this.alignedPosMatrixCache=void 0,this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===l||l,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==o?60:o,this.setMaxBounds(),this.width=0,this.height=0,this._center=new We(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this.unmodified=!0,this.edgeInsets=new $e,this.posMatrixCache={},this.alignedPosMatrixCache={}}return m()(e,[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this._pitch=Math.max(this._pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this._pitch=Math.min(this._pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new He(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){var b=-Oe(e,-180,180)*Math.PI/180;this.angle!==b&&(this.unmodified=!1,this.angle=b,this.calcMatrices(),this.rotationMatrix=re.a.create(),re.a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(e){var p=Ie(e,this._minPitch,this._maxPitch)/180*Math.PI;this._pitch!==p&&(this.unmodified=!1,this._pitch=p,this.calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this.unmodified=!1,this._fov=e/180*Math.PI,this.calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this._minZoom),this._maxZoom);this._zoom!==t&&(this.unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this.constrain(),this.calcMatrices())}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this.unmodified=!1,this._center=e,this.constrain(),this.calcMatrices())}},{key:"padding",get:function(){return this.edgeInsets.toJSON()},set:function(e){this.edgeInsets.equals(e)||(this.unmodified=!1,this.edgeInsets.interpolate(this.edgeInsets,e,1),this.calcMatrices())}},{key:"centerPoint",get:function(){return this.edgeInsets.getCenter(this.width,this.height)}},{key:"point",get:function(){return this.project(this.center)}}]),m()(e,[{key:"clone",value:function(){var t=new e(this._minZoom,this._maxZoom,this._minPitch,this._maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.center=this._center,t.zoom=this.zoom,t.angle=this.angle,t.fov=this._fov,t.pitch=this._pitch,t.unmodified=this.unmodified,t.edgeInsets=this.edgeInsets.clone(),t.calcMatrices(),t}},{key:"isPaddingEqual",value:function(e){return this.edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this.unmodified=!1,this.edgeInsets.interpolate(e,t,n),this.constrain(),this.calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this.constrain(),this.calcMatrices()}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(e){var t=Ie(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new He(Ze(e.lng)*this.worldSize,Ye(t)*this.worldSize)}},{key:"unproject",value:function(e){return new Je(e.x/this.worldSize,e.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(e,t){var a=this.pointCoordinate(t),b=this.pointCoordinate(this.centerPoint),n=this.locationCoordinate(e),r=new Je(n.x-(a.x-b.x),n.y-(a.y-b.y));this.center=this.coordinateLocation(r),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"pointCoordinate",value:function(p){var e=new Float32Array([p.x,p.y,0,1]),t=new Float32Array([p.x,p.y,1,1]);re.e.transformMat4(e,e,this.pixelMatrixInverse),re.e.transformMat4(t,t,this.pixelMatrixInverse);var n=e[3],r=t[3],o=e[0]/n,l=t[0]/r,c=e[1]/n,d=t[1]/r,f=e[2]/n,h=t[2]/r,v=f===h?0:(0-f)/(h-f);return new Je(De(o,l,v)/this.worldSize,De(c,d,v)/this.worldSize)}},{key:"getBounds",value:function(){return(new Ue).extend(this.pointLocation(new He(0,0))).extend(this.pointLocation(new He(this.width,0))).extend(this.pointLocation(new He(this.width,this.height))).extend(this.pointLocation(new He(0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Ue([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this.constrain()):(this.lngRange=void 0,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new He(0,0)),p=new Float32Array([e.x*this.worldSize,e.y*this.worldSize,0,1]);return re.e.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var e=this._pitch,t=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new He(0,t))}},{key:"getCameraQueryGeometry",value:function(e){var t=this.getCameraPoint();if(1===e.length)return[e[0],t];var n,r=t.x,o=t.y,l=t.x,c=t.y,d=Qe(e);try{for(d.s();!(n=d.n()).done;){var p=n.value;r=Math.min(r,p.x),o=Math.min(o,p.y),l=Math.max(l,p.x),c=Math.max(c,p.y)}}catch(e){d.e(e)}finally{d.f()}return[new He(r,o),new He(l,o),new He(l,c),new He(r,c),new He(r,o)]}},{key:"coordinatePoint",value:function(e){var p=re.e.fromValues(e.x*this.worldSize,e.y*this.worldSize,0,1);return re.e.transformMat4(p,p,this.pixelMatrix),new He(p[0]/p[3],p[1]/p[3])}},{key:"locationPoint",value:function(e){return this.coordinatePoint(this.locationCoordinate(e))}},{key:"pointLocation",value:function(p){return this.coordinateLocation(this.pointCoordinate(p))}},{key:"locationCoordinate",value:function(e){return Je.fromLngLat(e)}},{key:"coordinateLocation",value:function(e){return e.toLngLat()}},{key:"getProjectionMatrix",value:function(){return this.projMatrix}},{key:"constrain",value:function(){if(this.center&&this.width&&this.height&&!this.constraining){this.constraining=!0;var e,t,n,r,o=-90,l=90,c=-180,d=180,f=this.size,h=this.unmodified;if(this.latRange){var v=this.latRange;o=Ye(v[1])*this.worldSize,e=(l=Ye(v[0])*this.worldSize)-o<f.y?f.y/(l-o):0}if(this.lngRange){var m=this.lngRange;c=Ze(m[0])*this.worldSize,t=(d=Ze(m[1])*this.worldSize)-c<f.x?f.x/(d-c):0}var y=this.point,s=Math.max(t||0,e||0);if(s)return this.center=this.unproject(new He(t?(d+c)/2:y.x,e?(l+o)/2:y.y)),this.zoom+=this.scaleZoom(s),this.unmodified=h,void(this.constraining=!1);if(this.latRange){var x=y.y,h2=f.y/2;x-h2<o&&(r=o+h2),x+h2>l&&(r=l-h2)}if(this.lngRange){var _=y.x,w=f.x/2;_-w<c&&(n=c+w),_+w>d&&(n=d-w)}void 0===n&&void 0===r||(this.center=this.unproject(new He(void 0!==n?n:y.x,void 0!==r?r:y.y))),this.unmodified=h,this.constraining=!1}}},{key:"calcMatrices",value:function(){if(this.height){var e=this._fov/2,t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(e)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),o=Math.sin(r)*this.cameraToCenterDistance/Math.sin(Ie(Math.PI-n-r,.01,Math.PI-.01)),l=this.point,c=l.x,d=l.y,f=1.01*(Math.cos(Math.PI/2-this._pitch)*o+this.cameraToCenterDistance),h=this.height/50,v=re.b.create();re.b.perspective(v,this._fov,this.width/this.height,h,f),v[8]=2*-t.x/this.width,v[9]=2*t.y/this.height,re.b.scale(v,v,[1,-1,1]),re.b.translate(v,v,[0,0,-this.cameraToCenterDistance]),re.b.rotateX(v,v,this._pitch),re.b.rotateZ(v,v,this.angle),re.b.translate(v,v,[-c,-d,0]),this.mercatorMatrix=re.b.scale(re.b.create(),v,[this.worldSize,this.worldSize,this.worldSize]),re.b.scale(v,v,re.d.fromValues(1,1,Xe(1,this.center.lat)*this.worldSize)),this.projMatrix=v,this.invProjMatrix=re.b.invert(re.b.create(),this.projMatrix);var m=this.width%2/2,y=this.height%2/2,x=Math.cos(this.angle),_=Math.sin(this.angle),w=c-Math.round(c)+x*m+_*y,k=d-Math.round(d)+x*y+_*m,S=re.b.clone(v);if(re.b.translate(S,S,[w>.5?w-1:w,k>.5?k-1:k,0]),this.alignedProjMatrix=S,v=re.b.create(),re.b.scale(v,v,[this.width/2,-this.height/2,1]),re.b.translate(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=re.b.create(),re.b.scale(v,v,[1,-1,1]),re.b.translate(v,v,[-1,-1,0]),re.b.scale(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v,this.pixelMatrix=re.b.multiply(re.b.create(),this.labelPlaneMatrix,this.projMatrix),!(v=re.b.invert(re.b.create(),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this.posMatrixCache={},this.alignedPosMatrixCache={}}}}]),e}(),it=function e(t){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h()(this,e),this.type=void 0,ke()(this,data),this.type=t};function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var ot=function(e){x()(n,e);var t=nt(n);function n(e){var r;h()(this,n),(r=t.call(this)).transform=void 0,r.options=void 0,r.moving=void 0,r.zooming=void 0,r.rotating=void 0,r.pitching=void 0,r.padding=void 0,r.bearingSnap=void 0,r.easeEndTimeoutID=void 0,r.easeStart=void 0,r.easeOptions=void 0,r.easeId=void 0,r.onEaseFrame=void 0,r.onEaseEnd=void 0,r.easeFrameId=void 0,r.renderFrameCallback=function(){var e=Math.min((Fe()-r.easeStart)/r.easeOptions.duration,1);r.onEaseFrame(r.easeOptions.easing(e)),e<1?r.easeFrameId=r.requestRenderFrame(r.renderFrameCallback):r.stop()},r.options=e;var o=e.minZoom,l=e.maxZoom,c=e.minPitch,d=e.maxPitch,f=e.renderWorldCopies;return r.moving=!1,r.zooming=!1,r.bearingSnap=e.bearingSnap,r.transform=new tt(o,l,c,d,f),r}return m()(n,[{key:"requestRenderFrame",value:function(e){return 0}},{key:"cancelRenderFrame",value:function(e){}},{key:"getCenter",value:function(){var e=this.transform.center,t=e.lng,n=e.lat;return new We(t,n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"panTo",value:function(e,t,n){return this.easeTo(ke()({center:e},t),n)}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomTo",value:function(e,t,n){return this.easeTo(ke()({zoom:e},t),n)}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(e,t,n){return this.easeTo(ke()({bearing:e},t),n)}},{key:"resetNorth",value:function(e,t){return this.rotateTo(0,ke()({duration:1e3},e),t),this}},{key:"resetNorthPitch",value:function(e,t){return this.easeTo(ke()({bearing:0,pitch:0,duration:1e3},e),t),this}},{key:"fitBounds",value:function(e,t,n){return this.fitInternal(this.cameraForBounds(e,t),t,n)}},{key:"cameraForBounds",value:function(e,t){return e=Ue.convert(e),this.cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,t)}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this.bearingSnap?this.resetNorth(e,t):this}},{key:"jumpTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.stop();var tr=this.transform,n=!1,r=!1,o=!1;return e.zoom&&tr.zoom!==+e.zoom&&(n=!0,tr.zoom=+e.zoom),void 0!==e.center&&(tr.center=We.convert(e.center)),e.bearing&&tr.bearing!==+e.bearing&&(r=!0,tr.bearing=+e.bearing),e.pitch&&tr.pitch!==+e.pitch&&(o=!0,tr.pitch=+e.pitch),null==e.padding||tr.isPaddingEqual(e.padding)||(tr.padding=e.padding),this.emit("movestart",new it("movestart",t)),this.emit("move",new it("move",t)),n&&(this.emit("zoomstart",new it("zoomstart",t)),this.emit("zoom",new it("zoom",t)),this.emit("zoomend",new it("zoomend",t))),r&&(this.emit("rotatestart",new it("rotatestart",t)),this.emit("rotate",new it("rotate",t)),this.emit("rotateend",new it("rotateend",t))),o&&(this.emit("pitchstart",new it("pitchstart",t)),this.emit("pitch",new it("pitch",t)),this.emit("pitchend",new it("pitchend",t))),this.emit("moveend",new it("moveend",t))}},{key:"easeTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;(!1===(t=ke()({offset:[0,0],duration:500,easing:ze},t)).animate||!t.essential&&Le())&&(t.duration=0);var tr=this.transform,r=this.getZoom(),o=this.getBearing(),l=this.getPitch(),c=this.getPadding(),d=t.zoom?+t.zoom:r,f=t.bearing?this.normalizeBearing(t.bearing,o):o,h=t.pitch?+t.pitch:l,v=t.padding?t.padding:tr.padding,m=He.convert(t.offset),y=tr.centerPoint.add(m),x=tr.pointLocation(y),_=We.convert(t.center||x);this.normalizeCenter(_);var w,k,S=tr.project(x),C=tr.project(_).sub(S),T=tr.zoomScale(d-r);t.around&&(w=We.convert(t.around),k=tr.locationPoint(w));var E={moving:this.moving,zooming:this.zooming,rotating:this.rotating,pitching:this.pitching};return this.zooming=this.zooming||d!==r,this.rotating=this.rotating||o!==f,this.pitching=this.pitching||h!==l,this.padding=!tr.isPaddingEqual(v),this.easeId=t.easeId,this.prepareEase(n,t.noMoveStart,E),clearTimeout(this.easeEndTimeoutID),this.ease((function(t){if(e.zooming&&(tr.zoom=De(r,d,t)),e.rotating&&(tr.bearing=De(o,f,t)),e.pitching&&(tr.pitch=De(l,h,t)),e.padding&&(tr.interpolatePadding(c,v,t),y=tr.centerPoint.add(m)),w)tr.setLocationAtPoint(w,k);else{var x=tr.zoomScale(tr.zoom-r),base=d>r?Math.min(2,T):Math.max(.5,T),_=Math.pow(base,1-t),E=tr.unproject(S.add(C.mult(t*_)).mult(x));tr.setLocationAtPoint(tr.renderWorldCopies?E.wrap():E,y)}e.fireMoveEvents(n)}),(function(t){e.afterEase(n,t)}),t),this}},{key:"flyTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!t.essential&&Le()){var r=je(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=ke()({offset:[0,0],speed:1.2,curve:1.42,easing:ze},t);var tr=this.transform,o=this.getZoom(),l=this.getBearing(),c=this.getPitch(),d=this.getPadding(),f=t.zoom?Ie(+t.zoom,tr.minZoom,tr.maxZoom):o,h=t.bearing?this.normalizeBearing(t.bearing,l):l,v=t.pitch?+t.pitch:c,m="padding"in t?t.padding:tr.padding,y=tr.zoomScale(f-o),x=He.convert(t.offset),_=tr.centerPoint.add(x),w=tr.pointLocation(_),k=We.convert(t.center||w);this.normalizeCenter(k);var S=tr.project(w),C=tr.project(k).sub(S),T=t.curve,E=Math.max(tr.width,tr.height),M=E/y,P=C.mag();if("minZoom"in t){var A=Ie(Math.min(t.minZoom,o,f),tr.minZoom,tr.maxZoom),O=E/tr.zoomScale(A-o);T=Math.sqrt(O/P*2)}var I=T*T;function D(i){var b=(M*M-E*E+(i?-1:1)*I*I*P*P)/(2*(i?M:E)*I*P);return Math.log(Math.sqrt(b*b+1)-b)}function R(e){return(Math.exp(e)-Math.exp(-e))/2}function z(e){return(Math.exp(e)+Math.exp(-e))/2}function L(e){return R(e)/z(e)}var j=D(0),F=function(s){return z(j)/z(j+T*s)},u=function(s){return E*((z(j)*L(j+T*s)-R(j))/I)/P},N=(D(1)-j)/T;if(Math.abs(P)<1e-6||!isFinite(N)){if(Math.abs(E-M)<1e-6)return this.easeTo(t,n);var B=M<E?-1:1;N=Math.abs(Math.log(M/E))/T,u=function(){return 0},F=function(s){return Math.exp(B*T*s)}}if("duration"in t)t.duration=+t.duration;else{var V="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*N/V}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=l!==h,this.pitching=v!==c,this.padding=!tr.isPaddingEqual(m),this.prepareEase(n,!1),this.ease((function(t){var s=t*N,r=1/F(s);tr.zoom=1===t?f:o+tr.scaleZoom(r),e.rotating&&(tr.bearing=De(l,h,t)),e.pitching&&(tr.pitch=De(c,v,t)),e.padding&&(tr.interpolatePadding(d,m,t),_=tr.centerPoint.add(x));var y=1===t?k:tr.unproject(S.add(C.mult(u(s))).mult(r));tr.setLocationAtPoint(tr.renderWorldCopies?y.wrap():y,_),e.fireMoveEvents(n)}),(function(){return e.afterEase(n)}),t),this}},{key:"fitScreenCoordinates",value:function(e,t,n,r,o){return this.fitInternal(this.cameraForBoxAndBearing(this.transform.pointLocation(He.convert(e)),this.transform.pointLocation(He.convert(t)),n,r),r,o)}},{key:"stop",value:function(e,t){if(this.easeFrameId&&(this.cancelRenderFrame(this.easeFrameId),delete this.easeFrameId,delete this.onEaseFrame),this.onEaseEnd){var n=this.onEaseEnd;delete this.onEaseEnd,n.call(this,t)}return this}},{key:"normalizeBearing",value:function(e,t){e=Oe(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e}},{key:"normalizeCenter",value:function(e){var tr=this.transform;if(tr.renderWorldCopies&&!tr.lngRange){var t=e.lng-tr.center.lng;e.lng+=t>180?-360:t<-180?360:0}}},{key:"fireMoveEvents",value:function(e){this.emit("move",new it("move",e)),this.zooming&&this.emit("zoom",new it("zoom",e)),this.rotating&&this.emit("rotate",new it("rotate",e)),this.pitching&&this.emit("rotate",new it("pitch",e))}},{key:"prepareEase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.moving=!0,t||n.moving||this.emit("movestart",new it("movestart",e)),this.zooming&&!n.zooming&&this.emit("zoomstart",new it("zoomstart",e)),this.rotating&&!n.rotating&&this.emit("rotatestart",new it("rotatestart",e)),this.pitching&&!n.pitching&&this.emit("pitchstart",new it("pitchstart",e))}},{key:"afterEase",value:function(e,t){if(!this.easeId||!t||this.easeId!==t){delete this.easeId;var n=this.zooming,r=this.rotating,o=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.padding=!1,n&&this.emit("zoomend",new it("zoomend",e)),r&&this.emit("rotateend",new it("rotateend",e)),o&&this.emit("pitchend",new it("pitchend",e)),this.emit("moveend",new it("moveend",e))}}},{key:"ease",value:function(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this.easeStart=Fe(),this.easeOptions=n,this.onEaseFrame=e,this.onEaseEnd=t,this.easeFrameId=this.requestRenderFrame(this.renderFrameCallback))}},{key:"cameraForBoxAndBearing",value:function(e,t,n,r){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=ke()({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var p=r.padding;r.padding={top:p,bottom:p,right:p,left:p}}r.padding=ke()(o,r.padding);var tr=this.transform,l=tr.padding,c=tr.project(We.convert(e)),d=tr.project(We.convert(t)),f=c.rotate(-n*Math.PI/180),h=d.rotate(-n*Math.PI/180),v=new He(Math.max(f.x,h.x),Math.max(f.y,h.y)),m=new He(Math.min(f.x,h.x),Math.min(f.y,h.y)),y=v.sub(m),x=(tr.width-(l.left+l.right+r.padding.left+r.padding.right))/y.x,_=(tr.height-(l.top+l.bottom+r.padding.top+r.padding.bottom))/y.y;if(!(_<0||x<0)){var w=Math.min(tr.scaleZoom(tr.scale*Math.min(x,_)),r.maxZoom),k=He.convert(r.offset),S=(r.padding.left-r.padding.right)/2,C=(r.padding.top-r.padding.bottom)/2,T=new He(k.x+S,k.y+C).mult(tr.scale/tr.zoomScale(w));return{center:tr.unproject(c.add(d).div(2).sub(T)),zoom:w,bearing:n}}}},{key:"fitInternal",value:function(e,t,n){return e?(delete(t=ke()(e,t)).padding,t.linear?this.easeTo(t,n):this.flyTo(t,n)):this}}]),n}(Se.EventEmitter);function at(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ut={},lt=ut;ut.create=function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r},ut.createNS=function(e,t){return window.document.createElementNS(e,t)};var ct=window.document&&window.document.documentElement.style;function ft(e){if(!ct)return e[0];var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i in ct)return i}}catch(e){n.e(e)}finally{n.f()}return e[0]}var ht,pt=ft(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);ut.disableDrag=function(){ct&&pt&&(ht=ct[pt],ct[pt]="none")},ut.enableDrag=function(){ct&&pt&&(ct[pt]=ht)};var vt=ft(["transform","WebkitTransform"]);ut.setTransform=function(e,t){e.style[vt]=t};var mt=!1;try{var gt=Object.defineProperty({},"passive",{get:function(){mt=!0}});window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch(e){mt=!1}ut.addEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&mt?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)},ut.removeEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&mt?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)};var yt=function e(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",e,!0)};function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}ut.suppressClick=function(){window.addEventListener("click",yt,!0),window.setTimeout((function(){window.removeEventListener("click",yt,!0)}),0)},ut.mousePos=function(e,t){var rect=e.getBoundingClientRect();return new He(t.clientX-rect.left-e.clientLeft,t.clientY-rect.top-e.clientTop)},ut.touchPos=function(e,t){var n,rect=e.getBoundingClientRect(),r=[],o=at(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;r.push(new He(l.clientX-rect.left-e.clientLeft,l.clientY-rect.top-e.clientTop))}}catch(e){o.e(e)}finally{o.f()}return r},ut.mouseButton=function(e){return void 0!==window.InstallTrigger&&2===e.button&&e.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},ut.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var xt=function(e){x()(n,e);var t=bt(n);function n(e,map,r){var o,data=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};h()(this,n);var l=lt.mousePos(map.getCanvasContainer(),r),c=map.unproject(l);return(o=t.call(this,e,ke()({point:l,lngLat:c,originalEvent:r},data))).type=void 0,o.target=void 0,o.originalEvent=void 0,o.point=void 0,o.lngLat=void 0,o.defaultPrevented=void 0,o.defaultPrevented=!1,o.target=map,o}return m()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(it);function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var wt=function(e){x()(n,e);var t=_t(n);function n(e,map,r){var o;h()(this,n);var l="touchend"===e?r.changedTouches:r.touches,c=lt.touchPos(map.getCanvasContainer(),l),d=c.map((function(e){return map.unproject(e)})),f=c.reduce((function(e,t,i,n){return e.add(t.div(n.length))}),new He(0,0)),v=map.unproject(f);return(o=t.call(this,e,{points:c,point:f,lngLats:d,lngLat:v,originalEvent:r})).type=void 0,o.target=void 0,o.originalEvent=void 0,o.lngLat=void 0,o.point=void 0,o.points=void 0,o.lngLats=void 0,o.defaultPrevented=void 0,o.defaultPrevented=!1,o}return m()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(it);function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var St=function(e){x()(n,e);var t=kt(n);function n(e,map,r){var o;return h()(this,n),(o=t.call(this,e,{originalEvent:r})).type=void 0,o.originalEvent=void 0,o.defaultPrevented=void 0,o.target=void 0,o.defaultPrevented=!1,o}return m()(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(it),Ct=function(){function e(map){h()(this,e),this.map=void 0,this.delayContextMenu=void 0,this.contextMenuEvent=void 0,this.map=map}return m()(e,[{key:"reset",value:function(){this.delayContextMenu=!1,delete this.contextMenuEvent}},{key:"mousemove",value:function(e){this.map.emit(e.type,new xt(e.type,this.map,e))}},{key:"mousedown",value:function(){this.delayContextMenu=!0}},{key:"mouseup",value:function(){this.delayContextMenu=!1,this.contextMenuEvent&&(this.map.emit("contextmenu",new xt("contextmenu",this.map,this.contextMenuEvent)),delete this.contextMenuEvent)}},{key:"contextmenu",value:function(e){this.delayContextMenu?this.contextMenuEvent=e:this.map.emit(e.type,new xt(e.type,this.map,e)),this.map.listeners("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!0}},{key:"disable",value:function(){return!1}}]),e}(),Tt=function(){function e(map,t){h()(this,e),this.map=void 0,this.el=void 0,this.container=void 0,this.enabled=void 0,this.active=void 0,this.startPos=void 0,this.lastPos=void 0,this.box=void 0,this.clickTolerance=void 0,this.map=map,this.el=map.getCanvasContainer(),this.container=map.getContainer(),this.clickTolerance=t.clickTolerance||1}return m()(e,[{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active}},{key:"enable",value:function(){this.isEnabled()||(this.enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(lt.disableDrag(),this.startPos=this.lastPos=t,this.active=!0)}},{key:"mousemoveWindow",value:function(e,t){if(this.active){var n=t;if(!(this.lastPos.equals(n)||!this.box&&n.dist(this.startPos)<this.clickTolerance)){var r=this.startPos;this.lastPos=n,this.box||(this.box=lt.create("div","l7-boxzoom",this.container),this.container.classList.add("l7-crosshair"),this.fireEvent("boxzoomstart",e));var o=Math.min(r.x,n.x),l=Math.max(r.x,n.x),c=Math.min(r.y,n.y),d=Math.max(r.y,n.y);lt.setTransform(this.box,"translate(".concat(o,"px,").concat(c,"px)")),this.box&&(this.box.style.width="".concat(l-o,"px"),this.box.style.height="".concat(d-c,"px"))}}}},{key:"mouseupWindow",value:function(e,t){var n=this;if(this.active&&0===e.button){var r=this.startPos,o=t;if(this.reset(),lt.suppressClick(),r.x!==o.x||r.y!==o.y)return this.map.emit("boxzoomend",new it("boxzoomend",{originalEvent:e})),{cameraAnimation:function(map){return map.fitScreenCoordinates(r,o,n.map.getBearing(),{linear:!0})}};this.fireEvent("boxzoomcancel",e)}}},{key:"keydown",value:function(e){this.active&&27===e.keyCode&&(this.reset(),this.fireEvent("boxzoomcancel",e))}},{key:"reset",value:function(){this.active=!1,this.container.classList.remove("l7-crosshair"),this.box&&(lt.remove(this.box),this.box=null),lt.enableDrag(),delete this.startPos,delete this.lastPos}},{key:"fireEvent",value:function(e,t){return this.map.emit(e,new it(e,{originalEvent:t}))}}]),e}(),Et=function(){function e(){h()(this,e),this.enabled=void 0,this.active=void 0,this.reset()}return m()(e,[{key:"reset",value:function(){this.active=!1}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(map){map.easeTo({duration:300,zoom:map.getZoom()+(e.shiftKey?-1:1),around:map.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Pt=function(e){x()(n,e);var t=Mt(n);function n(){var e;h()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="renderFrame",e.timeStamp=void 0,e}return n}(it);function At(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var It={linearity:.3,easing:Re(0,0,.3,1)},Dt=ke()({deceleration:2500,maxSpeed:1400},It),Rt=ke()({deceleration:20,maxSpeed:1400},It),zt=ke()({deceleration:1e3,maxSpeed:360},It),Lt=ke()({deceleration:1e3,maxSpeed:90},It),jt=function(){function e(map){h()(this,e),this.map=void 0,this.inertiaBuffer=void 0,this.map=map,this.clear()}return m()(e,[{key:"clear",value:function(){this.inertiaBuffer=[]}},{key:"record",value:function(e){this.drainInertiaBuffer(),this.inertiaBuffer.push({time:Fe(),settings:e})}},{key:"drainInertiaBuffer",value:function(){for(var e=this.inertiaBuffer,t=Fe();e.length>0&&t-e[0].time>160;)e.shift()}},{key:"onMoveEnd",value:function(e){if(this.drainInertiaBuffer(),!(this.inertiaBuffer.length<2)){var t,n={zoom:0,bearing:0,pitch:0,pan:new He(0,0),pinchAround:void 0,around:void 0},r=At(this.inertiaBuffer);try{for(r.s();!(t=r.n()).done;){var o=t.value.settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}}catch(e){r.e(e)}finally{r.f()}var l=this.inertiaBuffer[this.inertiaBuffer.length-1].time-this.inertiaBuffer[0].time,c={};if(n.pan.mag()){var d=Nt(n.pan.mag(),l,ke()({},Dt,e||{}));c.offset=n.pan.mult(d.amount/n.pan.mag()),c.center=this.map.transform.center,Ft(c,d)}if(n.zoom){var f=Nt(n.zoom,l,Rt);c.zoom=this.map.transform.zoom+f.amount,Ft(c,f)}if(n.bearing){var h=Nt(n.bearing,l,zt);c.bearing=this.map.transform.bearing+Ie(h.amount,-179,179),Ft(c,h)}if(n.pitch){var v=Nt(n.pitch,l,Lt);c.pitch=this.map.transform.pitch+v.amount,Ft(c,v)}if(c.zoom||c.bearing){var m=void 0===n.pinchAround?n.around:n.pinchAround;c.around=m?this.map.unproject(m):this.map.getCenter()}return this.clear(),ke()(c,{noMoveStart:!0})}}}]),e}();function Ft(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Nt(e,t,n){var r=n.maxSpeed,o=n.linearity,l=n.deceleration,c=Ie(e*o/(t/1e3),-r,r),d=Math.abs(c)/(l*o);return{easing:n.easing,duration:1e3*d,amount:c*(d/2)}}var Bt={panStep:100,bearingStep:15,pitchStep:10};function Vt(e){return e*(2-e)}var Ut,Wt=function(){function e(){h()(this,e),this.enabled=void 0,this.active=void 0,this.panStep=void 0,this.bearingStep=void 0,this.pitchStep=void 0;var t=Bt;this.panStep=t.panStep,this.bearingStep=t.bearingStep,this.pitchStep=t.pitchStep}return m()(e,[{key:"reset",value:function(){this.active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,o=0,l=0,c=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),l=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),l=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),c=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),c=1);break;default:return}return{cameraAnimation:function(map){var d=map.getZoom();map.easeTo({duration:300,easeId:"keyboardHandler",easing:Vt,zoom:n?Math.round(d)+n*(e.shiftKey?2:1):d,bearing:map.getBearing()+r*t.bearingStep,pitch:map.getPitch()+o*t.pitchStep,offset:[-l*t.panStep,-c*t.panStep],center:map.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}(),Ht=function(){function e(map,t){h()(this,e),this.mousedownPos=void 0,this.clickTolerance=void 0,this.map=void 0,this.map=map,this.clickTolerance=t.clickTolerance}return m()(e,[{key:"reset",value:function(){delete this.mousedownPos}},{key:"wheel",value:function(e){return this.firePreventable(new St(e.type,this.map,e))}},{key:"mousedown",value:function(e,t){return this.mousedownPos=t,this.firePreventable(new xt(e.type,this.map,e))}},{key:"mouseup",value:function(e){this.map.emit(e.type,new xt(e.type,this.map,e))}},{key:"click",value:function(e,t){this.mousedownPos&&this.mousedownPos.dist(t)>=this.clickTolerance||this.map.emit(e.type,new xt(e.type,this.map,e))}},{key:"dblclick",value:function(e){return this.firePreventable(new xt(e.type,this.map,e))}},{key:"mouseover",value:function(e){this.map.emit(e.type,new xt(e.type,this.map,e))}},{key:"mouseout",value:function(e){this.map.emit(e.type,new xt(e.type,this.map,e))}},{key:"touchstart",value:function(e){return this.firePreventable(new wt(e.type,this.map,e))}},{key:"touchmove",value:function(e){this.map.emit(e.type,new wt(e.type,this.map,e))}},{key:"touchend",value:function(e){this.map.emit(e.type,new wt(e.type,this.map,e))}},{key:"touchcancel",value:function(e){this.map.emit(e.type,new wt(e.type,this.map,e))}},{key:"firePreventable",value:function(e){if(this.map.emit(e.type,e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!1}},{key:"disable",value:function(){return!1}}]),e}(),$t=n(40),qt=n.n($t),Gt=(Ut={},T()(Ut,0,1),T()(Ut,2,2),Ut);var Zt=function(){function e(t){h()(this,e),this.enabled=void 0,this.active=void 0,this.lastPoint=void 0,this.eventButton=void 0,this.moved=void 0,this.clickTolerance=void 0,this.reset(),this.clickTolerance=t.clickTolerance||1}return m()(e,[{key:"reset",value:function(){this.active=!1,this.moved=!1,delete this.lastPoint,delete this.eventButton}},{key:"mousedown",value:function(e,t){if(!this.lastPoint){var n=lt.mouseButton(e);this.correctButton(e,n)&&(this.lastPoint=t,this.eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this.lastPoint;if(n)if(e.preventDefault(),function(e,button){var t=Gt[button];return void 0===e.buttons||(e.buttons&t)!==t}(e,this.eventButton))this.reset();else if(this.moved||!(t.dist(n)<this.clickTolerance))return this.moved=!0,this.lastPoint=t,this.move(n,t)}},{key:"mouseupWindow",value:function(e){this.lastPoint&&(lt.mouseButton(e)===this.eventButton&&(this.moved&&lt.suppressClick(),this.reset()))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"correctButton",value:function(e,button){return!1}},{key:"move",value:function(e,t){}}]),e}();function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Xt=function(e){x()(n,e);var t=Yt(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"mousedown",value:function(e,t){qt()(S()(n.prototype),"mousedown",this).call(this,e,t),this.lastPoint&&(this.active=!0)}},{key:"move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}},{key:"correctButton",value:function(e,button){return 0===button&&!e.ctrlKey}}]),n}(Zt);function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Jt=function(e){x()(n,e);var t=Kt(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"correctButton",value:function(e,button){return 0===button&&e.ctrlKey||2===button}},{key:"move",value:function(e,t){var n=-.5*(t.y-e.y);if(n)return this.active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Zt);function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var ei=function(e){x()(n,e);var t=Qt(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"contextmenu",value:function(e){e.preventDefault()}},{key:"correctButton",value:function(e,button){return 0===button&&e.ctrlKey||2===button}},{key:"move",value:function(e,t){var n=.8*(t.x-e.x);if(n)return this.active=!0,{bearingDelta:n}}}]),n}(Zt),ti=function(){function e(map,t){var n=this;h()(this,e),this.map=void 0,this.el=void 0,this.enabled=void 0,this.active=void 0,this.zooming=void 0,this.aroundCenter=void 0,this.around=void 0,this.aroundPoint=void 0,this.type=void 0,this.lastValue=void 0,this.timeout=void 0,this.finishTimeout=void 0,this.lastWheelEvent=void 0,this.lastWheelEventTime=void 0,this.startZoom=void 0,this.targetZoom=void 0,this.delta=void 0,this.easing=void 0,this.prevEase=void 0,this.frameId=void 0,this.handler=void 0,this.defaultZoomRate=void 0,this.wheelZoomRate=void 0,this.onScrollFrame=function(){if(n.frameId&&(n.frameId=null,n.isActive())){var tr=n.map.transform;if(0!==n.delta){var e="wheel"===n.type&&Math.abs(n.delta)>4.000244140625?n.wheelZoomRate:n.defaultZoomRate,t=2/(1+Math.exp(-Math.abs(n.delta*e)));n.delta<0&&0!==t&&(t=1/t);var r="number"==typeof n.targetZoom?tr.zoomScale(n.targetZoom):tr.scale;n.targetZoom=Math.min(tr.maxZoom,Math.max(tr.minZoom,tr.scaleZoom(r*t))),"wheel"===n.type&&(n.startZoom=tr.zoom,n.easing=n.smoothOutEasing(200)),n.delta=0}var o,l="number"==typeof n.targetZoom?n.targetZoom:tr.zoom,c=n.startZoom,d=n.easing,f=!1;if("wheel"===n.type&&c&&d){var h=Math.min((Fe()-n.lastWheelEventTime)/200,1);o=De(c,l,d(h)),h<1?n.frameId||(n.frameId=!0):f=!0}else o=l,f=!0;return n.active=!0,f&&(n.active=!1,n.finishTimeout=setTimeout((function(){n.zooming=!1,n.handler.triggerRenderFrame(),delete n.targetZoom,delete n.finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!f,zoomDelta:o-tr.zoom,around:n.aroundPoint,originalEvent:n.lastWheelEvent}}},this.map=map,this.el=map.getCanvasContainer(),this.handler=t,this.delta=0,this.defaultZoomRate=.01,this.wheelZoomRate=1/450}return m()(e,[{key:"setZoomRate",value:function(e){this.defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this.wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active||void 0!==this.finishTimeout}},{key:"isZooming",value:function(){return!!this.zooming}},{key:"enable",value:function(e){this.isEnabled()||(this.enabled=!0,this.aroundCenter=e&&"center"===e.around)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"wheel",value:function(e){if(this.isEnabled()){var t=e.deltaMode===window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=Fe(),r=n-(this.lastWheelEventTime||0);this.lastWheelEventTime=n,0!==t&&t%4.000244140625==0?this.type="wheel":0!==t&&Math.abs(t)<4?this.type="trackpad":r>400?(this.type=null,this.lastValue=t,this.timeout=setTimeout(this.onTimeout,40,e)):this.type||(this.type=Math.abs(r*t)<200?"trackpad":"wheel",this.timeout&&(clearTimeout(this.timeout),this.timeout=null,t+=this.lastValue)),e.shiftKey&&t&&(t/=4),this.type&&(this.lastWheelEvent=e,this.delta-=t,this.active||this.start(e)),e.preventDefault()}}},{key:"renderFrame",value:function(){return this.onScrollFrame()}},{key:"reset",value:function(){this.active=!1}},{key:"onTimeout",value:function(e){this.type="wheel",this.delta-=this.lastValue,this.active||this.start(e)}},{key:"start",value:function(e){if(this.delta){this.frameId&&(this.frameId=null),this.active=!0,this.isZooming()||(this.zooming=!0),this.finishTimeout&&(clearTimeout(this.finishTimeout),delete this.finishTimeout);var t=lt.mousePos(this.el,e);this.around=We.convert(this.aroundCenter?this.map.getCenter():this.map.unproject(t)),this.aroundPoint=this.map.transform.locationPoint(this.around),this.frameId||(this.frameId=!0,this.handler.triggerRenderFrame())}}},{key:"smoothOutEasing",value:function(e){var t=ze;if(this.prevEase){var n=this.prevEase,r=(Fe()-n.start)/n.duration,o=n.easing(r+.01)-n.easing(r),l=.27/Math.sqrt(o*o+1e-4)*.01;t=Re(l,Math.sqrt(.0729-l*l),.25,1)}return this.prevEase={start:Fe(),duration:e,easing:t},t}}]),e}(),ii=function(){function e(t,n){h()(this,e),this.clickZoom=void 0,this.tapZoom=void 0,this.clickZoom=t,this.tapZoom=n}return m()(e,[{key:"enable",value:function(){this.clickZoom.enable(),this.tapZoom.enable()}},{key:"disable",value:function(){this.clickZoom.disable(),this.tapZoom.disable()}},{key:"isEnabled",value:function(){return this.clickZoom.isEnabled()&&this.tapZoom.isEnabled()}},{key:"isActive",value:function(){return this.clickZoom.isActive()||this.tapZoom.isActive()}}]),e}(),ni=function(){function e(t,n,r){h()(this,e),this.inertiaOptions=void 0,this.el=void 0,this.mousePan=void 0,this.touchPan=void 0,this.el=t,this.mousePan=n,this.touchPan=r}return m()(e,[{key:"enable",value:function(e){this.inertiaOptions=e||{},this.mousePan.enable(),this.touchPan.enable(),this.el.classList.add("l7-touch-drag-pan")}},{key:"disable",value:function(){this.mousePan.disable(),this.touchPan.disable(),this.el.classList.remove("l7-touch-drag-pan")}},{key:"isEnabled",value:function(){return this.mousePan.isEnabled()&&this.touchPan.isEnabled()}},{key:"isActive",value:function(){return this.mousePan.isActive()||this.touchPan.isActive()}}]),e}(),ri=function(){function e(t,n,r){h()(this,e),this.mouseRotate=void 0,this.mousePitch=void 0,this.pitchWithRotate=void 0,this.pitchWithRotate=t.pitchWithRotate,this.mouseRotate=n,this.mousePitch=r}return m()(e,[{key:"enable",value:function(){this.mouseRotate.enable(),this.pitchWithRotate&&this.mousePitch.enable()}},{key:"disable",value:function(){this.mouseRotate.disable(),this.mousePitch.disable()}},{key:"isEnabled",value:function(){return this.mouseRotate.isEnabled()&&(!this.pitchWithRotate||this.mousePitch.isEnabled())}},{key:"isActive",value:function(){return this.mouseRotate.isActive()||this.mousePitch.isActive()}}]),e}(),oi=function(){function e(t,n,r,o){h()(this,e),this.el=void 0,this.touchZoom=void 0,this.touchRotate=void 0,this.tapDragZoom=void 0,this.rotationDisabled=void 0,this.enabled=void 0,this.el=t,this.touchZoom=n,this.touchRotate=r,this.tapDragZoom=o,this.rotationDisabled=!1,this.enabled=!0}return m()(e,[{key:"enable",value:function(e){this.touchZoom.enable(e),this.rotationDisabled||this.touchRotate.enable(e),this.tapDragZoom.enable(),this.el.classList.add("l7-touch-zoom-rotate")}},{key:"disable",value:function(){this.touchZoom.disable(),this.touchRotate.disable(),this.tapDragZoom.disable(),this.el.classList.remove("l7-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this.touchZoom.isEnabled()&&(this.rotationDisabled||this.touchRotate.isEnabled())&&this.tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this.touchZoom.isActive()||this.touchRotate.isActive()||this.tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this.rotationDisabled=!0,this.touchRotate.disable()}},{key:"enableRotation",value:function(){this.rotationDisabled=!1,this.touchZoom.isEnabled()&&this.touchRotate.enable()}}]),e}();function ai(e,t){for(var n={},i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}function si(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ci=function(){function e(t){h()(this,e),this.numTouches=void 0,this.centroid=void 0,this.startTime=void 0,this.aborted=void 0,this.touches=void 0,this.reset(),this.numTouches=t.numTouches}return m()(e,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=function(e){var t,n=new He(0,0),r=si(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n._add(o)}}catch(e){r.e(e)}finally{r.f()}return n.div(e.length)}(t),this.touches=ai(n,t)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=ai(n,t);for(var o in this.touches)if(this.touches[o]){var l=this.touches[o],c=r[o];(!c||c.dist(l)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),e}(),di=function(){function e(t){h()(this,e),this.singleTap=void 0,this.numTaps=void 0,this.lastTime=void 0,this.lastTap=void 0,this.count=void 0,this.singleTap=new ci(t),this.numTaps=t.numTaps,this.reset()}return m()(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var o=e.timeStamp-this.lastTime<500,l=!this.lastTap||this.lastTap.dist(r)<30;if(o&&l||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),fi=function(){function e(){h()(this,e),this.enabled=void 0,this.active=void 0,this.swipePoint=void 0,this.swipeTouch=void 0,this.tapTime=void 0,this.tap=void 0,this.tap=new di({numTouches:1,numTaps:1}),this.reset()}return m()(e,[{key:"reset",value:function(){this.active=!1,delete this.swipePoint,delete this.swipeTouch,delete this.tapTime,this.tap.reset()}},{key:"touchstart",value:function(e,t,n){this.swipePoint||(this.tapTime&&e.timeStamp-this.tapTime>500&&this.reset(),this.tapTime?n.length>0&&(this.swipePoint=t[0],this.swipeTouch=n[0].identifier):this.tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this.tapTime){if(this.swipePoint){if(n[0].identifier!==this.swipeTouch)return;var r=t[0],o=r.y-this.swipePoint.y;return this.swipePoint=r,e.preventDefault(),this.active=!0,{zoomDelta:o/128}}}else this.tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){this.tapTime?this.swipePoint&&0===n.length&&this.reset():this.tap.touchend(e,t,n)&&(this.tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}(),hi=function(){function e(){h()(this,e),this.enabled=void 0,this.active=void 0,this.zoomIn=void 0,this.zoomOut=void 0,this.zoomIn=new di({numTouches:1,numTaps:2}),this.zoomOut=new di({numTouches:2,numTaps:1}),this.reset()}return m()(e,[{key:"reset",value:function(){this.active=!1,this.zoomIn.reset(),this.zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this.zoomIn.touchstart(e,t,n),this.zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.zoomIn.touchmove(e,t,n),this.zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,o=this.zoomIn.touchend(e,t,n),l=this.zoomOut.touchend(e,t,n);return o?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(map){return map.easeTo({duration:300,zoom:map.getZoom()+1,around:map.unproject(o)},{originalEvent:e})}}):l?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(map){return map.easeTo({duration:300,zoom:map.getZoom()-1,around:map.unproject(l)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}(),pi=function(){function e(t){h()(this,e),this.enabled=void 0,this.active=void 0,this.touches=void 0,this.minTouches=void 0,this.clickTolerance=void 0,this.sum=void 0,this.minTouches=1,this.clickTolerance=t.clickTolerance||1,this.reset()}return m()(e,[{key:"reset",value:function(){this.active=!1,this.touches={},this.sum=new He(0,0)}},{key:"touchstart",value:function(e,t,n){return this.calculateTransform(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this.active)return e.preventDefault(),this.calculateTransform(e,t,n)}},{key:"touchend",value:function(e,t,n){this.calculateTransform(e,t,n),this.active&&n.length<this.minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"calculateTransform",value:function(e,t,n){n.length>0&&(this.active=!0);var r=ai(n,t),o=new He(0,0),l=new He(0,0),c=0;for(var d in r)if(r[d]){var f=r[d],h=this.touches[d];h&&(o._add(f),l._add(f.sub(h)),c++,r[d]=f)}if(this.touches=r,!(c<this.minTouches)&&l.mag()){var v=l.div(c);if(this.sum._add(v),!(this.sum.mag()<this.clickTolerance))return{around:o.div(c),panDelta:v}}}}]),e}(),vi=function(){function e(){h()(this,e),this.enabled=void 0,this.active=void 0,this.firstTwoTouches=void 0,this.vector=void 0,this.startVector=void 0,this.aroundCenter=void 0,this.reset()}return m()(e,[{key:"reset",value:function(){this.active=!1,delete this.firstTwoTouches}},{key:"start",value:function(e){}},{key:"move",value:function(e,t,n){}},{key:"touchstart",value:function(e,t,n){this.firstTwoTouches||n.length<2||(this.firstTwoTouches=[n[0].identifier,n[1].identifier],this.start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){if(this.firstTwoTouches){e.preventDefault();var r=ue()(this.firstTwoTouches,2),o=r[0],l=r[1],a=mi(n,t,o),b=mi(n,t,l);if(a&&b){var c=this.aroundCenter?null:a.add(b).div(2);return this.move([a,b],c,e)}}}},{key:"touchend",value:function(e,t,n){if(this.firstTwoTouches){var r=ue()(this.firstTwoTouches,2),o=r[0],l=r[1],a=mi(n,t,o),b=mi(n,t,l);a&&b||(this.active&&lt.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this.enabled=!0,this.aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function mi(e,t,n){for(var i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}function yi(e){return Math.abs(e.y)>Math.abs(e.x)}var bi=function(e){x()(n,e);var t=gi(n);function n(){var e;h()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).valid=void 0,e.firstMove=void 0,e.lastPoints=void 0,e}return m()(n,[{key:"reset",value:function(){qt()(S()(n.prototype),"reset",this).call(this),this.valid=void 0,delete this.firstMove,delete this.lastPoints}},{key:"start",value:function(e){this.lastPoints=e,yi(e[0].sub(e[1]))&&(this.valid=!1)}},{key:"move",value:function(e,t,n){var r=e[0].sub(this.lastPoints[0]),o=e[1].sub(this.lastPoints[1]);if(this.valid=this.gestureBeginsVertically(r,o,n.timeStamp),this.valid){this.lastPoints=e,this.active=!0;return{pitchDelta:-.5*((r.y+o.y)/2)}}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this.valid)return this.valid;var r=e.mag()>=2,o=t.mag()>=2;if(r||o){if(!r||!o)return void 0===this.firstMove&&(this.firstMove=n),n-this.firstMove<100&&void 0;var l=e.y>0==t.y>0;return yi(e)&&yi(t)&&l}}}]),n}(vi);function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}function _i(a,b){return 180*a.angleWith(b)/Math.PI}var wi=function(e){x()(n,e);var t=xi(n);function n(){var e;h()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).minDiameter=void 0,e}return m()(n,[{key:"reset",value:function(){qt()(S()(n.prototype),"reset",this).call(this),delete this.minDiameter,delete this.startVector,delete this.vector}},{key:"start",value:function(e){this.startVector=this.vector=e[0].sub(e[1]),this.minDiameter=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.vector;if(this.vector=e[0].sub(e[1]),this.active||!this.isBelowThreshold(this.vector))return this.active=!0,{bearingDelta:_i(this.vector,n),pinchAround:t}}},{key:"isBelowThreshold",value:function(e){this.minDiameter=Math.min(this.minDiameter,e.mag());var t=25/(Math.PI*this.minDiameter)*360,n=_i(e,this.startVector);return Math.abs(n)<t}}]),n}(vi);function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}function Si(e,t){return Math.log(e/t)/Math.LN2}var Ci=function(e){x()(n,e);var t=ki(n);function n(){var e;h()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).distance=void 0,e.startDistance=void 0,e}return m()(n,[{key:"reset",value:function(){qt()(S()(n.prototype),"reset",this).call(this),delete this.distance,delete this.startDistance}},{key:"start",value:function(e){this.startDistance=this.distance=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.distance;if(this.distance=e[0].dist(e[1]),this.active||!(Math.abs(Si(this.distance,this.startDistance))<.1))return this.active=!0,{zoomDelta:Si(this.distance,n),pinchAround:t}}}]),n}(vi);function Ti(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ei(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Mi=function(p){return p.zoom||p.drag||p.pitch||p.rotate};function Pi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var Ai=function(){function e(map,t){var n=this;h()(this,e),this.map=void 0,this.el=void 0,this.handlers=void 0,this.eventsInProgress=void 0,this.frameId=void 0,this.inertia=void 0,this.bearingSnap=void 0,this.handlersById=void 0,this.updatingCamera=void 0,this.changes=void 0,this.previousActiveHandlers=void 0,this.bearingChanged=void 0,this.listeners=void 0,this.handleWindowEvent=function(e){n.handleEvent(e,"".concat(e.type,"Window"))},this.handleEvent=function(e,t){if("blur"!==e.type){n.updatingCamera=!0;var r,o="renderFrame"===e.type?void 0:e,l={needsRenderFrame:!1},c={},d={},f=e.touches?n.getMapTouches(e.touches):void 0,h=f?lt.touchPos(n.el,f):lt.mousePos(n.el,e),v=Ti(n.handlers);try{for(v.s();!(r=v.n()).done;){var m=r.value,y=m.handlerName,x=m.handler,_=m.allowed;if(x.isEnabled()){var data=void 0;if(n.blockedByActive(d,_,y))x.reset();else{var w=t||e.type;x&&x[w]&&(data=x[w](e,h,f),n.mergeIHandlerResult(l,c,data,y,o),data&&data.needsRenderFrame&&n.triggerRenderFrame())}(data||x.isActive())&&(d[y]=x)}}}catch(e){v.e(e)}finally{v.f()}var k={};for(var S in n.previousActiveHandlers)d[S]||(k[S]=o);n.previousActiveHandlers=d,(Object.keys(k).length||Pi(l))&&(n.changes.push([l,c,k]),n.triggerRenderFrame()),(Object.keys(d).length||Pi(l))&&n.map.stop(!0),n.updatingCamera=!1;var C=l.cameraAnimation;C&&(n.inertia.clear(),n.fireEvents({},{}),n.changes=[],C(n.map))}else n.stop()},this.map=map,this.el=this.map.getCanvasContainer(),this.handlers=[],this.handlersById={},this.changes=[],this.inertia=new jt(map),this.bearingSnap=t.bearingSnap,this.previousActiveHandlers={},this.eventsInProgress={},this.addDefaultHandlers(t);var r=this.el;this.listeners=[[r,"touchstart",{passive:!1}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[window.document,"mousemove",{capture:!0}],[window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[window,"blur",void 0]];var o,l=Ti(this.listeners);try{for(l.s();!(o=l.n()).done;){var c=ue()(o.value,3),d=c[0],f=c[1],v=c[2];lt.addEventListener(d,f,d===window.document?this.handleWindowEvent:this.handleEvent,v)}}catch(e){l.e(e)}finally{l.f()}}return m()(e,[{key:"destroy",value:function(){var e,t=Ti(this.listeners);try{for(t.s();!(e=t.n()).done;){var n=ue()(e.value,3),r=n[0],o=n[1],l=n[2];lt.removeEventListener(r,o,r===window.document?this.handleWindowEvent:this.handleEvent,l)}}catch(e){t.e(e)}finally{t.f()}}},{key:"stop",value:function(){if(!this.updatingCamera){var e,t=Ti(this.handlers);try{for(t.s();!(e=t.n()).done;){e.value.handler.reset()}}catch(e){t.e(e)}finally{t.f()}this.inertia.clear(),this.fireEvents({},{}),this.changes=[]}}},{key:"isActive",value:function(){var e,t=Ti(this.handlers);try{for(t.s();!(e=t.n()).done;){if(e.value.handler.isActive())return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this.eventsInProgress.zoom||this.map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this.eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(Mi(this.eventsInProgress))||this.isZooming()}},{key:"mergeIHandlerResult",value:function(e,t,n,r,o){if(n){ke()(e,n);var l={handlerName:r,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(t.zoom=l),void 0!==n.panDelta&&(t.drag=l),void 0!==n.pitchDelta&&(t.pitch=l),void 0!==n.bearingDelta&&(t.rotate=l)}}},{key:"triggerRenderFrame",value:function(){var e=this;void 0===this.frameId&&(this.frameId=this.map.requestRenderFrame((function(t){delete e.frameId,e.handleEvent(new Pt("renderFrame",{timeStamp:t})),e.applyChanges()})))}},{key:"addDefaultHandlers",value:function(e){var map=this.map,t=map.getCanvasContainer();this.add("mapEvent",new Ht(map,e));var n=map.boxZoom=new Tt(map,e);this.add("boxZoom",n);var r=new hi,o=new Et;map.doubleClickZoom=new ii(o,r),this.add("tapZoom",r),this.add("clickZoom",o);var l=new fi;this.add("tapDragZoom",l);var c=map.touchPitch=new bi;this.add("touchPitch",c);var d=new Jt(e),f=new ei(e);map.dragRotate=new ri(e,d,f),this.add("mouseRotate",d,["mousePitch"]),this.add("mousePitch",f,["mouseRotate"]);var h=new Xt(e),v=new pi(e);map.dragPan=new ni(t,h,v),this.add("mousePan",h),this.add("touchPan",v,["touchZoom","touchRotate"]);var m=new wi,y=new Ci;map.touchZoomRotate=new oi(t,y,m,l),this.add("touchRotate",m,["touchPan","touchZoom"]),this.add("touchZoom",y,["touchPan","touchRotate"]);var x=map.scrollZoom=new ti(map,this);this.add("scrollZoom",x,["mousePan"]);var _=map.keyboard=new Wt;this.add("keyboard",_),this.add("blockableMapEvent",new Ct(map));for(var w=0,k=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];w<k.length;w++){var S=k[w];e.interactive&&e[S]&&map[S].enable(e[S])}}},{key:"add",value:function(e,t,n){this.handlers.push({handlerName:e,handler:t,allowed:n}),this.handlersById[e]=t}},{key:"blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"getMapTouches",value:function(e){var t,n=[],r=Ti(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,l=o.target;this.el.contains(l)&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"applyChanges",value:function(){var e,t={},n={},r={},o=Ti(this.changes);try{for(o.s();!(e=o.n()).done;){var l=ue()(e.value,3),c=l[0],d=l[1],f=l[2];c.panDelta&&(t.panDelta=(t.panDelta||new He(0,0))._add(c.panDelta)),c.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+c.zoomDelta),c.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+c.bearingDelta),c.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+c.pitchDelta),void 0!==c.around&&(t.around=c.around),void 0!==c.pinchAround&&(t.pinchAround=c.pinchAround),c.noInertia&&(t.noInertia=c.noInertia),ke()(n,d),ke()(r,f)}}catch(e){o.e(e)}finally{o.f()}this.updateMapTransform(t,n,r),this.changes=[]}},{key:"updateMapTransform",value:function(e,t,n){var map=this.map,tr=map.transform;if(!Pi(e))return this.fireEvents(t,n);var r=e.panDelta,o=e.zoomDelta,l=e.bearingDelta,c=e.pitchDelta,d=e.pinchAround,f=e.around;void 0!==d&&(f=d),map.stop(!0),f=f||map.transform.centerPoint;var h=tr.pointLocation(r?f.sub(r):f);l&&(tr.bearing+=l),c&&(tr.pitch+=c),o&&(tr.zoom+=o),tr.setLocationAtPoint(h,f),this.map.update(),e.noInertia||this.inertia.record(e),this.fireEvents(t,n)}},{key:"fireEvents",value:function(e,t){var n=this,r=Mi(this.eventsInProgress),o=Mi(e),l={};for(var c in e)if(e[c]){var d=e[c].originalEvent;this.eventsInProgress[c]||(l["".concat(c,"start")]=d),this.eventsInProgress[c]=e[c]}for(var f in!r&&o&&this.fireEvent("movestart",o.originalEvent),l)l[f]&&this.fireEvent(f,l[f]);for(var h in e.rotate&&(this.bearingChanged=!0),o&&this.fireEvent("move",o.originalEvent),e)if(e[h]){var v=e[h].originalEvent;this.fireEvent(h,v)}var m,y={};for(var x in this.eventsInProgress)if(this.eventsInProgress[x]){var _=this.eventsInProgress[x],w=_.handlerName,k=_.originalEvent;this.handlersById[w].isActive()||(delete this.eventsInProgress[x],m=t[w]||k,y["".concat(x,"end")]=m)}for(var S in y)y[S]&&this.fireEvent(S,y[S]);var C=Mi(this.eventsInProgress);if((r||o)&&!C){this.updatingCamera=!0;var T=this.inertia.onMoveEnd(this.map.dragPan.inertiaOptions),E=function(e){return 0!==e&&-n.bearingSnap<e&&e<n.bearingSnap};T?(E(T.bearing||this.map.getBearing())&&(T.bearing=0),this.map.easeTo(T,{originalEvent:m})):(this.map.emit("moveend",new it("moveend",{originalEvent:m})),E(this.map.getBearing())&&this.map.resetNorth()),this.bearingChanged=!1,this.updatingCamera=!1}}},{key:"fireEvent",value:function(e,t){this.map.emit(e,new it(e,t?{originalEvent:t}:{}))}}]),e}(),Oi=n(322),Ii=n.n(Oi),Di=function(){function e(t){var n=this;h()(this,e),this.map=void 0,this.updateHash=void 0,this.hashName=void 0,this.onHashChange=function(){var e=n.getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(+e)}))){var t=n.map.dragRotate.isEnabled()&&n.map.touchZoomRotate.isEnabled()?+(e[3]||0):n.map.getBearing();return n.map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},this.getCurrentHash=function(){var e,t=window.location.hash.replace("#","");return n.hashName?(t.split("&").map((function(e){return e.split("=")})).forEach((function(t){t[0]===n.hashName&&(e=t)})),(e&&e[1]||"").split("/")):t.split("/")},this.updateHashUnthrottled=function(){var e=n.getHashString();try{window.history.replaceState(window.history.state,"",e)}catch(e){}},this.hashName=t&&encodeURIComponent(t),this.updateHash=Ii()(this.updateHashUnthrottled,300)}return m()(e,[{key:"addTo",value:function(map){return this.map=map,window.addEventListener("hashchange",this.onHashChange,!1),this.map.on("moveend",this.updateHash),this}},{key:"remove",value:function(){return window.removeEventListener("hashchange",this.onHashChange,!1),this.map.off("moveend",this.updateHash),delete this.map,this}},{key:"getHashString",value:function(e){var t=this.map.getCenter(),n=Math.round(100*this.map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),l=Math.round(t.lng*o)/o,c=Math.round(t.lat*o)/o,d=this.map.getBearing(),f=this.map.getPitch(),h="";if(h+=e?"/".concat(l,"/").concat(c,"/").concat(n):"".concat(n,"/").concat(c,"/").concat(l),(d||f)&&(h+="/".concat(Math.round(10*d)/10)),f&&(h+="/".concat(Math.round(f))),this.hashName){var v=this.hashName,m=!1,y=window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===v?(m=!0,"".concat(t,"=").concat(h)):e})).filter((function(a){return a}));return m||y.push("".concat(v,"=").concat(h)),"#".concat(y.join("&"))}return"#".concat(h)}}]),e}(),Ri=null,zi=[],Li=(window.performance,function(e){var t=e;if(null!=Ri){var n=t-Ri;zi.push(n)}Ri=t});function ji(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Ni=function(){function e(){h()(this,e),this.queue=void 0,this.id=void 0,this.cleared=void 0,this.currentlyRunning=void 0,this.queue=[],this.id=0,this.cleared=!1,this.currentlyRunning=!1}return m()(e,[{key:"add",value:function(e){var t=++this.id;return this.queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this.currentlyRunning,r=ji(n?this.queue.concat(n):this.queue);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id===e)return void(o.cancelled=!0)}}catch(e){r.e(e)}finally{r.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currentlyRunning=this.queue;this.queue=[];var n,r=ji(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!o.cancelled&&(o.callback(e),this.cleared))break}}catch(e){r.e(e)}finally{r.f()}this.cleared=!1,this.currentlyRunning=!1}},{key:"clear",value:function(){this.currentlyRunning&&(this.cleared=!0),this.queue=[]}}]),e}();function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}n(118)("/* @antv/l7-map */\n.l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var Vi={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},Ui=function(e){x()(n,e);var t=Bi(n);function n(e){var r;h()(this,n),(r=t.call(this,ke()({},Vi,e))).doubleClickZoom=void 0,r.dragRotate=void 0,r.dragPan=void 0,r.touchZoomRotate=void 0,r.scrollZoom=void 0,r.keyboard=void 0,r.touchPitch=void 0,r.boxZoom=void 0,r.handlers=void 0,r.container=void 0,r.canvas=void 0,r.canvasContainer=void 0,r.renderTaskQueue=new Ni,r.frame=void 0,r.trackResize=!0,r.hash=void 0,r.onWindowOnline=function(){r.update()},r.onWindowResize=function(e){r.trackResize&&r.resize({originalEvent:e}).update()},r.initContainer(),r.resize(),r.handlers=new Ai(_e()(r),r.options),"undefined"!=typeof window&&(window.addEventListener("online",r.onWindowOnline,!1),window.addEventListener("resize",r.onWindowResize,!1),window.addEventListener("orientationchange",r.onWindowResize,!1));var o="string"==typeof e.hash&&e.hash||void 0;return e.hash&&(r.hash=new Di(o).addTo(_e()(r))),r.hash&&r.hash.onHashChange()||(r.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(r.resize(),r.fitBounds(e.bounds,ke()({},e.fitBoundsOptions,{duration:0})))),r}return m()(n,[{key:"resize",value:function(e){var t=this.containerDimensions(),n=t[0],r=t[1];this.transform.resize(n,r);var o=!this.moving;return o&&(this.stop(),this.emit("movestart",new Event("movestart",e)),this.emit("move",new Event("move",e))),this.emit("resize",new Event("resize",e)),o&&this.emit("moveend",new Event("moveend",e)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(e){return this.transform.locationPoint(We.convert(e))}},{key:"unproject",value:function(e){return this.transform.pointLocation(He.convert(e))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){this.transform.setMaxBounds(Ue.convert(e))}},{key:"setStyle",value:function(style){}},{key:"setMinZoom",value:function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between ".concat(-2," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to ".concat(0));if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between ".concat(0," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to ".concat(60));if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){this.transform.renderWorldCopies=!!e}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(e){return this.update(),this.renderTaskQueue.add(e)}},{key:"cancelRenderFrame",value:function(e){return this.renderTaskQueue.remove(e)}},{key:"triggerRepaint",value:function(){var e=this;this.frame||(this.frame=Ve((function(t){Li(t),e.frame=null,e.update(t)})))}},{key:"update",value:function(time){var e=this;this.frame||(this.frame=Ve((function(t){Li(t),e.frame=null,e.renderTaskQueue.run(time)})))}},{key:"initContainer",value:function(){if("string"==typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var e=this.container;e.classList.add("l7-map");var t=this.canvasContainer=ne.b.create("div","l7-canvas-container",e);this.options.interactive&&t.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var e=0,t=0;return this.container&&(e=this.container.clientWidth||400,t=this.container.clientHeight||300),[e,t]}},{key:"resizeCanvas",value:function(e,t){var n=window.devicePixelRatio||1;this.canvas.width=n*e,this.canvas.height=n*t,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px")}}]),n}(ot),Wi=n(82),Hi=n(83),$i=n(319),qi=n(320),Gi=n(339),Zi=n(94),Yi=n(19),Xi=n(120);function Ki(e,t){var n=Xi.transformMat4([],t,e);return Xi.scale(n,n,1/n[3]),n}var Ji=n(32),Qi=n(81),en=n(146);function tn(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var nn=Math.PI,rn=nn/4,on=nn/180,an=180/nn;function sn(e){return Math.pow(2,e)}function un(e,t){var n=Object(Yi.a)(e,2),r=n[0],o=n[1];tn(Number.isFinite(r)&&Number.isFinite(t)),tn(Number.isFinite(o)&&o>=-90&&o<=90,"invalid latitude");var l=o*on;return[(t*=512)*(r*on+nn)/(2*nn),t*(nn-Math.log(Math.tan(rn+.5*l)))/(2*nn)]}function ln(e,t){var n=Object(Yi.a)(e,2),r=n[0],o=n[1],l=r/(t*=512)*(2*nn)-nn,c=2*(Math.atan(Math.exp(nn-o/t*(2*nn)))-rn);return[l*an,c*an]}function cn(e){var t=e.latitude,n=e.longitude,r=e.zoom,o=e.scale,l=e.highPrecision,c=void 0!==l&&l;o=void 0!==o?o:sn(r),tn(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(o));var d={},f=512*o,h=Math.cos(t*on),v=f/360,m=v/h,y=f/4003e4/h;if(d.pixelsPerMeter=[y,-y,y],d.metersPerPixel=[1/y,-1/y,1/y],d.pixelsPerDegree=[v,-m,y],d.degreesPerPixel=[1/v,-1/m,1/y],c){var x=on*Math.tan(t*on)/h,_=v*x/2,w=f/4003e4*x,k=w/m*y;d.pixelsPerDegree2=[0,-_,w],d.pixelsPerMeter2=[k,0,k]}return d}function dn(e){var t=e.height,n=e.pitch,r=e.bearing,o=e.altitude,l=e.center,c=void 0===l?null:l,d=e.flipY,f=void 0!==d&&d,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Ji.translate(h,h,[0,0,-o]),Ji.scale(h,h,[1,1,1/t]),Ji.rotateX(h,h,-n*on),Ji.rotateZ(h,h,r*on),f&&Ji.scale(h,h,[1,-1,1]),c&&Ji.translate(h,h,en.negate([],c)),h}function fn(e){var t=e.width,n=e.height,r=e.pitch,o=function(e){var t=e.width,n=e.height,r=e.altitude,o=void 0===r?1.5:r,l=e.pitch,c=void 0===l?0:l,d=e.nearZMultiplier,f=void 0===d?1:d,h=e.farZMultiplier,v=void 0===h?1:h,m=c*on,y=Math.atan(.5/o),x=Math.sin(y)*o/Math.sin(Math.PI/2-m-y),_=Math.cos(Math.PI/2-m)*x+o;return{fov:2*Math.atan(n/2/o),aspect:t/n,focalDistance:o,near:f,far:_*v}}({width:t,height:n,altitude:e.altitude,pitch:r,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),l=o.fov,c=o.aspect,d=o.near,f=o.far;return Ji.perspective([],l,c,d,f)}function hn(e,t){var n=Object(Yi.a)(e,3),r=n[0],o=n[1],l=n[2],c=void 0===l?0:l;return tn(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(c)),Ki(t,[r,o,c,1])}function pn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(Yi.a)(e,3),o=r[0],l=r[1],c=r[2];if(tn(Number.isFinite(o)&&Number.isFinite(l),"invalid pixel coordinate"),Number.isFinite(c)){var d=Ki(t,[o,l,c,1]);return d}var f=Ki(t,[o,l,0,1]),h=Ki(t,[o,l,1,1]),v=f[2],m=h[2],y=v===m?0:((n||0)-v)/(m-v);return Qi.lerp([],f,h,y)}var vn=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function mn(e){var t=e.width,n=e.height,r=e.bounds,o=e.minExtent,l=void 0===o?0:o,c=e.maxZoom,d=void 0===c?24:c,f=e.padding,h=void 0===f?0:f,v=e.offset,m=void 0===v?[0,0]:v,y=Object(Yi.a)(r,2),x=Object(Yi.a)(y[0],2),_=x[0],w=x[1],k=Object(Yi.a)(y[1],2),S=k[0],C=k[1];if(Number.isFinite(h)){h={top:h,bottom:h,left:h,right:h}}else tn(Number.isFinite(h.top)&&Number.isFinite(h.bottom)&&Number.isFinite(h.left)&&Number.isFinite(h.right));var T=new An({width:t,height:n,longitude:0,latitude:0,zoom:0}),E=T.project([_,C]),M=T.project([S,w]),P=[Math.max(Math.abs(M[0]-E[0]),l),Math.max(Math.abs(M[1]-E[1]),l)],A=[t-h.left-h.right-2*Math.abs(m[0]),n-h.top-h.bottom-2*Math.abs(m[1])];tn(A[0]>0&&A[1]>0);var O=A[0]/P[0],I=A[1]/P[1],D=(h.right-h.left)/2/O,R=(h.bottom-h.top)/2/I,z=[(M[0]+E[0])/2+D,(M[1]+E[1])/2+R],L=T.unproject(z),j=T.zoom+Math.log2(Math.abs(Math.min(O,I)));return{longitude:L[0],latitude:L[1],zoom:Math.min(j,d)}}var gn,yn,bn,xn,_n,wn,kn,Sn,Cn,Tn,En,Mn,Pn,An=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,o=n.height,l=n.latitude,c=void 0===l?0:l,d=n.longitude,f=void 0===d?0:d,h=n.zoom,v=void 0===h?0:h,m=n.pitch,y=void 0===m?0:m,x=n.bearing,_=void 0===x?0:x,w=n.altitude,k=void 0===w?1.5:w,S=n.nearZMultiplier,C=n.farZMultiplier;Object(Wi.a)(this,t),r=r||1,o=o||1;var T=sn(v);k=Math.max(.75,k);var E=un([f,c],T);E[2]=0;var M=fn({width:r,height:o,pitch:y,bearing:_,altitude:k,nearZMultiplier:S||1/o,farZMultiplier:C||1.01}),P=dn({height:o,center:E,pitch:y,bearing:_,altitude:k,flipY:!0});return(e=Object($i.a)(this,Object(qi.a)(t).call(this,{width:r,height:o,viewMatrix:P,projectionMatrix:M}))).latitude=c,e.longitude=f,e.zoom=v,e.pitch=y,e.bearing=_,e.altitude=k,e.scale=T,e.center=E,e.pixelsPerMeter=cn(Object(Zi.a)(Object(Zi.a)(e))).pixelsPerMeter[2],Object.freeze(Object(Zi.a)(Object(Zi.a)(e))),e}return Object(Gi.a)(t,e),Object(Hi.a)(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return un(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return ln(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=pn(e.pos,this.pixelUnprojectionMatrix),r=un(t,this.scale),o=Qi.add([],r,Qi.negate([],n));return ln(Qi.add([],this.center,o),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,o=this.height,l=mn(Object.assign({width:r,height:o,bounds:e},n)),c=l.longitude,d=l.latitude,f=l.zoom;return new t({width:r,height:o,longitude:c,latitude:d,zoom:f})}}]),t}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height,o=t.viewMatrix,l=void 0===o?vn:o,c=t.projectionMatrix,d=void 0===c?vn:c;Object(Wi.a)(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=l,this.projectionMatrix=d;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ji.multiply(f,f,this.projectionMatrix),Ji.multiply(f,f,this.viewMatrix),this.viewProjectionMatrix=f;var h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ji.scale(h,h,[this.width/2,-this.height/2,1]),Ji.translate(h,h,[1,-1,0]),Ji.multiply(h,h,this.viewProjectionMatrix);var v=Ji.invert([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h);if(!v)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=h,this.pixelUnprojectionMatrix=v,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(Hi.a)(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&Ji.equals(t.projectionMatrix,this.projectionMatrix)&&Ji.equals(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,o=this.projectPosition(e),l=hn(o,this.pixelProjectionMatrix),c=Object(Yi.a)(l,2),d=c[0],f=c[1],h=r?f:this.height-f;return 2===e.length?[d,h]:[d,h,l[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,o=t.targetZ,l=Object(Yi.a)(e,3),c=l[0],d=l[1],f=l[2],h=r?d:this.height-d,v=o&&o*this.pixelsPerMeter,m=pn([c,h,f],this.pixelUnprojectionMatrix,v),y=this.unprojectPosition(m),x=Object(Yi.a)(y,3),_=x[0],w=x[1],k=x[2];return Number.isFinite(f)?[_,w,k]:Number.isFinite(o)?[_,w,o]:[_,w]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(Yi.a)(t,2);return[n[0],n[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(Yi.a)(t,2);return[n[0],n[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}()),On=function(){function e(){h()(this,e),this.viewport=void 0}return m()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,o=e.bearing,l=e.viewportHeight,c=e.viewportWidth;this.viewport=new An({width:c,height:l,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:o})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}(),In={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};function Dn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Rn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Dn(Object(source),!0).forEach((function(t){T()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Dn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var zn={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},Ln=(gn=Object(oe.injectable)(),yn=Object(oe.inject)(O.TYPES.MapConfig),bn=Object(oe.inject)(O.TYPES.IGlobalConfigService),xn=Object(oe.inject)(O.TYPES.ILogService),_n=Object(oe.inject)(O.TYPES.ICoordinateSystemService),wn=Object(oe.inject)(O.TYPES.IEventEmitter),gn((Sn=function(){function e(){var t=this;h()(this,e),this.map=void 0,M()(this,"config",Cn,this),M()(this,"configService",Tn,this),M()(this,"logger",En,this),M()(this,"coordinateSystemService",Mn,this),M()(this,"eventEmitter",Pn,this),this.viewport=void 0,this.markerContainer=void 0,this.cameraChangedCallback=void 0,this.$mapContainer=void 0,this.handleCameraChanged=function(){var e=t.map.getCenter(),n=e.lat,r=e.lng;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0}),t.viewport.getZoom()>12?t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.LNGLAT),t.cameraChangedCallback(t.viewport)}}var t;return m()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=ne.b.create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==O.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(zn[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(zn[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(option,e){this.map.zoomIn(option,e)}},{key:"zoomOut",value:function(option,e){this.map.zoomOut(option,e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(p){this.map.panTo(p)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(option){!0===option.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===option.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===option.dragEnable&&this.map.dragPan.disable(),!0===option.dragEnable&&this.map.dragPan.enable(),!1===option.rotateEnable&&this.map.dragRotate.disable(),!0===option.dragEnable&&this.map.dragRotate.enable(),!1===option.keyboardEnable&&this.map.keyboard.disable(),!0===option.keyboardEnable&&this.map.keyboard.enable(),!1===option.zoomEnable&&this.map.scrollZoom.disable(),!0===option.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(style){this.map.setStyle(this.getMapStyle(style))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){throw new Error("not implement")}},{key:"getModelMatrix",value:function(e,t,n){throw new Error("not implement")}},{key:"init",value:(t=ee()(X.a.mark((function e(){var t,n,r,o,style,l,c,d,f;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,t.attributionControl,o=t.style,style=void 0===o?"light":o,l=t.rotation,c=void 0===l?0:l,d=t.mapInstance,f=J()(t,["id","attributionControl","style","rotation","mapInstance"]),this.viewport=new On,d?(this.map=d,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new Ui(Rn({container:this.$mapContainer,style:this.getMapStyle(style),bearing:c},f))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas();return"jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png")}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t}},{key:"getMapStyle",value:function(e){return"string"!=typeof e?e:In[e]?In[e]:e}}]),e}(),Cn=A()(Sn.prototype,"config",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=A()(Sn.prototype,"configService",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=A()(Sn.prototype,"logger",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn=A()(Sn.prototype,"coordinateSystemService",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pn=A()(Sn.prototype,"eventEmitter",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=Sn))||kn);function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Fn,Nn,Bn,Vn,Un,Wn,Hn,$n,qn,Gn,Zn,Yn,Xn,Kn=function(e){x()(n,e);var t=jn(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"getServiceConstructor",value:function(){return Ln}}]),n}(Z),Jn=n(318),Qn=n.n(Jn),er=function(){function e(){h()(this,e),this.viewport=void 0}return m()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,o=e.bearing,l=e.viewportHeight,c=e.viewportWidth;this.viewport=new An({width:c,height:l,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:o})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}(),ir={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};function nr(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function rr(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nr(Object(source),!0).forEach((function(t){T()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):nr(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n(118)("/* @antv/l7-maps */\n.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:0;margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 24px 2px 4px;visibility:visible;margin-top:6px}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact:after{content:\"\";cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=Qn.a;var or={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},ar=0,sr="pk.eyJ1IjoibHp4dWUiLCJhIjoiYnhfTURyRSJ9.Ugm314vAKPHBzcPmY1p4KQ",ur=(Fn=Object(oe.injectable)(),Nn=Object(oe.inject)(O.TYPES.MapConfig),Bn=Object(oe.inject)(O.TYPES.IGlobalConfigService),Vn=Object(oe.inject)(O.TYPES.ILogService),Un=Object(oe.inject)(O.TYPES.ICoordinateSystemService),Wn=Object(oe.inject)(O.TYPES.IEventEmitter),Fn(($n=function(){function e(){var t=this;h()(this,e),this.map=void 0,M()(this,"config",qn,this),M()(this,"configService",Gn,this),M()(this,"logger",Zn,this),M()(this,"coordinateSystemService",Yn,this),M()(this,"eventEmitter",Xn,this),this.viewport=void 0,this.markerContainer=void 0,this.cameraChangedCallback=void 0,this.$mapContainer=void 0,this.handleCameraChanged=function(){var e=t.map.getCenter().wrap(),n=e.lat,r=e.lng;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0}),t.viewport.getZoom()>12?t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(O.CoordinateSystem.LNGLAT),t.cameraChangedCallback(t.viewport)}}var t;return m()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=ne.b.create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==O.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(or[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(or[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(option,e){this.map.zoomIn(option,e)}},{key:"zoomOut",value:function(option,e){this.map.zoomOut(option,e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(p){this.map.panTo(p)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(option){!0===option.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===option.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===option.dragEnable&&this.map.dragPan.disable(),!0===option.dragEnable&&this.map.dragPan.enable(),!1===option.rotateEnable&&this.map.dragRotate.disable(),!0===option.rotateEnable&&this.map.dragRotate.enable(),!1===option.keyboardEnable&&this.map.keyboard.disable(),!0===option.keyboardEnable&&this.map.keyboard.enable(),!1===option.zoomEnable&&this.map.scrollZoom.disable(),!0===option.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(style){this.map.setStyle(this.getMapStyle(style))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),r=n.x,o=void 0===r?0:r,l=n.y,c=void 0===l?0:l,d=n.z;return{x:o,y:c,z:void 0===d?0:d}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},l=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),c=l.meterInMercatorCoordinateUnits(),d=re.b.create();return re.b.translate(d,d,re.d.fromValues(l.x-o.x,l.y-o.y,l.z||0-o.z)),re.b.scale(d,d,re.d.fromValues(c*r[0],-c*r[1],c*r[2])),re.b.rotateX(d,d,n[0]),re.b.rotateY(d,d,n[1]),re.b.rotateZ(d,d,n[2]),d}},{key:"init",value:(t=ee()(X.a.mark((function e(){var t,n,r,o,l,c,style,d,f,h,v,m,y;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,o=t.attributionControl,l=void 0!==o&&o,c=t.style,style=void 0===c?"light":c,d=t.token,f=void 0===d?sr:d,h=t.rotation,v=void 0===h?0:h,m=t.mapInstance,y=J()(t,["id","attributionControl","style","token","rotation","mapInstance"]),this.viewport=new er,m||window.mapboxgl||this.logger.error(this.configService.getSceneWarninfo("SDK")),f!==sr||"blank"===style||window.mapboxgl.accessToken||m||this.logger.warn(this.configService.getSceneWarninfo("MapToken")),m||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=f),m?(this.map=m,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new window.mapboxgl.Map(rr({container:this.$mapContainer,style:this.getMapStyle(style),attributionControl:l,bearing:v},y))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas();return"jpg"===e?null==t?void 0:t.toDataURL("image/jpeg"):null==t?void 0:t.toDataURL("image/png")}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"==typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_mapbox_div"+ar++,t.appendChild(n),n}},{key:"getMapStyle",value:function(e){return"string"!=typeof e?e:ir[e]?ir[e]:e}}]),e}(),qn=A()($n.prototype,"config",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=A()($n.prototype,"configService",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=A()($n.prototype,"logger",[Vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=A()($n.prototype,"coordinateSystemService",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=A()($n.prototype,"eventEmitter",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=$n))||Hn);function lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}n(118)("/* @antv/l7-maps */\n.mapboxgl-ctrl-logo {\n display: none !important;\n}\n");var cr=function(e){x()(n,e);var t=lr(n);function n(){return h()(this,n),t.apply(this,arguments)}return m()(n,[{key:"getServiceConstructor",value:function(){return ur}}]),n}(Z)},function(e,t,n){var r=n(80),o=n(187),l=n(61),c=Function.prototype,d=Object.prototype,f=c.toString,h=d.hasOwnProperty,v=f.call(Object);e.exports=function(e){if(!l(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=h.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==v}},function(e,t,n){var r=n(534)("toUpperCase");e.exports=r},,function(e,t,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,r=t.slots,o=t.props,l=r(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||d)?e(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=r},,function(e,t,n){"use strict";var r=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher","unit"];function o(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var l=Array.isArray;function c(e){return null!==e&&"object"==typeof e}function d(e){return"string"==typeof e}var f=Object.prototype.toString;function h(e){return"[object Object]"===f.call(e)}function v(e){return null==e}function m(e){return"function"==typeof e}function y(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,r=null;return 1===e.length?c(e[0])||l(e[0])?r=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(c(e[1])||l(e[1]))&&(r=e[1])),{locale:n,params:r}}function x(e){return JSON.parse(JSON.stringify(e))}function _(e,t){return!!~e.indexOf(t)}var w=Object.prototype.hasOwnProperty;function k(e,t){return w.call(e,t)}function S(e){for(var t=arguments,output=Object(e),i=1;i<arguments.length;i++){var source=t[i];if(null!=source){var n=void 0;for(n in source)k(source,n)&&(c(source[n])?output[n]=S(output[n],source[n]):output[n]=source[n])}}return output}function C(a,b){if(a===b)return!0;var e=c(a),t=c(b);if(!e||!t)return!e&&!t&&String(a)===String(b);try{var n=l(a),r=l(b);if(n&&r)return a.length===b.length&&a.every((function(e,i){return C(e,b[i])}));if(n||r)return!1;var o=Object.keys(a),d=Object.keys(b);return o.length===d.length&&o.every((function(e){return C(a[e],b[e])}))}catch(e){return!1}}function T(e){return null!=e&&Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=e[t].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),e}var E={beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n)if(e.i18n instanceof ne){if(e.__i18n)try{var t=e.i18n&&e.i18n.messages?e.i18n.messages:{};e.__i18n.forEach((function(e){t=S(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(h(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18n)try{var r=e.i18n&&e.i18n.messages?e.i18n.messages:{};e.__i18n.forEach((function(e){r=S(r,JSON.parse(e))})),e.i18n.messages=r}catch(e){0}var o=e.i18n.sharedMessages;o&&h(o)&&(e.i18n.messages=S(e.i18n.messages,o)),this._i18n=new ne(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ne&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n?(e.i18n instanceof ne||h(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ne||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof ne)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}},M={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var data=t.data,n=t.parent,r=t.props,o=t.slots,l=n.$i18n;if(l){var path=r.path,c=r.locale,d=r.places,f=o(),h=l.i(path,c,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(f)||d?function(e,t){var n=t?function(e){0;return Array.isArray(e)?e.reduce(A,{}):Object.assign({},e)}(t):{};if(!e)return n;var r=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(O);0;return e.reduce(r?P:A,n)}(f.default,d):f),v=r.tag&&!0!==r.tag||!1===r.tag?r.tag:"span";return v?e(v,data,h):h}}};function P(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function A(e,t,n){return e[n]=t,e}function O(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var I,D={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,o=t.parent,data=t.data,l=o.$i18n;if(!l)return null;var f=null,h=null;d(n.format)?f=n.format:c(n.format)&&(n.format.key&&(f=n.format.key),h=Object.keys(n.format).reduce((function(e,t){var o;return _(r,t)?Object.assign({},e,((o={})[t]=n.format[t],o)):e}),null));var v=n.locale||l.locale,m=l._ntp(n.value,v,f,h),y=m.map((function(e,t){var n,slot=data.scopedSlots&&data.scopedSlots[e.type];return slot?slot(((n={})[e.type]=e.value,n.index=t,n.parts=m,n)):e.value})),x=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return x?e(x,{attrs:data.attrs,class:data.class,staticClass:data.staticClass},y):y}};function R(e,t,n){j(e,n)&&F(e,t,n)}function z(e,t,n,r){if(j(e,n)){var o=n.context.$i18n;(function(e,t){var n=t.context;return e._locale===n.$i18n.locale})(e,n)&&C(t.value,t.oldValue)&&C(e._localeMessage,o.getLocaleMessage(o.locale))||F(e,t,n)}}function L(e,t,n,r){if(n.context){var l=n.context.$i18n||{};t.modifiers.preserve||l.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else o("Vue instance does not exists in VNode context")}function j(e,t){var n=t.context;return n?!!n.$i18n||(o("VueI18n instance does not exists in Vue instance"),!1):(o("Vue instance does not exists in VNode context"),!1)}function F(e,t,n){var r,l,c=function(e){var path,t,n,r;d(e)?path=e:h(e)&&(path=e.path,t=e.locale,n=e.args,r=e.choice);return{path:path,locale:t,args:n,choice:r}}(t.value),path=c.path,f=c.locale,v=c.args,m=c.choice;if(path||f||v)if(path){var y=n.context;e._vt=e.textContent=null!=m?(r=y.$i18n).tc.apply(r,[path,m].concat(N(f,v))):(l=y.$i18n).t.apply(l,[path].concat(N(f,v))),e._locale=y.$i18n.locale,e._localeMessage=y.$i18n.getLocaleMessage(y.$i18n.locale)}else o("`path` is required in v-t directive");else o("value type not supported")}function N(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||h(t))&&n.push(t),n}function B(e){B.installed=!0;(I=e).version&&Number(I.version.split(".")[0]);(function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}})(I),I.mixin(E),I.directive("t",{bind:R,update:z,unbind:L}),I.component(M.name,M),I.component(D.name,D),I.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var V=function(){this._caches=Object.create(null)};V.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=function(e){var t=[],n=0,text="";for(;n<e.length;){var r=e[n++];if("{"===r){text&&t.push({type:"text",value:text}),text="";var sub="";for(r=e[n++];void 0!==r&&"}"!==r;)sub+=r,r=e[n++];var o="}"===r,l=U.test(sub)?"list":o&&W.test(sub)?"named":"unknown";t.push({value:sub,type:l})}else"%"===r?"{"!==e[n]&&(text+=r):text+=r}return text&&t.push({type:"text",value:text}),t}(e),this._caches[e]=n),function(e,t){var n=[],r=0,o=Array.isArray(t)?"list":c(t)?"named":"unknown";if("unknown"===o)return n;for(;r<e.length;){var l=e[r];switch(l.type){case"text":n.push(l.value);break;case"list":n.push(t[parseInt(l.value,10)]);break;case"named":"named"===o&&n.push(t[l.value]);break;case"unknown":0}r++}return n}(n,t)};var U=/^(?:\d)+/,W=/^(?:\w)+/;var H=[];H[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},H[1]={ws:[1],".":[2],"[":[4],eof:[7]},H[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},H[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},H[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},H[5]={"'":[4,0],eof:8,else:[5,0]},H[6]={'"':[4,0],eof:8,else:[6,0]};var $=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function G(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function Z(path){var e,a,t,n=path.trim();return("0"!==path.charAt(0)||!isNaN(path))&&(t=n,$.test(t)?(a=(e=n).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==a&&39!==a?e:e.slice(1,-1):"*"+n)}var Y=function(){this._cache=Object.create(null)};Y.prototype.parsePath=function(path){var e=this._cache[path];return e||(e=function(path){var e,t,n,r,o,l,c,d=[],f=-1,h=0,v=0,m=[];function y(){var e=path[f+1];if(5===h&&"'"===e||6===h&&'"'===e)return f++,n="\\"+e,m[0](),!0}for(m[1]=function(){void 0!==t&&(d.push(t),t=void 0)},m[0]=function(){void 0===t?t=n:t+=n},m[2]=function(){m[0](),v++},m[3]=function(){if(v>0)v--,h=4,m[0]();else{if(v=0,void 0===t)return!1;if(!1===(t=Z(t)))return!1;m[1]()}};null!==h;)if(f++,"\\"!==(e=path[f])||!y()){if(r=G(e),8===(o=(c=H[h])[r]||c.else||8))return;if(h=o[0],(l=m[o[1]])&&(n=void 0===(n=o[2])?e:n,!1===l()))return;if(7===h)return d}}(path))&&(this._cache[path]=e),e||[]},Y.prototype.getPathValue=function(e,path){if(!c(e))return null;var t=this.parsePath(path);if(0===t.length)return null;for(var n=t.length,r=e,i=0;i<n;){var o=r[t[i]];if(void 0===o)return null;r=o,i++}return r};var X,K=/<\/?[\w\s="/.':;#-\/]+>/,J=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,Q=/^@(?:\.([a-z]+))?:/,ee=/[()]/g,te={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},ie=new V,ne=function(e){var t=this;void 0===e&&(e={}),!I&&"undefined"!=typeof window&&window.Vue&&B(window.Vue);var n=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},l=e.dateTimeFormats||{},c=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||ie,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new Y,this._dataListeners=[],this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,this.getChoiceIndex=function(e,n){var r=Object.getPrototypeOf(t);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(t,e,n);var o,l;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):(o=e,l=n,o=Math.abs(o),2===l?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(e,n){return!(!e||!n)&&(!v(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])})),this._initVM({locale:n,fallbackLocale:r,messages:o,dateTimeFormats:l,numberFormats:c})},re={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};ne.prototype._checkLocaleMessage=function(e,t,n){var r=function(e,t,n,c){if(h(n))Object.keys(n).forEach((function(o){var l=n[o];h(l)?(c.push(o),c.push("."),r(e,t,l,c),c.pop(),c.pop()):(c.push(o),r(e,t,l,c),c.pop())}));else if(l(n))n.forEach((function(n,o){h(n)?(c.push("["+o+"]"),c.push("."),r(e,t,n,c),c.pop(),c.pop()):(c.push("["+o+"]"),r(e,t,n,c),c.pop())}));else if(d(n)){if(K.test(n)){var f="Detected HTML in message '"+n+"' of keypath '"+c.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?o(f):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(f)}}};r(t,e,n,[])},ne.prototype._initVM=function(data){var e=I.config.silent;I.config.silent=!0,this._vm=new I({data:data}),I.config.silent=e},ne.prototype.destroyVM=function(){this._vm.$destroy()},ne.prototype.subscribeDataChanging=function(e){this._dataListeners.push(e)},ne.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)e.splice(n,1)}}(this._dataListeners,e)},ne.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var i=e._dataListeners.length;i--;)I.nextTick((function(){e._dataListeners[i]&&e._dataListeners[i].$forceUpdate()}))}),{deep:!0})},ne.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var e=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){e.$set(e,"locale",t),e.$forceUpdate()}),{immediate:!0})},ne.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},re.vm.get=function(){return this._vm},re.messages.get=function(){return x(this._getMessages())},re.dateTimeFormats.get=function(){return x(this._getDateTimeFormats())},re.numberFormats.get=function(){return x(this._getNumberFormats())},re.availableLocales.get=function(){return Object.keys(this.messages).sort()},re.locale.get=function(){return this._vm.locale},re.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},re.fallbackLocale.get=function(){return this._vm.fallbackLocale},re.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},re.formatFallbackMessages.get=function(){return this._formatFallbackMessages},re.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},re.missing.get=function(){return this._missing},re.missing.set=function(e){this._missing=e},re.formatter.get=function(){return this._formatter},re.formatter.set=function(e){this._formatter=e},re.silentTranslationWarn.get=function(){return this._silentTranslationWarn},re.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},re.silentFallbackWarn.get=function(){return this._silentFallbackWarn},re.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},re.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},re.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},re.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},re.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])}))}},re.postTranslation.get=function(){return this._postTranslation},re.postTranslation.set=function(e){this._postTranslation=e},ne.prototype._getMessages=function(){return this._vm.messages},ne.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ne.prototype._getNumberFormats=function(){return this._vm.numberFormats},ne.prototype._warnDefault=function(e,t,n,r,o,l){if(!v(n))return n;if(this._missing){var c=this._missing.apply(null,[e,t,r,o]);if(d(c))return c}else 0;if(this._formatFallbackMessages){var f=y.apply(void 0,o);return this._render(t,l,f.params,t)}return t},ne.prototype._isFallbackRoot=function(e){return!e&&!v(this._root)&&this._fallbackRoot},ne.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},ne.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},ne.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},ne.prototype._interpolate=function(e,t,n,r,o,c,f){if(!t)return null;var y,x=this._path.getPathValue(t,n);if(l(x)||h(x))return x;if(v(x)){if(!h(t))return null;if(!d(y=t[n])&&!m(y))return null}else{if(!d(x)&&!m(x))return null;y=x}return d(y)&&(y.indexOf("@:")>=0||y.indexOf("@.")>=0)&&(y=this._link(e,t,y,r,"raw",c,f)),this._render(y,o,c,n)},ne.prototype._link=function(e,t,n,r,o,c,d){var f=n,h=f.match(J);for(var v in h)if(h.hasOwnProperty(v)){var link=h[v],m=link.match(Q),y=m[0],x=m[1],w=link.replace(y,"").replace(ee,"");if(_(d,w))return f;d.push(w);var k=this._interpolate(e,t,w,r,"raw"===o?"string":o,"raw"===o?void 0:c,d);if(this._isFallbackRoot(k)){if(!this._root)throw Error("unexpected error");var S=this._root.$i18n;k=S._translate(S._getMessages(),S.locale,S.fallbackLocale,w,r,o,c)}k=this._warnDefault(e,w,k,r,l(c)?c:[c],o),this._modifiers.hasOwnProperty(x)?k=this._modifiers[x](k):te.hasOwnProperty(x)&&(k=te[x](k)),d.pop(),f=k?f.replace(link,k):f}return f},ne.prototype._createMessageContext=function(e){var t=l(e)?e:[],n=c(e)?e:{};return{list:function(e){return t[e]},named:function(e){return n[e]}}},ne.prototype._render=function(e,t,n,path){if(m(e))return e(this._createMessageContext(n));var r=this._formatter.interpolate(e,n,path);return r||(r=ie.interpolate(e,n,path)),"string"!==t||d(r)?r:r.join("")},ne.prototype._appendItemToChain=function(e,t,n){var r=!1;return _(e,t)||(r=!0,t&&(r="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(r=n[t]))),r},ne.prototype._appendLocaleToChain=function(e,t,n){var r,o=t.split("-");do{var l=o.join("-");r=this._appendItemToChain(e,l,n),o.splice(-1,1)}while(o.length&&!0===r);return r},ne.prototype._appendBlockToChain=function(e,t,n){for(var r=!0,i=0;i<t.length&&"boolean"==typeof r;i++){var o=t[i];d(o)&&(r=this._appendLocaleToChain(e,o,n))}return r},ne.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var r,o=[e];l(o);)o=this._appendBlockToChain(n,o,t);(o=d(r=l(t)?t:c(t)?t.default?t.default:null:t)?[r]:r)&&this._appendBlockToChain(n,o,null),this._localeChainCache[e]=n}return n},ne.prototype._translate=function(e,t,n,r,o,l,c){for(var d,f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var h=f[i];if(!v(d=this._interpolate(h,e[h],r,o,l,c,[r])))return d}return null},ne.prototype._t=function(e,t,n,r){for(var o,l=[],c=arguments.length-4;c-- >0;)l[c]=arguments[c+4];if(!e)return"";var d=y.apply(void 0,l);this._escapeParameterHtml&&(d.params=T(d.params));var f=d.locale||t,h=this._translate(n,f,this.fallbackLocale,e,r,"string",d.params);if(this._isFallbackRoot(h)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(l))}return h=this._warnDefault(f,e,h,r,l,"string"),this._postTranslation&&null!=h&&(h=this._postTranslation(h,e)),h},ne.prototype.t=function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},ne.prototype._i=function(e,t,n,r,o){var l=this._translate(n,t,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,o)}return this._warnDefault(t,e,l,r,[o],"raw")},ne.prototype.i=function(e,t,n){return e?(d(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},ne.prototype._tc=function(e,t,n,r,o){for(var l,c=[],d=arguments.length-5;d-- >0;)c[d]=arguments[d+5];if(!e)return"";void 0===o&&(o=1);var f={count:o,n:o},h=y.apply(void 0,c);return h.params=Object.assign(f,h.params),c=null===h.locale?[h.params]:[h.locale,h.params],this.fetchChoice((l=this)._t.apply(l,[e,t,n,r].concat(c)),o)},ne.prototype.fetchChoice=function(e,t){if(!e||!d(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},ne.prototype.tc=function(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(r))},ne.prototype._te=function(e,t,n){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var l=y.apply(void 0,r).locale||t;return this._exist(n[l],e)},ne.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},ne.prototype.getLocaleMessage=function(e){return x(this._vm.messages[e]||{})},ne.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},ne.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,S({},this._vm.messages[e]||{},t))},ne.prototype.getDateTimeFormat=function(e){return x(this._vm.dateTimeFormats[e]||{})},ne.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},ne.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,S(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},ne.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},ne.prototype._localizeDateTime=function(e,t,n,r,o){for(var l=t,c=r[l],d=this._getLocaleChain(t,n),i=0;i<d.length;i++){var f=d[i];if(l=f,!v(c=r[f])&&!v(c[o]))break}if(v(c)||v(c[o]))return null;var h=c[o],m=l+"__"+o,y=this._dateTimeFormatters[m];return y||(y=this._dateTimeFormatters[m]=new Intl.DateTimeFormat(l,h)),y.format(e)},ne.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var r=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return r||""},ne.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,o=null;return 1===t.length?d(t[0])?o=t[0]:c(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(o=t[0].key)):2===t.length&&(d(t[0])&&(o=t[0]),d(t[1])&&(r=t[1])),this._d(e,r,o)},ne.prototype.getNumberFormat=function(e){return x(this._vm.numberFormats[e]||{})},ne.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},ne.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,S(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},ne.prototype._clearNumberFormat=function(e,t){for(var n in t){var r=e+"__"+n;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},ne.prototype._getNumberFormatter=function(e,t,n,r,o,l){for(var c=t,d=r[c],f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var h=f[i];if(c=h,!v(d=r[h])&&!v(d[o]))break}if(v(d)||v(d[o]))return null;var m,y=d[o];if(l)m=new Intl.NumberFormat(c,Object.assign({},y,l));else{var x=c+"__"+o;(m=this._numberFormatters[x])||(m=this._numberFormatters[x]=new Intl.NumberFormat(c,y))}return m},ne.prototype._n=function(e,t,n,r){if(!ne.availabilities.numberFormat)return"";if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).format(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),l=o&&o.format(e);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},r))}return l||""},ne.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.locale,l=null,f=null;return 1===t.length?d(t[0])?l=t[0]:c(t[0])&&(t[0].locale&&(o=t[0].locale),t[0].key&&(l=t[0].key),f=Object.keys(t[0]).reduce((function(e,n){var o;return _(r,n)?Object.assign({},e,((o={})[n]=t[0][n],o)):e}),null)):2===t.length&&(d(t[0])&&(l=t[0]),d(t[1])&&(o=t[1])),this._n(e,o,l,f)},ne.prototype._ntp=function(e,t,n,r){if(!ne.availabilities.numberFormat)return[];if(!n)return(r?new Intl.NumberFormat(t,r):new Intl.NumberFormat(t)).formatToParts(e);var o=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,r),l=o&&o.formatToParts(e);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,r)}return l||[]},Object.defineProperties(ne.prototype,re),Object.defineProperty(ne,"availabilities",{get:function(){if(!X){var e="undefined"!=typeof Intl;X={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return X}}),ne.install=B,ne.version="8.22.1",t.a=ne},function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame((function(){var n=t.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(t){t.call(n,e)}))}))}t=function(element,e){var t,r=this.document,o=r.attachEvent;if("undefined"!=typeof navigator&&(t=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!element.__resizeListeners__)if(element.__resizeListeners__=[],o)element.__resizeTrigger__=element,element.attachEvent("onresize",n);else{"static"===getComputedStyle(element).position&&(element.style.position="relative");var l=element.__resizeTrigger__=r.createElement("object");l.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),l.setAttribute("class","resize-sensor"),l.setAttribute("tabindex","-1"),l.__resizeElement__=element,l.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)},l.type="text/html",t&&element.appendChild(l),l.data="about:blank",t||element.appendChild(l)}element.__resizeListeners__.push(e)};e.exports="undefined"==typeof window?t:t.bind(window),e.exports.unbind=function(element,e){var t=document.attachEvent,r=element.__resizeListeners__||[];if(e){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}else r=element.__resizeListeners__=[];if(!r.length){if(t)element.detachEvent("onresize",n);else if(element.__resizeTrigger__){var l=element.__resizeTrigger__.contentDocument,c=l&&l.defaultView;c&&(c.removeEventListener("resize",n),delete c.__resizeTrigger__),element.__resizeTrigger__=!element.removeChild(element.__resizeTrigger__)}delete element.__resizeListeners__}}},function(e,t,n){var r=n(552),o=n(270);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(34),l=n(55),c=n(79),d=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=d,t.inject=function(e){return function(t,n,d){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var f=new l.Metadata(o.INJECT_TAG,e);"number"==typeof d?c.tagParameter(t,n,d,f):c.tagProperty(t,n,f)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(90),l=n(55),c=n(438),d=function(){function e(e,t,n,d){this.id=o.id(),this.type=e,this.serviceIdentifier=n,this.name=new c.QueryableString(t||""),this.metadata=new Array;var f=null;"string"==typeof d?f=new l.Metadata(r.NAMED_TAG,d):d instanceof l.Metadata&&(f=d),null!==f&&this.metadata.push(f)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,o=t.metadata;r<o.length;r++){var l=o[r];if(l.key===e&&l.value===n)return!0}return!1}},e}();t.Target=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(181),o=n(182),l=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||l(n,t))};t.traverseAncerstors=l;var c=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new o.Metadata(e,t),n}};t.taggedConstraint=c;var d=c(r.NAMED_TAG);t.namedConstraint=d;t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},,,function(e,t,n){var r=n(138),o=n(470),l=n(471),c=n(472),d=n(473),f=n(474);function h(e){var data=this.__data__=new r(e);this.size=data.size}h.prototype.clear=o,h.prototype.delete=l,h.prototype.get=c,h.prototype.has=d,h.prototype.set=f,e.exports=h},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(41))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(481),o=n(488),l=n(490),c=n(491),d=n(492);function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=l,f.prototype.has=c,f.prototype.set=d,e.exports=f},function(e,t,n){var r=n(185),o=n(140);e.exports=function(object,e,t){(void 0!==t&&!o(object[e],t)||void 0===t&&!(e in object))&&r(object,e,t)}},function(e,t,n){var r=n(91),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){(function(e){var r=n(56),o=t&&!t.nodeType&&t,l=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=l&&l.exports===o?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=d?d(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(114)(e))},function(e,t,n){var r=n(186);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t){e.exports=function(source,e){var t=-1,n=source.length;for(e||(e=Array(n));++t<n;)e[t]=source[t];return e}},function(e,t,n){var r=n(497),o=n(187),l=n(188);e.exports=function(object){return"function"!=typeof object.constructor||l(object)?{}:r(o(object))}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(498),o=n(61),l=Object.prototype,c=l.hasOwnProperty,d=l.propertyIsEnumerable,f=r(function(){return arguments}())?r:function(e){return o(e)&&c.call(e,"callee")&&!d.call(e,"callee")};e.exports=f},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(object,e){if(("constructor"!==e||"function"!=typeof object[e])&&"__proto__"!=e)return object[e]}},function(e,t,n){var r=n(185),o=n(140),l=Object.prototype.hasOwnProperty;e.exports=function(object,e,t){var n=object[e];l.call(object,e)&&o(n,t)&&(void 0!==t||e in object)||r(object,e,t)}},function(e,t,n){var r=n(503),o=n(259),l=n(101),c=n(189),d=n(264),f=n(147),h=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=l(e),v=!n&&o(e),m=!n&&!v&&c(e),y=!n&&!v&&!m&&f(e),x=n||v||m||y,_=x?r(e.length,String):[],w=_.length;for(var k in e)!t&&!h.call(e,k)||x&&("length"==k||m&&("offset"==k||"parent"==k)||y&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||d(k,w))||_.push(k);return _}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(91)(n(56),"Set");e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(80),o=n(61);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(26),o=n(269),l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var n=d.test(e);return n||f.test(e)?h(e.slice(2),n?2:8):c.test(e)?NaN:+e}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.normal="normal",e.additive="additive",e.subtractive="subtractive",e.min="min",e.max="max"}(r||(r={}))},function(e,t,n){"use strict";var r,o,l;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),function(e){e.LINEAR="linear",e.POWER="power",e.LOG="log",e.IDENTITY="identity",e.TIME="time",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.CAT="cat"}(r||(r={})),function(e){e.CONSTANT="constant",e.VARIABLE="variable"}(o||(o={})),function(e){e[e.Attribute=0]="Attribute",e[e.InstancedAttribute=1]="InstancedAttribute",e[e.Uniform=2]="Uniform"}(l||(l={}))},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["mapload"]},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(296),o=n(187),l=n(193),c=n(294),d=Object.getOwnPropertySymbols?function(object){for(var e=[];object;)r(e,l(object)),object=o(object);return e}:c;e.exports=d},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(296),o=n(101);e.exports=function(object,e,t){var n=e(object);return o(object)?n:r(n,t(object))}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="2.2.41"},function(e,t,n){"use strict";n.d(t,"a",(function(){return ve})),n.d(t,"f",(function(){return pi})),n.d(t,"g",(function(){return xi})),n.d(t,"e",(function(){return Nt})),n.d(t,"b",(function(){return st})),n.d(t,"d",(function(){return St})),n.d(t,"h",(function(){return Ii})),n.d(t,"c",(function(){return xt}));var r,o,l,c,d,f=n(0),h=n(2),v=n.n(h),m=n(1),y=n.n(m),x=n(8),_=n.n(x),w=n(9),k=n.n(w),S=n(4),C=n.n(S),T=n(49),E=n.n(T),M=n(3),P=n.n(M),A=n(13),O=n.n(A),I=n(18),D=n.n(I),R=n(12),z=n.n(R),L=(n(25),n(26)),j=n.n(L),F=n(68),N=n.n(F),B=n(36),V=n(7),U=n(27),W=n(333),H=n.n(W),$=n(5);var G,Z,Y,X,K,J,Q,ee,te=(r=Object($.injectable)(),o=Object($.inject)(f.TYPES.IGlobalConfigService),r((c=function(){function e(){v()(this,e),O()(this,"configService",d,this),this.enabled=void 0}return y()(e,[{key:"apply",value:function(e,t){var n=this,r=(t.rendererService,t.postProcessingPassFactory),o=t.normalPassFactory;e.hooks.init.tap("MultiPassRendererPlugin",(function(){var t=e.getLayerConfig(),l=t.enableMultiPassRenderer,c=t.passes,d=void 0===c?[]:c;n.enabled=!!l&&!1!==e.getLayerConfig().enableMultiPassRenderer,n.enabled&&(e.multiPassRenderer=n.createMultiPassRenderer(e,d,r,o),e.multiPassRenderer.setRenderFlag(!0))})),e.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){}))}},{key:"createMultiPassRenderer",value:function(e,t,n,r){var o=e.multiPassRenderer,l=e.getLayerConfig(),c=l.enablePicking;l.enableTAA;return c&&o.add(r("pixelPicking")),o}}]),e}(),d=z()(c.prototype,"configService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c))||l),ie=(G={},P()(G,f.BlendType.additive,{enable:!0,func:{srcRGB:f.gl.ONE,dstRGB:f.gl.ONE,srcAlpha:1,dstAlpha:1}}),P()(G,f.BlendType.normal,{enable:!0,func:{srcRGB:f.gl.SRC_ALPHA,dstRGB:f.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),P()(G,f.BlendType.subtractive,{enable:!0,func:{srcRGB:f.gl.ONE,dstRGB:f.gl.ONE,srcAlpha:f.gl.ZERO,dstAlpha:f.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:f.gl.FUNC_SUBTRACT,alpha:f.gl.FUNC_SUBTRACT}}),P()(G,f.BlendType.max,{enable:!0,func:{srcRGB:f.gl.ONE,dstRGB:f.gl.ONE},equation:{rgb:f.gl.MAX_EXT}}),P()(G,f.BlendType.min,{enable:!0,func:{srcRGB:f.gl.ONE,dstRGB:f.gl.ONE},equation:{rgb:f.gl.MIN_EXT}}),G),ne={properties:{enablePicking:{type:"boolean"},enableHighlight:{type:"boolean"},highlightColor:{oneOf:[{type:"array",items:{type:"number",minimum:0,maximum:1}},{type:"string"}]}}};function re(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ae(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function se(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ae(Object(source),!0).forEach((function(t){P()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ae(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var le,ce,de,fe,he,pe=0,ve=(Z=Object(f.lazyInject)(f.TYPES.ILogService),Y=Object(f.lazyInject)(f.TYPES.IGlobalConfigService),X=Object(f.lazyInject)(f.TYPES.IShaderModuleService),K=function(e){_()(n,e);var t=ue(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v()(this,n),(e=t.call(this)).id="".concat(pe++),e.name="".concat(pe),e.type=void 0,e.visible=!0,e.zIndex=0,e.minZoom=void 0,e.maxZoom=void 0,e.inited=!1,e.layerModelNeedUpdate=!1,e.pickedFeatureID=null,e.selectedFeatureID=null,e.styleNeedUpdate=!1,e.dataState={dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1},e.hooks={init:new B.b,afterInit:new B.b,beforeRender:new B.b,beforeRenderData:new B.d,afterRender:new B.c,beforePickingEncode:new B.c,afterPickingEncode:new B.c,beforeHighlight:new B.c(["pickedColor"]),afterHighlight:new B.c,beforeSelect:new B.c(["pickedColor"]),afterSelect:new B.c,beforeDestroy:new B.c,afterDestroy:new B.c},e.models=[],e.multiPassRenderer=void 0,e.plugins=void 0,e.sourceOption=void 0,e.layerModel=void 0,O()(e,"logger",J,D()(e)),O()(e,"configService",Q,D()(e)),O()(e,"shaderModuleService",ee,D()(e)),e.cameraService=void 0,e.coordinateService=void 0,e.iconService=void 0,e.fontService=void 0,e.rendererService=void 0,e.layerService=void 0,e.interactionService=void 0,e.mapService=void 0,e.styleAttributeService=void 0,e.layerSource=void 0,e.postProcessingPassFactory=void 0,e.normalPassFactory=void 0,e.animateOptions={enable:!1},e.container=void 0,e.encodedData=void 0,e.configSchema=void 0,e.currentPickId=null,e.rawConfig=void 0,e.needUpdateConfig=void 0,e.pendingStyleAttributes=[],e.scaleOptions={},e.animateStartTime=void 0,e.aniamateStatus=!1,e.sourceEvent=function(){e.dataState.dataSourceNeedUpdate=!0;var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&e.fitBounds(r),e.emit("dataUpdate"),e.reRender()},e.name=r.name||e.id,e.zIndex=r.zIndex||0,e.rawConfig=r,e}return y()(n,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(e){if(this.inited){var t=this.container.get(f.TYPES.SceneID);this.configService.setLayerConfig(t,this.id,se(se(se({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=se(se({},this.needUpdateConfig),e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(e){return this.plugins.push(e),this}},{key:"init",value:function(){var e=this,t=this.container.get(f.TYPES.SceneID),n=this.rawConfig.enableMultiPassRenderer,r=void 0!==n&&n;this.configService.setLayerConfig(t,this.id,{enableMultiPassRenderer:r}),this.iconService=this.container.get(f.TYPES.IIconService),this.fontService=this.container.get(f.TYPES.IFontService),this.rendererService=this.container.get(f.TYPES.IRendererService),this.layerService=this.container.get(f.TYPES.ILayerService),this.interactionService=this.container.get(f.TYPES.IInteractionService),this.mapService=this.container.get(f.TYPES.IMapService),this.cameraService=this.container.get(f.TYPES.ICameraService),this.coordinateService=this.container.get(f.TYPES.ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(f.TYPES.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(f.TYPES.IFactoryNormalPass),this.styleAttributeService=this.container.get(f.TYPES.IStyleAttributeService),this.multiPassRenderer=this.container.get(f.TYPES.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(t){var n=t.attributeName,r=t.attributeField,o=t.attributeValues,l=t.updateOptions;e.styleAttributeService.updateStyleAttribute(n,{scale:se({field:r},e.splitValuesAndCallbackInAttribute(o,e.getLayerConfig()[n]))},l)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(f.TYPES.ILayerPlugin);var o,l=re(this.plugins);try{for(l.s();!(o=l.n()).done;){o.value.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(e){l.e(e)}finally{l.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(se(se({},this.getDefaultConfig()),this.rawConfig));var e=this.getLayerConfig().animateOption;(null==e?void 0:e.enable)&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}},{key:"size",value:function(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}},{key:"filter",value:function(e,t,n){return this.updateStyleAttribute("filter",e,t,n),this}},{key:"shape",value:function(e,t,n){return this.updateStyleAttribute("shape",e,t,n),this}},{key:"label",value:function(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}},{key:"animate",value:function(e){var t={};return j()(e)?(t.enable=!0,t=se(se({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}},{key:"source",value:function(data,e){return this.sourceOption={data:data,options:e},this}},{key:"setData",value:function(data,e){var t=this;return this.inited?this.layerSource.setData(data,e):this.on("inited",(function(){t.layerSource.setData(data,e)})),this}},{key:"style",value:function(e){var t=this,n=e.passes,r=E()(e,["passes"]);return n&&function(e){return e.map((function(e){return"string"==typeof e&&(e=[e,{}]),e}))}(n).forEach((function(e){var n=t.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);n&&n.updateOptions(e[1])})),this.rawConfig=se(se({},this.rawConfig),r),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(e,t){return j()(e)?this.scaleOptions=se(se({},this.scaleOptions),e):this.scaleOptions[e]=t,this}},{key:"render",value:function(){return this.renderModels(),this}},{key:"active",value:function(e){var t={};return t.enableHighlight=!!j()(e)||e,j()(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}},{key:"setActive",value:function(e,t){var n=this;if(j()(e)){var r=e.x,o=void 0===r?0:r,l=e.y,c=void 0===l?0:l;this.updateLayerConfig({highlightColor:j()(t)?t.color:this.getLayerConfig().highlightColor}),this.pick({x:o,y:c})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:j()(t)?t.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call(Object(V.n)(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(option){var e={};return e.enableSelect=!!j()(option)||option,j()(option)?(e.enableSelect=!0,option.color&&(e.selectColor=option.color)):e.enableSelect=!!option,this.updateLayerConfig(e),this}},{key:"setSelect",value:function(e,t){var n=this;if(j()(e)){var r=e.x,o=void 0===r?0:r,l=e.y,c=void 0===l?0:l;this.updateLayerConfig({selectColor:j()(t)?t.color:this.getLayerConfig().selectColor}),this.pick({x:o,y:c})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:j()(t)?t.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call(Object(V.n)(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(e){this.updateLayerConfig({blend:e}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(e){return this.zIndex=e,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(e){this.currentPickId=e}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(e){this.selectedFeatureID=e}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var e=this.mapService.getZoom(),t=this.getLayerConfig(),n=t.visible,r=t.minZoom,o=void 0===r?-1/0:r,l=t.maxZoom;return!!n&&e>=o&&e<=(void 0===l?1/0:l)}},{key:"setMinZoom",value:function(e){return this.updateLayerConfig({minZoom:e}),this}},{key:"getMinZoom",value:function(){return this.getLayerConfig().minZoom}},{key:"getMaxZoom",value:function(){return this.getLayerConfig().maxZoom}},{key:"get",value:function(e){return this.getLayerConfig()[e]}},{key:"setMaxZoom",value:function(e){return this.updateLayerConfig({maxZoom:e}),this}},{key:"fitBounds",value:function(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var t=this.getSource().extent;return t.some((function(e){return Math.abs(e)===1/0}))||this.mapService.fitBounds([[t[0],t[1]],[t[2],t[3]]],e),this}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach((function(e){return e.destroy()})),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(e){return e.needRescale||e.needRemapping||e.needRegenerateVertices})).length}},{key:"setSource",value:function(source){this.layerSource=source;var e=this.mapService.getZoom();this.layerSource.cluster&&this.layerSource.updateClusterData(e),this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(e){this.encodedData=e}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getConfigSchemaForValidation",value:function(){return this.configSchema||(this.configSchema=H()([ne,this.getConfigSchema()])),this.configSchema}},{key:"getLegendItems",value:function(e){var t=this.styleAttributeService.getLayerAttributeScale(e);return t?t.ticks?t.ticks().map((function(n){return P()({value:n},e,t(n))})):t.invertExtent?t.range().map((function(n){return P()({value:t.invertExtent(n)},e,n)})):void 0:[]}},{key:"pick",value:function(e){var t=e.x,n=e.y;this.interactionService.triggerHover({x:t,y:n})}},{key:"buildLayerModel",value:function(e){var t=e.moduleName,n=e.vertexShader,r=e.fragmentShader,o=e.triangulation,l=E()(e,["moduleName","vertexShader","fragmentShader","triangulation"]);this.shaderModuleService.registerModule(t,{vs:n,fs:r});var c=this.shaderModuleService.getModule(t),d=c.vs,h=c.fs,v=c.uniforms,m=this.rendererService.createModel,y=this.styleAttributeService.createAttributesAndIndices(this.encodedData,o);return m(se({attributes:y.attributes,uniforms:v,fs:h,vs:d,elements:y.elements,blend:ie[f.BlendType.normal]},l))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(e){var t=this.getLayerConfig(),n=t.enableHighlight,r=void 0===n||n,o=t.enableSelect,l=void 0===o||o,c=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return"click"!==e&&"dblclick"!==e||!l||(c=!0),"mousemove"!==e||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(c=!0),this.isVisible()&&c}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var e=this;return this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){t.draw({uniforms:e.layerModel.getUninforms()})})),this}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(e,t){return{values:N()(e)?void 0:e||t,callback:N()(e)?e:void 0}}},{key:"updateStyleAttribute",value:function(e,t,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(e,{scale:se({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r})}}]),n}(U.EventEmitter),J=z()(K.prototype,"logger",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=z()(K.prototype,"configService",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=z()(K.prototype,"shaderModuleService",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K),me=(le=Object(f.lazyInject)(f.TYPES.IGlobalConfigService),ce=Object(f.lazyInject)(f.TYPES.IShaderModuleService),de=function(){function e(t){v()(this,e),this.triangulation=void 0,this.layer=void 0,O()(this,"configService",fe,this),O()(this,"shaderModuleService",he,this),this.rendererService=void 0,this.iconService=void 0,this.fontService=void 0,this.styleAttributeService=void 0,this.mapService=void 0,this.cameraService=void 0,this.layerService=void 0,this.layer=t,this.rendererService=t.getContainer().get(f.TYPES.IRendererService),this.styleAttributeService=t.getContainer().get(f.TYPES.IStyleAttributeService),this.mapService=t.getContainer().get(f.TYPES.IMapService),this.iconService=t.getContainer().get(f.TYPES.IIconService),this.fontService=t.getContainer().get(f.TYPES.IFontService),this.cameraService=t.getContainer().get(f.TYPES.ICameraService),this.layerService=t.getContainer().get(f.TYPES.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate()}return y()(e,[{key:"getBlend",value:function(){var e=this.layer.getLayerConfig().blend,t=void 0===e?"normal":e;return ie[f.BlendType[t]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(option){return[option.enable?0:1,option.duration||4,option.interval||.2,option.trailLength||.1]}},{key:"startModelAnimate",value:function(){this.layer.getLayerConfig().animateOption.enable&&this.layer.setAnimateStartTime()}}]),e}(),fe=z()(de.prototype,"configService",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=z()(de.prototype,"shaderModuleService",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de),ge=n(24),ye=n.n(ge),be=n(17),xe=n.n(be),_e=n(63),we=n.n(_e),ke=n(6),Se=ke.c.create(),Ce=(ke.c.create(),ke.c.create()),Te=ke.c.create(),Ee=ke.c.create();function Me(e,t){return ke.c.set(e,-t[1],t[0])}function Pe(e,a,b){return ke.c.sub(e,a,b),ke.c.normalize(e,e),e}var Ae,Oe,Ie,De=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v()(this,e),this.complex=void 0,this.join=void 0,this.cap=void 0,this.miterLimit=void 0,this.thickness=void 0,this.normal=void 0,this.lastFlip=-1,this.miter=ke.c.fromValues(0,0),this.started=!1,this.dash=!1,this.totalDistance=0,this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return y()(e,[{key:"extrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var o=e[i-1],l=e[i],c=i<e.length-1?e[i+1]:null;r+=this.segment(t,r,o,l,c)}if(this.dash)for(var d=0;d<t.positions.length/6;d++)t.positions[6*d+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"segment",value:function(e,t,n,r,o){var l=0,c=e.indices,d=e.positions,f=e.normals,h="square"===this.cap,v="bevel"===this.join,m=Object(V.e)([r[0],r[1]]),y=Object(V.e)([n[0],n[1]]);Pe(Ce,m,y);var a,b,x=0;if(this.dash&&(x=this.lineSegmentDistance(m,y),this.totalDistance+=x),this.normal||(this.normal=ke.c.create(),Me(this.normal,Ce)),!this.started)if(this.started=!0,h){var _=ke.c.create(),w=ke.c.create();ke.c.add(_,this.normal,Ce),ke.c.add(w,this.normal,Ce),f.push(w[0],w[1],0),f.push(_[0],_[1],0),d.push(n[0],n[1],0,this.totalDistance-x,-this.thickness,0),d.push(n[0],n[1],0,this.totalDistance-x,this.thickness,0)}else this.extrusions(d,f,n,this.normal,this.thickness,this.totalDistance-x);if(c.push(t+0,t+1,t+2),o){var k=Object(V.e)([o[0],o[1]]);b=k,(a=m)[0]===b[0]&&a[1]===b[1]&&ke.c.add(k,m,ke.c.normalize(k,ke.c.subtract(k,m,y))),Pe(Te,k,m);var S=function(e,t,n,r,o){ke.c.add(e,n,r),ke.c.normalize(e,e),t=ke.c.fromValues(-e[1],e[0]);var l=ke.c.fromValues(-n[1],n[0]);return[o/ke.c.dot(t,l),t]}(Ee,ke.c.create(),Ce,Te,this.thickness),C=ye()(S,2),T=C[0],E=C[1],M=ke.c.dot(Ee,this.normal)<0?-1:1,P=v;if(!P&&"miter"===this.join)T>this.miterLimit&&(P=!0);P?(f.push(this.normal[0],this.normal[1],0),f.push(E[0],E[1],0),d.push(r[0],r[1],0,this.totalDistance,-this.thickness*M,0),d.push(r[0],r[1],0,this.totalDistance,this.thickness*M,0),c.push.apply(c,xe()(this.lastFlip!==-M?[t,t+2,t+3]:[t+2,t+1,t+3])),c.push(t+2,t+3,t+4),Me(Se,Te),ke.c.copy(this.normal,Se),f.push(this.normal[0],this.normal[1],0),d.push(r[0],r[1],0,this.totalDistance,-this.thickness*M,0),l+=3):(this.extrusions(d,f,r,E,T,this.totalDistance),c.push.apply(c,xe()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),M=-1,ke.c.copy(this.normal,E),l+=2),this.lastFlip=M}else{if(Me(this.normal,Ce),h){var A=ke.c.create(),O=ke.c.create();ke.c.sub(O,Ce,this.normal),ke.c.add(A,Ce,this.normal),f.push(O[0],O[1],0),f.push(A[0],A[1],0),d.push(r[0],r[1],0,this.totalDistance,this.thickness,0),d.push(r[0],r[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(d,f,r,this.normal,this.thickness,this.totalDistance);c.push.apply(c,xe()(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),l+=2}return l}},{key:"extrusions",value:function(e,t,n,r,o,l){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0,l,-o,0),e.push(n[0],n[1],0,l,o,0)}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}(),Re=n(158),ze=n.n(Re);function Le(e){if(ze()(e[0]))return e;if(ze()(e[0][0]))throw new Error("当前数据不支持标注");if(ze()(e[0][0][0])){var t=0,n=0,r=0;return e.forEach((function(e){e.forEach((function(e){t+=e[0],n+=e[1],r++}))})),[t/r,n/r,0]}throw new Error("当前数据不支持标注")}function je(path){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=path[0][0],n=path[0][path[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(path[0]=path[0].slice(0,path[0].length-1));for(var r=path[0].length,o=we.a.flatten(path),l=o.vertices,c=o.dimensions,d=[],f=[],h=[],v=0;v<l.length/c;v++)2===c?d.push(l[2*v],l[2*v+1],1,-1,-1):d.push(l[3*v],l[3*v+1],1,-1,-1),h.push(0,0,1);var m=we()(o.vertices,o.holes,o.dimensions);f.push.apply(f,xe()(m));for(var y=function(i){var t=o.vertices.slice(i*c,(i+1)*c),n=o.vertices.slice((i+1)*c,(i+2)*c);0===n.length&&(n=o.vertices.slice(0,c));var r=d.length/5;d.push(t[0],t[1],1,0,0,n[0],n[1],1,.1,0,t[0],t[1],0,0,.8,n[0],n[1],0,.1,.8);var l=Fe([n[0],n[1],1],[t[0],t[1],0],[t[0],t[1],1],e);h.push.apply(h,xe()(l).concat(xe()(l),xe()(l),xe()(l))),f.push.apply(f,xe()([1,2,0,3,2,1].map((function(e){return e+r}))))},i=0;i<r;i++)y(i);return{positions:d,index:f,normals:h}}function Fe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=ke.d.create(),l=ke.d.create(),c=ke.d.create();r&&(e=Object(V.u)(e),t=Object(V.u)(t),n=Object(V.u)(n));var d=ke.d.fromValues.apply(ke.d,xe()(e)),f=ke.d.fromValues.apply(ke.d,xe()(t)),h=ke.d.fromValues.apply(ke.d,xe()(n));ke.d.sub(o,h,f),ke.d.sub(l,d,f),ke.d.cross(c,o,l);var v=ke.d.create();return ke.d.normalize(v,c),v}function Ne(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/e,line=[],i=0;i<e;i++)line.push(n*i+t*Math.PI/12);var path=line.map((function(e){return[Math.sin(e+Math.PI/4),Math.cos(e+Math.PI/4),0]}));return path}function circle(){return Ne(30)}function Be(){return Ne(4)}function Ve(){return Ne(3)}function Ue(){return Ne(6,1)}function We(){return Ne(5)}!function(e){e.CYLINDER="cylinder",e.SQUARECOLUMN="squareColumn",e.TRIANGLECOLUMN="triangleColumn",e.HEXAGONCOLUMN="hexagonColumn",e.PENTAGONCOLUMN="pentagonColumn"}(Oe||(Oe={})),function(e){e.CIRCLE="circle",e.SQUARE="square",e.TRIANGLE="triangle",e.HEXAGON="hexagon",e.PENTAGON="pentagon"}(Ie||(Ie={}));var He=(Ae={},P()(Ae,Ie.CIRCLE,circle),P()(Ae,Ie.HEXAGON,Ue),P()(Ae,Ie.TRIANGLE,Ve),P()(Ae,Ie.SQUARE,Be),P()(Ae,Ie.PENTAGON,We),P()(Ae,Oe.CYLINDER,circle),P()(Ae,Oe.HEXAGONCOLUMN,Ue),P()(Ae,Oe.TRIANGLECOLUMN,Ve),P()(Ae,Oe.SQUARECOLUMN,Be),P()(Ae,Oe.PENTAGONCOLUMN,We),Ae),$e={};function qe(e){var t=Le(e.coordinates);return{vertices:[].concat(xe()(t),xe()(t),xe()(t),xe()(t)),indices:[0,1,2,2,3,0],size:t.length}}function Ge(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if($e&&$e[e])return $e[e];var path=He[e]?He[e]():He.cylinder(),n=je([path],t);return $e[e]=n,n}(e.shape,!1);return{vertices:t.positions,indices:t.index,normals:t.normals,size:5}}function Ze(e){var t=Le(e.coordinates);return{vertices:xe()(t),indices:[0],size:t.length}}function Ye(e){var t=e.coordinates,path=t;Array.isArray(path[0][0])||(path=[t]);var line=new De({dash:!0,join:"bevel"});path.forEach((function(e){line.extrude(e)}));var n=line.complex;return{vertices:n.positions,indices:n.indices,normals:n.normals,size:6}}function Xe(e){var t=e.coordinates,n=we.a.flatten(t),r=n.vertices,o=n.dimensions,l=n.holes;return{indices:we()(r,l,o),vertices:r,size:o}}function Ke(e){var t=je(e.coordinates,!0);return{vertices:t.positions,indices:t.index,normals:t.normals,size:5}}function Je(e){var t=function(e){var path=He[e]?He[e]():He.circle();return-1===["cylinder","triangleColumn","hexagonColumn","squareColumn"].indexOf(e)?(t=[path],n=we.a.flatten(t),r=we()(n.vertices,n.holes,n.dimensions),{positions:n.vertices,index:r}):function(path){var e=path[0][0],t=path[0][path[0].length-1];e[0]===t[0]&&e[1]===t[1]&&(path[0]=path[0].slice(0,path[0].length-1));for(var n=path[0].length,r=we.a.flatten(path),o=r.vertices,l=r.dimensions,c=[],d=[],f=0;f<o.length/l;f++)2===l?c.push(o[2*f],o[2*f+1],1):c.push(o[3*f],o[3*f+1],1);var h=we()(r.vertices,r.holes,r.dimensions);d.push.apply(d,xe()(h));for(var v=function(i){var e=r.vertices.slice(i*l,(i+1)*l),t=r.vertices.slice((i+1)*l,(i+2)*l);0===t.length&&(t=r.vertices.slice(0,l));var n=c.length/3;c.push(e[0],e[1],1,t[0],t[1],1,e[0],e[1],0,t[0],t[1],0),d.push.apply(d,xe()([0,2,1,2,3,1].map((function(e){return e+n}))))},i=0;i<n;i++)v(i);return{positions:c,index:d}}([path]);var t,n,r}(e.shape);return{vertices:t.positions,indices:t.index,size:3}}function Qe(e){var t=e.coordinates;return{vertices:[].concat(xe()(t[0]),[0,0,1,t[1][0],t[0][1],0,1,1],xe()(t[1]),[0,1,0],xe()(t[0]),[0,0,1],xe()(t[1]),[0,1,0,t[0][0],t[1][1],0,0,0]),indices:[0,1,2,3,4,5],size:5}}function et(e){for(var t=e.coordinates,n=[],r=[],o=function(i){n.push(i,1,i,t[0][0],t[0][1],t[1][0],t[1][1],i,-1,i,t[0][0],t[0][1],t[1][0],t[1][1]),29!==i&&r.push.apply(r,xe()([0,1,2,1,3,2].map((function(e){return 2*i+e}))))},i=0;i<30;i++)o(i);return{vertices:n,indices:r,size:7}}function tt(e){var t=e.coordinates;2===t.length&&t.push(0);e.size;var n=it(-1,1),r=it(1,1),o=it(-1,-1),l=it(1,-1);return{vertices:[].concat(xe()(t),xe()(n),xe()(t),xe()(o),xe()(t),xe()(l),xe()(t),xe()(r)),indices:[0,1,2,3,0,2],size:5}}function it(e,t){return[(e+1)/2,(t+1)/2]}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var ot=function(e){_()(n,e);var t=nt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.baseColor,o=void 0===r?"rgb(16,16,16)":r,l=e.brightColor,c=void 0===l?"rgb(255,176,38)":l,d=e.windowColor,f=void 0===d?"rgb(30,60,89)":d,h=e.time,time=void 0===h?0:h;return{u_opacity:n,u_baseColor:Object(V.A)(o),u_brightColor:Object(V.A)(c),u_windowColor:Object(V.A)(f),u_time:this.layer.getLayerAnimateTime()||time}}},{key:"initModels",value:function(){return this.startModelAnimate(),[this.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:'precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n   v_texCoord = a_Uv;\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'uniform float u_opacity: 1.0;\nuniform vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\nuniform float u_near : 0;\nuniform float u_far : 1;\nvarying vec4 v_Color;\nvarying vec2 v_texCoord;\nuniform float u_Zoom : 1;\nuniform float u_time;\n\n#pragma include "picking"\n\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\n    float s = step(hot, n);\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\n\n    return mix(darkColor, color, s);\n}\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat LinearizeDepth()\n{\n    float z = gl_FragCoord.z * 2.0 - 1.0;\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\n}\n\nvec3 fog(vec3 color, vec3 fogColor, float depth){\n    float fogFactor=clamp(depth,0.0,1.0);\n    vec3 output_color=mix(fogColor,color,fogFactor);\n    return output_color;\n}\n\nfloat sdRect(vec2 p, vec2 sz) {\n  vec2 d = abs(p) - sz;\n  float outside = length(max(d, 0.));\n  float inside = min(max(d.x, d.y), 0.);\n  return outside + inside;\n}\n\nvoid main() {\n  gl_FragColor = v_Color;\n  vec3 baseColor = u_baseColor.xyz;\n  vec3 brightColor = u_brightColor.xyz;\n  vec3 windowColor = u_windowColor.xyz;\n  float targetColId = 5.;\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\n  if(v_texCoord.x < 0.) { //顶部颜色\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\n       gl_FragColor = vec4( foggedColor, v_Color.w);\n  }else { // 侧面颜色\n        vec2 st = v_texCoord;\n        vec2  UvScale = v_texCoord;\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\n        float tStart = 0.25 * tStep;\n        float tEnd = 0.75 * tStep;\n        float u = mod(UvScale.x, tStep);\n        float v = mod(UvScale.y, tStep);\n        float ux = floor(UvScale.x/tStep);\n        float uy = floor(UvScale.y/tStep);\n        float n = random(vec2(ux,uy));\n        float lightP = u_time;\n        float head = 1.0- step(0.005,st.y);\n        /*step3*/\n        // 将窗户颜色和墙面颜色区别开来\n        float sU = step(tStart, u) - step(tEnd, u);\n        float sV = step(tStart, v) - step(tEnd, v);\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\n        float dist = sdRect(vec2(u,v), windowSize);\n        float s = sU * sV;\n\n        float curColId = floor(UvScale.x / tStep);\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\n\n        float mLightP = mod(lightP, 2.);\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\n        if(ux == targetColId){\n            n =0.;\n        }\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\n        float hot = smoothstep(1.0,0.0,timeP);\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\n        float sFinal = s * sCol * sRow;\n        color += mix(baseColor, brightColor, sFinal*n);\n        if (st.y<0.01){\n        color = baseColor;\n         }\n        if(head ==1.0) { // 顶部亮线\n            color = brightColor;\n        }\n        color = color * v_Color.rgb;\n\n        vec3 foggedColor = fog(color,fogColor,depth);\n\n        gl_FragColor = vec4(foggedColor,1.0);\n  }\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ke})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:f.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?10:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){e.size;return[n[3],n[4]]}}})}}]),n}(me);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var st=function(e){_()(n,e);var t=at(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="PolygonLayer",e}return y()(n,[{key:"buildModels",value:function(){this.layerModel=new ot(this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"setLight",value:function(e){this.updateLayerConfig({time:e})}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"citybuilding"}}]),n}(ve);function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var lt=function(e){_()(n,e);var t=ut(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig();return{u_opacity:e.opacity||1,u_coverage:e.coverage||.9,u_angle:e.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"gridheatmap",vertexShader:'precision highp float;\r\n// 多边形顶点坐标\r\nattribute vec3 a_Position;\r\n// 多边形经纬度坐标\r\nattribute vec3 a_Pos;\r\nattribute float a_Size;\r\nattribute vec4 a_Color;\r\nuniform vec2 u_radius;\r\nuniform float u_coverage: 0.9;\r\nuniform float u_angle: 0;\r\nuniform mat4 u_ModelMatrix;\r\nvarying vec4 v_color;\r\n\r\n#pragma include "projection"\r\n#pragma include "project"\r\n#pragma include "picking"\r\n\r\nvoid main() {\r\n  v_color = a_Color;\r\n\r\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n  gl_Position = project_common_position_to_clipspace(project_pos);\r\n\r\n  setPickingColor(a_PickingColor);\r\n}\r\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Je,depth:{enable:!1},primitive:f.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:f.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t){var n=e.coordinates;return[n[0],n[1],0]}}})}}]),n}(me);function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var ft=function(e){_()(n,e);var t=ct(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig();return{u_opacity:e.opacity||1,u_coverage:e.coverage||1,u_angle:e.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"grid3dheatmap",vertexShader:'precision highp float;\n// 多边形顶点坐标\nattribute vec3 a_Position;\n// 多边形经纬度坐标\nattribute vec3 a_Pos;\n\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nvarying vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n  float lightWeight = calc_lighting(project_pos);\n  v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n\n  gl_Position = project_common_position_to_clipspace(project_pos);\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ge,depth:{enable:!0},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:f.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:f.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t){var n=e.coordinates;return[n[0],n[1],0]}}})}}]),n}(me);function ht(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function pt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ht(Object(source),!0).forEach((function(t){P()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ht(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var mt=function(e){_()(n,e);var t=vt(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).texture=void 0,e.colorTexture=void 0,e.heatmapFramerBuffer=void 0,e.intensityModel=void 0,e.colorModel=void 0,e.shapeType=void 0,e}return y()(n,[{key:"render",value:function(){var e=this,t=this.rendererService,n=t.clear;(0,t.useFramebuffer)(this.heatmapFramerBuffer,(function(){n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:e.heatmapFramerBuffer}),e.drawIntensityMode()})),this.layer.styleNeedUpdate&&this.updateColorTexture(),"heatmap"===this.shapeType?this.drawColorMode():this.draw3DHeatMap()}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){var e,t=this.rendererService,n=t.createFramebuffer,r=(t.clear,t.getViewportSize),o=t.createTexture2D,l=(t.useFramebuffer,this.styleAttributeService.getLayerStyleAttribute("shape")),c=(null==l||null===(e=l.scale)||void 0===e?void 0:e.field)||"heatmap";this.shapeType=c,this.intensityModel=this.buildHeatMapIntensity(),this.colorModel="heatmap"===c?this.buildHeatmapColor():this.build3dHeatMap();var d=this.layer.getLayerConfig().rampColors,h=(Object(V.p)(d),r()),v=h.width,m=h.height;return this.heatmapFramerBuffer=n({color:o({width:Math.floor(v/4),height:Math.floor(m/4),wrapS:f.gl.CLAMP_TO_EDGE,wrapT:f.gl.CLAMP_TO_EDGE,min:f.gl.LINEAR,mag:f.gl.LINEAR}),depth:!1}),this.updateColorTexture(),[this.intensityModel,this.colorModel]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:f.AttributeType.Attribute,descriptor:{name:"a_Dir",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size;return[void 0===o?1:o]}}})}},{key:"buildHeatMapIntensity",value:function(){return this.layer.buildLayerModel({moduleName:"heatmapintensity",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute float a_Size;\nattribute vec2 a_Dir;\nuniform float u_intensity;\nuniform float u_radius;\nvarying vec2 v_extrude;\nvarying float v_weight;\nuniform mat4 u_ModelMatrix;\n\n#define GAUSS_COEF  0.3989422804014327\n\n#pragma include "projection"\n\nvoid main(){\n    v_weight = a_Size;\n    float ZERO = 1.0 / 255.0 / 16.0;\n    float extrude_x = a_Dir.x * 2.0 -1.0;\n    float extrude_y = a_Dir.y * 2.0 -1.0;\n    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));\n    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 3.0;\n    v_extrude = extrude_dir * S;\n\n    vec2 offset = project_pixel(v_extrude * u_radius);\n    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n}\n',fragmentShader:"precision highp float;\nuniform float u_intensity;\nvarying float v_weight;\nvarying vec2 v_extrude;\n#define GAUSS_COEF  0.3989422804014327\nvoid main(){\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n    gl_FragColor = vec4(val, 1., 1., 1.);\n}\n",triangulation:tt,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:f.gl.ONE,srcAlpha:1,dstRGB:f.gl.ONE,dstAlpha:1}}})}},{key:"buildHeatmapColor",value:function(){this.shaderModuleService.registerModule("heatmapColor",{vs:"precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\nvoid main() {\n  v_texCoord = a_Uv;\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  gl_Position = vec4(a_Position.xy, 0, 1.);\n}\n",fs:"uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor =color;\n    gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n\n}\n"});var e=this.shaderModuleService.getModule("heatmapColor"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService,l=o.createAttribute,c=o.createElements,d=o.createBuffer;return(0,o.createModel)({vs:t,fs:n,attributes:{a_Position:l({buffer:d({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:f.gl.FLOAT}),size:3}),a_Uv:l({buffer:d({data:[0,1,1,1,0,0,1,0],type:f.gl.FLOAT}),size:2})},uniforms:pt({},r),depth:{enable:!1},blend:this.getBlend(),count:6,elements:c({data:[0,2,1,2,3,1],type:f.gl.UNSIGNED_INT,count:6})})}},{key:"drawIntensityMode",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.intensity,r=void 0===n?10:n,o=e.radius,l=void 0===o?5:o;this.intensityModel.draw({uniforms:{u_opacity:t||1,u_radius:l,u_intensity:r}})}},{key:"drawColorMode",value:function(){var e=this.layer.getLayerConfig().opacity;this.colorModel.draw({uniforms:{u_opacity:e||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer}})}},{key:"draw3DHeatMap",value:function(){var e=this.layer.getLayerConfig().opacity,t=ke.b.invert(ke.b.create(),ke.b.fromValues.apply(ke.b,xe()(this.cameraService.getViewProjectionMatrixUncentered())));this.colorModel.draw({uniforms:{u_opacity:e||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:xe()(t)}})}},{key:"build3dHeatMap",value:function(){var e=(0,this.rendererService.getViewportSize)(),t=function(e,t){for(var n=[],r=[],o=[],l=e+1,c=t+1,d=e/2,f=t/2,h=0;h<c;h++)for(var v=h-f,m=0;m<l;m++){var y=m-d;r.push(y/d,-v/f,0),o.push(m/e),o.push(1-h/t)}for(var x=0;x<t;x++)for(var _=0;_<e;_++){var a=_+l*x,b=_+l*(x+1),w=_+1+l*(x+1),k=_+1+l*x;n.push(a,b,k),n.push(b,w,k)}return{vertices:r,indices:n,uvs:o}}(e.width/4,e.height/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:'precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_InverseViewProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrixUncentered;\nvarying float v_intensity;\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n    float t2 = t * t;\n    float one_minus_t = 1.0 - t;\n    float one_minus_t2 = one_minus_t * one_minus_t;\n    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);\n}\nvec2 toBezier(float t, vec4 p){\n    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos =(a_Uv * vec2(2.0) - vec2(1.0));\n\n\n  vec4 p1 = vec4(pos, 0.0, 1.0);\n\tvec4 p2 = vec4(pos, 1.0, 1.0);\n\n\tvec4 inverseP1 = u_InverseViewProjectionMatrix * p1;\n\tvec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w;\n\tinverseP2 = inverseP2 / inverseP2.w;\n\n\tfloat zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z);\n\tvec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b= vec4(0.5000, 0, 1, 0.5000);\n  float fh;\n\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);\n\n}\n',fs:"uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n   \n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor = color;\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n     gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n\n}\n"});var n=this.shaderModuleService.getModule("heatmap3dColor"),r=n.vs,o=n.fs,l=n.uniforms,c=this.rendererService,d=c.createAttribute,h=c.createElements,v=c.createBuffer;return(0,c.createModel)({vs:r,fs:o,attributes:{a_Position:d({buffer:v({data:t.vertices,type:f.gl.FLOAT}),size:3}),a_Uv:d({buffer:v({data:t.uvs,type:f.gl.FLOAT}),size:2})},primitive:f.gl.TRIANGLES,uniforms:pt({},l),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:f.gl.SRC_ALPHA,srcAlpha:1,dstRGB:f.gl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:h({data:t.indices,type:f.gl.UNSIGNED_INT,count:t.indices.length})})}},{key:"updateStyle",value:function(){this.updateColorTexture()}},{key:"updateColorTexture",value:function(){var e=this.rendererService.createTexture2D;this.texture&&this.texture.destroy();var t=this.layer.getLayerConfig().rampColors,n=Object(V.p)(t);this.colorTexture=e({data:new Uint8Array(n.data),width:n.width,height:n.height,wrapS:f.gl.CLAMP_TO_EDGE,wrapT:f.gl.CLAMP_TO_EDGE,min:f.gl.NEAREST,mag:f.gl.NEAREST,flipY:!1})}}]),n}(me);function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var yt={heatmap:mt,heatmap3d:mt,grid:lt,grid3d:ft,hexagon:function(e){_()(n,e);var t=gt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig();return{u_opacity:e.opacity||1,u_coverage:e.coverage||.9,u_angle:e.angle||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"hexagonheatmap",vertexShader:'precision highp float;\n// 多边形顶点坐标\nattribute vec3 a_Position;\n// 多边形经纬度坐标\nattribute vec3 a_Pos;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nvarying vec4 v_color;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n    \n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Je,depth:{enable:!1},primitive:f.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:f.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t){var n=e.coordinates;return[n[0],n[1],0]}}})}}]),n}(me)};function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var xt=function(e){_()(n,e);var t=bt(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="HeatMapLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new yt[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"renderModels",value:function(){var e=this;return"heatmap"===this.getModelType()?(this.layerModel&&this.layerModel.render(),this):(this.layerModelNeedUpdate&&(this.models=this.layerModel.buildModels(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){return t.draw({uniforms:e.layerModel.getUninforms()})})),this)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=this.getLayerConfig().shape3d,r=this.getSource().data.type,o=(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"heatmap";return"heatmap"===o||"heatmap3d"===o?"heatmap":"hexagon"===r?-1===(null==n?void 0:n.indexOf(o))?"hexagon":"grid3d":"grid"===r?-1===(null==n?void 0:n.indexOf(o))?"grid":"grid3d":"heatmap"}}]),n}(ve);function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var wt={image:function(e){_()(n,e);var t=_t(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).texture=void 0,e}return y()(n,[{key:"getUninforms",value:function(){return{u_opacity:this.layer.getLayerConfig().opacity||1,u_texture:this.texture}}},{key:"initModels",value:function(){var e=this,source=this.layer.getSource(),t=this.rendererService.createTexture2D;return this.texture=t({height:0,width:0}),source.data.images.then((function(n){e.texture=t({data:n[0],width:n[0].width,height:n[0].height}),e.layerService.renderLayers()})),[this.layer.buildLayerModel({moduleName:"RasterImage",vertexShader:'precision highp float;\nuniform mat4 u_ModelMatrix;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n}\n',fragmentShader:"precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n}\n",triangulation:Qe,primitive:f.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}}]),n}(me)};function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var St=function(e){_()(n,e);var t=kt(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="ImageLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new wt[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{image:{}}[this.getModelType()]}},{key:"getModelType",value:function(){return"image"}}]),n}(ve);function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Tt={solid:0,dash:1},Et=function(e){_()(n,e);var t=Ct(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,l=void 0===o?[10,5]:o;return 2===l.length&&l.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:Tt[r||"solid"],u_dash_array:l,u_blur:.9}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig().animateOption;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = a_Instance.rg;\n  vec2 target =  a_Instance.ba;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  if(u_line_type == LineTypeDash) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n      float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n    }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:et,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?1:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:f.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(me);function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Pt={solid:0,dash:1},At=function(e){_()(n,e);var t=Mt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,l=void 0===o?[10,5]:o;return 2===l.length&&l.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:Pt[r]||0,u_dash_array:l}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig().animateOption;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n   if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:et,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?1:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:f.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(me);function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var It={solid:0,dash:1},Dt=function(e){_()(n,e);var t=Ot(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,l=void 0===o?[10,5]:o;return 2===l.length&&l.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:It[r]||0,u_dash_array:l}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig().animateOption;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n    vec2 x = mix(source, target, ratio);\n    vec2 center = mix(source, target, 0.5);\n    float dSourceCenter = distance(source, center);\n    float dXCenter = distance(x, center);\n    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n     float vertex_height = paraboloid(source, target, segmentRatio);\n\n    return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n    );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) *\n    sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\nvec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    return (1.0 - t) * source + t * target;\n  }\n  float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n  float b = sin(t * angularDist) / sin(angularDist);\n  vec2 sin_source = sin(source);\n  vec2 cos_source = cos(source);\n  vec2 sin_target = sin(target);\n  vec2 cos_target = cos(target);\n  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n  float z = a * sin_source.y + b * sin_target.y;\n  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n  setPickingColor(a_PickingColor);\n}\n\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:et,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?1:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:f.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(me);function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var zt={solid:0,dash:1},Lt=function(e){_()(n,e);var t=Rt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,l=void 0===o?[10,5,0,0]:o;return 2===l.length&&l.push(0,0),{u_opacity:t||1,u_line_type:zt[r],u_dash_array:l}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig().animateOption;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\n// dash line\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5.，0, 0];\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying vec4 v_dash_array;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nvarying float v_side;\n\n\nvoid main() {\n\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = a_Distance / a_Total_Distance;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = a_Distance / a_Total_Distance;\n  }\n  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));\n  v_color = a_Color;\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  vec2 offset = project_pixel(size.xy);\n  v_side = a_Miter * a_Size.x;\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nuniform float u_blur : 0.99;\nuniform float u_line_type: 0.0;\nuniform float u_opacity : 1.0;\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\n\n// dash\nuniform float u_dash_offset : 0.0;\nuniform float u_dash_ratio : 0.1;\nvarying float v_distance_ratio;\nvarying vec4 v_dash_array;\nvarying float v_side;\n\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n// [animate, duration, interval, trailLength],\nvoid main() {\n  gl_FragColor = v_color;\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  // gl_FragColor.a *= u_opacity * blur ;\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n // dash line\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n    // gl_FragColor.a *=(1.0- step(v_dash_array.x, mod(v_distance_ratio, dashLength)));\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ye,primitive:f.gl.TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){this.layer.getLayerConfig().lineType;this.styleAttributeService.registerStyleAttribute({name:"distance",type:f.AttributeType.Attribute,descriptor:{name:"a_Distance",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:f.AttributeType.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){var o=e.size,l=void 0===o?1:o;return Array.isArray(l)?[l[0],l[1]]:[l,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:f.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:f.AttributeType.Attribute,descriptor:{name:"a_Miter",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}})}}]),n}(me),jt={arc:Et,arc3d:At,greatcircle:Dt,line:Lt};function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Nt=function(e){_()(n,e);var t=Ft(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="LineLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new jt[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}}[this.getModelType()]}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape");return(null==t||null===(e=t.scale)||void 0===e?void 0:e.field)||"line"}}]),n}(ve);function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Vt=function(e){_()(n,e);var t=Bt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){return{u_opacity:this.layer.getLayerConfig().opacity||1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:'precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform mat4 u_ModelMatrix;\nvarying vec4 v_color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec3 size = a_Size * a_Position;\n\n  vec2 offset = project_pixel(size.xy);\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);\n\n  float lightWeight = calc_lighting(pos);\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  gl_Position = project_common_position_to_clipspace(pos);\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ge,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r){var o=e.size;if(o){var l=[];return Array.isArray(o)&&(l=2===o.length?[o[0],o[0],o[1]]:o),Array.isArray(o)||(l=[o]),l}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:f.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:f.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t){var n=Le(e.coordinates);return[n[0],n[1],0]}}})}}]),n}(me);function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Wt=function(e){_()(n,e);var t=Ut(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"rgb(0,0,0,0)":r,l=e.strokeWidth,c=void 0===l?1:l,d=e.strokeOpacity,f=void 0===d?1:d;return{u_opacity:n,u_stroke_width:c,u_stroke_color:Object(V.A)(o),u_stroke_opacity:f}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig().animateOption;return{u_aimate:this.animateOption2Array(e),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),qe)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:'attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec2 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\nuniform mat4 u_ModelMatrix;\n\nuniform float u_stroke_width : 2;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // unpack color(vec2)\n  v_color = a_Color;\n  vec2 extrude = a_Extrude;\n\n  float shape_type = a_Shape;\n\n  float newSize = setPickingSize(a_Size);\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  vec2 offset = project_pixel(extrude * (newSize + u_stroke_width));\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  // TODO: billboard\n  // anti-alias\n  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(extrude, antialiasblur,shape_type);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:"#define Animate 0.0\n\nuniform float u_blur : 0;\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  lowp float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  // gl_FragColor = v_color * color_t;\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n  if(u_aimate.x == Animate) {\n    float d = length(v_data.xy);\n    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n    gl_FragColor = vec4(gl_FragColor.xyz, intensity);\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n",triangulation:qe,depth:{enable:!1},blend:this.getBlend()})]}},{key:"animateOption2Array",value:function(option){return[option.enable?0:1,option.speed||1,option.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:f.AttributeType.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){var o=[1,1,-1,1,-1,-1,1,-1],l=r%4*2;return[o[l],o[l+1]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?5:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:f.AttributeType.Attribute,descriptor:{name:"a_Shape",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(t,n,r,o){var l=t.shape,c=void 0===l?2:l;return[e.layer.getLayerConfig().shape2d.indexOf(c)]}}})}}]),n}(me);function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var $t=function(e){_()(n,e);var t=Ht(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).texture=void 0,e}return y()(n,[{key:"getUninforms",value:function(){return{u_opacity:this.layer.getLayerConfig().opacity||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var e=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){e.updateTexture(),e.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform float u_stroke_width : 1;\nvarying float v_size;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',fragmentShader:'\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [1, 1, 1, 1];\nuniform float u_stroke_opacity : 1;\nuniform float u_opacity : 1;\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\nvec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\nvec2 fragmentPosition = 2.0*gl_PointCoord - 1.0;\nfloat distance = length(fragmentPosition);\nfloat distanceSqrd = distance * distance;\nfloat radius = 1.;\nfloat r = 1.0 - smoothstep(radius-(radius*0.01),\n                         radius+(radius*0.01),\n                         distanceSqrd);\n  vec4 textureColor=texture2D(u_texture,pos);\n  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n        gl_FragColor= vec4(textureColor.xyz, textureColor.w);\n  }else {\n        gl_FragColor= step(0.01, textureColor.z) * v_color;\n  }\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ze,primitive:f.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(t,n,r,o){var l=e.fontService.mapping,c=t.shape,d=l[e.fontService.getGlyph(c)];return[d.x,d.y]}}})}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,canvas=this.fontService.canvas;this.texture=e({data:canvas,mag:f.gl.LINEAR,min:f.gl.LINEAR,width:canvas.width,height:canvas.height})}},{key:"initIconFontGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.fontWeight,r=void 0===n?"normal":n,o=t.fontFamily,l=void 0===o?"sans-serif":o,data=this.layer.getEncodedData(),c=[];data.forEach((function(t){var n=t.shape,r=void 0===n?"":n;r=r.toString();var o=e.fontService.getGlyph(r);-1===c.indexOf(o)&&c.push(o)})),this.fontService.setFontOptions({characterSet:c,fontWeight:r,fontFamily:l,fontSize:48})}}]),n}(me);function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Gt=function(e){_()(n,e);var t=qt(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).texture=void 0,e.updateTexture=function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:f.gl.LINEAR,min:f.gl.LINEAR,width:1024,height:e.iconService.canvasHeight||128})},e}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig().opacity;return this.rendererService.getDirty()&&this.texture.bind(),{u_opacity:e||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){this.texture&&this.texture.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:'precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform float u_stroke_width : 1;\nvarying float v_size;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',fragmentShader:'\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [1, 1, 1, 1];\nuniform float u_stroke_opacity : 1;\nuniform float u_opacity : 1;\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\nvec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\nvec2 fragmentPosition = 2.0*gl_PointCoord - 1.0;\nfloat distance = length(fragmentPosition);\nfloat distanceSqrd = distance * distance;\nfloat radius = 1.;\nfloat r = 1.0 - smoothstep(radius-(radius*0.01),\n                         radius+(radius*0.01),\n                         distanceSqrd);\n  vec4 textureColor=texture2D(u_texture,pos);\n  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n        gl_FragColor= vec4(textureColor.xyz, textureColor.w);\n  }else {\n        gl_FragColor= step(0.01, textureColor.z) * v_color;\n  }\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ze,primitive:f.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?5:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(t,n,r,o){var l=e.iconService.getIconMap()[t.shape]||{x:0,y:0};return[l.x,l.y]}}})}}]),n}(me);function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}function Yt(e){var t=e.coordinates;return{vertices:xe()(t),indices:[0],size:t.length}}var Xt=function(e){_()(n,e);var t=Zt(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"rgb(0,0,0,0)":r,l=e.strokeWidth;return{u_opacity:n,u_stroke_width:void 0===l?1:l,u_stroke_color:Object(V.A)(o)}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:'\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n#pragma include "projection"\n#pragma include "picking"\nvoid main() {\n  v_color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  gl_Position = project_common_position_to_clipspace(project_pos);\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n    setPickingColor(a_PickingColor);\n}\n',fragmentShader:'\nuniform float u_opacity : 1;\nvarying vec4 v_color;\n#pragma include "picking"\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Yt,depth:{enable:!1},primitive:f.gl.POINTS,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?1:o;return Array.isArray(l)?[l[0]]:[l]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:f.BlendType.additive}}}]),n}(me);function Kt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Qt=function(){function e(t,n,r){v()(this,e),this.boxCells=[],this.xCellCount=void 0,this.yCellCount=void 0,this.boxKeys=void 0,this.bboxes=void 0,this.width=void 0,this.height=void 0,this.xScale=void 0,this.yScale=void 0,this.boxUid=void 0;var o=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)o.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}return y()(e,[{key:"insert",value:function(e,t,n,r,o){this.forEachCell(t,n,r,o,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)}},{key:"query",value:function(e,t,n,r,o){return this.queryHitTest(e,t,n,r,!1,o)}},{key:"hitTest",value:function(e,t,n,r,o){return this.queryHitTest(e,t,n,r,!0,o)}},{key:"insertBoxCell",value:function(e,t,n,r,o,l){this.boxCells[o].push(l)}},{key:"queryHitTest",value:function(e,t,n,r,o,l){if(n<0||e>this.width||r<0||t>this.height)return!o&&[];var c=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(o)return!0;for(var d=0;d<this.boxKeys.length;d++)c.push({key:this.boxKeys[d],x1:this.bboxes[4*d],y1:this.bboxes[4*d+1],x2:this.bboxes[4*d+2],y2:this.bboxes[4*d+3]});return l?c.filter(l):c}var f={hitTest:o,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,c,f,l),o?c.length>0:c}},{key:"queryCell",value:function(e,t,n,r,o,l,c,d){var f=c.seenUids,h=this.boxCells[o];if(null!==h){var v,m=this.bboxes,y=Kt(h);try{for(y.s();!(v=y.n()).done;){var x=v.value;if(!f.box[x]){f.box[x]=!0;var _=4*x;if(e<=m[_+2]&&t<=m[_+3]&&n>=m[_+0]&&r>=m[_+1]&&(!d||d(this.boxKeys[x]))){if(c.hitTest)return l.push(!0),!0;l.push({key:this.boxKeys[x],x1:m[_],y1:m[_+1],x2:m[_+2],y2:m[_+3]})}}}}catch(e){y.e(e)}finally{y.f()}}return!1}},{key:"forEachCell",value:function(e,t,n,r,o,l,c,d){for(var f=this.convertToXCellCoord(e),h=this.convertToYCellCoord(t),v=this.convertToXCellCoord(n),m=this.convertToYCellCoord(r),y=f;y<=v;y++)for(var x=h;x<=m;x++){var _=this.xCellCount*x+y;if(o.call(this,e,t,n,r,_,l,c,d))return}}},{key:"convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}]),e}(),ei=function(){function e(t,n){v()(this,e),this.width=void 0,this.height=void 0,this.grid=void 0,this.viewportPadding=100,this.screenRightBoundary=void 0,this.screenBottomBoundary=void 0,this.gridRightBoundary=void 0,this.gridBottomBoundary=void 0,this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new Qt(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return y()(e,[{key:"placeCollisionBox",value:function(e){var t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,o=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,o)||this.grid.hitTest(t,n,r,o)?{box:[]}:{box:[t,n,r,o]}}},{key:"insertCollisionBox",value:function(e,t){var n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}},{key:"project",value:function(e,t,n){var r=ke.e.fromValues(t,n,0,1),o=ke.e.create(),l=ke.b.fromValues.apply(ke.b,xe()(e));return ke.e.transformMat4(o,r,l),{x:(o[0]/o[3]+1)/2*this.width+this.viewportPadding,y:(-o[1]/o[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}]),e}();function ti(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ni(e,t,n,r,o,l,c){var d=0,f=-8,h=0,v=e.positionedGlyphs,m="right"===l?1:"left"===l?0:.5,y=v.length;n.forEach((function(line){if(line.split("").forEach((function(e){var glyph=t[e];glyph&&(v.push({glyph:e,x:d,y:f+0,vertical:!1,scale:1,metrics:glyph}),d+=glyph.advance+c)})),v.length!==y){var e=d-c;h=Math.max(e,h),function(e,t,n,r,o){if(o){var l=e[r],glyph=l.glyph;if(glyph)for(var c=t[glyph].advance*l.scale,d=(e[r].x+c)*o,f=n;f<=r;f++)e[f].x-=d}}(v,t,y,v.length-1,m)}d=0,f+=r}));var x=function(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}(o),_=x.horizontalAlign,w=x.verticalAlign;!function(e,t,n,r,o,l,c){var d,f=(t-n)*o,h=(-r*c+.5)*l,v=ti(e);try{for(v.s();!(d=v.n()).done;){var m=d.value;m.x+=f,m.y+=h}}catch(e){v.e(e)}finally{v.f()}}(v,m,_,w,h,r,n.length);var k=f- -8;e.top+=-w*k,e.bottom=e.top+k,e.left+=-_*h,e.right=e.left+h}function ri(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var si='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform float u_stroke_opacity: 1.0;\nuniform vec4 u_stroke : [0, 0, 0, 1];\nuniform float u_strokeWidth : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\n#pragma include "picking"\nvoid main() {\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  lowp float buff = (6.0 - u_strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke.rgb, u_stroke.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ui='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // 文本缩放比例\n  float fontScale = a_Size / FONT_SIZE;\n   v_fontScale = fontScale;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  gl_Position = vec4(projected_position.xy / projected_position.w\n    + a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function ci(e){var t=e.id,n=[],r=[];if(!this.glyphInfoMap||!this.glyphInfoMap[t])return{vertices:[],indices:[],size:7};var o=this.glyphInfoMap[t].centroid,l=2===o.length?[o[0],o[1],0]:o;return this.glyphInfoMap[t].glyphQuads.forEach((function(e,t){n.push.apply(n,xe()(l).concat([e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y],xe()(l),[e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y],xe()(l),[e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y],xe()(l),[e.tex.x,e.tex.y,e.bl.x,e.bl.y])),r.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)})),{vertices:n,indices:r,size:7}}var di=function(e){_()(n,e);var t=ai(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).glyphInfo=void 0,e.glyphInfoMap={},e.texture=void 0,e.currentZoom=-1,e.extent=void 0,e.textureHeight=0,e.textCount=0,e.preTextStyle={},e.buildModels=function(){return e.initGlyph(),e.updateTexture(),e.filterGlyphs(),[e.layer.buildLayerModel({moduleName:"pointText",vertexShader:ui,fragmentShader:si,triangulation:ci.bind(D()(e)),depth:{enable:!1},blend:e.getBlend()})]},e}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"#fff":r,l=e.strokeWidth,c=void 0===l?0:l,d=e.strokeOpacity,f=void 0===d?1:d,h=e.textAnchor,v=void 0===h?"center":h,m=e.textAllowOverlap,y=void 0!==m&&m,x=e.halo,_=void 0===x?.5:x,w=e.gamma,k=void 0===w?2:w,S=this.fontService,canvas=S.canvas,C=S.mapping;return Object.keys(C).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(C).length),this.preTextStyle={textAnchor:v,textAllowOverlap:y},{u_opacity:n,u_stroke_opacity:f,u_sdf_map:this.texture,u_stroke:Object(V.A)(o),u_halo_blur:_,u_gamma_scale:k,u_sdf_map_size:[canvas.width,canvas.height],u_strokeWidth:c}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var e=this.layer.getLayerConfig(),t=e.textAnchor,n=void 0===t?"center":t,r=e.textAllowOverlap,o=void 0===r||r;return this.preTextStyle={textAnchor:n,textAllowOverlap:o},this.buildModels()}},{key:"needUpdate",value:function(){var e=this.layer.getLayerConfig().textAllowOverlap,t=void 0!==e&&e,n=this.mapService.getZoom(),r=this.mapService.getBounds(),o=Object(V.k)(this.extent,r);return(!t&&(Math.abs(this.currentZoom-n)>1||!o)||t!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"clearModels",value:function(){this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:f.AttributeType.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?12:o;return Array.isArray(l)?[l[0]]:[l]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:f.AttributeType.Attribute,descriptor:{name:"a_tex",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){var e=this.mapService.getBounds();return Object(V.y)(e,.5)}},{key:"initTextFont",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,o=void 0===r?"sans-serif":r,data=this.layer.getEncodedData(),l=[];data.forEach((function(e){var t,n=e.shape,r=void 0===n?"":n,o=ri(r=r.toString());try{for(o.s();!(t=o.n()).done;){var c=t.value;-1===l.indexOf(c)&&l.push(c)}}catch(e){o.e(e)}finally{o.f()}})),this.fontService.setFontOptions({characterSet:l,fontWeight:n,fontFamily:o})}},{key:"generateGlyphLayout",value:function(){var e=this,t=this.fontService.mapping,n=this.layer.getLayerConfig(),r=n.spacing,o=void 0===r?2:r,l=n.textAnchor,c=void 0===l?"center":l,d=n.textOffset,data=this.layer.getEncodedData();this.glyphInfo=data.map((function(n){var r=n.shape,l=void 0===r?"":r,f=n.coordinates,h=n.id,v=n.size,m=void 0===v?1:v,y=function(text,e,t,n,r,o){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],c=text.split("\n"),d=[],f={positionedGlyphs:d,top:l[1],bottom:l[1],left:l[0],right:l[0],lineCount:c.length,text:text};return ni(f,e,c,t,n,r,o),!!d.length&&f}(l.toString(),t,m,c,"center",o,d),x=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2?arguments[2]:void 0,o=e.positionedGlyphs,l=void 0===o?[]:o,c=[],d=ti(l);try{for(d.s();!(t=d.n()).done;){var f=t.value,rect=f.metrics,h=4,v=rect.advance*f.scale/2,m=r?[f.x+v,f.y]:[0,0],y=r?[0,0]:[f.x+v+n[0],f.y+n[1]],x=(0-h)*f.scale-v+y[0],_=(0-h)*f.scale+y[1],w=x+rect.width*f.scale,k=_+rect.height*f.scale,S={x:x,y:_},tr={x:w,y:_},C={x:x,y:k},br={x:w,y:k};c.push({tl:S,tr:tr,bl:C,br:br,tex:rect,glyphOffset:m})}}catch(e){d.e(e)}finally{d.f()}return c}(y,d,!1);return n.shaping=y,n.glyphQuads=x,n.centroid=Le(f),e.glyphInfoMap[h]={shaping:y,glyphQuads:x,centroid:Le(f)},n}))}},{key:"filterGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.padding,r=void 0===n?[4,4]:n,o=t.textAllowOverlap;if(!(void 0!==o&&o)){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var l=this.rendererService.getViewportSize(),c=l.width,d=l.height,f=new ei(c,d);this.glyphInfo.filter((function(t){var n=t.shaping,o=t.id,l=void 0===o?0:o,c=t.centroid,d=t.size/24,h=e.mapService.lngLatToContainer(c),v=f.placeCollisionBox({x1:n.left*d-r[0],x2:n.right*d+r[0],y1:n.top*d-r[1],y2:n.bottom*d+r[1],anchorPointX:h.x,anchorPointY:h.y}).box;return!(!v||!v.length)&&(f.insertCollisionBox(v,l),!0)})).forEach((function(t){e.glyphInfoMap[t.id]=t}))}}},{key:"initGlyph",value:function(){this.initTextFont(),this.generateGlyphLayout()}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,canvas=this.fontService.canvas;this.textureHeight=canvas.height,this.texture&&this.texture.destroy(),this.texture=e({data:canvas,mag:f.gl.LINEAR,min:f.gl.LINEAR,width:canvas.width,height:canvas.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:ui,fragmentShader:si,triangulation:ci.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),n}(me),fi={fill:Wt,image:Gt,normal:Xt,extrude:Vt,text:di,icon:$t};function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var pi=function(e){_()(n,e);var t=hi(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="PointLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new fi[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}}[this.getModelType()]}},{key:"getModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,o=this.iconService.getIconMap(),l=e.find((function(e){return e.hasOwnProperty("shape")}));if(l){var c=l.shape;return"dot"===c?"normal":-1!==(null==n?void 0:n.indexOf(c))?"fill":-1!==(null==r?void 0:r.indexOf(c))?"extrude":o.hasOwnProperty(c)?"image":""!==this.fontService.getGlyph(c)?"icon":"text"}return"normal"}}]),n}(ve);function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var mi=function(e){_()(n,e);var t=vi(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig().opacity;return{u_opacity:void 0===e?1:e}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:'precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',fragmentShader:'uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Ke})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:f.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:f.gl.STATIC_DRAW,data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var o=e.size,l=void 0===o?10:o;return Array.isArray(l)?[l[0]]:[l]}}})}}]),n}(me);function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var yi={fill:function(e){_()(n,e);var t=gi(n);function n(){return v()(this,n),t.apply(this,arguments)}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig().opacity;return{u_opacity:void 0===e?1:e}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:'attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n\n',fragmentShader:'uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',triangulation:Xe,depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(me),line:Lt,extrude:mi,text:di,point_fill:Wt,point_image:Gt,point_normal:Xt,point_extrude:Vt};function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var xi=function(e){_()(n,e);var t=bi(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="PolygonLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new yi[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null==t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"===n?"fill":"extrude"===n?"extrude":"line"===n?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,o=this.iconService.getIconMap(),l=e.find((function(e){return e.hasOwnProperty("shape")}));if(l){var c=l.shape;return"dot"===c?"point_normal":-1!==(null==n?void 0:n.indexOf(c))?"point_fill":-1!==(null==r?void 0:r.indexOf(c))?"point_extrude":o.hasOwnProperty(c)?"point_image":"text"}return"fill"}}]),n}(ve);function _i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var wi=function(e){_()(n,e);var t=_i(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).texture=void 0,e.colorTexture=void 0,e}return y()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.clampLow,o=void 0===r||r,l=e.clampHigh,c=void 0===l||l,d=e.noDataValue,f=void 0===d?-9999999:d,h=e.domain,v=void 0===h?[0,1]:h;return this.updateColorTexure(),{u_opacity:n||1,u_texture:this.texture,u_domain:v,u_clampLow:o,u_clampHigh:void 0!==c?c:o,u_noDataValue:f,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(){var source=this.layer.getSource(),e=this.rendererService.createTexture2D,t=source.data.dataArray[0];this.texture=e({data:t.data,width:t.width,height:t.height,format:f.gl.LUMINANCE,type:f.gl.FLOAT});var n=this.layer.getLayerConfig().rampColors,r=Object(V.p)(n);return this.colorTexture=e({data:r.data,width:r.width,height:r.height,flipY:!1}),[this.layer.buildLayerModel({moduleName:"RasterImageData",vertexShader:'precision highp float;\nuniform mat4 u_ModelMatrix;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n}\n',fragmentShader:"precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_min;\nuniform float u_max;\nuniform vec2 u_domain;\nuniform float u_noDataValue;\nuniform bool u_clampLow: true;\nuniform bool u_clampHigh: true;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\n  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;\n  if (value == u_noDataValue)\n    gl_FragColor = vec4(0.0, 0, 0, 0.0);\n  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))\n    gl_FragColor = vec4(0, 0, 0, 0);\n  else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);\n    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));\n    gl_FragColor = color;\n    gl_FragColor.a =  gl_FragColor.a * u_opacity ;\n  }\n\n\n}\n",triangulation:Qe,primitive:f.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"updateColorTexure",value:function(){var e=this.rendererService.createTexture2D,t=this.layer.getLayerConfig().rampColors,n=Object(V.p)(t);this.colorTexture=e({data:n.data,width:n.width,height:n.height,flipY:!1})}}]),n}(me),ki={raster:wi,raster3d:wi};function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k()(this,n)}}var Ci,Ti,Ei,Mi,Pi,Ai,Oi,Ii=function(e){_()(n,e);var t=Si(n);function n(){var e;v()(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).type="RasterLayer",e}return y()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new ki[e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){return{raster:{},raster3d:{}}[this.getModelType()]}},{key:"getModelType",value:function(){return"raster"}}]),n}(ve);function Di(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var Ri,zi=(Ci=Object($.injectable)(),Ti=Object($.inject)(f.TYPES.IGlobalConfigService),Ei=Object($.inject)(f.TYPES.ILogService),Ci((Pi=function(){function e(){v()(this,e),O()(this,"configService",Ai,this),O()(this,"logger",Oi,this)}return y()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("DataMappingPlugin",(function(){n.generateMaping(e,{styleAttributeService:r})})),e.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){return e.dataState.dataMappingNeedUpdate=!1,n.generateMaping(e,{styleAttributeService:r}),!0})),e.hooks.beforeRender.tap("DataMappingPlugin",(function(){if(!e.layerModelNeedUpdate){var t=r.getLayerStyleAttributes()||[],filter=r.getLayerStyleAttribute("filter"),o=e.getSource().data.dataArray,l=t.filter((function(e){return e.needRemapping})),c=o;(null==filter?void 0:filter.needRemapping)&&(null==filter?void 0:filter.scale)&&(c=o.filter((function(e){return n.applyAttributeMapping(filter,e)[0]}))),l.length&&((null==filter?void 0:filter.needRemapping)?(e.setEncodedData(n.mapping(t,c)),filter.needRemapping=!1):e.setEncodedData(n.mapping(l,c,e.getEncodedData())),n.logger.debug("remapping finished"),e.emit("remapping",null))}}))}},{key:"generateMaping",value:function(e,t){var n=this,r=t.styleAttributeService,o=r.getLayerStyleAttributes()||[],filter=r.getLayerStyleAttribute("filter"),l=e.getSource().data.dataArray,c=l;(null==filter?void 0:filter.scale)&&(c=l.filter((function(e){return n.applyAttributeMapping(filter,e)[0]}))),e.setEncodedData(this.mapping(o,c))}},{key:"mapping",value:function(e,data,t){var n=this;return data.map((function(r,i){var o=t?t[i]:{},l=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Di(Object(source),!0).forEach((function(t){P()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Di(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({id:r._id,coordinates:r.coordinates},o);return e.filter((function(e){return void 0!==e.scale})).forEach((function(e){var t=n.applyAttributeMapping(e,r);e.needRemapping=!1,"color"===e.name&&(t=t.map((function(e){return Object(V.A)(e)}))),l[e.name]=Array.isArray(t)&&1===t.length?t[0]:t})),l}))}},{key:"applyAttributeMapping",value:function(e,t){var n;if(!e.scale)return[];var r=(null==e||null===(n=e.scale)||void 0===n?void 0:n.scalers)||[],o=[];return r.forEach((function(n){var r,l=n.field;(t.hasOwnProperty(l)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&o.push(t[l])})),e.mapping?e.mapping(o):[]}}]),e}(),Ai=z()(Pi.prototype,"configService",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi=z()(Pi.prototype,"logger",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mi=Pi))||Mi),Li=n(104),ji=Object($.injectable)()(Ri=function(){function e(){v()(this,e),this.mapService=void 0}return y()(e,[{key:"apply",value:function(e){var t=this;this.mapService=e.getContainer().get(f.TYPES.IMapService),e.hooks.init.tap("DataSourcePlugin",(function(){var n=e.sourceOption,data=n.data,r=n.options;e.setSource(new Li.default(data,r)),t.updateClusterData(e)})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(e){var source=e.getSource(),t=source.cluster,n=source.clusterOptions,r=n.zoom,o=void 0===r?0:r,l=n.maxZoom,c=void 0===l?16:l,d=this.mapService.getZoom()-1;return!!(t&&Math.abs(o-d)>1&&c>o)&&(source.updateClusterData(Math.floor(d)),!0)}}]),e}())||Ri,Fi=n(152),Ni=n.n(Fi),Bi=n(156),Vi=n.n(Bi),Ui=n(57),Wi=n.n(Ui),Hi=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},$i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Hi(t(e),n)}),{left:function(a,t,n,r){for(null==n&&(n=0),null==r&&(r=a.length);n<r;){var o=n+r>>>1;e(a[o],t)<0?n=o+1:r=o}return n},right:function(a,t,n,r){for(null==n&&(n=0),null==r&&(r=a.length);n<r;){var o=n+r>>>1;e(a[o],t)>0?r=o:n=o+1}return n}}};var qi=$i(Hi),Gi=qi.right,Zi=(qi.left,Gi);var Yi=function(e){return null===e?NaN:+e},Xi=function(e,t){var n,r,o,l=e.length,i=-1;if(null==t){for(;++i<l;)if(null!=(n=e[i])&&n>=n)for(r=o=n;++i<l;)null!=(n=e[i])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++i<l;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=o=n;++i<l;)null!=(n=t(e[i],i,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]},Ki=Array.prototype,Ji=(Ki.slice,Ki.map,Math.sqrt(50)),Qi=Math.sqrt(10),en=Math.sqrt(2),tn=function(e,t,n){var r,o,l,c,i=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(c=nn(e,t,n))||!isFinite(c))return[];if(c>0)for(e=Math.ceil(e/c),t=Math.floor(t/c),l=new Array(o=Math.ceil(t-e+1));++i<o;)l[i]=(e+i)*c;else for(e=Math.floor(e*c),t=Math.ceil(t*c),l=new Array(o=Math.ceil(e-t+1));++i<o;)l[i]=(e-i)/c;return r&&l.reverse(),l};function nn(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),l=r/Math.pow(10,o);return o>=0?(l>=Ji?10:l>=Qi?5:l>=en?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=Ji?10:l>=Qi?5:l>=en?2:1)}function rn(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),l=r/o;return l>=Ji?o*=10:l>=Qi?o*=5:l>=en&&(o*=2),t<e?-o:o}var on=function(e,p,t){if(null==t&&(t=Yi),n=e.length){if((p=+p)<=0||n<2)return+t(e[0],0,e);if(p>=1)return+t(e[n-1],n-1,e);var n,i=(n-1)*p,r=Math.floor(i),o=+t(e[r],r,e);return o+(+t(e[r+1],r+1,e)-o)*(i-r)}};function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sn(){}function un(object,e){var map=new sn;if(object instanceof sn)object.each((function(e,t){map.set(t,e)}));else if(Array.isArray(object)){var t,i=-1,n=object.length;if(null==e)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(e(t=object[i],i,object),t)}else if(object)for(var r in object)map.set(r,object[r]);return map}sn.prototype=un.prototype={constructor:sn,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var ln=un;function cn(){}var dn=ln.prototype;function fn(object,e){var t=new cn;if(object instanceof cn)object.each((function(e){t.add(e)}));else if(object){var i=-1,n=object.length;if(null==e)for(;++i<n;)t.add(object[i]);else for(;++i<n;)t.add(e(object[i],i,object))}return t}cn.prototype=fn.prototype={constructor:cn,has:dn.has,add:function(e){return this["$"+(e+="")]=e,this},remove:dn.remove,clear:dn.clear,values:dn.keys,size:dn.size,empty:dn.empty,each:dn.each};var hn=Array.prototype,pn=hn.map,vn=hn.slice,mn={name:"implicit"};function gn(){var e=ln(),t=[],n=[],r=mn;function o(o){var l=o+"",i=e.get(l);if(!i){if(r!==mn)return r;e.set(l,i=t.push(o))}return n[(i-1)%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=ln();for(var r,l,i=-1,c=n.length;++i<c;)e.has(l=(r=n[i])+"")||e.set(l,t.push(r));return o},o.range=function(e){return arguments.length?(n=vn.call(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return gn(t,n).unknown(r)},an.apply(o,arguments),o}var yn=n(595);function bn(e,t,n,r,o){var l=e*e,c=l*e;return((1-3*e+3*l-c)*t+(4-6*l+3*c)*n+(1+3*e+3*l-3*c)*r+c*o)/6}var xn=function(e){return function(){return e}};function _n(a,e){return function(t){return a+t*e}}function wn(e){return 1==(e=+e)?kn:function(a,b){return b-a?function(a,b,e){return a=Math.pow(a,e),b=Math.pow(b,e)-a,e=1/e,function(t){return Math.pow(a+t*b,e)}}(a,b,e):xn(isNaN(a)?b:a)}}function kn(a,b){var e=b-a;return e?_n(a,e):xn(isNaN(a)?b:a)}var Sn=function e(t){var n=wn(t);function r(e,t){var r=n((e=Object(yn.b)(e)).r,(t=Object(yn.b)(t)).r),g=n(e.g,t.g),b=n(e.b,t.b),o=kn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=g(t),e.b=b(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function Cn(e){return function(t){var i,n,r=t.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)n=Object(yn.b)(t[i]),o[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return o=e(o),g=e(g),b=e(b),n.opacity=1,function(e){return n.r=o(e),n.g=g(e),n.b=b(e),n+""}}}Cn((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],l=i>0?e[i-1]:2*r-o,c=i<t-1?e[i+2]:2*o-r;return bn((n-i/t)*t,l,r,o,c)}})),Cn((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],l=e[(i+1)%t],c=e[(i+2)%t];return bn((n-i/t)*t,r,o,l,c)}}));var Tn=function(a,b){b||(b=[]);var i,e=a?Math.min(b.length,a.length):0,t=b.slice();return function(n){for(i=0;i<e;++i)t[i]=a[i]*(1-n)+b[i]*n;return t}};function En(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mn(a,b){var i,e=b?b.length:0,t=a?Math.min(e,a.length):0,n=new Array(t),r=new Array(e);for(i=0;i<t;++i)n[i]=Rn(a[i],b[i]);for(;i<e;++i)r[i]=b[i];return function(e){for(i=0;i<t;++i)r[i]=n[i](e);return r}}var Pn=function(a,b){var e=new Date;return a=+a,b=+b,function(t){return e.setTime(a*(1-t)+b*t),e}},An=function(a,b){return a=+a,b=+b,function(e){return a*(1-e)+b*e}},object=function(a,b){var e,i={},t={};for(e in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)e in a?i[e]=Rn(a[e],b[e]):t[e]=b[e];return function(n){for(e in i)t[e]=i[e](n);return t}},On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,In=new RegExp(On.source,"g");var Dn=function(a,b){var e,t,n,r=On.lastIndex=In.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(e=On.exec(a))&&(t=In.exec(b));)(n=t.index)>r&&(n=b.slice(r,n),s[i]?s[i]+=n:s[++i]=n),(e=e[0])===(t=t[0])?s[i]?s[i]+=t:s[++i]=t:(s[++i]=null,q.push({i:i,x:An(e,t)})),r=In.lastIndex;return r<b.length&&(n=b.slice(r),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(e){return b(e)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(e){for(var t,i=0;i<b;++i)s[(t=q[i]).i]=t.x(e);return s.join("")})},Rn=function(a,b){var e,t=typeof b;return null==b||"boolean"===t?xn(b):("number"===t?An:"string"===t?(e=Object(yn.a)(b))?(b=e,Sn):Dn:b instanceof yn.a?Sn:b instanceof Date?Pn:En(b)?Tn:Array.isArray(b)?Mn:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:An)(a,b)},zn=function(a,b){return a=+a,b=+b,function(e){return Math.round(a*(1-e)+b*e)}},Ln=function(e){return+e},jn=[0,1];function Fn(e){return e}function Nn(a,b){return(b-=a=+a)?function(e){return(e-a)/b}:(e=isNaN(b)?NaN:.5,function(){return e});var e}function Bn(e){var t,a=e[0],b=e[e.length-1];return a>b&&(t=a,a=b,b=t),function(e){return Math.max(a,Math.min(b,e))}}function Vn(e,t,n){var r=e[0],o=e[1],l=t[0],c=t[1];return o<r?(r=Nn(o,r),l=n(c,l)):(r=Nn(r,o),l=n(l,c)),function(e){return l(r(e))}}function Un(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),l=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=Nn(e[i],e[i+1]),l[i]=n(t[i],t[i+1]);return function(t){var i=Zi(e,t,1,r)-1;return l[i](o[i](t))}}function Wn(source,e){return e.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function Hn(){var e,t,n,r,output,input,o=jn,l=jn,c=Rn,d=Fn;function f(){return r=Math.min(o.length,l.length)>2?Un:Vn,output=input=null,h}function h(t){return isNaN(t=+t)?n:(output||(output=r(o.map(e),l,c)))(e(d(t)))}return h.invert=function(n){return d(t((input||(input=r(l,o.map(e),An)))(n)))},h.domain=function(e){return arguments.length?(o=pn.call(e,Ln),d===Fn||(d=Bn(o)),f()):o.slice()},h.range=function(e){return arguments.length?(l=vn.call(e),f()):l.slice()},h.rangeRound=function(e){return l=vn.call(e),c=zn,f()},h.clamp=function(e){return arguments.length?(d=e?Bn(o):Fn,h):d!==Fn},h.interpolate=function(e){return arguments.length?(c=e,f()):c},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,u){return e=n,t=u,f()}}function $n(e,t){return Hn()(e,t)}var qn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(e){if(!(t=qn.exec(e)))throw new Error("invalid format: "+e);var t;return new Zn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Zn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Gn.prototype=Zn.prototype,Zn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function Yn(e,p){if((i=(e=p?e.toExponential(p-1):e.toExponential()).indexOf("e"))<0)return null;var i,t=e.slice(0,i);return[t.length>1?t[0]+t.slice(2):t,+e.slice(i+1)]}var Xn,Kn,Jn,Qn,er=function(e){return(e=Yn(Math.abs(e)))?e[1]:NaN},ir=function(e,p){var t=Yn(e,p);if(!t)return e+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")},nr={"%":function(e,p){return(100*e).toFixed(p)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,p){return e.toExponential(p)},f:function(e,p){return e.toFixed(p)},g:function(e,p){return e.toPrecision(p)},o:function(e){return Math.round(e).toString(8)},p:function(e,p){return ir(100*e,p)},r:ir,s:function(e,p){var t=Yn(e,p);if(!t)return e+"";var n=t[0],r=t[1],i=r-(Xn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yn(e,Math.max(0,p+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},rr=function(e){return e},or=Array.prototype.map,ar=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Kn=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?rr:(t=or.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],l=0,g=t[0],c=0;i>0&&g>0&&(c+g+1>r&&(g=Math.max(1,r-c)),o.push(e.substring(i-=g,i+g)),!((c+=g+1)>r));)g=t[l=(l+1)%t.length];return o.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",c=void 0===e.decimal?".":e.decimal+"",d=void 0===e.numerals?rr:function(e){return function(t){return t.replace(/[0-9]/g,(function(i){return e[+i]}))}}(or.call(e.numerals,String)),f=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"-":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function m(e){var t=(e=Gn(e)).fill,n=e.align,m=e.sign,symbol=e.symbol,y=e.zero,x=e.width,_=e.comma,w=e.precision,k=e.trim,S=e.type;"n"===S?(_=!0,S="g"):nr[S]||(void 0===w&&(w=12),k=!0,S="g"),(y||"0"===t&&"="===n)&&(y=!0,t="0",n="=");var C="$"===symbol?o:"#"===symbol&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T="$"===symbol?l:/[%p]/.test(S)?f:"",E=nr[S],M=/[defgprs%]/.test(S);function P(e){var i,o,l,f=C,P=T;if("c"===S)P=E(e)+P,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:E(Math.abs(e),w),k&&(e=function(s){e:for(var e,t=s.length,i=1,n=-1;i<t;++i)switch(s[i]){case".":n=e=i;break;case"0":0===n&&(n=i),e=i;break;default:if(!+s[i])break e;n>0&&(n=0)}return n>0?s.slice(0,n)+s.slice(e+1):s}(e)),A&&0==+e&&"+"!==m&&(A=!1),f=(A?"("===m?m:h:"-"===m||"("===m?"":m)+f,P=("s"===S?ar[8+Xn/3]:"")+P+(A&&"("===m?")":""),M)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){P=(46===l?c+e.slice(i+1):e.slice(i))+P,e=e.slice(0,i);break}}_&&!y&&(e=r(e,1/0));var O=f.length+e.length+P.length,I=O<x?new Array(x-O+1).join(t):"";switch(_&&y&&(e=r(I+e,I.length?x-P.length:1/0),I=""),n){case"<":e=f+e+P+I;break;case"=":e=f+I+e+P;break;case"^":e=I.slice(0,O=I.length>>1)+f+e+P+I.slice(O);break;default:e=I+f+e+P}return d(e)}return w=void 0===w?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),P.toString=function(){return e+""},P}return{format:m,formatPrefix:function(e,t){var n=m(((e=Gn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(er(t)/3))),o=Math.pow(10,-r),l=ar[8+r/3];return function(e){return n(o*e)+l}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Jn=Kn.format,Qn=Kn.formatPrefix;var sr=function(e,t,n,r){var o,l=rn(e,t,n);switch((r=Gn(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(er(t)/3)))-er(Math.abs(e)))}(l,c))||(r.precision=o),Qn(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,er(t)-er(e))+1}(l,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-er(Math.abs(e)))}(l))||(r.precision=o-2*("%"===r.type))}return Jn(r)};function ur(e){var t=e.domain;return e.ticks=function(e){var n=t();return tn(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return sr(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),l=0,c=o.length-1,d=o[l],f=o[c];return f<d&&(r=d,d=f,f=r,r=l,l=c,c=r),(r=nn(d,f,n))>0?r=nn(d=Math.floor(d/r)*r,f=Math.ceil(f/r)*r,n):r<0&&(r=nn(d=Math.ceil(d*r)/r,f=Math.floor(f*r)/r,n)),r>0?(o[l]=Math.floor(d/r)*r,o[c]=Math.ceil(f/r)*r,t(o)):r<0&&(o[l]=Math.ceil(d*r)/r,o[c]=Math.floor(f*r)/r,t(o)),e},e}var lr=function(e,t){var n,r=0,o=(e=e.slice()).length-1,l=e[r],c=e[o];return c<l&&(n=r,r=o,o=n,n=l,l=c,c=n),e[r]=t.floor(l),e[o]=t.ceil(c),e};function cr(e){return Math.log(e)}function dr(e){return Math.exp(e)}function fr(e){return-Math.log(-e)}function pr(e){return-Math.exp(-e)}function vr(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mr(e){return function(t){return-e(-t)}}function gr(e){var t,n,r=e(cr,dr),o=r.domain,base=10;function l(){return t=function(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(e){return Math.log(e)/base})}(base),n=function(base){return 10===base?vr:base===Math.E?Math.exp:function(e){return Math.pow(base,e)}}(base),o()[0]<0?(t=mr(t),n=mr(n),e(fr,pr)):e(cr,dr),r}return r.base=function(e){return arguments.length?(base=+e,l()):base},r.domain=function(e){return arguments.length?(o(e),l()):o()},r.ticks=function(e){var r,l=o(),u=l[0],c=l[l.length-1];(r=c<u)&&(i=u,u=c,c=i);var p,d,f,i=t(u),h=t(c),v=null==e?10:+e,m=[];if(!(base%1)&&h-i<v){if(i=Math.round(i)-1,h=Math.round(h)+1,u>0){for(;i<h;++i)for(d=1,p=n(i);d<base;++d)if(!((f=p*d)<u)){if(f>c)break;m.push(f)}}else for(;i<h;++i)for(d=base-1,p=n(i);d>=1;--d)if(!((f=p*d)<u)){if(f>c)break;m.push(f)}}else m=tn(i,h,Math.min(h-i,v)).map(n);return r?m.reverse():m},r.tickFormat=function(e,o){if(null==o&&(o=10===base?".0e":","),"function"!=typeof o&&(o=Jn(o)),e===1/0)return o;null==e&&(e=10);var l=Math.max(1,base*e/r.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*base<base-.5&&(i*=base),i<=l?o(e):""}},r.nice=function(){return o(lr(o(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function yr(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xr(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _r(e){return e<0?-e*e:e*e}function wr(e){var t=e(Fn,Fn),n=1;function r(){return 1===n?e(Fn,Fn):.5===n?e(xr,_r):e(yr(n),yr(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},ur(t)}function kr(){var e=wr(Hn());return e.copy=function(){return Wn(e,kr()).exponent(e.exponent())},an.apply(e,arguments),e}var Sr=new Date,Cr=new Date;function Tr(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,l){var c,d=[];if(n=o.ceil(n),l=null==l?1:Math.floor(l),!(n<r&&l>0))return d;do{d.push(c=new Date(+n)),t(n,l),e(n)}while(c<n&&n<r);return d},o.filter=function(n){return Tr((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return Sr.setTime(+t),Cr.setTime(+r),e(Sr),e(Cr),Math.floor(n(Sr,Cr))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var Er=Tr((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Er.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Tr((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Mr=Er,Pr=(Er.range,Tr((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ar=Pr;Pr.range;function Or(i){return Tr((function(e){e.setDate(e.getDate()-(e.getDay()+7-i)%7),e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Ir=Or(0),Dr=Or(1),Rr=Or(2),zr=Or(3),Lr=Or(4),jr=Or(5),Fr=Or(6),Nr=(Ir.range,Dr.range,Rr.range,zr.range,Lr.range,jr.range,Fr.range,Tr((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),Br=Nr,Vr=(Nr.range,Tr((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),Ur=Vr,Wr=(Vr.range,Tr((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),Hr=Wr,$r=(Wr.range,Tr((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),qr=$r,Gr=($r.range,Tr((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Gr.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Tr((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Gr:null};var Zr=Gr;Gr.range;function Yr(i){return Tr((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-i)%7),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Xr=Yr(0),Kr=Yr(1),Jr=Yr(2),Qr=Yr(3),eo=Yr(4),to=Yr(5),io=Yr(6),no=(Xr.range,Kr.range,Jr.range,Qr.range,eo.range,to.range,io.range,Tr((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),ro=no,oo=(no.range,Tr((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));oo.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Tr((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ao=oo;oo.range;function so(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var co,fo,ho={"-":"",_:" ",0:"0"},po=/^\s*\d+/,vo=/^%/,mo=/[\\^$*+?|[\]().{}]/g;function go(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",l=o.length;return r+(l<n?new Array(n-l+1).join(t)+o:o)}function yo(s){return s.replace(mo,"\\$&")}function bo(e){return new RegExp("^(?:"+e.map(yo).join("|")+")","i")}function xo(e){for(var map={},i=-1,t=e.length;++i<t;)map[e[i].toLowerCase()]=i;return map}function _o(e,t,i){var n=po.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function wo(e,t,i){var n=po.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function ko(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function So(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function Co(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function To(e,t,i){var n=po.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function Eo(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function Mo(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function Po(e,t,i){var n=po.exec(t.slice(i,i+1));return n?(e.q=3*n[0]-3,i+n[0].length):-1}function Ao(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function Oo(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function Io(e,t,i){var n=po.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function Do(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function Ro(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function zo(e,t,i){var n=po.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function Lo(e,t,i){var n=po.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function jo(e,t,i){var n=po.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function Fo(e,t,i){var n=vo.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function No(e,t,i){var n=po.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function Bo(e,t,i){var n=po.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function Vo(e,p){return go(e.getDate(),p,2)}function Uo(e,p){return go(e.getHours(),p,2)}function Wo(e,p){return go(e.getHours()%12||12,p,2)}function Ho(e,p){return go(1+Br.count(Mr(e),e),p,3)}function $o(e,p){return go(e.getMilliseconds(),p,3)}function qo(e,p){return $o(e,p)+"000"}function Go(e,p){return go(e.getMonth()+1,p,2)}function Zo(e,p){return go(e.getMinutes(),p,2)}function Yo(e,p){return go(e.getSeconds(),p,2)}function Xo(e){var t=e.getDay();return 0===t?7:t}function Ko(e,p){return go(Ir.count(Mr(e)-1,e),p,2)}function Jo(e){var t=e.getDay();return t>=4||0===t?Lr(e):Lr.ceil(e)}function Qo(e,p){return e=Jo(e),go(Lr.count(Mr(e),e)+(4===Mr(e).getDay()),p,2)}function ea(e){return e.getDay()}function ta(e,p){return go(Dr.count(Mr(e)-1,e),p,2)}function ia(e,p){return go(e.getFullYear()%100,p,2)}function na(e,p){return go((e=Jo(e)).getFullYear()%100,p,2)}function ra(e,p){return go(e.getFullYear()%1e4,p,4)}function oa(e,p){var t=e.getDay();return go((e=t>=4||0===t?Lr(e):Lr.ceil(e)).getFullYear()%1e4,p,4)}function aa(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+go(t/60|0,"0",2)+go(t%60,"0",2)}function sa(e,p){return go(e.getUTCDate(),p,2)}function ua(e,p){return go(e.getUTCHours(),p,2)}function la(e,p){return go(e.getUTCHours()%12||12,p,2)}function ca(e,p){return go(1+ro.count(ao(e),e),p,3)}function da(e,p){return go(e.getUTCMilliseconds(),p,3)}function fa(e,p){return da(e,p)+"000"}function ha(e,p){return go(e.getUTCMonth()+1,p,2)}function pa(e,p){return go(e.getUTCMinutes(),p,2)}function va(e,p){return go(e.getUTCSeconds(),p,2)}function ma(e){var t=e.getUTCDay();return 0===t?7:t}function ga(e,p){return go(Xr.count(ao(e)-1,e),p,2)}function ya(e){var t=e.getUTCDay();return t>=4||0===t?eo(e):eo.ceil(e)}function ba(e,p){return e=ya(e),go(eo.count(ao(e),e)+(4===ao(e).getUTCDay()),p,2)}function xa(e){return e.getUTCDay()}function _a(e,p){return go(Kr.count(ao(e)-1,e),p,2)}function wa(e,p){return go(e.getUTCFullYear()%100,p,2)}function ka(e,p){return go((e=ya(e)).getUTCFullYear()%100,p,2)}function Sa(e,p){return go(e.getUTCFullYear()%1e4,p,4)}function Ca(e,p){var t=e.getUTCDay();return go((e=t>=4||0===t?eo(e):eo.ceil(e)).getUTCFullYear()%1e4,p,4)}function Ta(){return"+0000"}function Ea(){return"%"}function Ma(e){return+e}function Pa(e){return Math.floor(+e/1e3)}!function(e){co=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,h=bo(o),v=xo(o),m=bo(l),y=xo(l),x=bo(c),_=xo(c),w=bo(d),k=xo(d),S=bo(f),C=xo(f),T={a:function(e){return c[e.getDay()]},A:function(e){return l[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:Vo,e:Vo,f:qo,g:na,G:oa,H:Uo,I:Wo,j:Ho,L:$o,m:Go,M:Zo,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ma,s:Pa,S:Yo,u:Xo,U:Ko,V:Qo,w:ea,W:ta,x:null,X:null,y:ia,Y:ra,Z:aa,"%":Ea},E={a:function(e){return c[e.getUTCDay()]},A:function(e){return l[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:sa,e:sa,f:fa,g:ka,G:Ca,H:ua,I:la,j:ca,L:da,m:ha,M:pa,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ma,s:Pa,S:va,u:ma,U:ga,V:ba,w:xa,W:_a,x:null,X:null,y:wa,Y:Sa,Z:Ta,"%":Ea},M={a:function(e,t,i){var n=x.exec(t.slice(i));return n?(e.w=_[n[0].toLowerCase()],i+n[0].length):-1},A:function(e,t,i){var n=m.exec(t.slice(i));return n?(e.w=y[n[0].toLowerCase()],i+n[0].length):-1},b:function(e,t,i){var n=S.exec(t.slice(i));return n?(e.m=C[n[0].toLowerCase()],i+n[0].length):-1},B:function(e,t,i){var n=w.exec(t.slice(i));return n?(e.m=k[n[0].toLowerCase()],i+n[0].length):-1},c:function(e,n,i){return O(e,t,n,i)},d:Oo,e:Oo,f:jo,g:Eo,G:To,H:Do,I:Do,j:Io,L:Lo,m:Ao,M:Ro,p:function(e,t,i){var n=h.exec(t.slice(i));return n?(e.p=v[n[0].toLowerCase()],i+n[0].length):-1},q:Po,Q:No,s:Bo,S:zo,u:wo,U:ko,V:So,w:_o,W:Co,x:function(e,t,i){return O(e,n,t,i)},X:function(e,t,i){return O(e,r,t,i)},y:Eo,Y:To,Z:Mo,"%":Fo};function P(e,t){return function(n){var r,o,l,c=[],i=-1,d=0,f=e.length;for(n instanceof Date||(n=new Date(+n));++i<f;)37===e.charCodeAt(i)&&(c.push(e.slice(d,i)),null!=(o=ho[r=e.charAt(++i)])?r=e.charAt(++i):o="e"===r?" ":"0",(l=t[r])&&(r=l(n,o)),c.push(r),d=i+1);return c.push(e.slice(d,i)),c.join("")}}function A(e,t){return function(n){var r,o,l=lo(1900,void 0,1);if(O(l,e,n+="",0)!=n.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(t&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(o=(r=uo(lo(l.y,0,1))).getUTCDay(),r=o>4||0===o?Kr.ceil(r):Kr(r),r=ro.offset(r,7*(l.V-1)),l.y=r.getUTCFullYear(),l.m=r.getUTCMonth(),l.d=r.getUTCDate()+(l.w+6)%7):(o=(r=so(lo(l.y,0,1))).getDay(),r=o>4||0===o?Dr.ceil(r):Dr(r),r=Br.offset(r,7*(l.V-1)),l.y=r.getFullYear(),l.m=r.getMonth(),l.d=r.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),o="Z"in l?uo(lo(l.y,0,1)).getUTCDay():so(lo(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(o+5)%7:l.w+7*l.U-(o+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,uo(l)):so(l)}}function O(e,t,n,r){for(var o,l,i=0,c=t.length,d=n.length;i<c;){if(r>=d)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(l=M[o in ho?t.charAt(i++):o])||(r=l(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return T.x=P(n,T),T.X=P(r,T),T.c=P(t,T),E.x=P(n,E),E.X=P(r,E),E.c=P(t,E),{format:function(e){var t=P(e+="",T);return t.toString=function(){return e},t},parse:function(e){var p=A(e+="",!1);return p.toString=function(){return e},p},utcFormat:function(e){var t=P(e+="",E);return t.toString=function(){return e},t},utcParse:function(e){var p=A(e+="",!0);return p.toString=function(){return e},p}}}(e),fo=co.format,co.parse,co.utcFormat,co.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aa(e){return new Date(e)}function Oa(e){return e instanceof Date?+e:+new Date(+e)}function Ia(e,t,n,r,o,l,c,d,f){var h=$n(Fn,Fn),v=h.invert,m=h.domain,y=f(".%L"),x=f(":%S"),_=f("%I:%M"),w=f("%I %p"),k=f("%a %d"),S=f("%b %d"),C=f("%B"),T=f("%Y"),E=[[c,1,1e3],[c,5,5e3],[c,15,15e3],[c,30,3e4],[l,1,6e4],[l,5,3e5],[l,15,9e5],[l,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function M(d){return(c(d)<d?y:l(d)<d?x:o(d)<d?_:r(d)<d?w:t(d)<d?n(d)<d?k:S:e(d)<d?C:T)(d)}function P(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var l=Math.abs(r-n)/t,i=$i((function(i){return i[2]})).right(E,l);i===E.length?(o=rn(n/31536e6,r/31536e6,t),t=e):i?(o=(i=E[l/E[i-1][2]<E[i][2]/l?i-1:i])[1],t=i[0]):(o=Math.max(rn(n,r,t),1),t=d)}return null==o?t:t.every(o)}return h.invert=function(e){return new Date(v(e))},h.domain=function(e){return arguments.length?m(pn.call(e,Oa)):m().map(Aa)},h.ticks=function(e,t){var n,r=m(),o=r[0],l=r[r.length-1],c=l<o;return c&&(n=o,o=l,l=n),n=(n=P(e,o,l,t))?n.range(o,l+1):[],c?n.reverse():n},h.tickFormat=function(e,t){return null==t?M:f(t)},h.nice=function(e,t){var n=m();return(e=P(e,n[0],n[n.length-1],t))?m(lr(n,e)):h},h.copy=function(){return Wn(h,Ia(e,t,n,r,o,l,c,d,f))},h}var Da,Ra,za,La,ja,Fa,Na,Ba,Va=Tr((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Ua=(Va.range,Tr((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Wa=(Ua.range,Tr((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})));Wa.range;var Ha,$a,qa,Ga,Za,Ya,Xa,Ka=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Ja=(Da={},P()(Da,f.ScaleTypes.LINEAR,(function e(){var t=$n(Fn,Fn);return t.copy=function(){return Wn(t,e())},an.apply(t,arguments),ur(t)})),P()(Da,f.ScaleTypes.POWER,kr),P()(Da,f.ScaleTypes.LOG,(function e(){var t=gr(Hn()).domain([1,10]);return t.copy=function(){return Wn(t,e()).base(t.base())},an.apply(t,arguments),t})),P()(Da,f.ScaleTypes.IDENTITY,(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=pn.call(e,Ln),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?pn.call(t,Ln):[0,1],ur(r)})),P()(Da,f.ScaleTypes.TIME,(function(){return an.apply(Ia(Mr,Ar,Ir,Br,Ur,Hr,qr,Zr,fo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})),P()(Da,f.ScaleTypes.QUANTILE,(function e(){var t,n=[],r=[],o=[];function l(){var i=0,e=Math.max(1,r.length);for(o=new Array(e-1);++i<e;)o[i-1]=on(n,i/e);return c}function c(e){return isNaN(e=+e)?t:r[Zi(o,e)]}return c.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?o[i-1]:n[0],i<o.length?o[i]:n[n.length-1]]},c.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var t,i=0,r=e.length;i<r;++i)null==(t=e[i])||isNaN(t=+t)||n.push(t);return n.sort(Hi),l()},c.range=function(e){return arguments.length?(r=vn.call(e),l()):r.slice()},c.unknown=function(e){return arguments.length?(t=e,c):t},c.quantiles=function(){return o.slice()},c.copy=function(){return e().domain(n).range(r).unknown(t)},an.apply(c,arguments)})),P()(Da,f.ScaleTypes.QUANTIZE,(function e(){var t,n=0,r=1,o=1,l=[.5],c=[0,1];function d(e){return e<=e?c[Zi(l,e,0,o)]:t}function f(){var i=-1;for(l=new Array(o);++i<o;)l[i]=((i+1)*r-(i-o)*n)/(o+1);return d}return d.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],f()):[n,r]},d.range=function(e){return arguments.length?(o=(c=vn.call(e)).length-1,f()):c.slice()},d.invertExtent=function(e){var i=c.indexOf(e);return i<0?[NaN,NaN]:i<1?[n,l[0]]:i>=o?[l[o-1],r]:[l[i-1],l[i]]},d.unknown=function(e){return arguments.length?(t=e,d):d},d.thresholds=function(){return l.slice()},d.copy=function(){return e().domain([n,r]).range(c).unknown(t)},an.apply(ur(d),arguments)})),P()(Da,f.ScaleTypes.THRESHOLD,(function e(){var t,n=[.5],r=[0,1],o=1;function l(e){return e<=e?r[Zi(n,e,0,o)]:t}return l.domain=function(e){return arguments.length?(n=vn.call(e),o=Math.min(n.length,r.length-1),l):n.slice()},l.range=function(e){return arguments.length?(r=vn.call(e),o=Math.min(n.length,r.length-1),l):r.slice()},l.invertExtent=function(e){var i=r.indexOf(e);return[n[i-1],n[i]]},l.unknown=function(e){return arguments.length?(t=e,l):t},l.copy=function(){return e().domain(n).range(r).unknown(t)},an.apply(l,arguments)})),P()(Da,f.ScaleTypes.CAT,gn),Da),Qa=(Ra=Object($.injectable)(),za=Object($.inject)(f.TYPES.IGlobalConfigService),La=Object($.inject)(f.TYPES.ILogService),Ra((Fa=function(){function e(){v()(this,e),O()(this,"configService",Na,this),O()(this,"logger",Ba,this),this.scaleCache={},this.scaleOptions={}}return y()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),o=e.getSource().data.dataArray;0!==o.length&&n.caculateScalesForAttributes(t||[],o)})),e.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),o=e.getSource().data.dataArray;return n.caculateScalesForAttributes(t||[],o),e.layerModelNeedUpdate=!0,!0})),e.hooks.beforeRender.tap("FeatureScalePlugin",(function(){if(!e.layerModelNeedUpdate){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes();if(t){var o=e.getSource().data.dataArray;if(0===o.length)return;var l=t.filter((function(e){return e.needRescale}));l.length&&(n.caculateScalesForAttributes(l,o),n.logger.debug("rescale finished"))}}}))}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"caculateScalesForAttributes",value:function(e,t){var n=this;this.scaleCache={},e.forEach((function(e){if(e.scale){var r=e.scale,o=e.name;r.names=n.parseFields(e.scale.field||[]);var l=[];r.names.forEach((function(r){l.push(n.getOrCreateScale(r,e,t))})),l.some((function(e){return e.type===f.StyleScaleType.VARIABLE}))?(r.type=f.StyleScaleType.VARIABLE,l.forEach((function(e){var t;if(!r.callback)if(r.values&&"text"!==r.values){var n;if("linear"===(null===(n=e.option)||void 0===n?void 0:n.type)&&r.values.length>2){var l=e.scale.ticks(r.values.length);"color"===o&&e.scale.domain(l)}e.scale.range(r.values)}else"cat"===(null===(t=e.option)||void 0===t?void 0:t.type)&&e.scale.range(e.option.domain)}))):(r.type=f.StyleScaleType.CONSTANT,r.defaultValues=l.map((function(e,t){return e.scale(r.names[t])}))),r.scalers=l.map((function(e){return{field:e.field,func:e.scale,option:e.option}})),e.needRescale=!1}}))}},{key:"getOrCreateScale",value:function(e,t,n){[e,t.name].join("_");var r,o=null===(r=t.scale)||void 0===r?void 0:r.values;return this.createScale(e,t.name,o,n)}},{key:"parseFields",value:function(e){return Array.isArray(e)?e:Vi()(e)?e.split("*"):[e]}},{key:"createScale",value:function(e,t,n,data){var r,o=this.scaleOptions[t]&&this.scaleOptions[t].field===e?this.scaleOptions[t]:this.scaleOptions[e],l={field:e,scale:void 0,type:f.StyleScaleType.VARIABLE,option:o};if(!data||!data.length)return o&&o.type?l.scale=this.createDefaultScale(o):(l.scale=gn([e]),l.type=f.StyleScaleType.CONSTANT),l;var c=null===(r=data.find((function(t){return!Wi()(t[e])})))||void 0===r?void 0:r[e];if(this.isNumber(e)||Wi()(c)&&!o)l.scale=gn([e]),l.type=f.StyleScaleType.CONSTANT;else{var d=o&&o.type||this.getDefaultType(c);"text"===n&&(d=f.ScaleTypes.CAT);var h=this.createDefaultScaleConfig(d,e,data);Object.assign(h,o),l.scale=this.createDefaultScale(h),l.option=h}return l}},{key:"getDefaultType",value:function(e){var t=f.ScaleTypes.LINEAR;return"string"==typeof e&&(t=Ka.test(e)?f.ScaleTypes.TIME:f.ScaleTypes.CAT),t}},{key:"createDefaultScaleConfig",value:function(e,t,data){var n={type:e},r=(null==data?void 0:data.map((function(e){return e[t]})))||[];return e!==f.ScaleTypes.CAT&&e!==f.ScaleTypes.QUANTILE?n.domain=Xi(r):e===f.ScaleTypes.CAT?n.domain=Ni()(r):e===f.ScaleTypes.QUANTILE&&(n.domain=r),n}},{key:"createDefaultScale",value:function(e){var t=e.type,n=e.domain,r=Ja[t]();return n&&r.domain(n),r}}]),e}(),Na=z()(Fa.prototype,"configService",[za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=z()(Fa.prototype,"logger",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=Fa))||ja);function es(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var ts,is,ns,rs=(Ha=Object($.injectable)(),$a=Object($.inject)(f.TYPES.ICameraService),qa=Object($.inject)(f.TYPES.IRendererService),Ha((Za=function(){function e(){v()(this,e),O()(this,"cameraService",Ya,this),O()(this,"rendererService",Xa,this)}return y()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){e.models.forEach((function(t){t.addUniforms(function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?es(Object(source),!0).forEach((function(t){P()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):es(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e.layerModel.getAnimateUniforms()))}))}))}}]),e}(),Ya=z()(Za.prototype,"cameraService",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xa=z()(Za.prototype,"rendererService",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=Za))||Ga),os=Object($.injectable)()(ts=function(){function e(){v()(this,e)}return y()(e,[{key:"apply",value:function(e){e.hooks.init.tap("LayerModelPlugin",(function(){e.prepareBuildModel(),e.buildModels(),e.styleNeedUpdate=!1})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){return e.prepareBuildModel(),e.clearModels(),e.buildModels(),e.layerModelNeedUpdate=!1,!1}))}}]),e}())||ts,as=Object($.injectable)()(is=function(){function e(){v()(this,e)}return y()(e,[{key:"apply",value:function(e){e.hooks.afterInit.tap("LayerStylePlugin",(function(){e.updateLayerConfig({});var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&setTimeout((function(){e.fitBounds(r)}),100)}))}}]),e}())||is;function ss(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function us(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ss(Object(source),!0).forEach((function(t){P()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ss(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var ls={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},cs={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},ds={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},fs={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};var hs,ps,vs,ms,gs,ys,bs,xs,_s,ws,ks,Ss,Cs,Ts,Es,Ms,Ps,As,Os,Is,Ds,Rs=Object($.injectable)()(ns=function(){function e(){v()(this,e)}return y()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LightingPlugin",(function(){e.getLayerConfig().enableLighting&&e.models.forEach((function(e){return e.addUniforms(us({},(n={u_DirectionalLights:new Array(3).fill(us({},ds)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(us({},fs)),u_NumOfSpotLights:0},t&&t.length||(t=[cs]),t.forEach((function(e,i){var t=e.type,r=void 0===t?"directional":t,o=E()(e,["type"]),l=ls[r].lights,c=ls[r].num,d=n[c];n[l][d]=us(us({},n[l][d]),o),n[c]++})),n)));var t,n}))}))}}]),e}())||ns,zs=1,Ls=2,js=Object($.injectable)()(hs=function(){function e(){v()(this,e)}return y()(e,[{key:"apply",value:function(e,t){t.rendererService;var n=t.styleAttributeService;e.hooks.init.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig().enablePicking;n.registerStyleAttribute({name:"pickingColor",type:f.AttributeType.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:f.gl.FLOAT},size:3,update:function(e,n){var r=e.id;return t?Object(V.n)(r):[0,0,0]}}})})),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){e.getLayerConfig().enablePicking&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:zs})}))})),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){e.getLayerConfig().enablePicking&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Ls})}))})),e.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig().highlightColor,r="string"==typeof n?Object(V.A)(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(V.l)(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Ls,u_PickingColor:t,u_HighlightColor:r.map((function(e){return 255*e}))})}))})),e.hooks.beforeSelect.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig().selectColor,r="string"==typeof n?Object(V.A)(n):n||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(V.l)(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:Ls,u_PickingColor:t,u_HighlightColor:r.map((function(e){return 255*e}))})}))}))}}]),e}())||hs,Fs=(ps=Object($.injectable)(),vs=Object($.inject)(f.TYPES.ILogService),ps((gs=function(){function e(){v()(this,e),O()(this,"logger",ys,this)}return y()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(e){e.registerStyleAttribute({name:"position",type:f.AttributeType.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:f.gl.FLOAT},size:3,update:function(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),e.registerStyleAttribute({name:"filter",type:f.AttributeType.Attribute,descriptor:{name:"filter",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t){return e.filter?[1]:[0]}}}),e.registerStyleAttribute({name:"color",type:f.AttributeType.Attribute,descriptor:{name:"a_Color",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:4,update:function(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}}})}}]),e}(),ys=z()(gs.prototype,"logger",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ms=gs))||ms),Ns=(bs=Object($.injectable)(),xs=Object($.inject)(f.TYPES.ICameraService),_s=Object($.inject)(f.TYPES.ICoordinateSystemService),ws=Object($.inject)(f.TYPES.IRendererService),bs((Ss=function(){function e(){v()(this,e),O()(this,"cameraService",Cs,this),O()(this,"coordinateSystemService",Ts,this),O()(this,"rendererService",Es,this)}return y()(e,[{key:"apply",value:function(e){var t=this;e.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){t.coordinateSystemService.refresh();var n=t.rendererService.getViewportSize(),r=n.width,o=n.height;e.models.forEach((function(n){var l;return n.addUniforms((l={},P()(l,f.CameraUniform.ProjectionMatrix,t.cameraService.getProjectionMatrix()),P()(l,f.CameraUniform.ViewMatrix,t.cameraService.getViewMatrix()),P()(l,f.CameraUniform.ViewProjectionMatrix,t.cameraService.getViewProjectionMatrix()),P()(l,f.CameraUniform.Zoom,t.cameraService.getZoom()),P()(l,f.CameraUniform.ZoomScale,t.cameraService.getZoomScale()),P()(l,f.CameraUniform.FocalDistance,t.cameraService.getFocalDistance()),P()(l,f.CameraUniform.CameraPosition,t.cameraService.getCameraPosition()),P()(l,f.CoordinateUniform.CoordinateSystem,t.coordinateSystemService.getCoordinateSystem()),P()(l,f.CoordinateUniform.ViewportCenter,t.coordinateSystemService.getViewportCenter()),P()(l,f.CoordinateUniform.ViewportCenterProjection,t.coordinateSystemService.getViewportCenterProjection()),P()(l,f.CoordinateUniform.PixelsPerDegree,t.coordinateSystemService.getPixelsPerDegree()),P()(l,f.CoordinateUniform.PixelsPerDegree2,t.coordinateSystemService.getPixelsPerDegree2()),P()(l,f.CoordinateUniform.PixelsPerMeter,t.coordinateSystemService.getPixelsPerMeter()),P()(l,"u_ViewportSize",[r,o]),P()(l,"u_DevicePixelRatio",window.devicePixelRatio),P()(l,"u_ModelMatrix",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),P()(l,"u_PickingBuffer",e.getLayerConfig().pickingBuffer||0),l))}))}))}}]),e}(),Cs=z()(Ss.prototype,"cameraService",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ts=z()(Ss.prototype,"coordinateSystemService",[_s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Es=z()(Ss.prototype,"rendererService",[ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=Ss))||ks),Bs=Object($.injectable)()(Ms=function(){function e(){v()(this,e)}return y()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("UpdateModelPlugin",(function(){e.layerModel&&e.layerModel.needUpdate()}))}}]),e}())||Ms,Vs=(Ps=Object($.injectable)(),As=Object($.inject)(f.TYPES.ILogService),Ps((Is=function(){function e(){v()(this,e),O()(this,"logger",Ds,this)}return y()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(e,{styleAttributeService:r})})),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){e.layerModelNeedUpdate||n.updateStyleAtrribute(e,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(e,t){var n=this,r=t.styleAttributeService,o=r.getLayerStyleAttributes()||[],filter=r.getLayerStyleAttribute("filter"),l=r.getLayerStyleAttribute("shape");if(filter&&filter.needRegenerateVertices||l&&l.needRegenerateVertices)return e.layerModelNeedUpdate=!0,void o.forEach((function(e){return e.needRegenerateVertices=!1}));o.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){r.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1,n.logger.debug("regenerate vertex attributes: ".concat(t.name," finished"))}))}},{key:"initStyleAttribute",value:function(e,t){var n=this,r=t.styleAttributeService;(r.getLayerStyleAttributes()||[]).filter((function(e){return e.needRegenerateVertices})).forEach((function(t){r.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1,n.logger.debug("init vertex attributes: ".concat(t.name," finished"))}))}}]),e}(),Ds=z()(Is.prototype,"logger",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os=Is))||Os);f.container.bind(f.TYPES.ILayerPlugin).to(ji).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Fs).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Qa).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(zi).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(as).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Vs).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Bs).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(te).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Ns).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(rs).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(Rs).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(js).inRequestScope(),f.container.bind(f.TYPES.ILayerPlugin).to(os).inRequestScope()},function(e,t,n){"use strict";n.d(t,"a",(function(){return be}));var r,o,l,c,d,f,h,v,m,y,x,_,w,k,S=n(3),C=n.n(S),T=n(2),E=n.n(T),M=n(1),P=n.n(M),A=n(148),O=n(0),I=n(22),D=n.n(I),R=n(31),z=n.n(R),L=n(5),j=n(316),F=n.n(j),N=function(){function e(t,n){E()(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,l=n.stride,c=n.normalized,d=n.size,f=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:l||0,normalized:c||!1,divisor:f||0},d&&(this.attribute.size=d)}return P()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),B=(r={},C()(r,O.gl.POINTS,"points"),C()(r,O.gl.LINES,"lines"),C()(r,O.gl.LINE_LOOP,"line loop"),C()(r,O.gl.LINE_STRIP,"line strip"),C()(r,O.gl.TRIANGLES,"triangles"),C()(r,O.gl.TRIANGLE_FAN,"triangle fan"),C()(r,O.gl.TRIANGLE_STRIP,"triangle strip"),r),V=(o={},C()(o,O.gl.STATIC_DRAW,"static"),C()(o,O.gl.DYNAMIC_DRAW,"dynamic"),C()(o,O.gl.STREAM_DRAW,"stream"),o),U=(l={},C()(l,O.gl.BYTE,"int8"),C()(l,O.gl.UNSIGNED_INT,"int16"),C()(l,O.gl.INT,"int32"),C()(l,O.gl.UNSIGNED_BYTE,"uint8"),C()(l,O.gl.UNSIGNED_SHORT,"uint16"),C()(l,O.gl.UNSIGNED_INT,"uint32"),C()(l,O.gl.FLOAT,"float"),l),W=(c={},C()(c,O.gl.ALPHA,"alpha"),C()(c,O.gl.LUMINANCE,"luminance"),C()(c,O.gl.LUMINANCE_ALPHA,"luminance alpha"),C()(c,O.gl.RGB,"rgb"),C()(c,O.gl.RGBA,"rgba"),C()(c,O.gl.RGBA4,"rgba4"),C()(c,O.gl.RGB5_A1,"rgb5 a1"),C()(c,O.gl.RGB565,"rgb565"),C()(c,O.gl.DEPTH_COMPONENT,"depth"),C()(c,O.gl.DEPTH_STENCIL,"depth stencil"),c),H=(d={},C()(d,O.gl.DONT_CARE,"dont care"),C()(d,O.gl.NICEST,"nice"),C()(d,O.gl.FASTEST,"fast"),d),$=(f={},C()(f,O.gl.NEAREST,"nearest"),C()(f,O.gl.LINEAR,"linear"),C()(f,O.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),C()(f,O.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),C()(f,O.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),C()(f,O.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),f),G=(h={},C()(h,O.gl.REPEAT,"repeat"),C()(h,O.gl.CLAMP_TO_EDGE,"clamp"),C()(h,O.gl.MIRRORED_REPEAT,"mirror"),h),Z=(v={},C()(v,O.gl.NONE,"none"),C()(v,O.gl.BROWSER_DEFAULT_WEBGL,"browser"),v),Y=(m={},C()(m,O.gl.NEVER,"never"),C()(m,O.gl.ALWAYS,"always"),C()(m,O.gl.LESS,"less"),C()(m,O.gl.LEQUAL,"lequal"),C()(m,O.gl.GREATER,"greater"),C()(m,O.gl.GEQUAL,"gequal"),C()(m,O.gl.EQUAL,"equal"),C()(m,O.gl.NOTEQUAL,"notequal"),m),X=(y={},C()(y,O.gl.FUNC_ADD,"add"),C()(y,O.gl.MIN_EXT,"min"),C()(y,O.gl.MAX_EXT,"max"),C()(y,O.gl.FUNC_SUBTRACT,"subtract"),C()(y,O.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),y),K=(x={},C()(x,O.gl.ZERO,"zero"),C()(x,O.gl.ONE,"one"),C()(x,O.gl.SRC_COLOR,"src color"),C()(x,O.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),C()(x,O.gl.SRC_ALPHA,"src alpha"),C()(x,O.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),C()(x,O.gl.DST_COLOR,"dst color"),C()(x,O.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),C()(x,O.gl.DST_ALPHA,"dst alpha"),C()(x,O.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),C()(x,O.gl.CONSTANT_COLOR,"constant color"),C()(x,O.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),C()(x,O.gl.CONSTANT_ALPHA,"constant alpha"),C()(x,O.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),C()(x,O.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),x),J=(_={},C()(_,O.gl.NEVER,"never"),C()(_,O.gl.ALWAYS,"always"),C()(_,O.gl.LESS,"less"),C()(_,O.gl.LEQUAL,"lequal"),C()(_,O.gl.GREATER,"greater"),C()(_,O.gl.GEQUAL,"gequal"),C()(_,O.gl.EQUAL,"equal"),C()(_,O.gl.NOTEQUAL,"notequal"),_),Q=(w={},C()(w,O.gl.ZERO,"zero"),C()(w,O.gl.KEEP,"keep"),C()(w,O.gl.REPLACE,"replace"),C()(w,O.gl.INVERT,"invert"),C()(w,O.gl.INCR,"increment"),C()(w,O.gl.DECR,"decrement"),C()(w,O.gl.INCR_WRAP,"increment wrap"),C()(w,O.gl.DECR_WRAP,"decrement wrap"),w),ee=(k={},C()(k,O.gl.FRONT,"front"),C()(k,O.gl.BACK,"back"),k),te=function(){function e(t,n){E()(this,e),this.buffer=void 0;var data=n.data,r=n.usage,o=n.type;this.buffer=t.buffer({data:data,usage:V[r||O.gl.STATIC_DRAW],type:U[o||O.gl.UNSIGNED_BYTE]})}return P()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var data=e.data,t=e.offset;this.buffer.subdata(data,t)}}]),e}(),ie=function(){function e(t,n){E()(this,e),this.elements=void 0;var data=n.data,r=n.usage,o=n.type,l=n.count;this.elements=t.elements({data:data,usage:V[r||O.gl.STATIC_DRAW],type:U[o||O.gl.UNSIGNED_BYTE],count:l})}return P()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var data=e.data;this.elements.subdata(data)}},{key:"destroy",value:function(){}}]),e}(),ne=function(){function e(t,n){E()(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,l=n.color,c=n.colors,d=(n.depth,n.stencil,{width:r,height:o});Array.isArray(c)&&(d.colors=c.map((function(e){return e.get()}))),l&&"boolean"!=typeof l&&(d.color=l.get()),this.framebuffer=t.framebuffer(d)}return P()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}(),re=n(119),oe=n.n(re),ae=n(147),se=n.n(ae),ue=n(196),le=n.n(ue);function ce(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function de(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ce(Object(source),!0).forEach((function(t){C()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ce(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var fe,he=function(){function e(t,n){E()(this,e),this.reGl=void 0,this.destroyed=!1,this.drawCommand=void 0,this.drawParams=void 0,this.options=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,l=n.attributes,c=n.uniforms,d=n.primitive,f=n.count,h=n.elements,v=n.depth,m=n.blend,y=n.stencil,x=n.cull,_=n.instances,w={};this.options=n,c&&(this.uniforms=this.extractUniforms(c),Object.keys(c).forEach((function(e){w[e]=t.prop(e)})));var k={};Object.keys(l).forEach((function(e){k[e]=l[e].get()}));var S={attributes:k,frag:o,uniforms:w,vert:r,primitive:B[void 0===d?O.gl.TRIANGLES:d]};_&&(S.instances=_),f&&(S.count=f),h&&(S.elements=h.get()),this.initDepthDrawParams({depth:v},S),this.initBlendDrawParams({blend:m},S),this.initStencilDrawParams({stencil:y},S),this.initCullDrawParams({cull:x},S),this.drawCommand=t(S),this.drawParams=S}return P()(e,[{key:"addUniforms",value:function(e){this.uniforms=de(de({},this.uniforms),this.extractUniforms(e))}},{key:"draw",value:function(e){if(!this.drawParams.attributes||0!==Object.keys(this.drawParams.attributes).length){var t=de(de({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=oe()(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:n[e]=t[e].get()})),this.drawCommand(n)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach((function(e){e.destroy()})),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Y[n.func||O.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,o=n.func,l=n.equation,c=n.color,d=void 0===c?[0,0,0,0]:c;t.blend={enable:!!r,func:{srcRGB:K[o&&o.srcRGB||O.gl.SRC_ALPHA],srcAlpha:K[o&&o.srcAlpha||O.gl.SRC_ALPHA],dstRGB:K[o&&o.dstRGB||O.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:K[o&&o.dstAlpha||O.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:X[l&&l.rgb||O.gl.FUNC_ADD],alpha:X[l&&l.alpha||O.gl.FUNC_ADD]},color:d}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,o=n.mask,mask=void 0===o?-1:o,l=n.func,c=void 0===l?{cmp:O.gl.ALWAYS,ref:0,mask:-1}:l,d=n.opFront,f=void 0===d?{fail:O.gl.KEEP,zfail:O.gl.KEEP,zpass:O.gl.KEEP}:d,h=n.opBack,v=void 0===h?{fail:O.gl.KEEP,zfail:O.gl.KEEP,zpass:O.gl.KEEP}:h;t.stencil={enable:!!r,mask:mask,func:de(de({},c),{},{cmp:J[c.cmp]}),opFront:{fail:Q[f.fail],zfail:Q[f.zfail],zpass:Q[f.zpass]},opBack:{fail:Q[v.fail],zfail:Q[v.zfail],zpass:Q[v.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,o=n.face,l=void 0===o?O.gl.BACK:o;t.cull={enable:!!r,face:ee[l]}}}},{key:"extractUniforms",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){t.extractUniformsRecursively(r,e[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(e,t,n,r){var o=this;null===t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)&&"number"==typeof t[0]||se()(t)||""===t||"resize"in t?n["".concat(r&&r+".").concat(e)]=t:(le()(t)&&Object.keys(t).forEach((function(l){o.extractUniformsRecursively(l,t[l],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,l){Object.keys(t).forEach((function(c){o.extractUniformsRecursively(c,t[c],n,"".concat(r&&r+".").concat(e,"[").concat(l,"]"))}))})))}}]),e}(),pe=function(){function e(t,n){E()(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var data=n.data,r=n.type,o=void 0===r?O.gl.UNSIGNED_BYTE:r,l=n.width,c=n.height,d=n.flipY,f=void 0!==d&&d,h=n.format,v=void 0===h?O.gl.RGBA:h,m=n.mipmap,y=void 0!==m&&m,x=n.wrapS,_=void 0===x?O.gl.CLAMP_TO_EDGE:x,w=n.wrapT,k=void 0===w?O.gl.CLAMP_TO_EDGE:w,S=n.aniso,C=void 0===S?0:S,T=n.alignment,M=void 0===T?1:T,P=n.premultiplyAlpha,A=void 0!==P&&P,I=n.mag,D=void 0===I?O.gl.NEAREST:I,R=n.min,z=void 0===R?O.gl.NEAREST:R,L=n.colorSpace,j=void 0===L?O.gl.BROWSER_DEFAULT_WEBGL:L;this.width=l,this.height=c;var F={width:l,height:c,type:U[o],format:W[v],wrapS:G[_],wrapT:G[k],mag:$[D],min:$[z],alignment:M,flipY:f,colorSpace:Z[j],premultiplyAlpha:A,aniso:C};data&&(F.data=data),"number"==typeof y?F.mipmap=H[y]:"boolean"==typeof y&&(F.mipmap=y),this.texture=t.texture(F)}return P()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.texture(e)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),ve=Object(L.injectable)()(fe=function(){function e(){var t=this;E()(this,e),this.gl=void 0,this.$container=void 0,this.canvas=void 0,this.width=void 0,this.height=void 0,this.isDirty=void 0,this.createModel=function(e){return new he(t.gl,e)},this.createAttribute=function(e){return new N(t.gl,e)},this.createBuffer=function(e){return new te(t.gl,e)},this.createElements=function(e){return new ie(t.gl,e)},this.createTexture2D=function(e){return new pe(t.gl,e)},this.createFramebuffer=function(e){return new ne(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.clear=function(e){var n=e.color,r=e.depth,o=e.stencil,l=e.framebuffer,c=void 0===l?null:l,d={color:n,depth:r,stencil:o};d.framebuffer=null===c?c:c.get(),t.gl.clear(d)},this.viewport=function(e){var n=e.x,r=e.y,o=e.width,l=e.height;t.gl._gl.viewport(n,r,o,l),t.width=o,t.height=l,t.gl._refresh()},this.readPixels=function(e){var n=e.framebuffer,r={x:e.x,y:e.y,width:e.width,height:e.height};return n&&(r.framebuffer=n.get()),t.gl.read(r)},this.getViewportSize=function(){return{width:t.gl._gl.drawingBufferWidth,height:t.gl._gl.drawingBufferHeight}},this.getContainer=function(){var e;return null===(e=t.canvas)||void 0===e?void 0:e.parentElement},this.getCanvas=function(){return t.canvas},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl.destroy()}}var t;return P()(e,[{key:"init",value:(t=z()(D.a.mark((function e(canvas,t){var n=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.canvas=canvas,e.next=3,new Promise((function(e,r){F()({canvas:n.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,n){!t&&n||r(t),e(n)}})}));case 3:this.gl=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var e=this.getGLContext();e.disable(e.CULL_FACE)}},{key:"setDirty",value:function(e){this.isDirty=e}},{key:"getDirty",value:function(){return this.isDirty}}]),e}())||fe,me=n(7);function ge(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ye(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ge(Object(source),!0).forEach((function(t){C()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ge(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var be=function(){function e(t){E()(this,e),this.sceneService=void 0,this.mapService=void 0,this.controlService=void 0,this.layerService=void 0,this.iconService=void 0,this.markerService=void 0,this.popupService=void 0,this.fontService=void 0,this.interactionService=void 0,this.container=void 0;var n=t.id,map=t.map,r=Object(O.createSceneContainer)();this.container=r,map.setContainer(r,n),r.bind(O.TYPES.IRendererService).to(ve).inSingletonScope(),this.sceneService=r.get(O.TYPES.ISceneService),this.mapService=r.get(O.TYPES.IMapService),this.iconService=r.get(O.TYPES.IIconService),this.fontService=r.get(O.TYPES.IFontService),this.controlService=r.get(O.TYPES.IControlService),this.layerService=r.get(O.TYPES.ILayerService),this.markerService=r.get(O.TYPES.IMarkerService),this.interactionService=r.get(O.TYPES.IInteractionService),this.popupService=r.get(O.TYPES.IPopupService),this.initComponent(n),this.sceneService.init(t),this.initControl()}return P()(e,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(e){return this.sceneService.exportPng(e)}},{key:"exportMap",value:function(e){return this.sceneService.exportPng(e)}},{key:"registerRenderService",value:function(e){var t=this;this.sceneService.loaded?new e(this).init():this.on("loaded",(function(){new e(t).init()}))}},{key:"addLayer",value:function(e){var t=Object(O.createLayerContainer)(this.container);e.setContainer(t),this.sceneService.addLayer(e)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(e){return this.layerService.getLayer(e)}},{key:"getLayerByName",value:function(e){return this.layerService.getLayerByName(e)}},{key:"removeLayer",value:function(e){this.layerService.remove(e)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addImage",value:function(e,img){this.iconService.addImage(e,img)}},{key:"hasImage",value:function(e){return this.iconService.hasImage(e)}},{key:"removeImage",value:function(e){this.iconService.removeImage(e)}},{key:"addIconFontGlyphs",value:function(e,t){this.fontService.addIconGlyphs(t)}},{key:"addControl",value:function(e){this.controlService.addControl(e,this.container)}},{key:"removeControl",value:function(e){this.controlService.removeControl(e)}},{key:"getControlByName",value:function(e){return this.controlService.getControlByName(e)}},{key:"addMarker",value:function(marker){this.markerService.addMarker(marker)}},{key:"addMarkerLayer",value:function(e){this.markerService.addMarkerLayer(e)}},{key:"removeMarkerLayer",value:function(e){this.markerService.removeMarkerLayer(e)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(e){this.popupService.addPopup(e)}},{key:"on",value:function(e,t){-1===O.SceneEventList.indexOf(e)?this.mapService.on(e,t):this.sceneService.on(e,t)}},{key:"off",value:function(e,t){-1===O.SceneEventList.indexOf(e)?this.mapService.off(e,t):this.sceneService.off(e,t)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(){return this.mapService.getCenter()}},{key:"setCenter",value:function(e){return this.mapService.setCenter(e)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(e){return this.mapService.setPitch(e)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(e){this.mapService.setRotation(e)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(p){this.mapService.panTo(p)}},{key:"panBy",value:function(e){this.mapService.panBy(e)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(e){this.mapService.setZoom(e)}},{key:"fitBounds",value:function(e,t){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,animate=n.animate;this.mapService.fitBounds(e,t||ye(ye({},r),{},{animate:animate}))}},{key:"setZoomAndCenter",value:function(e,t){this.mapService.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(style){this.mapService.setMapStyle(style)}},{key:"setMapStatus",value:function(e){this.mapService.setMapStatus(e)}},{key:"pixelToLngLat",value:function(e){return this.mapService.pixelToLngLat(e)}},{key:"lngLatToPixel",value:function(e){return this.mapService.lngLatToPixel(e)}},{key:"containerToLngLat",value:function(e){return this.mapService.containerToLngLat(e)}},{key:"lngLatToContainer",value:function(e){return this.mapService.lngLatToContainer(e)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(e,t){this.container.bind(O.TYPES.IPostProcessingPass).to(e).whenTargetNamed(t)}},{key:"initComponent",value:function(e){this.controlService.init({container:me.b.getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var e=this.sceneService.getSceneConfig(),t=e.logoVisible,n=e.logoPosition;t&&this.addControl(new A.c({position:n}))}},{key:"map",get:function(){return this.mapService.map}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(24),o=n.n(r),l=n(203),c=n.n(l),d=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];function f(e){return d.indexOf(e)}function h(a,b){return 256*(a=c()(Math.floor(a),0,255))+(b=c()(Math.floor(b),0,255))}function v(e){var t=e.color,n=e.radius,r=e.tileX,l=e.tileY,c=e.shape,d=e.opacity,v=e.stroke,m=e.strokeWidth,y=e.strokeOpacity,x=[],_=[],w=[],k=[h(t[0],t[1]),h(t[2],t[3])],S=[h(v[0],v[1]),h(v[2],v[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach((function(e){var t=o()(e,2),h=t[0],v=t[1];x.push([].concat(k,[8388608*(h+1)+2097152*(v+1)+131072*f(c)+n,524288*(r+512)+64*(l+512)])),_.push([].concat(S,[m,y])),w.push([d,0,0,0])})),{packedBuffer:x,packedBuffer2:_,packedBuffer3:w}}},function(e,t,n){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),u.push([t,n]),i[t]=i[t]?i[t]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(l,t.headers[l]);s.send(t.body||null)}))}},,,function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Function]",l="[object GeneratorFunction]",c="[object Map]",d="[object Set]",f=/\w*$/,h=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,m={};m[r]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object DataView]"]=m["[object Boolean]"]=m["[object Date]"]=m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m[c]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m[d]=m["[object String]"]=m["[object Symbol]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Error]"]=m[o]=m["[object WeakMap]"]=!1;var y="object"==typeof e&&e&&e.Object===Object&&e,x="object"==typeof self&&self&&self.Object===Object&&self,_=y||x||Function("return this")(),w=t&&!t.nodeType&&t,k=w&&"object"==typeof n&&n&&!n.nodeType&&n,S=k&&k.exports===w;function C(map,e){return map.set(e[0],e[1]),map}function T(e,t){return e.add(t),e}function E(e,t,n,r){var o=-1,l=e?e.length:0;for(r&&l&&(n=e[++o]);++o<l;)n=t(n,e[o],o,e);return n}function M(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function P(map){var e=-1,t=Array(map.size);return map.forEach((function(n,r){t[++e]=[r,n]})),t}function A(e,t){return function(n){return e(t(n))}}function O(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var I,D=Array.prototype,R=Function.prototype,z=Object.prototype,L=_["__core-js_shared__"],j=(I=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+I:"",F=R.toString,N=z.hasOwnProperty,B=z.toString,V=RegExp("^"+F.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=S?_.Buffer:void 0,W=_.Symbol,H=_.Uint8Array,$=A(Object.getPrototypeOf,Object),G=Object.create,Z=z.propertyIsEnumerable,Y=D.splice,X=Object.getOwnPropertySymbols,K=U?U.isBuffer:void 0,J=A(Object.keys,Object),Q=Se(_,"DataView"),ee=Se(_,"Map"),te=Se(_,"Promise"),ie=Se(_,"Set"),ne=Se(_,"WeakMap"),re=Se(Object,"create"),oe=Pe(Q),ae=Pe(ee),se=Pe(te),ue=Pe(ie),le=Pe(ne),ce=W?W.prototype:void 0,de=ce?ce.valueOf:void 0;function fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function he(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){this.__data__=new he(e)}function me(e,t){var n=Oe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ie(e)}(e)&&N.call(e,"callee")&&(!Z.call(e,"callee")||B.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,l=!!o;for(var c in e)!t&&!N.call(e,c)||l&&("length"==c||Ee(c,o))||n.push(c);return n}function ge(object,e,t){var n=object[e];N.call(object,e)&&Ae(n,t)&&(void 0!==t||e in object)||(object[e]=t)}function ye(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1}function be(e,t,n,h,v,object,y){var x;if(h&&(x=object?h(e,v,object,y):h(e)),void 0!==x)return x;if(!ze(e))return e;var _=Oe(e);if(_){if(x=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&N.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(source,e){var t=-1,n=source.length;e||(e=Array(n));for(;++t<n;)e[t]=source[t];return e}(e,x)}else{var w=Te(e),k=w==o||w==l;if(De(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==w||w==r||k&&!object){if(M(e))return object?e:{};if(x=function(object){return"function"!=typeof object.constructor||Me(object)?{}:(e=$(object),ze(e)?G(e):{});var e}(k?{}:e),!t)return function(source,object){return we(source,Ce(source),object)}(e,function(object,source){return object&&we(source,Le(source),object)}(x,e))}else{if(!m[w])return object?e:{};x=function(object,e,t,n){var r=object.constructor;switch(e){case"[object ArrayBuffer]":return _e(object);case"[object Boolean]":case"[object Date]":return new r(+object);case"[object DataView]":return function(e,t){var n=t?_e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(object,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?_e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(object,n);case c:return function(map,e,t){return E(e?t(P(map),!0):P(map),C,new map.constructor)}(object,n,t);case"[object Number]":case"[object String]":return new r(object);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,f.exec(e));return t.lastIndex=e.lastIndex,t}(object);case d:return function(e,t,n){return E(t?n(O(e),!0):O(e),T,new e.constructor)}(object,n,t);case"[object Symbol]":return symbol=object,de?Object(de.call(symbol)):{}}var symbol}(e,w,be,t)}}y||(y=new ve);var S=y.get(e);if(S)return S;if(y.set(e,x),!_)var A=n?function(object){return function(object,e,t){var n=e(object);return Oe(object)?n:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(n,t(object))}(object,Le,Ce)}(e):Le(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(A||e,(function(r,o){A&&(r=e[o=r]),ge(x,o,be(r,t,n,h,o,e,y))})),x}function xe(e){return!(!ze(e)||(t=e,j&&j in t))&&(Re(e)||M(e)?V:h).test(Pe(e));var t}function _e(e){var t=new e.constructor(e.byteLength);return new H(t).set(new H(e)),t}function we(source,e,object,t){object||(object={});for(var n=-1,r=e.length;++n<r;){var o=e[n],l=t?t(object[o],source[o],o,object,source):void 0;ge(object,o,void 0===l?source[o]:l)}return object}function ke(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function Se(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return xe(t)?t:void 0}fe.prototype.clear=function(){this.__data__=re?re(null):{}},fe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},fe.prototype.get=function(e){var data=this.__data__;if(re){var t=data[e];return"__lodash_hash_undefined__"===t?void 0:t}return N.call(data,e)?data[e]:void 0},fe.prototype.has=function(e){var data=this.__data__;return re?void 0!==data[e]:N.call(data,e)},fe.prototype.set=function(e,t){return this.__data__[e]=re&&void 0===t?"__lodash_hash_undefined__":t,this},he.prototype.clear=function(){this.__data__=[]},he.prototype.delete=function(e){var data=this.__data__,t=ye(data,e);return!(t<0)&&(t==data.length-1?data.pop():Y.call(data,t,1),!0)},he.prototype.get=function(e){var data=this.__data__,t=ye(data,e);return t<0?void 0:data[t][1]},he.prototype.has=function(e){return ye(this.__data__,e)>-1},he.prototype.set=function(e,t){var data=this.__data__,n=ye(data,e);return n<0?data.push([e,t]):data[n][1]=t,this},pe.prototype.clear=function(){this.__data__={hash:new fe,map:new(ee||he),string:new fe}},pe.prototype.delete=function(e){return ke(this,e).delete(e)},pe.prototype.get=function(e){return ke(this,e).get(e)},pe.prototype.has=function(e){return ke(this,e).has(e)},pe.prototype.set=function(e,t){return ke(this,e).set(e,t),this},ve.prototype.clear=function(){this.__data__=new he},ve.prototype.delete=function(e){return this.__data__.delete(e)},ve.prototype.get=function(e){return this.__data__.get(e)},ve.prototype.has=function(e){return this.__data__.has(e)},ve.prototype.set=function(e,t){var n=this.__data__;if(n instanceof he){var r=n.__data__;if(!ee||r.length<199)return r.push([e,t]),this;n=this.__data__=new pe(r)}return n.set(e,t),this};var Ce=X?A(X,Object):function(){return[]},Te=function(e){return B.call(e)};function Ee(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||v.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}function Pe(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ae(e,t){return e===t||e!=e&&t!=t}(Q&&"[object DataView]"!=Te(new Q(new ArrayBuffer(1)))||ee&&Te(new ee)!=c||te&&"[object Promise]"!=Te(te.resolve())||ie&&Te(new ie)!=d||ne&&"[object WeakMap]"!=Te(new ne))&&(Te=function(e){var t=B.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?Pe(n):void 0;if(r)switch(r){case oe:return"[object DataView]";case ae:return c;case se:return"[object Promise]";case ue:return d;case le:return"[object WeakMap]"}return t});var Oe=Array.isArray;function Ie(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Re(e)}var De=K||function(){return!1};function Re(e){var t=ze(e)?B.call(e):"";return t==o||t==l}function ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Le(object){return Ie(object)?me(object):function(object){if(!Me(object))return J(object);var e=[];for(var t in Object(object))N.call(object,t)&&"constructor"!=t&&e.push(t);return e}(object)}n.exports=function(e){return be(e,!0,!0)}}).call(this,n(41),n(114)(e))},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}function o(e,t,n){if(!r(t))return o(e,{},n);var l=Object.assign({},t);for(var c in e)if("__proto__"!==c&&"constructor"!==c){var d=e[c];null!==d&&(n&&n(l,c,d)||(Array.isArray(d)&&Array.isArray(l[c])?l[c]=l[c].concat(d):r(d)&&r(l[c])?l[c]=o(d,l[c],n):l[c]=d))}return l}function l(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(p,t){return o(p,t,e)}),{})}}var c=l();c.fn=l((function(e,t,n){if(void 0!==e[t]&&"function"==typeof n)return e[t]=n(e[t]),!0})),c.arrayFn=l((function(e,t,n){if(Array.isArray(e[t])&&"function"==typeof n)return e[t]=n(e[t]),!0})),c.extend=l,e.exports=c},function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(object,e){return Object.prototype.hasOwnProperty.call(object,e)},n.p="/dist/",n(n.s=259)}([function(e,t,n){"use strict";t.a=function(e,t,n,r,o,l,c,d){var f=typeof(e=e||{}).default;"object"!==f&&"function"!==f||(e=e.default);var h,v="function"==typeof e?e.options:e;if(t&&(v.render=t,v.staticRenderFns=n,v._compiled=!0),r&&(v.functional=!0),l&&(v._scopeId=l),c?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},v._ssrRegister=h):o&&(h=d?function(){o.call(this,this.$root.$options.shadowRoot)}:o),h)if(v.functional){v._injectStyles=h;var m=v.render;v.render=function(e,t){return h.call(t),m(e,t)}}else{var y=v.beforeCreate;v.beforeCreate=y?[].concat(y,h):[h]}return{exports:e,options:v}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(269),l=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,l.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharpMatcherRegx=t.dimensionMap=t.findComponentUpward=t.deepCopy=t.firstUpperCase=t.MutationObserver=void 0;var r=l(n(45)),o=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}t.oneOf=function(e,t){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1},t.camelcaseToHyphen=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.getScrollBarSize=function(e){if(c)return 0;if(e||void 0===d){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top=0,r.left=0,r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var l=t.offsetWidth;o===l&&(l=n.clientWidth),document.body.removeChild(n),d=o-l}return d},t.getStyle=function(element,e){if(!element||!e)return null;"float"===(e=function(e){return e.replace(f,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(h,"Moz$1")}(e))&&(e="cssFloat");try{var t=document.defaultView.getComputedStyle(element,"");return element.style[e]||t?t[e]:null}catch(t){return element.style[e]}},t.warnProp=function(component,e,t,n){t=v(t),n=v(n),console.error("[iView warn]: Invalid prop: type check failed for prop "+String(e)+". Expected "+String(t)+", got "+String(n)+". (found in component: "+String(component)+")")},t.scrollTop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,l=arguments[4];window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)});var c=Math.abs(t-n),d=Math.ceil(c/r*50);function f(t,n,r){var c=this;if(t!==n){var d=t+r>n?n:t+r;t>n&&(d=t-r<n?n:t-r),e===window?window.scrollTo(d,d):e.scrollTop=d,window.requestAnimationFrame(function(){return(0,o.default)(this,c),f(d,n,r)}.bind(this))}else l&&l()}f(t,n,d)},t.findComponentDownward=function e(t,n){var o=t.$children,l=null;if(o.length){var c=!0,d=!1,f=void 0;try{for(var h,v=(0,r.default)(o);!(c=(h=v.next()).done);c=!0){var m=h.value;if(m.$options.name===n){l=m;break}if(l=e(m,n))break}}catch(e){d=!0,f=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw f}}}return l},t.findComponentsDownward=function e(t,n){var r=this;return t.$children.reduce(function(t,l){(0,o.default)(this,r),l.$options.name===n&&t.push(l);var c=e(l,n);return t.concat(c)}.bind(this),[])},t.findComponentsUpward=function e(t,n){var r=[],o=t.$parent;return o?(o.$options.name===n&&r.push(o),r.concat(e(o,n))):[]},t.findBrothersComponents=function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=e.$parent.$children.filter(function(e){return(0,o.default)(this,n),e.$options.name===t}.bind(this)),c=l.findIndex(function(t){return(0,o.default)(this,n),t._uid===e._uid}.bind(this));return r&&l.splice(c,1),l},t.hasClass=m,t.addClass=function(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var l=r[i];l&&(e.classList?e.classList.add(l):m(e,l)||(n+=" "+l))}e.classList||(e.className=n)}},t.removeClass=function(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var l=n[i];l&&(e.classList?e.classList.remove(l):m(e,l)&&(r=r.replace(" "+l+" "," ")))}e.classList||(e.className=(r||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}},t.setMatchMedia=function(){var e=this;if("undefined"!=typeof window){var t=function(t){return(0,o.default)(this,e),{media:t,matches:!1,on:function(){},off:function(){}}}.bind(this);window.matchMedia=window.matchMedia||t}};var c=l(n(16)).default.prototype.$isServer,d=void 0;t.MutationObserver=!c&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||!1);var f=/([\:\-\_]+(.))/g,h=/^moz([A-Z])/;function v(e){return e.toString()[0].toUpperCase()+e.toString().slice(1)}function m(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}t.firstUpperCase=v,t.deepCopy=function e(data){var t,n=(t=data,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(t)]),r=void 0;if("array"===n)r=[];else{if("object"!==n)return data;r={}}if("array"===n)for(var i=0;i<data.length;i++)r.push(e(data[i]));else if("object"===n)for(var o in data)r[o]=e(data[o]);return r},t.findComponentUpward=function(e,t,n){n="string"==typeof t?[t]:t;for(var r=e.$parent,o=r.$options.name;r&&(!o||n.indexOf(o)<0);)(r=r.$parent)&&(o=r.$options.name);return r},t.dimensionMap={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"},t.sharpMatcherRegx=/#([^#]+)$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};function c(e,t,n){var r=this;this.$children.forEach(function(o){(0,l.default)(this,r),o.$options.name===e?o.$emit.apply(o,[t].concat(n)):c.apply(o,[e,t].concat([n]))}.bind(this))}t.default={methods:{dispatch:function(e,t,n){for(var r=this.$parent||this.$root,o=r.$options.name;r&&(!o||o!==e);)(r=r.$parent)&&(o=r.$options.name);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){c.call(this,e,t,n)}}}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120);t.default={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.t.apply(this,t)}}}},function(e,t,n){var r=n(9),o=n(5),l=n(24),c=n(25),d=n(30),f=function(e,t,source){var n,h,v,m=e&f.F,y=e&f.G,x=e&f.S,_=e&f.P,w=e&f.B,k=e&f.W,S=y?o:o[t]||(o[t]={}),C=S.prototype,T=y?r:x?r[t]:(r[t]||{}).prototype;for(n in y&&(source=t),source)(h=!m&&T&&void 0!==T[n])&&d(S,n)||(v=h?T[n]:source[n],S[n]=y&&"function"!=typeof T[n]?source[n]:w&&h?l(v,r):k&&T[n]==v?function(e){var t=function(a,b,t){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(a);case 2:return new e(a,b)}return new e(a,b,t)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(v):_&&"function"==typeof v?l(Function.call,v):v,_&&((S.virtual||(S.virtual={}))[n]=v,e&f.R&&C&&!C[n]&&c(C,n,v)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(101),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(275),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(67)("wks"),o=n(53),l=n(9).Symbol,c="function"==typeof l;(e.exports=function(e){return r[e]||(r[e]=c&&l[e]||(c?l:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={inject:{FormInstance:{default:""}},computed:{itemDisabled:function(){var e=this.disabled;return!e&&this.FormInstance&&(e=this.FormInstance.disabled),e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.off=t.on=void 0;var r,o=n(16),l=((r=o)&&r.__esModule?r:{default:r}).default.prototype.$isServer;t.on=!l&&document.addEventListener?function(element,e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];element&&e&&t&&element.addEventListener(e,t,n)}:function(element,e,t){element&&e&&t&&element.attachEvent("on"+e,t)},t.off=!l&&document.removeEventListener?function(element,e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];element&&e&&element.removeEventListener(e,t,n)}:function(element,e,t){element&&e&&element.detachEvent("on"+e,t)}},function(e,t,n){e.exports=!n(31)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(22),o=n(98),l=n(70),c=Object.defineProperty;t.f=n(13)?Object.defineProperty:function(e,t,n){if(r(e),t=l(t,!0),r(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports={default:n(264),__esModule:!0}},function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(111),l=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return(0,l.default)(e)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(8),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_VALUE_RESOLVER_MAP=t.DEFAULT_FORMATS=t.formatDateLabels=t.initTimeDate=t.nextMonth=t.prevMonth=t.siblingMonth=t.getFirstDayOfMonth=t.getDayCountOfMonth=t.parseDate=t.formatDate=t.isInRange=t.clearHours=t.toDate=void 0;var r=d(n(26)),o=d(n(1)),l=d(n(17)),c=d(n(407));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.toDate=function(e){var t=new Date(e);return isNaN(t.getTime())&&"string"==typeof e&&((t=e.split("-").map(Number))[1]+=1,t=new(Function.prototype.bind.apply(Date,[null].concat((0,l.default)(t))))),isNaN(t.getTime())?null:t},h=(t.clearHours=function(time){var e=new Date(time);return e.setHours(0,0,0,0),e.getTime()},t.isInRange=function(time,a,b){if((0,o.default)(void 0,void 0),!a||!b)return!1;var e=[a,b].sort(),t=(0,r.default)(e,2),n=t[0],l=t[1];return time>=n&&time<=l}.bind(void 0),t.formatDate=function(e,t){return(e=f(e))?c.default.format(e,t||"yyyy-MM-dd"):""}),v=t.parseDate=function(e,t){return c.default.parse(e,t||"yyyy-MM-dd")},m=t.getDayCountOfMonth=function(e,t){return new Date(e,t+1,0).getDate()},y=(t.getFirstDayOfMonth=function(e){var t=new Date(e.getTime());return t.setDate(1),t.getDay()},t.siblingMonth=function(e,t){var n=new Date(e),r=n.getMonth()+t,o=m(n.getFullYear(),r);return o<n.getDate()&&n.setDate(o),n.setMonth(r),n}),x=(t.prevMonth=function(e){return y(e,-1)},t.nextMonth=function(e){return y(e,1)},t.initTimeDate=function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},t.formatDateLabels=function(){var e=this,t={yyyy:function(t){return(0,o.default)(this,e),t.getFullYear()}.bind(this),m:function(t){return(0,o.default)(this,e),t.getMonth()+1}.bind(this),mm:function(t){return(0,o.default)(this,e),("0"+(t.getMonth()+1)).slice(-2)}.bind(this),mmm:function(t,n){return(0,o.default)(this,e),t.toLocaleDateString(n,{month:"long"}).slice(0,3)}.bind(this),Mmm:function(t,n){(0,o.default)(this,e);var r=t.toLocaleDateString(n,{month:"long"});return(r[0].toUpperCase()+r.slice(1).toLowerCase()).slice(0,3)}.bind(this),mmmm:function(t,n){return(0,o.default)(this,e),t.toLocaleDateString(n,{month:"long"})}.bind(this),Mmmm:function(t,n){(0,o.default)(this,e);var r=t.toLocaleDateString(n,{month:"long"});return r[0].toUpperCase()+r.slice(1).toLowerCase()}.bind(this)},n=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g");return function(e,r,l){var c=this,d=r.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:d[1],labels:[d[0],d[2]].map(function(component){return(0,o.default)(this,c),{label:component.replace(/\[[^\]]+\]/,function(r){return(0,o.default)(this,c),r.slice(1,-1).replace(n,function(n){return(0,o.default)(this,c),t[n](l,e)}.bind(this))}.bind(this)),type:-1!=component.indexOf("yy")?"year":"month"}}.bind(this))}}}(),t.DEFAULT_FORMATS={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},function(e,t){return h(e,t)}),_=function(text,e){return v(text,e)},w=function(e,t,n){if(Array.isArray(e)&&2===e.length){var r=e[0],o=e[1];if(r&&o)return h(r,t)+n+h(o,t)}else if(!Array.isArray(e)&&e instanceof Date)return h(e,t);return""},k=function(text,e,t){var n=Array.isArray(text)?text:text.split(t);if(2===n.length){var r=n[0],o=n[1];return[r instanceof Date?r:v(r,e),o instanceof Date?o:v(o,e)]}return[]};t.TYPE_VALUE_RESOLVER_MAP={default:{formatter:function(e){return e?""+e:""},parser:function(text){return void 0===text||""===text?null:text}},date:{formatter:x,parser:_},datetime:{formatter:x,parser:_},daterange:{formatter:w,parser:k},datetimerange:{formatter:w,parser:k},timerange:{formatter:w,parser:k},time:{formatter:x,parser:_},month:{formatter:x,parser:_},year:{formatter:x,parser:_},multiple:{formatter:function(e,t){return(0,o.default)(void 0,void 0),e.filter(Boolean).map(function(e){return(0,o.default)(void 0,void 0),h(e,t)}.bind(void 0)).join(",")}.bind(void 0),parser:function(e,t){return(0,o.default)(void 0,void 0),("string"==typeof e?e.split(","):e).map(function(e){return(0,o.default)(void 0,void 0),e instanceof Date?e:("string"==typeof e?e=e.trim():"number"==typeof e||e||(e=""),v(e,t))}.bind(void 0))}.bind(void 0)},number:{formatter:function(e){return e?""+e:""},parser:function(text){var e=Number(text);return isNaN(text)?null:e}}}},function(e,t,n){e.exports={default:n(260),__esModule:!0}},function(e,t,n){var r=n(18);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(15),l=(r=o)&&r.__esModule?r:{default:r};function c(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}var d={inserted:function(e,t,n){var r=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";var o=e.parentNode;if(o){var l=document.createComment(""),d=!1;!1!==r&&(o.replaceChild(l,e),c(r).appendChild(e),d=!0),e.__transferDomData||(e.__transferDomData={parentNode:o,home:l,target:c(r),hasMovedOut:d})}},componentUpdated:function(e,t){var n=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;var r=e.__transferDomData;if(r){var o=r.parentNode,d=r.home,f=r.hasMovedOut;!f&&n?(o.replaceChild(d,e),c(n).appendChild(e),e.__transferDomData=(0,l.default)({},e.__transferDomData,{hasMovedOut:!0,target:c(n)})):f&&!1===n?(o.replaceChild(e,d),e.__transferDomData=(0,l.default)({},e.__transferDomData,{hasMovedOut:!1,target:c(n)})):n&&c(n).appendChild(e)}},unbind:function(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};t.default=d},function(e,t,n){var r=n(43);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(a){return e.call(t,a)};case 2:return function(a,b){return e.call(t,a,b)};case 3:return function(a,b,n){return e.call(t,a,b,n)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(14),o=n(44);e.exports=n(13)?function(object,e,t){return r.f(object,e,o(1,t))}:function(object,e,t){return object[e]=t,object}},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(291)),o=l(n(45));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,i){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,i){var t=[],n=!0,r=!1,l=void 0;try{for(var c,d=(0,o.default)(e);!(n=(c=d.next()).done)&&(t.push(c.value),!i||t.length!==i);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw l}}return t}(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(301)),o=c(n(303)),l="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===l(r.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(355),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){var r=n(63);e.exports=function(e){return Object(r(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(15),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e}},function(e,t,n){var r=n(64),o=n(63);e.exports=function(e){return r(o(e))}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(280)(!0);n(72)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(115),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(300),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.transferIndex=r,t.transferIncrease=function(){t.transferIndex=r+=1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(124),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(339),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(75));t.changeColor=function(data,e){var t=""===data?"#2d8cf0":data,n=function(data,e){var t=e&&e.a;if(e){if(e.hsl)return d(e.hsl,t);if(e.hex&&e.hex.length>0)return d(e.hex,t)}return d(e,t)}(0,t),r=n.toHsl(),o=n.toHsv();return 0===r.s&&(r.h=t.h||t.hsl&&t.hsl.h||e||0,o.h=r.h),o.v<.0164&&(o.h=t.h||t.hsv&&t.hsv.h||0,o.s=t.s||t.hsv&&t.hsv.s||0),r.l<.01&&(r.h=t.h||t.hsl&&t.hsl.h||0,r.s=t.s||t.hsl&&t.hsl.s||0),{hsl:r,hex:n.toHexString().toUpperCase(),rgba:n.toRgb(),hsv:o,oldHue:t.h||e||r.h,source:t.source,a:t.a||n.getAlpha()}},t.clamp=function(e,t,n){return e<t?t:e>n?n:e},t.getIncrement=function(e,t,n){return(0,l.oneOf)(e,t)?n:0},t.getTouches=function(e,t){return e.touches?e.touches[0][t]:0},t.toRGBAString=function(e){var t=e.r,g=e.g,b=e.b,a=e.a;return"rgba("+String([t,g,b,a].join(","))+")"},t.isValidHex=function(e){return(0,o.default)(e).isValid()},t.simpleCheckForValidColor=function(data){var e=h.reduce(f.bind(null,data),{checked:0,passed:0});return e.checked===e.passed?data:void 0};var o=c(n(149)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}function d(data,e){var t=(0,o.default)(data),n=t._a;return null==n&&t.setAlpha(e||1),t}function f(data,e,t){var n=e.checked,o=e.passed,l=data[t];return l&&(n+=1,(0,r.default)(l)&&(o+=1)),{checked:n,passed:o}}var h=["r","g","b","a","h","s","l","v"]},function(e,t,n){var r=n(96),o=n(68);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){e.exports={default:n(276),__esModule:!0}},function(e,t,n){n(277);for(var r=n(9),o=n(25),l=n(34),c=n(10)("toStringTag"),d="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<d.length;i++){var f=d[i],h=r[f],v=h&&h.prototype;v&&!v[c]&&o(v,c,f),l[f]=l.Array}},function(e,t,n){var r=n(14).f,o=n(30),l=n(10)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,l)&&r(e,l,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(27)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:{to:{type:[Object,String]},replace:{type:Boolean,default:!1},target:{type:String,validator:function(e){return(0,l.oneOf)(e,["_blank","_self","_parent","_top"])},default:"_self"},append:{type:Boolean,required:!1,default:!1}},computed:{linkUrl:function(){if("string"!==(0,o.default)(this.to))return null;if(this.to.includes("//"))return this.to;var e=this.$router;if(e){var t=this.$route,n=e.resolve(this.to,t,this.append);return n?n.href:this.to}return this.to}},methods:{handleClick:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.$router;if(t){var o=this.to;if(n){var l=this.$route,c=n.resolve(this.to,l,this.append);o=c?c.href:this.to}window.open(o)}else n?"string"==typeof this.to&&this.to.includes("//")?window.location.href=this.to:this.replace?this.$router.replace(this.to,function(){(0,r.default)(this,e)}.bind(this)):this.$router.push(this.to,function(){(0,r.default)(this,e)}.bind(this)):window.location.href=this.to},handleCheckClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.to){if("_blank"===this.target)return!1;e.preventDefault(),this.handleClick(t)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(381),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{prefixCls:"ivu-color-picker",inputPrefixCls:"ivu-input",iconPrefixCls:"ivu-icon",transferPrefixCls:"ivu-transfer"}}}},function(e,t,n){var r=n(24),o=n(112),l=n(113),c=n(22),d=n(52),f=n(73),h={},v={};(t=e.exports=function(e,t,n,m,y){var x,_,w,k,S=y?function(){return e}:f(e),C=r(n,m,t?2:1),T=0;if("function"!=typeof S)throw TypeError(e+" is not iterable!");if(l(S)){for(x=d(e.length);x>T;T++)if((k=t?C(c(_=e[T])[0],_[1]):C(e[T]))===h||k===v)return k}else for(w=S.call(e);!(_=w.next()).done;)if((k=o(w,C,_.value,t))===h||k===v)return k}).BREAK=h,t.RETURN=v},function(e,t,n){var r=n(65),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(22),o=n(104),l=n(68),c=n(66)("IE_PROTO"),d=function(){},f=function(){var e,iframe=n(69)("iframe"),i=l.length;for(iframe.style.display="none",n(105).appendChild(iframe),iframe.src="javascript:",(e=iframe.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),f=e.F;i--;)delete f.prototype[l[i]];return f()};e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=r(e),n=new d,d.prototype=null,n[c]=e):n=f(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(41),o=n(10)("toStringTag"),l="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:l?r(t):"Object"==(c=r(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t,n){e.exports={default:n(296),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{disabledHours:{type:Array,default:function(){return[]}},disabledMinutes:{type:Array,default:function(){return[]}},disabledSeconds:{type:Array,default:function(){return[]}},hideDisabledOptions:{type:Boolean,default:!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(170),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(418),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={props:{confirm:{type:Boolean,default:!1}},methods:{iconBtnCls:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return["ivu-picker-panel-icon-btn","ivu-date-picker-"+String(e)+"-btn","ivu-date-picker-"+String(e)+"-btn-arrow"+String(t)]},handleShortcutClick:function(e){e.value&&this.$emit("on-pick",e.value()),e.onClick&&e.onClick(this)},handlePickClear:function(){this.resetView(),this.$emit("on-pick-clear")},handlePickSuccess:function(){this.resetView(),this.$emit("on-pick-success")},handlePickClick:function(){this.$emit("on-pick-click")},resetView:function(){var e=this;setTimeout(function(){return(0,l.default)(this,e),this.currentView=this.selectionMode}.bind(this),500)},handleClear:function(){var e=this;this.dates=this.dates.map(function(){return(0,l.default)(this,e),null}.bind(this)),this.rangeState={},this.$emit("on-pick",this.dates),this.handleConfirm()},handleConfirm:function(e,t){this.$emit("on-pick",this.dates,e,t||this.type)},onToggleVisibility:function(e){var t=this.$refs,n=t.timeSpinner,r=t.timeSpinnerEnd;e&&n&&n.updateScroll(),e&&r&&r.updateScroll()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(432),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(180),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(433),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(41);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(67)("keys"),o=n(53);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(5),o=n(9),l=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return l[e]||(l[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(42)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(18),o=n(9).document,l=r(o)&&r(o.createElement);e.exports=function(e){return l?o.createElement(e):{}}},function(e,t,n){var r=n(18);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(42),o=n(7),l=n(103),c=n(25),d=n(34),f=n(279),h=n(47),v=n(106),m=n(10)("iterator"),y=!([].keys&&"next"in[].keys()),x=function(){return this};e.exports=function(e,t,n,_,w,k,S){f(n,t,_);var C,T,E,M=function(e){if(!y&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",A="values"==w,O=!1,I=e.prototype,D=I[m]||I["@@iterator"]||w&&I[w],R=D||M(w),z=w?A?M("entries"):R:void 0,L="Array"==t&&I.entries||D;if(L&&(E=v(L.call(new e)))!==Object.prototype&&E.next&&(h(E,P,!0),r||"function"==typeof E[m]||c(E,m,x)),A&&D&&"values"!==D.name&&(O=!0,R=function(){return D.call(this)}),r&&!S||!y&&!O&&I[m]||c(I,m,R),d[t]=R,d[P]=x,w)if(C={values:A?R:M("values"),keys:k?R:M("keys"),entries:z},S)for(T in C)T in I||l(I,T,C[T]);else o(o.P+o.F*(y||O),t,C);return C}},function(e,t,n){var r=n(56),o=n(10)("iterator"),l=n(34);e.exports=n(5).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||l[r(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(110),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(327),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={default:n(294),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directive=void 0;var r=f(n(27)),o=f(n(32)),l=f(n(311)),c=f(n(21)),d=f(n(314));function f(e){return e&&e.__esModule?e:{default:e}}t.install=function(e){e.directive("click-outside",k)};var h=(0,d.default)(null),v=(0,d.default)(null),m=[h,v],y=function(e,t,n){var r=n.target,o=function(t){var o=t.el;if(o!==r&&!o.contains(r)){var l=t.binding;l.modifiers.stop&&n.stopPropagation(),l.modifiers.prevent&&n.preventDefault(),l.value.call(e,n)}};(0,c.default)(t).forEach((function(e){return t[e].forEach(o)}))},x=function(e){y(this,h,e)},_=function(e){y(this,v,e)},w=function(e){return e?x:_},k=t.directive=(0,l.default)({},{$_captureInstances:{value:h},$_nonCaptureInstances:{value:v},$_onCaptureEvent:{value:x},$_onNonCaptureEvent:{value:_},bind:{value:function(e,t){if("function"!=typeof t.value)throw new TypeError("Binding value must be a function.");var n=void 0,l=t.modifiers;n=l.click?"click":l.mousedown?"mousedown":l.touchstart?"touchstart":"click";var c=t.arg,d=(0,o.default)({},t,{modifiers:(0,o.default)({capture:!1,prevent:!1,stop:!1},t.modifiers)}),f=c?h:v;Array.isArray(f[n])||(f[n]=[]),1===f[n].push({el:e,binding:d})&&"object"===("undefined"==typeof document?"undefined":(0,r.default)(document))&&document&&document.addEventListener(n,w(c),c)}},unbind:{value:function(e){var t=function(t){return t.el!==e};m.forEach((function(e){var n=(0,c.default)(e);if(n.length){var o=e===h;n.forEach((function(n){var l=e[n].filter(t);l.length?e[n]=l:("object"===("undefined"==typeof document?"undefined":(0,r.default)(document))&&document&&document.removeEventListener(n,w(o),o),delete e[n])}))}}))}},version:{enumerable:!0,value:"3.7.1"}})},function(e,t,n){t.f=n(10)},function(e,t,n){var r=n(53)("meta"),o=n(18),l=n(30),c=n(14).f,d=0,f=Object.isExtensible||function(){return!0},h=!n(31)((function(){return f(Object.preventExtensions({}))})),v=function(e){c(e,r,{value:{i:"O"+ ++d,w:{}}})},meta=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,r)){if(!f(e))return"F";if(!t)return"E";v(e)}return e[r].i},getWeak:function(e,t){if(!l(e,r)){if(!f(e))return!0;if(!t)return!1;v(e)}return e[r].w},onFreeze:function(e){return h&&meta.NEED&&f(e)&&!l(e,r)&&v(e),e}}},function(e,t,n){var r=n(9),o=n(5),l=n(42),c=n(77),d=n(14).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=l?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||d(t,e,{value:c.f(e)})}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(123),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(328),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={bind:function(e,t,n){function r(n){if(e.contains(n.target))return!1;t.expression&&t.value(n)}e.__vueClickOutside__=r,document.addEventListener("click",r)},update:function(){},unbind:function(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o={beforeEnter:function(e){(0,r.addClass)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter:function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&((0,r.addClass)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};t.default={name:"CollapseTransition",functional:!0,props:{appear:Boolean},render:function(e,t){var n=t.children,r=t.props;return e("transition",{on:o,props:{appear:r.appear}},n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1)),o=f(n(4)),l=f(n(151)),c=n(39),d=n(12);function f(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[o.default,l.default],props:{focused:{type:Boolean,default:!1},value:{type:Object,default:void 0}},beforeDestroy:function(){this.unbindEventListeners()},created:function(){var e=this;this.focused&&setTimeout(function(){return(0,r.default)(this,e),this.$el.focus()}.bind(this),1)},methods:{handleLeft:function(e){this.handleSlide(e,this.left,"left")},handleRight:function(e){this.handleSlide(e,this.right,"right")},handleUp:function(e){this.handleSlide(e,this.up,"up")},handleDown:function(e){this.handleSlide(e,this.down,"down")},handleMouseDown:function(e){this.dispatch("ColorPicker","on-dragging",!0),this.handleChange(e,!0),(0,d.on)(window,"mousemove",this.handleChange),(0,d.on)(window,"mouseup",this.handleMouseUp)},handleMouseUp:function(){this.unbindEventListeners()},unbindEventListeners:function(){var e=this;(0,d.off)(window,"mousemove",this.handleChange),(0,d.off)(window,"mouseup",this.handleMouseUp),setTimeout(function(){return(0,r.default)(this,e),this.dispatch("ColorPicker","on-dragging",!1)}.bind(this),1)},getLeft:function(e){var t=this.$refs.container.getBoundingClientRect().left+window.pageXOffset;return(e.pageX||(0,c.getTouches)(e,"PageX"))-t},getTop:function(e){var t=this.$refs.container.getBoundingClientRect().top+window.pageYOffset;return(e.pageY||(0,c.getTouches)(e,"PageY"))-t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r},c=n(20);t.default={name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:function(){return(0,l.default)(void 0,void 0),{from:null,to:null,selecting:!1}}.bind(void 0)},focusedDate:{type:Date,required:!0}},computed:{dates:function(){var e=this.selectionMode,t=this.value,n=this.rangeState;return"range"===e&&n.selecting?[n.from]:t}},methods:{handleClick:function(e,t){if(t.stopPropagation(),!e.disabled&&"weekLabel"!==e.type){var n=new Date((0,c.clearHours)(e.date));this.$emit("on-pick",n),this.$emit("on-pick-click")}},handleMouseMove:function(e){if(this.rangeState.selecting&&!e.disabled){var t=e.date;this.$emit("on-change-range",t)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ivu-date-picker-cells"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(111)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollBarWidth=(0,l.getScrollBarSize)())},checkMaskInVisible:function(){var e=this,t=document.getElementsByClassName("ivu-modal-mask")||[];return(0,o.default)(t).every(function(t){return(0,r.default)(this,e),"none"===t.style.display||t.classList.contains("fade-leave-to")}.bind(this))},setScrollBar:function(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight=String(this.scrollBarWidth)+"px")},resetScrollBar:function(){document.body.style.paddingRight=""},addScrollEffect:function(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect:function(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(43);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(198),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(465),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default={data:function(){return{menu:(0,r.findComponentUpward)(this,"Menu")}},computed:{hasParentSubmenu:function(){return!!(0,r.findComponentUpward)(this,"Submenu")},parentSubmenuNum:function(){return(0,r.findComponentsUpward)(this,"Submenu").length},mode:function(){return this.menu.mode}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(527),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";var r=n(229).forEach,o=n(529),l=n(530),c=n(531),d=n(532),f=n(533),h=n(230),v=n(534),m=n(536),y=n(537),x=n(538);function _(e){return Array.isArray(e)||void 0!==e.length}function w(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function k(e){return e&&1===e.nodeType}function S(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(element){return e.idHandler.get(element,!0)},set:e.idHandler.set};else{var n=c(),C=d({idGenerator:n,stateHandler:m});t=C}var T=e.reporter;T||(T=f(!1===T));var E=S(e,"batchProcessor",v({reporter:T})),M={};M.callOnAdd=!!S(e,"callOnAdd",!0),M.debug=!!S(e,"debug",!1);var P,A=l(t),O=o({stateHandler:m}),I=S(e,"strategy","object"),D=S(e,"important",!1),R={reporter:T,batchProcessor:E,stateHandler:m,idHandler:t,important:D};if("scroll"===I&&(h.isLegacyOpera()?(T.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),I="object"):h.isIE(9)&&(T.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),I="object")),"scroll"===I)P=x(R);else{if("object"!==I)throw new Error("Invalid strategy name: "+I);P=y(R)}var z={};return{listenTo:function(e,n,o){function l(element){var e=A.get(element);r(e,(function(e){e(element)}))}function c(e,element,t){A.add(element,t),e&&t(element)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(k(n))n=[n];else{if(!_(n))return T.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=w(n)}var d=0,f=S(e,"callOnAdd",M.callOnAdd),h=S(e,"onReady",(function(){})),v=S(e,"debug",M.debug);r(n,(function(element){m.getState(element)||(m.initState(element),t.set(element));var e=t.get(element);if(v&&T.log("Attaching listener to element",e,element),!O.isDetectable(element))return v&&T.log(e,"Not detectable."),O.isBusy(element)?(v&&T.log(e,"System busy making it detectable"),c(f,element,o),z[e]=z[e]||[],void z[e].push((function(){++d===n.length&&h()}))):(v&&T.log(e,"Making detectable..."),O.markBusy(element,!0),P.makeDetectable({debug:v,important:D},element,(function(element){if(v&&T.log(e,"onElementDetectable"),m.getState(element)){O.markAsDetectable(element),O.markBusy(element,!1),P.addListener(element,l),c(f,element,o);var t=m.getState(element);if(t&&t.startSize){var y=element.offsetWidth,x=element.offsetHeight;t.startSize.width===y&&t.startSize.height===x||l(element)}z[e]&&r(z[e],(function(e){e()}))}else v&&T.log(e,"Element uninstalled before being detectable.");delete z[e],++d===n.length&&h()})));v&&T.log(e,"Already detecable, adding listener."),c(f,element,o),d++})),d===n.length&&h()},removeListener:A.removeListener,removeAllListeners:A.removeAllListeners,uninstall:function(e){if(!e)return T.error("At least one element is required.");if(k(e))e=[e];else{if(!_(e))return T.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=w(e)}r(e,(function(element){A.removeAllListeners(element),P.uninstall(element),m.cleanState(element)}))},initDocument:function(e){P.initDocument&&P.initDocument(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r};t.default={methods:{alignCls:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";return n.cellClassName&&e.key&&n.cellClassName[e.key]&&(r=n.cellClassName[e.key]),[String(this.prefixCls)+"-column-"+String(e.__id),(t={},(0,l.default)(t,""+String(r),r),(0,l.default)(t,""+String(e.className),e.className),(0,l.default)(t,String(this.prefixCls)+"-column-"+String(e.align),e.align),(0,l.default)(t,String(this.prefixCls)+"-hidden","left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed)),t)]},isPopperShow:function(e){return e.filters&&(!this.fixed&&!e.fixed||"left"===this.fixed&&"left"===e.fixed||"right"===this.fixed&&"right"===e.fixed)},setCellWidth:function(e){var t="";return e.width?t=e.width:this.columnsWidth[e._index]&&(t=this.columnsWidth[e._index].width),"0"===t&&(t=""),t}}}},function(e,t,n){var r=n(30),o=n(33),l=n(262)(!1),c=n(66)("IE_PROTO");e.exports=function(object,e){var t,n=o(object),i=0,d=[];for(t in n)t!=c&&r(n,t)&&d.push(t);for(;e.length>i;)r(n,t=e[i++])&&(~l(d,t)||d.push(t));return d}},function(e,t,n){var r=n(7),o=n(5),l=n(31);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],c={};c[e]=t(n),r(r.S+r.F*l((function(){n(1)})),"Object",c)}},function(e,t,n){e.exports=!n(13)&&!n(31)((function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(2)),l=n(12);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var n=t?"scrollTop":"scrollLeft",r=e[t?"pageYOffset":"pageXOffset"];return"number"!=typeof r&&(r=window.document.documentElement[n]),r}t.default={name:"Affix",props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},useCapture:{type:Boolean,default:!1}},data:function(){return{affix:!1,styles:{},slot:!1,slotStyle:{}}},computed:{offsetType:function(){var e="top";return this.offsetBottom>=0&&(e="bottom"),e},classes:function(){return[(0,o.default)({},"ivu-affix",this.affix)]}},mounted:function(){var e=this;(0,l.on)(window,"scroll",this.handleScroll,this.useCapture),(0,l.on)(window,"resize",this.handleScroll,this.useCapture),this.$nextTick(function(){(0,r.default)(this,e),this.handleScroll()}.bind(this))},beforeDestroy:function(){(0,l.off)(window,"scroll",this.handleScroll,this.useCapture),(0,l.off)(window,"resize",this.handleScroll,this.useCapture)},methods:{handleScroll:function(){var e=this.affix,t=d(window,!0),n=function(element){var rect=element.getBoundingClientRect(),e=d(window,!0),t=d(window),n=window.document.body,r=n.clientTop||0,o=n.clientLeft||0;return{top:rect.top+e-r,left:rect.left+t-o}}(this.$el),r=window.innerHeight,o=this.$el.getElementsByTagName("div")[0].offsetHeight;n.top-this.offsetTop<t&&"top"==this.offsetType&&!e?(this.affix=!0,this.slotStyle={width:this.$refs.point.clientWidth+"px",height:this.$refs.point.clientHeight+"px"},this.slot=!0,this.styles={top:String(this.offsetTop)+"px",left:String(n.left)+"px",width:String(this.$el.offsetWidth)+"px"},this.$emit("on-change",!0)):n.top-this.offsetTop>t&&"top"==this.offsetType&&e&&(this.slot=!1,this.slotStyle={},this.affix=!1,this.styles=null,this.$emit("on-change",!1)),n.top+this.offsetBottom+o>t+r&&"bottom"==this.offsetType&&!e?(this.affix=!0,this.styles={bottom:String(this.offsetBottom)+"px",left:String(n.left)+"px",width:String(this.$el.offsetWidth)+"px"},this.$emit("on-change",!0)):n.top+this.offsetBottom+o<t+r&&"bottom"==this.offsetType&&e&&(this.affix=!1,this.styles=null,this.$emit("on-change",!1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(19)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Alert",components:{Icon:o.default},props:{type:{validator:function(e){return(0,l.oneOf)(e,["success","info","warning","error"])},default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},banner:{type:Boolean,default:!1}},data:function(){return{closed:!1,desc:!1}},computed:{wrapClasses:function(){var e;return["ivu-alert","ivu-alert-"+String(this.type),(e={},(0,r.default)(e,"ivu-alert-with-icon",this.showIcon),(0,r.default)(e,"ivu-alert-with-desc",this.desc),(0,r.default)(e,"ivu-alert-with-banner",this.banner),e)]},messageClasses:function(){return"ivu-alert-message"},descClasses:function(){return"ivu-alert-desc"},closeClasses:function(){return"ivu-alert-close"},iconClasses:function(){return"ivu-alert-icon"},iconType:function(){var e="";switch(this.type){case"success":e="ios-checkmark-circle";break;case"info":e="ios-information-circle";break;case"warning":e="ios-alert";break;case"error":e="ios-close-circle"}return this.desc&&(e+="-outline"),e}},methods:{close:function(e){this.closed=!0,this.$emit("on-close",e)}},mounted:function(){this.desc=void 0!==this.$slots.desc}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"Icon",props:{type:{type:String,default:""},size:[Number,String],color:String,custom:{type:String,default:""}},computed:{classes:function(){var e;return["ivu-icon",(e={},(0,l.default)(e,"ivu-icon-"+String(this.type),""!==this.type),(0,l.default)(e,""+String(this.custom),""!==this.custom),e)]},styles:function(){var style={};return this.size&&(style["font-size"]=String(this.size)+"px"),this.color&&(style.color=this.color),style}},methods:{handleClick:function(e){this.$emit("click",e)}}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(25)},function(e,t,n){var r=n(14),o=n(22),l=n(40);e.exports=n(13)?Object.defineProperties:function(e,t){o(e);for(var n,c=l(t),d=c.length,i=0;d>i;)r.f(e,n=c[i++],t[n]);return e}},function(e,t,n){var r=n(9).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(30),o=n(29),l=n(66)("IE_PROTO"),c=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d=n(12);t.default={name:"Anchor",provide:function(){return{anchorCom:this}},data:function(){return{prefix:"ivu-anchor",isAffixed:!1,inkTop:0,animating:!1,currentLink:"",currentId:"",scrollContainer:null,scrollElement:null,titlesOffsetArr:[],wrapperTop:0,upperFirstTitle:!0}},props:{affix:{type:Boolean,default:!0},offsetTop:{type:Number,default:0},offsetBottom:Number,bounds:{type:Number,default:5},container:null,showInk:{type:Boolean,default:!1},scrollOffset:{type:Number,default:0}},computed:{wrapperComponent:function(){return this.affix?"Affix":"div"},wrapperStyle:function(){return{maxHeight:this.offsetTop?"calc(100vh - "+String(this.offsetTop)+"px)":"100vh"}},containerIsWindow:function(){return this.scrollContainer===window}},methods:{handleAffixStateChange:function(e){this.isAffixed=this.affix&&e},handleScroll:function(e){if(this.upperFirstTitle=e.target.scrollTop<this.titlesOffsetArr[0].offset,!this.animating){this.updateTitleOffset();var t=document.documentElement.scrollTop||document.body.scrollTop||e.target.scrollTop;this.getCurrentScrollAtTitleId(t)}},handleHashChange:function(){var e=window.location.href,t=c.sharpMatcherRegx.exec(e);t&&(this.currentLink=t[0],this.currentId=t[1])},handleScrollTo:function(){var e=this,t=document.getElementById(this.currentId),n=document.querySelector('a[data-href="'+String(this.currentLink)+'"]'),r=this.scrollOffset;if(n&&(r=parseFloat(n.getAttribute("data-scroll-offset"))),t){var o=t.offsetTop-this.wrapperTop-r;this.animating=!0,(0,c.scrollTop)(this.scrollContainer,this.scrollElement.scrollTop,o,600,function(){(0,l.default)(this,e),this.animating=!1}.bind(this)),this.handleSetInkTop()}},handleSetInkTop:function(){var e=document.querySelector('a[data-href="'+String(this.currentLink)+'"]');if(e){var t=e.offsetTop,n=t<0?this.offsetTop:t;this.inkTop=n}},updateTitleOffset:function(){var e=this,t=(0,c.findComponentsDownward)(this,"AnchorLink").map(function(link){return(0,l.default)(this,e),link.href}.bind(this)).map(function(link){return(0,l.default)(this,e),link.split("#")[1]}.bind(this)),n=[];t.forEach(function(t){(0,l.default)(this,e);var r=document.getElementById(t);r&&n.push({link:"#"+String(t),offset:r.offsetTop-this.scrollElement.offsetTop})}.bind(this)),this.titlesOffsetArr=n},getCurrentScrollAtTitleId:function(e){var i=-1,t=this.titlesOffsetArr.length,n={link:"#",offset:0};for(e+=this.bounds;++i<t;){var r=this.titlesOffsetArr[i],o=this.titlesOffsetArr[i+1];if(e>=r.offset&&e<(o&&o.offset||1/0)){n=this.titlesOffsetArr[i];break}}this.currentLink=n.link,this.handleSetInkTop()},getContainer:function(){this.scrollContainer=this.container?"string"==typeof this.container?document.querySelector(this.container):this.container:window,this.scrollElement=this.container?this.scrollContainer:document.documentElement||document.body},removeListener:function(){(0,d.off)(this.scrollContainer,"scroll",this.handleScroll),(0,d.off)(window,"hashchange",this.handleHashChange)},init:function(){var e=this;this.handleHashChange(),this.$nextTick(function(){(0,l.default)(this,e),this.removeListener(),this.getContainer(),this.wrapperTop=this.containerIsWindow?0:this.scrollElement.offsetTop,this.handleScrollTo(),this.handleSetInkTop(),this.updateTitleOffset(),this.titlesOffsetArr[0]&&(this.upperFirstTitle=this.scrollElement.scrollTop<this.titlesOffsetArr[0].offset),(0,d.on)(this.scrollContainer,"scroll",this.handleScroll),(0,d.on)(window,"hashchange",this.handleHashChange)}.bind(this))}},watch:{$route:function(){var e=this;this.handleHashChange(),this.$nextTick(function(){(0,l.default)(this,e),this.handleScrollTo()}.bind(this))},container:function(){this.init()},currentLink:function(e,t){this.$emit("on-change",e,t)}},mounted:function(){this.init()},beforeDestroy:function(){this.removeListener()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"AnchorLink",inject:["anchorCom"],props:{href:String,title:String,scrollOffset:{type:Number,default:function(){return this.anchorCom.scrollOffset}}},data:function(){return{prefix:"ivu-anchor-link"}},computed:{anchorLinkClasses:function(){return[this.prefix,this.anchorCom.currentLink===this.href?String(this.prefix)+"-active":""]},linkTitleClasses:function(){return[String(this.prefix)+"-title"]}},methods:{goAnchor:function(){var e=this;this.currentLink=this.href,this.anchorCom.handleHashChange(),this.anchorCom.handleScrollTo(),this.anchorCom.$emit("on-select",this.href),this.$router?this.$router.push(this.href,function(){(0,l.default)(this,e)}.bind(this)):window.location.href=this.href}},mounted:function(){var e=this;this.$nextTick(function(){(0,l.default)(this,e),this.anchorCom.init()}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(1)),o=v(n(74)),l=v(n(81)),c=v(n(38)),d=n(3),f=v(n(4)),h=v(n(11));function v(e){return e&&e.__esModule?e:{default:e}}t.default={name:"AutoComplete",mixins:[f.default,h.default],components:{iSelect:o.default,iOption:l.default,iInput:c.default},props:{value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},data:{type:Array,default:function(){return(0,r.default)(void 0,void 0),[]}.bind(void 0)},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},size:{validator:function(e){return(0,d.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},icon:{type:String},filterMethod:{type:[Function,Boolean],default:!1},placement:{validator:function(e){return(0,d.oneOf)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},transferClassName:{type:String}},data:function(){return{currentValue:this.value,disableEmitChange:!1}},computed:{inputIcon:function(){var e="";return this.clearable&&this.currentValue&&!this.disabled?e="ios-close":this.icon&&(e=this.icon),e},filteredData:function(){var e=this;return this.filterMethod?this.data.filter(function(t){return(0,r.default)(this,e),this.filterMethod(this.currentValue,t)}.bind(this)):this.data}},watch:{value:function(e){this.currentValue!==e&&(this.disableEmitChange=!0),this.currentValue=e},currentValue:function(e){this.$refs.select.setQuery(e),this.$emit("input",e),this.disableEmitChange?this.disableEmitChange=!1:(this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}},methods:{remoteMethod:function(e){this.$emit("on-search",e)},handleSelect:function(option){var e=option.value;null!=e&&(this.currentValue=e,this.$refs.input.blur(),this.$emit("on-select",e))},handleFocus:function(e){this.$emit("on-focus",e)},handleBlur:function(e){this.$emit("on-blur",e)},handleClear:function(){this.clearable&&(this.currentValue="",this.$refs.select.reset(),this.$emit("on-clear"))},handleClickOutside:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e),this.$refs.input.blur()}.bind(this))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n(26)),o=M(n(75)),l=M(n(45)),c=M(n(57)),d=M(n(2)),f=M(n(32)),h=M(n(17)),v=M(n(1)),m=M(n(36)),y=M(n(19)),x=n(76),_=M(n(23)),w=n(3),k=M(n(4)),S=M(n(11)),C=M(n(6)),T=M(n(324)),E=M(n(326));function M(e){return e&&e.__esModule?e:{default:e}}var P="ivu-select",A=/^i-option$|^Option$/i,O=/option-?group/i,I=function(e,t){(0,v.default)(void 0,void 0);var n=t(e);if(n)return e;for(var i=0,r=e.$children.length;i<r;i++){var o=e.$children[i];if(n=I(o,t))return n}}.bind(void 0),D=function(e){(0,v.default)(void 0,void 0);var t=e.componentOptions;if(t&&t.tag.match(A))return[e];if(!(e.children||t&&t.children))return[];var n=[].concat((0,h.default)(e.children||[]),(0,h.default)(t&&t.children||[])).reduce(function(e,t){return(0,v.default)(void 0,void 0),[].concat((0,h.default)(e),(0,h.default)(D(t)))}.bind(void 0),[]).filter(Boolean);return n.length>0?n:[]}.bind(void 0),R=function(e){return(0,v.default)(void 0,void 0),e.reduce(function(e,t){return(0,v.default)(void 0,void 0),e.concat(D(t))}.bind(void 0),[])}.bind(void 0),z=function(e,t,n){return(0,v.default)(void 0,void 0),(0,f.default)({},e,{componentOptions:(0,f.default)({},e.componentOptions,{propsData:(0,f.default)({},e.componentOptions.propsData,(0,d.default)({},t,n))})})}.bind(void 0),L=function(e,path){return(0,v.default)(void 0,void 0),path.split(".").reduce(function(e,t){return(0,v.default)(void 0,void 0),e&&e[t]||null}.bind(void 0),e)}.bind(void 0),j=function(option){if((0,v.default)(void 0,void 0),option.componentOptions.propsData.label)return option.componentOptions.propsData.label;var e=(option.componentOptions.children||[]).reduce(function(e,t){return(0,v.default)(void 0,void 0),e+(t.text||"")}.bind(void 0),""),t=L(option,"data.domProps.innerHTML");return e||("string"==typeof t?t:"")}.bind(void 0),F=function(e,t,n){(0,v.default)(void 0,void 0);var r=(0,c.default)(e),o=(0,c.default)(t),l=(0,c.default)(n.map(function(e){return(0,v.default)(void 0,void 0),e.value}.bind(void 0)));return r!==o||r!==l||l!==o}.bind(void 0);t.default={name:"iSelect",mixins:[k.default,C.default,S.default],components:{FunctionalOptions:E.default,Drop:m.default,SelectHead:T.default,Icon:y.default},directives:{clickOutside:x.directive,TransferDom:_.default},props:{value:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},defaultLabel:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator:function(e){return(0,w.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator:function(e){return(0,w.oneOf)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String},transferClassName:{type:String},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},filterByLabel:{type:Boolean,default:!1}},mounted:function(){var e=this;if(this.$on("on-select-selected",this.onOptionClick),!this.remote&&this.selectOptions.length>0&&(this.values=this.getInitialValue().map(function(t){return(0,v.default)(this,e),"number"==typeof t||t?this.getOptionData(t):null}.bind(this)).filter(Boolean)),this.checkUpdateStatus(),this.remote&&this.value&&this.defaultLabel)if(this.multiple){if(this.multiple&&this.defaultLabel instanceof Array&&this.value.length===this.defaultLabel.length){var t=this.value.map(function(t,n){return(0,v.default)(this,e),{value:t,label:this.defaultLabel[n]}}.bind(this));this.$emit("on-set-default-options",JSON.parse((0,c.default)(t))),setTimeout(function(){(0,v.default)(this,e),this.values=t}.bind(this))}}else this.query=this.defaultLabel},data:function(){return{prefixCls:P,values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:this.$slots.default,caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,preventRemoteCall:!1,filterQueryChange:!1}},computed:{classes:function(){var e;return[""+P,(e={},(0,d.default)(e,P+"-visible",this.visible),(0,d.default)(e,P+"-disabled",this.itemDisabled),(0,d.default)(e,P+"-multiple",this.multiple),(0,d.default)(e,P+"-single",!this.multiple),(0,d.default)(e,P+"-show-clear",this.showCloseIcon),(0,d.default)(e,P+"-"+String(this.size),!!this.size),e)]},dropdownCls:function(){var e;return e={},(0,d.default)(e,P+"-dropdown-transfer",this.transfer),(0,d.default)(e,P+"-multiple",this.multiple&&this.transfer),(0,d.default)(e,"ivu-auto-complete",this.autoComplete),(0,d.default)(e,this.transferClassName,this.transferClassName),e},selectionCls:function(){var e;return e={},(0,d.default)(e,P+"-selection",!this.autoComplete),(0,d.default)(e,P+"-selection-focused",this.isFocused),e},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText:function(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText},showCreateItem:function(){var e=this,t=!1;if(this.allowCreate&&""!==this.query){t=!0;var n=(0,w.findComponentsDownward)(this,"iOption");n&&n.length&&n.find(function(t){return(0,v.default)(this,e),t.optionLabel===this.query}.bind(this))&&(t=!1)}return t},transitionName:function(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible:function(){var e=!0,t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&this.remote&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel:function(){var e=this.loading,t=this.remote,n=this.selectOptions;return n&&0===n.length&&(!t||t&&!e)},publicValue:function(){var e=this;return this.labelInValue?this.multiple?this.values:this.values[0]:this.multiple?this.values.map(function(option){return(0,v.default)(this,e),option.value}.bind(this)):(this.values[0]||{}).value},canBeCleared:function(){var e=this.hasMouseHoverHead||this.active,t=!this.multiple&&!this.itemDisabled&&this.clearable;return e&&t&&this.reset},selectOptions:function(){var e=this,t=[],n=this.slotOptions||[],r=-1,o=this.focusIndex,c=this.values.filter(Boolean).map(function(t){var n=t.value;return(0,v.default)(this,e),n}.bind(this));if(this.autoComplete){var d=function(t,n){return(0,v.default)(this,e),(0,f.default)({},t,{children:(t.children||[]).map(n).map(function(t){return(0,v.default)(this,e),d(t,n)}.bind(this))})}.bind(this),h=R(n)[o];return n.map(function(t){return(0,v.default)(this,e),t===h||L(t,"componentOptions.propsData.value")===this.value?z(t,"isFocused",!0):d(t,function(t){return(0,v.default)(this,e),t!==h?t:z(t,"isFocused",!0)}.bind(this))}.bind(this))}var m=!0,y=!1,x=void 0;try{for(var _,w=(0,l.default)(n);!(m=(_=w.next()).done);m=!0){var option=_.value,k=option.componentOptions;if(k)if(k.tag.match(O)){var S=k.children;this.filterable&&(S=S.filter(function(t){var n=t.componentOptions;return(0,v.default)(this,e),this.validateOption(n)}.bind(this))),(S=S.map(function(t){return(0,v.default)(this,e),r+=1,this.processOption(t,c,r===o)}.bind(this))).length>0&&t.push((0,f.default)({},option,{componentOptions:(0,f.default)({},k,{children:S})}))}else{if(this.filterQueryChange&&!(this.filterable?this.validateOption(k):option))continue;r+=1,t.push(this.processOption(option,c,r===o))}}}catch(e){y=!0,x=e}finally{try{!m&&w.return&&w.return()}finally{if(y)throw x}}return t},flatOptions:function(){return R(this.selectOptions)},selectTabindex:function(){return this.itemDisabled||this.filterable?-1:0},remote:function(){return"function"==typeof this.remoteMethod}},methods:{setQuery:function(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[],this.lastRemoteQuery="")},clearSingleSelect:function(){this.multiple||this.$emit("input",""),this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData:function(e){var t=this,option=this.flatOptions.find(function(n){var r=n.componentOptions;return(0,v.default)(this,t),r.propsData.value===e}.bind(this));if(!option)return null;var label=j(option),n=option.componentOptions.propsData.disabled;return{value:e,label:label,disabled:n}},getInitialValue:function(){var e=this,t=this.multiple,n=this.remote,r=this.value,l=Array.isArray(r)?r:[r];if(t||void 0!==l[0]&&(""!==String(l[0]).trim()||(0,o.default)(l[0]))||(l=[]),n&&!t&&r){var data=this.getOptionData(r);this.query=data?data.label:String(r)}return l.filter(function(t){return(0,v.default)(this,e),Boolean(t)||0===t}.bind(this))},processOption:function(option,e,t){if(!option.componentOptions)return option;var n=option.componentOptions.propsData.value,r=option.componentOptions.propsData.disabled,o=e.includes(n),l=(0,f.default)({},option.componentOptions.propsData,{selected:o,isFocused:t,disabled:void 0!==r&&!1!==r});return(0,f.default)({},option,{componentOptions:(0,f.default)({},option.componentOptions,{propsData:l})})},validateOption:function(e){var t=this,n=e.children,r=e.elm,o=e.propsData,l=o.value,label=o.label||"",c=r&&r.textContent||(n||[]).reduce(function(e,n){(0,v.default)(this,t);var r=n.elm?n.elm.textContent:n.text;return String(e)+" "+String(r)}.bind(this),"")||"",d=this.filterByLabel?[label].toString():[l,label,c].toString(),f=this.query.toLowerCase().trim();return d.toLowerCase().includes(f)},toggleMenu:function(e,t){if(this.itemDisabled)return!1;this.visible=void 0!==t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("Drop","on-update-popper"))},hideMenu:function(){var e=this;this.toggleMenu(null,!1),setTimeout(function(){return(0,v.default)(this,e),this.unchangedQuery=!0}.bind(this),300)},onClickOutside:function(e){var t=this;if(this.visible){if("mousedown"===e.type)return void e.preventDefault();if(this.transfer){var n=this.$refs.dropdown.$el;if(n===e.target||n.contains(e.target))return}if(this.filterable){var input=this.$el.querySelector('input[type="text"]');this.caretPosition=input.selectionStart,this.$nextTick(function(){(0,v.default)(this,t);var e=-1===this.caretPosition?input.value.length:this.caretPosition;input.setSelectionRange(e,e)}.bind(this))}this.autoComplete||e.stopPropagation(),e.preventDefault(),this.hideMenu(),this.isFocused=!0,this.$emit("on-clickoutside",e)}else this.caretPosition=-1,this.isFocused=!1},reset:function(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[],this.filterQueryChange=!1},handleKeydown:function(e){var t=e.key||e.code,n=e.keyCode||e.which;if("Backspace"!==t&&8!==n)if(this.visible){if(e.preventDefault(),"Tab"===t&&e.stopPropagation(),"Escape"===t&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===t&&this.navigateOptions(-1),"ArrowDown"===t&&this.navigateOptions(1),"Enter"===t){if(-1===this.focusIndex)return this.hideMenu();var r=this.flatOptions[this.focusIndex];if(r){var option=this.getOptionData(r.componentOptions.propsData.value);this.onOptionClick(option)}else this.hideMenu()}}else["ArrowUp","ArrowDown"].includes(e.key)&&this.toggleMenu(null,!0)},navigateOptions:function(e){var t=this.flatOptions.length-1,n=this.focusIndex+e;if(n<0&&(n=t),n>t&&(n=0),e>0){for(var r=-1,i=0;i<this.flatOptions.length&&(!this.flatOptions[i].componentOptions.propsData.disabled&&(r=i),!(r>=n));i++);n=r}else{for(var o=this.flatOptions.length,l=t;l>=0&&(!this.flatOptions[l].componentOptions.propsData.disabled&&(o=l),!(o<=n));l--);n=o}this.focusIndex=n},onOptionClick:function(option){var e=this;if(this.multiple){this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="";var t=this.values.find(function(t){var n=t.value;return(0,v.default)(this,e),n===option.value}.bind(this));this.values=t?this.values.filter(function(t){var n=t.value;return(0,v.default)(this,e),n!==option.value}.bind(this)):this.values.concat(option),this.isFocused=!0}else this.query=String(option.label).trim(),this.values=[option],this.lastRemoteQuery="",this.hideMenu();if(this.focusIndex=this.flatOptions.findIndex(function(t){return(0,v.default)(this,e),!(!t||!t.componentOptions)&&t.componentOptions.propsData.value===option.value}.bind(this)),this.filterable){var n=this.$el.querySelector('input[type="text"]');this.autoComplete||this.$nextTick(function(){return(0,v.default)(this,e),n.focus()}.bind(this))}this.$emit("on-select",option),this.broadcast("Drop","on-update-popper"),setTimeout(function(){(0,v.default)(this,e),this.filterQueryChange=!1}.bind(this),300)},onQueryChange:function(e){if(e.length>0&&e!==this.query)if(this.autoComplete){var t=document.hasFocus&&document.hasFocus()&&document.activeElement===this.$el.querySelector("input");this.visible=t}else this.visible=!0;this.query=e,this.unchangedQuery=this.visible,this.filterQueryChange=!0},toggleHeaderFocus:function(e){var t=e.type;this.itemDisabled||(this.isFocused="focus"===t)},updateSlotOptions:function(){this.slotOptions=this.$slots.default},checkUpdateStatus:function(){this.getInitialValue().length>0&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)},handleCreateItem:function(){var e=this;if(this.allowCreate&&""!==this.query&&this.showCreateItem){var t=this.query;this.$emit("on-create",t),this.query="";var option={value:t,label:t,tag:void 0};this.multiple?this.onOptionClick(option):this.$nextTick(function(){return(0,v.default)(this,e),this.onOptionClick(option)}.bind(this))}}},watch:{value:function(e){var t=this,n=this.getInitialValue,r=this.getOptionData,o=this.publicValue,l=this.values;this.checkUpdateStatus(),""===e?this.values=[]:F(e,o,l)&&(this.$nextTick(function(){return(0,v.default)(this,t),this.values=n().map(r).filter(Boolean)}.bind(this)),this.multiple||this.dispatch("FormItem","on-form-change",this.publicValue))},values:function(e,t){var n=this,r=(0,c.default)(e),o=(0,c.default)(t),l=this.publicValue&&this.labelInValue?this.multiple?this.publicValue.map(function(e){var t=e.value;return(0,v.default)(this,n),t}.bind(this)):this.publicValue.value:this.publicValue;r!==o&&l!==this.value&&(this.$emit("input",l),this.$emit("on-change",this.publicValue),this.dispatch("FormItem","on-form-change",this.publicValue))},query:function(e){var t=this;this.$emit("on-query-change",e);var n=this.remoteMethod,r=this.lastRemoteQuery,o=n&&""!==e&&(e!==r||!r)&&!this.preventRemoteCall;if(this.preventRemoteCall=!1,o){this.focusIndex=-1;var l=this.remoteMethod(e);this.initialLabel="",l&&l.then&&l.then(function(e){(0,v.default)(this,t),e&&(this.options=e)}.bind(this))}""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading:function(e){!1===e&&this.updateSlotOptions()},isFocused:function(e){(this.filterable?this.$el.querySelector('input[type="text"]'):this.$el)[this.isFocused?"focus":"blur"]();var t=(0,r.default)(this.values,1)[0];if(t&&this.filterable&&!this.multiple&&!e){var n=String(t.label||t.value).trim();n&&this.query!==n&&(this.preventRemoteCall=!0,this.query=n)}},focusIndex:function(e){var t=this;if(!(e<0||this.autoComplete)){var n=this.flatOptions[e].componentOptions.propsData.value,r=I(this,function(e){var r=e.$options;return(0,v.default)(this,t),"select-item"===r.componentName&&r.propsData.value===n}.bind(this)),o=r.$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,l=r.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top;o>0&&(this.$refs.dropdown.$el.scrollTop+=o),l<0&&(this.$refs.dropdown.$el.scrollTop+=l)}},dropVisible:function(e){this.broadcast("Drop",e?"on-update-popper":"on-destroy-popper")},selectOptions:function(){this.hasExpectedValue&&this.selectOptions.length>0&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.slotOptions&&0===this.slotOptions.length&&(this.query=""),this.broadcast("Drop","on-update-popper")},visible:function(e){this.$emit("on-open-change",e)},slotOptions:function(e,t){if(!this.remote){var n=this.getInitialValue();this.flatOptions&&this.flatOptions.length&&n.length&&!this.multiple&&(this.values=n.map(this.getOptionData).filter(Boolean))}e&&t&&e.length!==t.length&&this.broadcast("Drop","on-update-popper")}}}},function(e,t,n){e.exports={default:n(297),__esModule:!0}},function(e,t,n){var r=n(22);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var l=e.return;throw void 0!==l&&r(l.call(e)),t}}},function(e,t,n){var r=n(34),o=n(10)("iterator"),l=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||l[o]===e)}},function(e,t,n){var r=n(10)("iterator"),o=!1;try{var l=[7][r]();l.return=function(){o=!0},Array.from(l,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var l=[7],c=l[r]();c.next=function(){return{done:n=!0}},l[r]=function(){return c},e(l)}catch(e){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(16)),l=n(3),c=n(37);function d(e){return e&&e.__esModule?e:{default:e}}var f=o.default.prototype.$isServer,h=f?function(){}:n(116);t.default={name:"Drop",props:{placement:{type:String,default:"bottom-start"},className:{type:String},transfer:{type:Boolean}},data:function(){return{popper:null,width:"",popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles:function(){var style={};return this.width&&(style.minWidth=String(this.width)+"px"),this.transfer&&(style["z-index"]=1060+this.tIndex),style}},methods:{update:function(){var e=this;f||(this.popper?this.$nextTick(function(){(0,r.default)(this,e),this.popper.update(),this.popperStatus=!0}.bind(this)):this.$nextTick(function(){(0,r.default)(this,e),this.popper=new h(this.$parent.$refs.reference,this.$el,{placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:function(){(0,r.default)(this,e),this.resetTransformOrigin(),this.$nextTick(this.popper.update())}.bind(this),onUpdate:function(){(0,r.default)(this,e),this.resetTransformOrigin()}.bind(this)})}.bind(this)),"iSelect"===this.$parent.$options.name&&(this.width=parseInt((0,l.getStyle)(this.$parent.$el,"width"))),this.tIndex=this.handleGetIndex())},destroy:function(){var e=this;this.popper&&setTimeout(function(){(0,r.default)(this,e),this.popper&&!this.popperStatus&&(this.popper.destroy(),this.popper=null),this.popperStatus=!1}.bind(this),300)},resetTransformOrigin:function(){if(this.popper){var e=this.popper.popper.getAttribute("x-placement"),t=e.split("-")[0],n=e.split("-")[1];"left"===e||"right"===e||(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===n?"center top":"center bottom")}},handleGetIndex:function(){return(0,c.transferIncrease)(),c.transferIndex}},created:function(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){this.popper&&this.popper.destroy()}}},function(e,t,n){(function(t){var n;n=function(){"use strict";for(var e="undefined"!=typeof window&&"undefined"!=typeof document,n=["Edge","Trident","Firefox"],r=0,i=0;i<n.length;i+=1)if(e&&navigator.userAgent.indexOf(n[i])>=0){r=1;break}var o=e&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function l(e){return e&&"[object Function]"==={}.toString.call(e)}function c(element,e){if(1!==element.nodeType)return[];var t=element.ownerDocument.defaultView.getComputedStyle(element,null);return e?t[e]:t}function d(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function f(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var e=c(element),t=e.overflow,n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(t+r+n)?element:f(d(element))}var h=e&&!(!window.MSInputMethodContext||!document.documentMode),v=e&&/MSIE 10/.test(navigator.userAgent);function m(e){return 11===e?h:10===e?v:h||v}function y(element){if(!element)return document.documentElement;for(var e=m(10)?document.body:null,t=element.offsetParent||null;t===e&&element.nextElementSibling;)t=(element=element.nextElementSibling).offsetParent;var n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===c(t,"position")?y(t):t:element?element.ownerDocument.documentElement:document.documentElement}function x(e){return null!==e.parentNode?x(e.parentNode):e}function _(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,l=document.createRange();l.setStart(r,0),l.setEnd(o,0);var element,c,d=l.commonAncestorContainer;if(e!==d&&t!==d||r.contains(o))return"BODY"===(c=(element=d).nodeName)||"HTML"!==c&&y(element.firstElementChild)!==element?y(d):d;var f=x(e);return f.host?_(f.host,t):_(e,x(t).host)}function w(element){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",t="top"===e?"scrollTop":"scrollLeft",n=element.nodeName;if("BODY"===n||"HTML"===n){var html=element.ownerDocument.documentElement,r=element.ownerDocument.scrollingElement||html;return r[t]}return element[t]}function k(rect,element){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=w(element,"top"),n=w(element,"left"),r=e?-1:1;return rect.top+=t*r,rect.bottom+=t*r,rect.left+=n*r,rect.right+=n*r,rect}function S(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function C(e,body,html,t){return Math.max(body["offset"+e],body["scroll"+e],html["client"+e],html["offset"+e],html["scroll"+e],m(10)?parseInt(html["offset"+e])+parseInt(t["margin"+("Height"===e?"Top":"Left")])+parseInt(t["margin"+("Height"===e?"Bottom":"Right")]):0)}function T(e){var body=e.body,html=e.documentElement,t=m(10)&&getComputedStyle(html);return{height:C("Height",body,html,t),width:C("Width",body,html,t)}}var E=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},M=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},A=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e};function O(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function I(element){var rect={};try{if(m(10)){rect=element.getBoundingClientRect();var e=w(element,"top"),t=w(element,"left");rect.top+=e,rect.left+=t,rect.bottom+=e,rect.right+=t}else rect=element.getBoundingClientRect()}catch(e){}var n={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},r="HTML"===element.nodeName?T(element.ownerDocument):{},o=r.width||element.clientWidth||n.right-n.left,l=r.height||element.clientHeight||n.bottom-n.top,d=element.offsetWidth-o,f=element.offsetHeight-l;if(d||f){var h=c(element);d-=S(h,"x"),f-=S(h,"y"),n.width-=d,n.height-=f}return O(n)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(10),o="HTML"===t.nodeName,l=I(e),d=I(t),h=f(e),v=c(t),y=parseFloat(v.borderTopWidth,10),x=parseFloat(v.borderLeftWidth,10);n&&o&&(d.top=Math.max(d.top,0),d.left=Math.max(d.left,0));var _=O({top:l.top-d.top-y,left:l.left-d.left-x,width:l.width,height:l.height});if(_.marginTop=0,_.marginLeft=0,!r&&o){var w=parseFloat(v.marginTop,10),S=parseFloat(v.marginLeft,10);_.top-=y-w,_.bottom-=y-w,_.left-=x-S,_.right-=x-S,_.marginTop=w,_.marginLeft=S}return(r&&!n?t.contains(h):t===h&&"BODY"!==h.nodeName)&&(_=k(_,t)),_}function R(element){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,t=D(element,html),n=Math.max(html.clientWidth,window.innerWidth||0),r=Math.max(html.clientHeight,window.innerHeight||0),o=e?0:w(html),l=e?0:w(html,"left"),c={top:o-t.top+t.marginTop,left:l-t.left+t.marginLeft,width:n,height:r};return O(c)}function z(element){var e=element.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===c(element,"position"))return!0;var t=d(element);return!!t&&z(t)}function L(element){if(!element||!element.parentElement||m())return document.documentElement;for(var e=element.parentElement;e&&"none"===c(e,"transform");)e=e.parentElement;return e||document.documentElement}function j(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=o?L(e):_(e,t);if("viewport"===r)l=R(c,o);else{var h=void 0;"scrollParent"===r?"BODY"===(h=f(d(t))).nodeName&&(h=e.ownerDocument.documentElement):h="window"===r?e.ownerDocument.documentElement:r;var v=D(h,c,o);if("HTML"!==h.nodeName||z(c))l=v;else{var m=T(e.ownerDocument),y=m.height,x=m.width;l.top+=v.top-v.marginTop,l.bottom=y+v.top,l.left+=v.left-v.marginLeft,l.right=x+v.left}}var w="number"==typeof(n=n||0);return l.left+=w?n:n.left||0,l.top+=w?n:n.top||0,l.right-=w?n:n.right||0,l.bottom-=w?n:n.bottom||0,l}function F(e){return e.width*e.height}function N(e,t,n,r,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var c=j(n,r,l,o),d={top:{width:c.width,height:t.top-c.top},right:{width:c.right-t.right,height:c.height},bottom:{width:c.width,height:c.bottom-t.bottom},left:{width:t.left-c.left,height:c.height}},f=Object.keys(d).map((function(e){return A({key:e},d[e],{area:F(d[e])})})).sort((function(a,b){return b.area-a.area})),h=f.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),v=h.length>0?h[0].key:f[0].key,m=e.split("-")[1];return v+(m?"-"+m:"")}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?L(t):_(t,n);return D(n,o,r)}function V(element){var e=element.ownerDocument.defaultView.getComputedStyle(element),t=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:element.offsetWidth+n,height:element.offsetHeight+t}}function U(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function W(e,t,n){n=n.split("-")[0];var r=V(e),o={width:r.width,height:r.height},l=-1!==["right","left"].indexOf(n),c=l?"top":"left",d=l?"left":"top",f=l?"height":"width",h=l?"width":"height";return o[c]=t[c]+t[f]/2-r[f]/2,o[d]=n===d?t[d]-r[h]:t[U(d)],o}function H(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $(e,data,t){return(void 0===t?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=H(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",t))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var t=e.function||e.fn;e.enabled&&l(t)&&(data.offsets.popper=O(data.offsets.popper),data.offsets.reference=O(data.offsets.reference),data=t(data,e))})),data}function G(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=N(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=W(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=$(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function Z(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Y(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function X(){return this.state.isDestroyed=!0,Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Y("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function K(element){var e=element.ownerDocument;return e?e.defaultView:window}function J(e,t,n,r){n.updateBound=r,K(e).addEventListener("resize",n.updateBound,{passive:!0});var o=f(e);return function e(t,n,r,o){var l="BODY"===t.nodeName,c=l?t.ownerDocument.defaultView:t;c.addEventListener(n,r,{passive:!0}),l||e(f(c.parentNode),n,r,o),o.push(c)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Q(){this.state.eventsEnabled||(this.state=J(this.reference,this.options,this.state,this.scheduleUpdate))}function ee(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,K(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function te(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function ie(element,e){Object.keys(e).forEach((function(t){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&te(e[t])&&(n="px"),element.style[t]=e[t]+n}))}var ne=e&&/Firefox/i.test(navigator.userAgent);function re(e,t,n){var r=H(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var l="`"+t+"`",c="`"+n+"`";console.warn(c+" modifier is required by "+l+" modifier in order to work, be sure to include it before "+l+"!")}return o}var oe=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ae=oe.slice(3);function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ae.indexOf(e),r=ae.slice(n+1).concat(ae.slice(0,n));return t?r.reverse():r}var ue="flip",le="clockwise",ce="counterclockwise";function de(e,t,n,r){var o=[0,0],l=-1!==["right","left"].indexOf(r),c=e.split(/(\+|\-)/).map((function(e){return e.trim()})),d=c.indexOf(H(c,(function(e){return-1!==e.search(/,|\s/)})));c[d]&&-1===c[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var f=/\s*,\s*|\s+/,h=-1!==d?[c.slice(0,d).concat([c[d].split(f)[0]]),[c[d].split(f)[1]].concat(c.slice(d+1))]:[c];return(h=h.map((function(e,r){var o=(1===r?!l:l)?"height":"width",c=!1;return e.reduce((function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,c=!0,a):c?(a[a.length-1]+=b,c=!1,a):a.concat(b)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),l=+o[1],c=o[2];if(!l)return e;if(0===c.indexOf("%")){var element=void 0;switch(c){case"%p":element=n;break;case"%":case"%r":default:element=r}return O(element)[t]/100*l}return"vh"===c||"vw"===c?("vh"===c?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*l:l}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){te(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var fe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(data){var e=data.placement,t=e.split("-")[0],n=e.split("-")[1];if(n){var r=data.offsets,o=r.reference,l=r.popper,c=-1!==["bottom","top"].indexOf(t),d=c?"left":"top",f=c?"width":"height",h={start:P({},d,o[d]),end:P({},d,o[d]+o[f]-l[f])};data.offsets.popper=A({},l,h[n])}return data}},offset:{order:200,enabled:!0,fn:function(data,e){var t=e.offset,n=data.placement,r=data.offsets,o=r.popper,l=r.reference,c=n.split("-")[0],d=void 0;return d=te(+t)?[+t,0]:de(t,o,l,c),"left"===c?(o.top+=d[0],o.left-=d[1]):"right"===c?(o.top+=d[0],o.left+=d[1]):"top"===c?(o.left+=d[0],o.top-=d[1]):"bottom"===c&&(o.left+=d[0],o.top+=d[1]),data.popper=o,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(data,e){var t=e.boundariesElement||y(data.instance.popper);data.instance.reference===t&&(t=y(t));var n=Y("transform"),r=data.instance.popper.style,o=r.top,l=r.left,c=r[n];r.top="",r.left="",r[n]="";var d=j(data.instance.popper,data.instance.reference,e.padding,t,data.positionFixed);r.top=o,r.left=l,r[n]=c,e.boundaries=d;var f=e.priority,h=data.offsets.popper,v={primary:function(t){var n=h[t];return h[t]<d[t]&&!e.escapeWithReference&&(n=Math.max(h[t],d[t])),P({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=h[n];return h[t]>d[t]&&!e.escapeWithReference&&(r=Math.min(h[n],d[t]-("right"===t?h.width:h.height))),P({},n,r)}};return f.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";h=A({},h,v[t](e))})),data.offsets.popper=h,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(data){var e=data.offsets,t=e.popper,n=e.reference,r=data.placement.split("-")[0],o=Math.floor,l=-1!==["top","bottom"].indexOf(r),c=l?"right":"bottom",d=l?"left":"top",f=l?"width":"height";return t[c]<o(n[d])&&(data.offsets.popper[d]=o(n[d])-t[f]),t[d]>o(n[c])&&(data.offsets.popper[d]=o(n[c])),data}},arrow:{order:500,enabled:!0,fn:function(data,e){var t;if(!re(data.instance.modifiers,"arrow","keepTogether"))return data;var n=e.element;if("string"==typeof n){if(!(n=data.instance.popper.querySelector(n)))return data}else if(!data.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var r=data.placement.split("-")[0],o=data.offsets,l=o.popper,d=o.reference,f=-1!==["left","right"].indexOf(r),h=f?"height":"width",v=f?"Top":"Left",m=v.toLowerCase(),y=f?"left":"top",x=f?"bottom":"right",_=V(n)[h];d[x]-_<l[m]&&(data.offsets.popper[m]-=l[m]-(d[x]-_)),d[m]+_>l[x]&&(data.offsets.popper[m]+=d[m]+_-l[x]),data.offsets.popper=O(data.offsets.popper);var w=d[m]+d[h]/2-_/2,k=c(data.instance.popper),S=parseFloat(k["margin"+v],10),C=parseFloat(k["border"+v+"Width"],10),T=w-data.offsets.popper[m]-S-C;return T=Math.max(Math.min(l[h]-_,T),0),data.arrowElement=n,data.offsets.arrow=(P(t={},m,Math.round(T)),P(t,y,""),t),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(data,e){if(Z(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var t=j(data.instance.popper,data.instance.reference,e.padding,e.boundariesElement,data.positionFixed),n=data.placement.split("-")[0],r=U(n),o=data.placement.split("-")[1]||"",l=[];switch(e.behavior){case ue:l=[n,r];break;case le:l=se(n);break;case ce:l=se(n,!0);break;default:l=e.behavior}return l.forEach((function(c,d){if(n!==c||l.length===d+1)return data;n=data.placement.split("-")[0],r=U(n);var f=data.offsets.popper,h=data.offsets.reference,v=Math.floor,m="left"===n&&v(f.right)>v(h.left)||"right"===n&&v(f.left)<v(h.right)||"top"===n&&v(f.bottom)>v(h.top)||"bottom"===n&&v(f.top)<v(h.bottom),y=v(f.left)<v(t.left),x=v(f.right)>v(t.right),_=v(f.top)<v(t.top),w=v(f.bottom)>v(t.bottom),k="left"===n&&y||"right"===n&&x||"top"===n&&_||"bottom"===n&&w,S=-1!==["top","bottom"].indexOf(n),C=!!e.flipVariations&&(S&&"start"===o&&y||S&&"end"===o&&x||!S&&"start"===o&&_||!S&&"end"===o&&w),T=!!e.flipVariationsByContent&&(S&&"start"===o&&x||S&&"end"===o&&y||!S&&"start"===o&&w||!S&&"end"===o&&_),E=C||T;(m||k||E)&&(data.flipped=!0,(m||k)&&(n=l[d+1]),E&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),data.placement=n+(o?"-"+o:""),data.offsets.popper=A({},data.offsets.popper,W(data.instance.popper,data.offsets.reference,data.placement)),data=$(data.instance.modifiers,data,"flip"))})),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(data){var e=data.placement,t=e.split("-")[0],n=data.offsets,r=n.popper,o=n.reference,l=-1!==["left","right"].indexOf(t),c=-1===["top","left"].indexOf(t);return r[l?"left":"top"]=o[t]-(c?r[l?"width":"height"]:0),data.placement=U(e),data.offsets.popper=O(r),data}},hide:{order:800,enabled:!0,fn:function(data){if(!re(data.instance.modifiers,"hide","preventOverflow"))return data;var e=data.offsets.reference,t=H(data.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(e.bottom<t.top||e.left>t.right||e.top>t.bottom||e.right<t.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function(data,e){var t=e.x,n=e.y,r=data.offsets.popper,o=H(data.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l=void 0!==o?o:e.gpuAcceleration,c=y(data.instance.popper),d=I(c),f={position:r.position},h=function(data,e){var t=data.offsets,n=t.popper,r=t.reference,o=Math.round,l=Math.floor,c=function(e){return e},d=o(r.width),f=o(n.width),h=-1!==["left","right"].indexOf(data.placement),v=-1!==data.placement.indexOf("-"),m=e?h||v||d%2==f%2?o:l:c,y=e?o:c;return{left:m(d%2==1&&f%2==1&&!v&&e?n.left-1:n.left),top:y(n.top),bottom:y(n.bottom),right:m(n.right)}}(data,window.devicePixelRatio<2||!ne),v="bottom"===t?"top":"bottom",m="right"===n?"left":"right",x=Y("transform"),_=void 0,w=void 0;if(w="bottom"===v?"HTML"===c.nodeName?-c.clientHeight+h.bottom:-d.height+h.bottom:h.top,_="right"===m?"HTML"===c.nodeName?-c.clientWidth+h.right:-d.width+h.right:h.left,l&&x)f[x]="translate3d("+_+"px, "+w+"px, 0)",f[v]=0,f[m]=0,f.willChange="transform";else{var k="bottom"===v?-1:1,S="right"===m?-1:1;f[v]=w*k,f[m]=_*S,f.willChange=v+", "+m}var C={"x-placement":data.placement};return data.attributes=A({},C,data.attributes),data.styles=A({},f,data.styles),data.arrowStyles=A({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(data){var element,e;return ie(data.instance.popper,data.styles),element=data.instance.popper,e=data.attributes,Object.keys(e).forEach((function(t){!1!==e[t]?element.setAttribute(t,e[t]):element.removeAttribute(t)})),data.arrowElement&&Object.keys(data.arrowStyles).length&&ie(data.arrowElement,data.arrowStyles),data},onLoad:function(e,t,n,r,o){var l=B(o,t,e,n.positionFixed),c=N(n.placement,l,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",c),ie(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},he=function(){function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=A({},e.Defaults,c),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},e.Defaults.modifiers,c.modifiers)).forEach((function(t){r.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},c.modifiers?c.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},r.options.modifiers[e])})).sort((function(a,b){return a.order-b.order})),this.modifiers.forEach((function(e){e.enabled&&l(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var d=this.options.eventsEnabled;d&&this.enableEventListeners(),this.state.eventsEnabled=d}return M(e,[{key:"update",value:function(){return G.call(this)}},{key:"destroy",value:function(){return X.call(this)}},{key:"enableEventListeners",value:function(){return Q.call(this)}},{key:"disableEventListeners",value:function(){return ee.call(this)}}]),e}();return he.Utils=("undefined"!=typeof window?window:t).PopperUtils,he.placements=oe,he.Defaults=fe,he},e.exports=n()}).call(t,n(117))},function(e,t){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}e.exports=g},function(e,t,n){var r=n(41);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(96),o=n(68).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=t.use=t.t=void 0;var r=d(n(317)),o=d(n(320)),l=d(n(16)),c=d(n(322));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,d(n(323)).default)(l.default),h=o.default,v=!1,m=function(){var e=(0,r.default)(this||l.default).$t;if("function"==typeof e&&l.default.locale)return v||(v=!0,l.default.locale(l.default.config.lang,(0,c.default)(h,l.default.locale(l.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},y=t.t=function(path,e){var t=m.apply(this,arguments);if(null!=t)return t;for(var n=path.split("."),r=h,i=0,o=n.length;i<o;i++){var l=n[i];if(t=r[l],i===o-1)return f(t,e);if(!t)return"";r=t}return""},use=t.use=function(e){h=e||h},x=t.i18n=function(e){m=e||m};t.default={use:use,t:y,i18n:x}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(26)),o=h(n(2)),l=h(n(1)),c=h(n(19)),d=h(n(4)),f=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"iSelectHead",mixins:[d.default,f.default],components:{Icon:c.default},props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:function(){return(0,l.default)(void 0,void 0),[]}.bind(void 0)},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean},showCreateItem:{type:Boolean}},data:function(){return{prefixCls:"ivu-select",query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses:function(){var e,t=this.filterable,n=this.multiple,r=this.showPlaceholder;return[(e={},(0,o.default)(e,"ivu-select-head-with-prefix",this.$slots.prefix||this.prefix),(0,o.default)(e,"ivu-select-placeholder",r&&!t),(0,o.default)(e,"ivu-select-selected-value",!r&&!n&&!t),e)]},singleDisplayValue:function(){return this.multiple&&this.values.length>0||this.filterable?"":""+String(this.selectedSingle)||this.localePlaceholder},showPlaceholder:function(){var e=!1;if(this.multiple)!this.values.length>0&&(e=!0);else{var t=this.values[0];void 0!==t&&""!==String(t).trim()||(e=!this.remoteInitialLabel)}return e},resetSelect:function(){return!this.showPlaceholder&&this.clearable},inputStyle:function(){var style={};return this.multiple&&(this.showPlaceholder?style.width="100%":style.width=String(this.inputLength)+"px"),style},localePlaceholder:function(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle:function(){var e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple:function(){return this.multiple?this.values:[]},headCls:function(){return(0,o.default)({},"ivu-select-head-flex",this.filterable&&(this.$slots.prefix||this.prefix))},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.select.customArrow?e="":this.$IVIEW.select.arrow&&(e=this.$IVIEW.select.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.select.customArrow&&(e=this.$IVIEW.select.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.select.arrowSize&&(e=this.$IVIEW.select.arrowSize),e}},methods:{onInputFocus:function(){this.$emit("on-input-focus")},onInputBlur:function(){this.showCreateItem||(this.values.length||(this.query=""),this.$emit("on-input-blur"))},removeTag:function(e){if(this.disabled)return!1;this.dispatch("iSelect","on-select-selected",e)},resetInputState:function(){this.inputLength=12*this.$refs.input.value.length+20,this.$emit("on-keydown")},handleInputDelete:function(e){var t=e.target.value;this.multiple&&this.selectedMultiple.length&&""===this.query&&""===t&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},handleInputEnter:function(){this.$emit("on-enter")},onHeaderClick:function(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear:function(){this.$emit("on-clear")}},watch:{values:function(e){var t=this,n=(0,r.default)(e,1)[0];if(this.filterable){if(this.preventRemoteCall=!0,this.multiple)return this.query="",void(this.preventRemoteCall=!1);this.query=void 0===n||""===n||null===n?"":n.label,this.$nextTick(function(){return(0,l.default)(this,t),this.preventRemoteCall=!1}.bind(this))}},query:function(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp:function(e){e!==this.query&&(this.query=e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r},c=function(){return(0,l.default)(void 0,void 0),[]}.bind(void 0);t.default={props:{options:{type:Array,default:c},slotOptions:{type:Array,default:c},slotUpdateHook:{type:Function,default:function(){(0,l.default)(void 0,void 0)}.bind(void 0)}},functional:!0,render:function(e,t){var n=t.props,r=t.parent;return n.slotOptions!==r.$slots.default&&n.slotUpdateHook(),n.options}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=d(n(4)),l=d(n(11)),c=n(3);function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-select-item";t.default={name:"iOption",componentName:"select-item",mixins:[o.default,l.default],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},tag:{type:[String,Number]}},data:function(){return{searchLabel:"",autoComplete:!1}},computed:{classes:function(){var e;return[""+f,(e={},(0,r.default)(e,f+"-disabled",this.itemDisabled),(0,r.default)(e,f+"-selected",this.selected&&!this.autoComplete),(0,r.default)(e,f+"-focus",this.isFocused),e)]},showLabel:function(){return this.label?this.label:this.value},optionLabel:function(){return this.label||this.$el&&this.$el.textContent}},methods:{select:function(){if(this.itemDisabled)return!1;this.dispatch("iSelect","on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag})}},mounted:function(){var e=(0,c.findComponentUpward)(this,"iSelect");e&&(this.autoComplete=e.autoComplete)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(1)),o=v(n(329)),l=v(n(2)),c=n(3),d=v(n(332)),f=v(n(4)),h=v(n(11));function v(e){return e&&e.__esModule?e:{default:e}}var m="ivu-input";t.default={name:"Input",mixins:[f.default,h.default],props:{type:{validator:function(e){return(0,c.oneOf)(e,["text","textarea","password","url","email","date","number","tel"])},default:"text"},value:{type:[String,Number],default:""},size:{validator:function(e){return(0,c.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator:function(e){return(0,c.oneOf)(e,["hard","soft"])},default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,prefixCls:m,slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1}},computed:{currentType:function(){var e=this.type;return"password"===e&&this.password&&this.showPassword&&(e="text"),e},prepend:function(){var e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.prepend),e},append:function(){var e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.append),e},showPrefix:function(){var e=!1;return"textarea"!==this.type&&(e=""!==this.prefix||void 0!==this.$slots.prefix),e},showSuffix:function(){var e=!1;return"textarea"!==this.type&&(e=""!==this.suffix||void 0!==this.$slots.suffix),e},wrapClasses:function(){var e;return[m+"-wrapper",(e={},(0,l.default)(e,m+"-wrapper-"+String(this.size),!!this.size),(0,l.default)(e,m+"-type-"+String(this.type),this.type),(0,l.default)(e,m+"-group",this.prepend||this.append||this.search&&this.enterButton),(0,l.default)(e,m+"-group-"+String(this.size),(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size),(0,l.default)(e,m+"-group-with-prepend",this.prepend),(0,l.default)(e,m+"-group-with-append",this.append||this.search&&this.enterButton),(0,l.default)(e,m+"-hide-icon",this.append),(0,l.default)(e,m+"-with-search",this.search&&this.enterButton),(0,l.default)(e,m+"-wrapper-disabled",this.itemDisabled),e)]},inputClasses:function(){var e;return[""+m,(e={},(0,l.default)(e,m+"-"+String(this.size),!!this.size),(0,l.default)(e,m+"-disabled",this.itemDisabled),(0,l.default)(e,m+"-with-prefix",this.showPrefix),(0,l.default)(e,m+"-with-suffix",this.showSuffix||this.search&&!1===this.enterButton),e)]},textareaClasses:function(){return[""+m,(0,l.default)({},m+"-disabled",this.itemDisabled)]},upperLimit:function(){return this.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length}},methods:{handleEnter:function(e){this.$emit("on-enter",e),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown:function(e){this.$emit("on-keydown",e)},handleKeypress:function(e){this.$emit("on-keypress",e)},handleKeyup:function(e){this.$emit("on-keyup",e)},handleIconClick:function(e){this.$emit("on-click",e)},handleFocus:function(e){this.$emit("on-focus",e)},handleBlur:function(e){this.$emit("on-blur",e),(0,c.findComponentUpward)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition:function(e){"compositionstart"===e.type&&(this.isOnComposition=!0),"compositionend"===e.type&&(this.isOnComposition=!1,this.handleInput(e))},handleInput:function(e){if(!this.isOnComposition){var t=e.target.value;this.number&&""!==t&&(t=(0,o.default)(Number(t))?t:Number(t)),this.$emit("input",t),this.setCurrentValue(t),this.$emit("on-change",e)}},handleChange:function(e){this.$emit("on-input-change",e)},setCurrentValue:function(e){var t=this;e!==this.currentValue&&(this.$nextTick(function(){(0,r.default)(this,t),this.resizeTextarea()}.bind(this)),this.currentValue=e,(0,c.findComponentUpward)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea:function(){var e=this.autosize;if(!e||"textarea"!==this.type)return!1;var t=e.minRows,n=e.maxRows;this.textareaStyles=(0,d.default)(this.$refs.textarea,t,n)},focus:function(){"textarea"===this.type?this.$refs.textarea.focus():this.$refs.input.focus()},blur:function(){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},handleClear:function(){this.$emit("input",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}}),this.$emit("on-clear")},handleSearch:function(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword:function(){var e=this;if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();var t=this.currentValue.length;setTimeout(function(){(0,r.default)(this,e),this.$refs.input.setSelectionRange(t,t)}.bind(this),0)}},watch:{value:function(e){this.setCurrentValue(e)}},mounted:function(){this.slotReady=!0,this.resizeTextarea()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(126),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(342),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(19)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}var d=["small","large","default"];t.default={name:"Avatar",components:{Icon:o.default},props:{shape:{validator:function(e){return(0,l.oneOf)(e,["circle","square"])},default:"circle"},size:{type:[String,Number],default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},src:{type:String},icon:{type:String},customIcon:{type:String,default:""}},data:function(){return{prefixCls:"ivu-avatar",scale:1,childrenWidth:0,isSlotShow:!1}},computed:{classes:function(){var e;return["ivu-avatar","ivu-avatar-"+String(this.shape),(e={},(0,r.default)(e,"ivu-avatar-image",!!this.src),(0,r.default)(e,"ivu-avatar-icon",!!this.icon||!!this.customIcon),(0,r.default)(e,"ivu-avatar-"+String(this.size),(0,l.oneOf)(this.size,d)),e)]},styles:function(){var style={};return this.size&&!(0,l.oneOf)(this.size,d)&&(style.width=String(this.size)+"px",style.height=String(this.size)+"px",style.lineHeight=String(this.size)+"px",style.fontSize=this.size/2+"px"),style},childrenStyle:function(){var style={};return this.isSlotShow&&(style={msTransform:"scale("+String(this.scale)+")",WebkitTransform:"scale("+String(this.scale)+")",transform:"scale("+String(this.scale)+")",position:"absolute",display:"inline-block",left:"calc(50% - "+String(Math.round(this.childrenWidth/2))+"px)"}),style}},methods:{setScale:function(){if(this.isSlotShow=!this.src&&!this.icon,this.$refs.children){this.childrenWidth=this.$refs.children.offsetWidth;var e=this.$el.getBoundingClientRect().width;e-8<this.childrenWidth?this.scale=(e-8)/this.childrenWidth:this.scale=1}},handleError:function(e){this.$emit("on-error",e)}},mounted:function(){this.setScale()},updated:function(){this.setScale()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d=n(12);t.default={props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3}},data:function(){return{backTop:!1}},mounted:function(){(0,d.on)(window,"scroll",this.handleScroll),(0,d.on)(window,"resize",this.handleScroll)},beforeDestroy:function(){(0,d.off)(window,"scroll",this.handleScroll),(0,d.off)(window,"resize",this.handleScroll)},computed:{classes:function(){return["ivu-back-top",(0,l.default)({},"ivu-back-top-show",this.backTop)]},styles:function(){return{bottom:String(this.bottom)+"px",right:String(this.right)+"px"}},innerClasses:function(){return"ivu-back-top-inner"}},methods:{handleScroll:function(){this.backTop=window.pageYOffset>=this.height},back:function(){var e=document.documentElement.scrollTop||document.body.scrollTop;(0,c.scrollTop)(window,e,0,this.duration),this.$emit("on-click")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d=["blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"];t.default={name:"Badge",props:{count:Number,dot:{type:Boolean,default:!1},overflowCount:{type:[Number,String],default:99},className:String,showZero:{type:Boolean,default:!1},text:{type:String,default:""},status:{validator:function(e){return(0,c.oneOf)(e,["success","processing","default","error","warning"])}},type:{validator:function(e){return(0,c.oneOf)(e,["success","primary","normal","error","warning","info"])}},offset:{type:Array},color:{type:String}},computed:{classes:function(){return"ivu-badge"},dotClasses:function(){return"ivu-badge-dot"},countClasses:function(){var e;return["ivu-badge-count",(e={},(0,l.default)(e,""+String(this.className),!!this.className),(0,l.default)(e,"ivu-badge-count-alone",this.alone),(0,l.default)(e,"ivu-badge-count-"+String(this.type),!!this.type),e)]},customCountClasses:function(){return["ivu-badge-count","ivu-badge-count-custom",(0,l.default)({},""+String(this.className),!!this.className)]},statusClasses:function(){var e;return["ivu-badge-status-dot",(e={},(0,l.default)(e,"ivu-badge-status-"+String(this.status),!!this.status),(0,l.default)(e,"ivu-badge-status-"+String(this.color),!!this.color&&(0,c.oneOf)(this.color,d)),e)]},statusStyles:function(){return(0,c.oneOf)(this.color,d)?{}:{backgroundColor:this.color}},styles:function(){var style={};return this.offset&&2===this.offset.length&&(style["margin-top"]=String(this.offset[0])+"px",style["margin-right"]=String(this.offset[1])+"px"),style},finalCount:function(){return""!==this.text?this.text:parseInt(this.count)>=parseInt(this.overflowCount)?String(this.overflowCount)+"+":this.count},badge:function(){var e=!1;return this.count&&(e=!(0===parseInt(this.count))),this.dot&&(e=!0,null!==this.count&&0===parseInt(this.count)&&(e=!1)),""!==this.text&&(e=!0),e||this.showZero},hasCount:function(){return!!(this.count||""!==this.text||this.showZero&&0===parseInt(this.count))},alone:function(){return void 0===this.$slots.default}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"Breadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes:function(){return"ivu-breadcrumb"}},mounted:function(){this.updateChildren()},updated:function(){var e=this;this.$nextTick(function(){(0,l.default)(this,e),this.updateChildren()}.bind(this))},methods:{updateChildren:function(){var e=this;this.$children.forEach(function(t){(0,l.default)(this,e),t.separator=this.separator}.bind(this))}},watch:{separator:function(){this.updateChildren()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(48),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"BreadcrumbItem",mixins:[l.default],props:{},data:function(){return{separator:"",showSeparator:!1}},computed:{linkClasses:function(){return"ivu-breadcrumb-item-link"},separatorClasses:function(){return"ivu-breadcrumb-item-separator"}},mounted:function(){this.showSeparator=void 0!==this.$slots.separator}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(2)),o=f(n(19)),l=n(3),c=f(n(48)),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Button",mixins:[c.default,d.default],components:{Icon:o.default},props:{type:{validator:function(e){return(0,l.oneOf)(e,["default","primary","dashed","text","info","success","warning","error"])},default:"default"},shape:{validator:function(e){return(0,l.oneOf)(e,["circle","circle-outline"])}},size:{validator:function(e){return(0,l.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},loading:Boolean,disabled:Boolean,htmlType:{default:"button",validator:function(e){return(0,l.oneOf)(e,["button","submit","reset"])}},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},computed:{showSlot:function(){return!!this.$slots.default},classes:function(){var e;return["ivu-btn","ivu-btn-"+String(this.type),(e={},(0,r.default)(e,"ivu-btn-long",this.long),(0,r.default)(e,"ivu-btn-"+String(this.shape),!!this.shape),(0,r.default)(e,"ivu-btn-"+String(this.size),"default"!==this.size),(0,r.default)(e,"ivu-btn-loading",null!=this.loading&&this.loading),(0,r.default)(e,"ivu-btn-icon-only",!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading)),(0,r.default)(e,"ivu-btn-ghost",this.ghost),e)]},isHrefPattern:function(){return!!this.to},tagName:function(){return this.isHrefPattern?"a":"button"},tagProps:function(){return this.isHrefPattern?{href:this.linkUrl,target:this.target}:{type:this.htmlType}}},methods:{handleClickLink:function(e){this.$emit("click",e);var t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3);t.default={name:"ButtonGroup",props:{size:{validator:function(e){return(0,c.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},shape:{validator:function(e){return(0,c.oneOf)(e,["circle","circle-outline"])}},vertical:{type:Boolean,default:!1}},computed:{classes:function(){var e;return["ivu-btn-group",(e={},(0,l.default)(e,"ivu-btn-group-"+String(this.size),!!this.size),(0,l.default)(e,"ivu-btn-group-"+String(this.shape),!!this.shape),(0,l.default)(e,"ivu-btn-group-vertical",this.vertical),e)]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(8)),l=c(n(48));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Card",mixins:[l.default],components:{Icon:o.default},props:{bordered:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},title:{type:String},icon:{type:String}},data:function(){return{showHead:!0,showExtra:!0}},computed:{classes:function(){var e;return["ivu-card",(e={},(0,r.default)(e,"ivu-card-bordered",this.bordered&&!this.shadow),(0,r.default)(e,"ivu-card-dis-hover",this.disHover||this.shadow),(0,r.default)(e,"ivu-card-shadow",this.shadow),e)]},headClasses:function(){return"ivu-card-head"},extraClasses:function(){return"ivu-card-extra"},bodyClasses:function(){return"ivu-card-body"},bodyStyles:function(){return 16!==this.padding?{padding:String(this.padding)+"px"}:""},isHrefPattern:function(){return!!this.to},tagName:function(){return this.isHrefPattern?"a":"div"},tagProps:function(){return this.isHrefPattern?{href:this.linkUrl,target:this.target}:{}}},methods:{handleClickLink:function(e){if(this.isHrefPattern){var t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}},mounted:function(){this.showHead=this.title||void 0!==this.$slots.title,this.showExtra=void 0!==this.$slots.extra}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(8)),l=n(3),c=n(12);function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-carousel";t.default={name:"Carousel",components:{Icon:o.default},props:{arrow:{type:String,default:"hover",validator:function(e){return(0,l.oneOf)(e,["hover","always","never"])}},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:2e3},loop:{type:Boolean,default:!1},easing:{type:String,default:"ease"},dots:{type:String,default:"inside",validator:function(e){return(0,l.oneOf)(e,["inside","outside","none"])}},radiusDot:{type:Boolean,default:!1},trigger:{type:String,default:"click",validator:function(e){return(0,l.oneOf)(e,["click","hover"])}},value:{type:Number,default:0},height:{type:[String,Number],default:"auto",validator:function(e){return"auto"===e||"[object Number]"===Object.prototype.toString.call(e)}}},data:function(){return{prefixCls:f,listWidth:0,trackWidth:0,trackOffset:0,trackCopyOffset:0,showCopyTrack:!1,slides:[],slideInstances:[],timer:null,ready:!1,currentIndex:this.value,trackIndex:this.value,copyTrackIndex:this.value,hideTrackPos:-1}},computed:{classes:function(){return[""+f]},trackStyles:function(){var e=-1===this.trackIndex?"hidden":"visible";return{width:String(this.trackWidth)+"px",transform:"translate3d("+-this.trackOffset+"px, 0px, 0px)",transition:"transform 500ms "+String(this.easing),visibility:e}},copyTrackStyles:function(){return{width:String(this.trackWidth)+"px",transform:"translate3d("+-this.trackCopyOffset+"px, 0px, 0px)",transition:"transform 500ms "+String(this.easing),position:"absolute"}},arrowClasses:function(){return[f+"-arrow",f+"-arrow-"+String(this.arrow)]},dotsClasses:function(){return[f+"-dots",f+"-dots-"+String(this.dots)]}},methods:{findChild:function(e){var t=this,n=function t(n){var o=this;n.$options.componentName?e(n):n.$children.length&&n.$children.forEach(function(e){(0,r.default)(this,o),t(e)}.bind(this))};this.slideInstances.length||!this.$children?this.slideInstances.forEach(function(e){(0,r.default)(this,t),n(e)}.bind(this)):this.$children.forEach(function(e){(0,r.default)(this,t),n(e)}.bind(this))},initCopyTrackDom:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e),this.$refs.copyTrack.innerHTML=this.$refs.originTrack.innerHTML}.bind(this))},updateSlides:function(e){var t=this,n=[],o=1;this.findChild(function(l){(0,r.default)(this,t),n.push({$el:l.$el}),l.index=o++,e&&this.slideInstances.push(l)}.bind(this)),this.slides=n,this.updatePos()},updatePos:function(){var e=this;this.findChild(function(t){(0,r.default)(this,e),t.width=this.listWidth,t.height="number"==typeof this.height?String(this.height)+"px":this.height}.bind(this)),this.trackWidth=(this.slides.length||0)*this.listWidth},slotChange:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e),this.slides=[],this.slideInstances=[],this.updateSlides(!0,!0),this.updatePos(),this.updateOffset()}.bind(this))},handleResize:function(){this.listWidth=parseInt((0,l.getStyle)(this.$el,"width")),this.updatePos(),this.updateOffset()},updateTrackPos:function(e){this.showCopyTrack?this.trackIndex=e:this.copyTrackIndex=e},updateTrackIndex:function(e){this.showCopyTrack?this.copyTrackIndex=e:this.trackIndex=e,this.currentIndex=e},add:function(e){var t=this.slides.length;this.loop&&(this.hideTrackPos=e>0?-1:t,this.updateTrackPos(this.hideTrackPos));for(var n=this.showCopyTrack?this.copyTrackIndex:this.trackIndex,r=n+e;r<0;)r+=t;(e>0&&r===t||e<0&&r===t-1)&&this.loop?(this.showCopyTrack=!this.showCopyTrack,this.trackIndex+=e,this.copyTrackIndex+=e):(this.loop||(r%=this.slides.length),this.updateTrackIndex(r)),this.currentIndex=r===this.slides.length?0:r,this.$emit("on-change",n,this.currentIndex),this.$emit("input",this.currentIndex)},arrowEvent:function(e){this.setAutoplay(),this.add(e)},dotsEvent:function(e,t){var n=this.showCopyTrack?this.copyTrackIndex:this.trackIndex,r=this.currentIndex;e===this.trigger&&n!==t&&(this.updateTrackIndex(t),this.$emit("on-change",r,this.currentIndex),this.$emit("input",t),this.setAutoplay())},setAutoplay:function(){var e=this;window.clearInterval(this.timer),this.autoplay&&(this.timer=window.setInterval(function(){(0,r.default)(this,e),this.add(1)}.bind(this),this.autoplaySpeed))},updateOffset:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e);var t=this.copyTrackIndex>0?-1:1;this.trackOffset=this.trackIndex*this.listWidth,this.trackCopyOffset=this.copyTrackIndex*this.listWidth+t}.bind(this))},handleClick:function(e){this.$emit("on-click",this[e])}},watch:{autoplay:function(){this.setAutoplay()},autoplaySpeed:function(){this.setAutoplay()},trackIndex:function(){this.updateOffset()},copyTrackIndex:function(){this.updateOffset()},height:function(){this.updatePos()},value:function(e){this.updateTrackIndex(e),this.setAutoplay()}},mounted:function(){this.updateSlides(!0),this.handleResize(),this.setAutoplay(),(0,c.on)(window,"resize",this.handleResize)},beforeDestroy:function(){(0,c.off)(window,"resize",this.handleResize)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={componentName:"carousel-item",name:"CarouselItem",data:function(){return{prefixCls:"ivu-carousel-item",width:0,height:"auto",left:0}},computed:{styles:function(){return{width:String(this.width)+"px",height:""+String(this.height),left:String(this.left)+"px"}}},mounted:function(){this.$parent.slotChange()},watch:{width:function(e){var t=this;e&&this.$parent.loop&&this.$nextTick(function(){(0,l.default)(this,t),this.$parent.initCopyTrackDom()}.bind(this))},height:function(e){var t=this;e&&this.$parent.loop&&this.$nextTick(function(){(0,l.default)(this,t),this.$parent.initCopyTrackDom()}.bind(this))}},beforeDestroy:function(){this.$parent.slotChange()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(15)),o=S(n(57)),l=S(n(1)),c=S(n(2)),d=S(n(38)),f=S(n(36)),h=S(n(8)),v=S(n(368)),m=S(n(82)),y=S(n(23)),x=n(3),_=S(n(4)),w=S(n(6)),k=S(n(11));function S(e){return e&&e.__esModule?e:{default:e}}var C="ivu-cascader";t.default={name:"Cascader",mixins:[_.default,w.default,k.default],components:{iInput:d.default,Drop:f.default,Icon:h.default,Caspanel:v.default},directives:{clickOutside:m.default,TransferDom:y.default},props:{data:{type:Array,default:function(){return[]}},value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},placeholder:{type:String},size:{validator:function(e){return(0,x.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},trigger:{validator:function(e){return(0,x.oneOf)(e,["click","hover"])},default:"click"},changeOnSelect:{type:Boolean,default:!1},renderFormat:{type:Function,default:function(label){return label.join(" / ")}},loadData:{type:Function},filterable:{type:Boolean,default:!1},notFoundText:{type:String},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String}},data:function(){return{prefixCls:C,selectPrefixCls:"ivu-select",visible:!1,selected:[],tmpSelected:[],updatingValue:!1,currentValue:this.value,query:"",validDataStr:"",isLoadedChildren:!1}},computed:{classes:function(){var e;return[""+C,(e={},(0,c.default)(e,C+"-show-clear",this.showCloseIcon),(0,c.default)(e,C+"-size-"+String(this.size),!!this.size),(0,c.default)(e,C+"-visible",this.visible),(0,c.default)(e,C+"-disabled",this.itemDisabled),(0,c.default)(e,C+"-not-found",this.filterable&&""!==this.query&&!this.querySelections.length),e)]},showCloseIcon:function(){return this.currentValue&&this.currentValue.length&&this.clearable&&!this.itemDisabled},displayRender:function(){for(var label=[],i=0;i<this.selected.length;i++)label.push(this.selected[i].label);return this.renderFormat(label,this.selected)},displayInputRender:function(){return this.filterable?"":this.displayRender},localePlaceholder:function(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},inputPlaceholder:function(){return this.filterable&&this.currentValue.length?null:this.localePlaceholder},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},querySelections:function(){var e=this,t=[];return function e(n,label,r){for(var i=0;i<n.length;i++){var o=n[i];o.__label=label?label+" / "+o.label:o.label,o.__value=r?r+","+o.value:o.value,o.children&&o.children.length?(e(o.children,o.__label,o.__value),delete o.__label,delete o.__value):t.push({label:o.__label,value:o.__value,display:o.__label,item:o,disabled:!!o.disabled})}}(this.data),t=t.filter(function(t){return(0,l.default)(this,e),!!t.label&&t.label.indexOf(this.query)>-1}.bind(this)).map(function(t){return(0,l.default)(this,e),t.display=t.display.replace(new RegExp(this.query,"g"),"<span>"+String(this.query)+"</span>"),t}.bind(this))},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.cascader.customArrow?e="":this.$IVIEW.cascader.arrow&&(e=this.$IVIEW.cascader.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.cascader.customArrow&&(e=this.$IVIEW.cascader.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.cascader.arrowSize&&(e=this.$IVIEW.cascader.arrowSize),e},dropdownCls:function(){var e;return e={},(0,c.default)(e,C+"-transfer",this.transfer),(0,c.default)(e,this.transferClassName,this.transferClassName),e}},methods:{clearSelect:function(){if(this.itemDisabled)return!1;var e=(0,o.default)(this.currentValue);this.currentValue=this.selected=this.tmpSelected=[],this.handleClose(),this.emitValue(this.currentValue,e),this.broadcast("Caspanel","on-clear")},handleClose:function(){this.visible=!1},toggleOpen:function(){if(this.itemDisabled)return!1;this.visible?this.filterable||this.handleClose():this.onFocus()},onFocus:function(){this.visible=!0,this.currentValue.length||this.broadcast("Caspanel","on-clear")},updateResult:function(e){this.tmpSelected=e},updateSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(!this.changeOnSelect||e||t)&&this.broadcast("Caspanel","on-find-selected",{value:this.currentValue})},emitValue:function(e,t){var n=this;(0,o.default)(e)!==t&&(this.$emit("on-change",this.currentValue,JSON.parse((0,o.default)(this.selected))),this.$nextTick(function(){(0,l.default)(this,n),this.dispatch("FormItem","on-form-change",{value:this.currentValue,selected:JSON.parse((0,o.default)(this.selected))})}.bind(this)))},handleInput:function(e){this.query=e.target.value},handleSelectItem:function(e){var t=this,n=this.querySelections[e];if(n.item.disabled)return!1;this.query="",this.$refs.input.currentValue="";var r=(0,o.default)(this.currentValue);this.currentValue=n.value.split(","),setTimeout(function(){(0,l.default)(this,t),this.emitValue(this.currentValue,r),this.handleClose()}.bind(this),0)},handleFocus:function(){this.$refs.input.focus()},getValidData:function(data){var e=this;return data.map(function(t){return(0,l.default)(this,e),function e(t){var n=this,o=(0,r.default)({},t);return"loading"in o&&delete o.loading,"__value"in o&&delete o.__value,"__label"in o&&delete o.__label,"children"in o&&o.children.length&&(o.children=o.children.map(function(i){return(0,l.default)(this,n),e(i)}.bind(this))),o}(t)}.bind(this))}},created:function(){var e=this;this.validDataStr=(0,o.default)(this.getValidData(this.data)),this.$on("on-result-change",function(t){(0,l.default)(this,e);var n=t.lastValue,r=t.changeOnSelect,c=t.fromInit;if(n||r){var d=(0,o.default)(this.currentValue);this.selected=this.tmpSelected;var f=[];this.selected.forEach(function(t){(0,l.default)(this,e),f.push(t.value)}.bind(this)),c||(this.updatingValue=!0,this.currentValue=f,this.emitValue(this.currentValue,d))}n&&!c&&this.handleClose()}.bind(this))},mounted:function(){this.updateSelected(!0)},watch:{visible:function(e){e?(this.currentValue.length&&this.updateSelected(),this.transfer&&this.$refs.drop.update(),this.broadcast("Drop","on-update-popper")):(this.filterable&&(this.query="",this.$refs.input.currentValue=""),this.transfer&&this.$refs.drop.destroy(),this.broadcast("Drop","on-destroy-popper")),this.$emit("on-visible-change",e)},value:function(e){this.currentValue=e,e.length||(this.selected=[])},currentValue:function(){this.$emit("input",this.currentValue),this.updatingValue?this.updatingValue=!1:this.updateSelected(!0)},data:{deep:!0,handler:function(){var e=this,t=(0,o.default)(this.getValidData(this.data));t!==this.validDataStr&&(this.validDataStr=t,this.isLoadedChildren||this.$nextTick(function(){return(0,l.default)(this,e),this.updateSelected(!1,this.changeOnSelect)}.bind(this)),this.isLoadedChildren=!1)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(17)),o=h(n(15)),l=h(n(1)),c=h(n(369)),d=h(n(4)),f=n(3);function h(e){return e&&e.__esModule?e:{default:e}}var v=1;t.default={name:"Caspanel",mixins:[d.default],components:{Casitem:c.default},props:{data:{type:Array,default:function(){return[]}},disabled:Boolean,changeOnSelect:Boolean,trigger:String,prefixCls:String},data:function(){return{tmpItem:{},result:[],sublist:[]}},watch:{data:function(){this.sublist=[]}},methods:{handleClickItem:function(e){"click"!==this.trigger&&e.children&&e.children.length||this.handleTriggerItem(e,!1,!0)},handleHoverItem:function(e){"hover"===this.trigger&&e.children&&e.children.length&&this.handleTriggerItem(e,!1,!0)},handleTriggerItem:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.disabled){var o=(0,f.findComponentUpward)(this,"Cascader");if(void 0!==e.loading&&!e.children.length&&o&&o.loadData)o.loadData(e,function(){(0,l.default)(this,t),r&&(o.isLoadedChildren=!0),e.children.length&&this.handleTriggerItem(e)}.bind(this));else{var c=this.getBaseItem(e);if((this.changeOnSelect||c.label!==this.tmpItem.label||c.value!==this.tmpItem.value||c.label===this.tmpItem.label&&c.value===this.tmpItem.value)&&(this.tmpItem=c,this.emitUpdate([c])),e.children&&e.children.length){if(this.sublist=e.children,this.dispatch("Cascader","on-result-change",{lastValue:!1,changeOnSelect:this.changeOnSelect,fromInit:n}),this.changeOnSelect){var d=(0,f.findComponentDownward)(this,"Caspanel");d&&d.$emit("on-clear",!0)}}else this.sublist=[],this.dispatch("Cascader","on-result-change",{lastValue:!0,changeOnSelect:this.changeOnSelect,fromInit:n});o&&o.$refs.drop.update()}}},updateResult:function(e){this.result=[this.tmpItem].concat(e),this.emitUpdate(this.result)},getBaseItem:function(e){var t=(0,o.default)({},e);return t.children&&delete t.children,t},emitUpdate:function(e){"Caspanel"===this.$parent.$options.name?this.$parent.updateResult(e):this.$parent.$parent.updateResult(e)},getKey:function(){return v++}},mounted:function(){var e=this;this.$on("on-find-selected",function(t){(0,l.default)(this,e);for(var n=t.value,o=[].concat((0,r.default)(n)),i=0;i<o.length;i++)for(var c=0;c<this.data.length;c++)if(o[i]===this.data[c].value)return this.handleTriggerItem(this.data[c],!0),o.splice(0,1),this.$nextTick(function(){(0,l.default)(this,e),this.broadcast("Caspanel","on-find-selected",{value:o})}.bind(this)),!1}.bind(this)),this.$on("on-clear",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if((0,l.default)(this,e),this.sublist=[],this.tmpItem={},t){var n=(0,f.findComponentDownward)(this,"Caspanel");n&&n.$emit("on-clear",!0)}}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(2)),o=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Casitem",components:{Icon:o.default},props:{data:Object,prefixCls:String,tmpItem:Object},computed:{classes:function(){var e;return[String(this.prefixCls)+"-menu-item",(e={},(0,r.default)(e,String(this.prefixCls)+"-menu-item-active",this.tmpItem.value===this.data.value),(0,r.default)(e,String(this.prefixCls)+"-menu-item-disabled",this.data.disabled),e)]},showArrow:function(){return this.data.children&&this.data.children.length||"loading"in this.data&&!this.data.loading},showLoading:function(){return"loading"in this.data&&this.data.loading},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cascader.customItemArrow?e="":this.$IVIEW.cascader.itemArrow&&(e=this.$IVIEW.cascader.itemArrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.cascader.customItemArrow&&(e=this.$IVIEW.cascader.customItemArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.cascader.itemArrowSize&&(e=this.$IVIEW.cascader.itemArrowSize),e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=d(n(375)),l=d(n(8)),c=d(n(48));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Cell",inject:["cellGroup"],mixins:[c.default],components:{CellItem:o.default,Icon:l.default},props:{name:{type:[String,Number]},title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-cell"}},computed:{classes:function(){var e;return["ivu-cell",(e={},(0,r.default)(e,"ivu-cell-disabled",this.disabled),(0,r.default)(e,"ivu-cell-selected",this.selected),(0,r.default)(e,"ivu-cell-with-link",this.to),e)]},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.cell.customArrow?e="":this.$IVIEW.cell.arrow&&(e=this.$IVIEW.cell.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.cell.customArrow&&(e=this.$IVIEW.cell.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.cell.arrowSize&&(e=this.$IVIEW.cell.arrowSize),e}},methods:{handleClickItem:function(e,t){this.cellGroup.handleClick(this.name),this.handleCheckClick(e,t)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{type:String,default:""},label:{type:String,default:""},extra:{type:String,default:""}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CellGroup",provide:function(){return{cellGroup:this}},methods:{handleClick:function(e){this.$emit("on-click",e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=n(3),l=d(n(4)),c=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-checkbox";t.default={name:"Checkbox",mixins:[l.default,c.default],props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator:function(e){return(0,o.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data:function(){return{model:[],currentValue:this.value,group:!1,showSlot:!0,parent:(0,o.findComponentUpward)(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses:function(){var e;return[f+"-wrapper",(e={},(0,r.default)(e,f+"-group-item",this.group),(0,r.default)(e,f+"-wrapper-checked",this.currentValue),(0,r.default)(e,f+"-wrapper-disabled",this.itemDisabled),(0,r.default)(e,f+"-"+String(this.size),!!this.size),(0,r.default)(e,f+"-border",this.border),e)]},checkboxClasses:function(){var e;return[""+f,(e={},(0,r.default)(e,f+"-checked",this.currentValue),(0,r.default)(e,f+"-disabled",this.itemDisabled),(0,r.default)(e,f+"-indeterminate",this.indeterminate),e)]},innerClasses:function(){return[f+"-inner",(0,r.default)({},f+"-focus",this.focusInner)]},inputClasses:function(){return f+"-input"}},mounted:function(){this.parent=(0,o.findComponentUpward)(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change:function(e){if(this.itemDisabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?this.parent.change(this.model):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateModel:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusInner=!1},onFocus:function(){this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateModel()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(144),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(382),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(2)),l=n(3),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CheckboxGroup",mixins:[c.default],props:{value:{type:Array,default:function(){return[]}},size:{validator:function(e){return(0,l.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return["ivu-checkbox-group",(0,o.default)({},"ivu-checkbox-"+String(this.size),!!this.size)]}},mounted:function(){this.updateModel(!0)},methods:{updateModel:function(e){var t=this;if(this.childrens=(0,l.findComponentsDownward)(this,"Checkbox"),this.childrens){var n=this.value;this.childrens.forEach(function(o){(0,r.default)(this,t),o.model=n,e&&(o.currentValue=n.indexOf(o.label)>=0,o.group=!0)}.bind(this))}},change:function(data){this.currentValue=data,this.$emit("input",data),this.$emit("on-change",data),this.dispatch("FormItem","on-form-change",data)}},watch:{value:function(){this.updateModel(!0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(3),l=n(385),c=(r=l)&&r.__esModule?r:{default:r};t.default={name:"iCircle",props:{percent:{type:Number,default:0},size:{type:Number,default:120},strokeWidth:{type:Number,default:6},strokeColor:{type:[String,Array],default:"#2d8cf0"},strokeLinecap:{validator:function(e){return(0,o.oneOf)(e,["square","round"])},default:"round"},trailWidth:{type:Number,default:5},trailColor:{type:String,default:"#eaeef2"},dashboard:{type:Boolean,default:!1}},data:function(){return{id:"ivu-chart-circle-"+String((0,c.default)(3))}},computed:{circleSize:function(){return{width:String(this.size)+"px",height:String(this.size)+"px"}},computedStrokeWidth:function(){return 0===this.percent&&this.dashboard?0:this.strokeWidth},radius:function(){return 50-this.strokeWidth/2},pathString:function(){return this.dashboard?"M 50,50 m 0,"+String(this.radius)+"\n                a "+String(this.radius)+","+String(this.radius)+" 0 1 1 0,-"+2*this.radius+"\n                a "+String(this.radius)+","+String(this.radius)+" 0 1 1 0,"+2*this.radius:"M 50,50 m 0,-"+String(this.radius)+"\n                a "+String(this.radius)+","+String(this.radius)+" 0 1 1 0,"+2*this.radius+"\n                a "+String(this.radius)+","+String(this.radius)+" 0 1 1 0,-"+2*this.radius},len:function(){return 2*Math.PI*this.radius},trailStyle:function(){var style={};return this.dashboard&&(style={"stroke-dasharray":this.len-75+"px "+String(this.len)+"px","stroke-dashoffset":"-37.5px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"}),style},pathStyle:function(){return this.dashboard?{"stroke-dasharray":this.percent/100*(this.len-75)+"px "+String(this.len)+"px","stroke-dashoffset":"-37.5px",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .6s ease 0s, stroke .6s, stroke-width .06s ease .6s"}:{"stroke-dasharray":String(this.len)+"px "+String(this.len)+"px","stroke-dashoffset":(100-this.percent)/100*this.len+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},wrapClasses:function(){return"ivu-chart-circle"},innerClasses:function(){return"ivu-chart-circle-inner"},strokeValue:function(){var e=this.strokeColor;return"string"!=typeof this.strokeColor&&(e="url(#"+String(this.id)+")"),e},showDefs:function(){return"string"!=typeof this.strokeColor}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Collapse",props:{accordion:{type:Boolean,default:!1},value:{type:[Array,String]},simple:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value}},computed:{classes:function(){return["ivu-collapse",(0,o.default)({},"ivu-collapse-simple",this.simple)]}},mounted:function(){this.setActive()},methods:{setActive:function(){var e=this,t=this.getActiveKey();this.$children.forEach(function(n,o){(0,r.default)(this,e);var l=n.name||o.toString();n.isActive=t.indexOf(l)>-1,n.index=o}.bind(this))},getActiveKey:function(){var e=this.currentValue||[],t=this.accordion;Array.isArray(e)||(e=[e]),t&&e.length>1&&(e=[e[0]]);for(var i=0;i<e.length;i++)e[i]=e[i].toString();return e},toggle:function(data){var e=data.name.toString(),t=[];if(this.accordion)data.isActive||t.push(e);else{var n=this.getActiveKey(),r=n.indexOf(e);data.isActive?r>-1&&n.splice(r,1):r<0&&n.push(e),t=n}this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t)}},watch:{value:function(e){this.currentValue=e},currentValue:function(){this.setActive()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(8)),l=c(n(83));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Panel",components:{Icon:o.default,CollapseTransition:l.default},props:{name:{type:String},hideArrow:{type:Boolean,default:!1}},data:function(){return{index:0,isActive:!1,mounted:!1}},computed:{itemClasses:function(){return["ivu-collapse-item",(0,r.default)({},"ivu-collapse-item-active",this.isActive)]},headerClasses:function(){return"ivu-collapse-header"},contentClasses:function(){return"ivu-collapse-content"},boxClasses:function(){return"ivu-collapse-content-box"}},methods:{toggle:function(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}},mounted:function(){this.mounted=!0,this.$parent.setActive()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n(2)),o=M(n(149)),l=n(76),c=M(n(23)),d=M(n(36)),f=M(n(394)),h=M(n(396)),v=M(n(398)),m=M(n(400)),y=M(n(38)),x=M(n(28)),_=M(n(8)),w=M(n(6)),k=n(3),S=M(n(4)),C=M(n(11)),T=M(n(50)),E=n(39);function M(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ColorPicker",components:{Drop:d.default,RecommendColors:f.default,Saturation:h.default,Hue:v.default,Alpha:m.default,iInput:y.default,iButton:x.default,Icon:_.default},directives:{clickOutside:l.directive,TransferDom:c.default},mixins:[S.default,w.default,T.default,C.default],props:{value:{type:String,default:void 0},hue:{type:Boolean,default:!0},alpha:{type:Boolean,default:!1},recommend:{type:Boolean,default:!1},format:{type:String,validator:function(e){return(0,k.oneOf)(e,["hsl","hsv","hex","rgb"])},default:void 0},colors:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},size:{validator:function(e){return(0,k.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},hideDropDown:{type:Boolean,default:!1},placement:{type:String,validator:function(e){return(0,k.oneOf)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String,default:void 0},editable:{type:Boolean,default:!0},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String}},data:function(){return{val:(0,E.changeColor)(this.value),currentValue:this.value,dragging:!1,visible:!1,recommendedColor:["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"]}},computed:{arrowClasses:function(){return[String(this.inputPrefixCls)+"-icon",String(this.inputPrefixCls)+"-icon-normal"]},transition:function(){return(0,k.oneOf)(this.placement,["bottom-start","bottom","bottom-end"])?"slide-up":"fade"},saturationColors:{get:function(){return this.val},set:function(e){this.val=e,this.$emit("on-active-change",this.formatColor)}},classes:function(){return[""+String(this.prefixCls),(0,r.default)({},String(this.prefixCls)+"-transfer",this.transfer)]},wrapClasses:function(){return[String(this.prefixCls)+"-rel",String(this.prefixCls)+"-"+String(this.size),String(this.inputPrefixCls)+"-wrapper",String(this.inputPrefixCls)+"-wrapper-"+String(this.size),(0,r.default)({},String(this.prefixCls)+"-disabled",this.itemDisabled)]},inputClasses:function(){var e;return[String(this.prefixCls)+"-input",""+String(this.inputPrefixCls),String(this.inputPrefixCls)+"-"+String(this.size),(e={},(0,r.default)(e,String(this.prefixCls)+"-focused",this.visible),(0,r.default)(e,String(this.prefixCls)+"-disabled",this.itemDisabled),e)]},dropClasses:function(){var e;return[String(this.transferPrefixCls)+"-no-max-height",(e={},(0,r.default)(e,String(this.prefixCls)+"-transfer",this.transfer),(0,r.default)(e,String(this.prefixCls)+"-hide-drop",this.hideDropDown),(0,r.default)(e,this.transferClassName,this.transferClassName),e)]},displayedColorStyle:function(){return{backgroundColor:(0,E.toRGBAString)(this.visible?this.saturationColors.rgba:(0,o.default)(this.value).toRgb())}},formatColor:function(){var e=this.format,t=this.saturationColors;if(e){if("hsl"===e)return(0,o.default)(t.hsl).toHslString();if("hsv"===e)return(0,o.default)(t.hsv).toHsvString();if("hex"===e)return t.hex;if("rgb"===e)return(0,E.toRGBAString)(t.rgba)}else if(this.alpha)return(0,E.toRGBAString)(t.rgba);return t.hex},confirmColorClasses:function(){return[String(this.prefixCls)+"-confirm-color",(0,r.default)({},String(this.prefixCls)+"-confirm-color-editable",this.editable)]},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.colorPicker.customArrow?e="":this.$IVIEW.colorPicker.arrow&&(e=this.$IVIEW.colorPicker.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.colorPicker.customArrow&&(e=this.$IVIEW.colorPicker.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.colorPicker.arrowSize&&(e=this.$IVIEW.colorPicker.arrowSize),e}},watch:{value:function(e){this.val=(0,E.changeColor)(e)},visible:function(e){this.val=(0,E.changeColor)(this.value),this.$refs.drop[e?"update":"destroy"](),this.$emit("on-open-change",Boolean(e))}},mounted:function(){this.$on("on-escape-keydown",this.closer),this.$on("on-dragging",this.setDragging)},methods:{setDragging:function(e){this.dragging=e},handleClose:function(e){if(this.visible){if(this.dragging||"mousedown"===e.type)return void e.preventDefault();if(this.transfer){var t=this.$refs.drop.$el;if(t===e.target||t.contains(e.target))return}this.closer(e)}else this.visible=!1},toggleVisible:function(){this.itemDisabled||(this.visible=!this.visible,this.$refs.input.focus())},childChange:function(data){this.colorChange(data)},colorChange:function(data,e){this.oldHue=this.saturationColors.hsl.h,this.saturationColors=(0,E.changeColor)(data,e||this.oldHue)},closer:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.visible=!1,this.$refs.input.focus()},handleButtons:function(e,t){this.currentValue=t,this.$emit("input",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),this.closer(e)},handleSuccess:function(e){this.handleButtons(e,this.formatColor),this.$emit("on-pick-success")},handleClear:function(e){this.handleButtons(e,""),this.$emit("on-pick-clear")},handleSelectColor:function(e){this.val=(0,E.changeColor)(e),this.$emit("on-active-change",this.formatColor)},handleEditColor:function(e){var t=e.target.value;this.handleSelectColor(t)},handleFirstTab:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.$refs.ok.$el.focus())},handleLastTab:function(e){e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.$refs.saturation.$el.focus())},onTab:function(e){this.visible&&e.preventDefault()},onEscape:function(e){this.visible&&this.closer(e)},onArrow:function(e){this.visible||(e.preventDefault(),e.stopPropagation(),this.visible=!0)}}}},function(e,t,n){var r;!function(o){var l=/^\s+/,c=/\s+$/,d=0,f=o.round,h=o.min,v=o.max,m=o.random;function y(e,t){if(t=t||{},(e=e||"")instanceof y)return e;if(!(this instanceof y))return new y(e,t);var n=function(e){var t,g,b,n={r:0,g:0,b:0},a=1,s=null,r=null,d=null,f=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(l,"").replace(c,"").toLowerCase();var t,n=!1;if(j[e])e=j[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=K.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=K.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=K.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=K.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=K.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=K.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=K.hex8.exec(e))?{r:U(t[1]),g:U(t[2]),b:U(t[3]),a:G(t[4]),format:n?"name":"hex8"}:(t=K.hex6.exec(e))?{r:U(t[1]),g:U(t[2]),b:U(t[3]),format:n?"name":"hex"}:(t=K.hex4.exec(e))?{r:U(t[1]+""+t[1]),g:U(t[2]+""+t[2]),b:U(t[3]+""+t[3]),a:G(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=K.hex3.exec(e))&&{r:U(t[1]+""+t[1]),g:U(t[2]+""+t[2]),b:U(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(J(e.r)&&J(e.g)&&J(e.b)?(t=e.r,g=e.g,b=e.b,n={r:255*B(t,255),g:255*B(g,255),b:255*B(b,255)},f=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):J(e.h)&&J(e.s)&&J(e.v)?(s=H(e.s),r=H(e.v),n=function(e,s,t){e=6*B(e,360),s=B(s,100),t=B(t,100);var i=o.floor(e),n=e-i,p=t*(1-s),q=t*(1-n*s),r=t*(1-(1-n)*s),l=i%6;return{r:255*[t,q,p,p,r,t][l],g:255*[r,t,t,q,p,p][l],b:255*[p,p,r,t,t,q][l]}}(e.h,s,r),f=!0,m="hsv"):J(e.h)&&J(e.s)&&J(e.l)&&(s=H(e.s),d=H(e.l),n=function(e,s,t){var n,g,b;function r(p,q,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?p+6*(q-p)*e:e<.5?q:e<2/3?p+(q-p)*(2/3-e)*6:p}if(e=B(e,360),s=B(s,100),t=B(t,100),0===s)n=g=b=t;else{var q=t<.5?t*(1+s):t+s-t*s,p=2*t-q;n=r(p,q,e+1/3),g=r(p,q,e),b=r(p,q,e-1/3)}return{r:255*n,g:255*g,b:255*b}}(e.h,s,d),f=!0,m="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=N(a),{ok:f,format:e.format||m,r:h(255,v(n.r,0)),g:h(255,v(n.g,0)),b:h(255,v(n.b,0)),a:a}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=f(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=n.ok,this._tc_id=d++}function x(e,g,b){e=B(e,255),g=B(g,255),b=B(b,255);var t,s,n=v(e,g,b),r=h(e,g,b),o=(n+r)/2;if(n==r)t=s=0;else{var l=n-r;switch(s=o>.5?l/(2-n-r):l/(n+r),n){case e:t=(g-b)/l+(g<b?6:0);break;case g:t=(b-e)/l+2;break;case b:t=(e-g)/l+4}t/=6}return{h:t,s:s,l:o}}function _(e,g,b){e=B(e,255),g=B(g,255),b=B(b,255);var t,s,n=v(e,g,b),r=h(e,g,b),o=n,l=n-r;if(s=0===n?0:l/n,n==r)t=0;else{switch(n){case e:t=(g-b)/l+(g<b?6:0);break;case g:t=(b-e)/l+2;break;case b:t=(e-g)/l+4}t/=6}return{h:t,s:s,v:o}}function w(e,g,b,t){var n=[W(f(e).toString(16)),W(f(g).toString(16)),W(f(b).toString(16))];return t&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function k(e,g,b,a){return[W($(a)),W(f(e).toString(16)),W(f(g).toString(16)),W(f(b).toString(16))].join("")}function S(e,t){t=0===t?0:t||10;var n=y(e).toHsl();return n.s-=t/100,n.s=V(n.s),y(n)}function C(e,t){t=0===t?0:t||10;var n=y(e).toHsl();return n.s+=t/100,n.s=V(n.s),y(n)}function T(e){return y(e).desaturate(100)}function E(e,t){t=0===t?0:t||10;var n=y(e).toHsl();return n.l+=t/100,n.l=V(n.l),y(n)}function M(e,t){t=0===t?0:t||10;var n=y(e).toRgb();return n.r=v(0,h(255,n.r-f(-t/100*255))),n.g=v(0,h(255,n.g-f(-t/100*255))),n.b=v(0,h(255,n.b-f(-t/100*255))),y(n)}function P(e,t){t=0===t?0:t||10;var n=y(e).toHsl();return n.l-=t/100,n.l=V(n.l),y(n)}function A(e,t){var n=y(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,y(n)}function O(e){var t=y(e).toHsl();return t.h=(t.h+180)%360,y(t)}function I(e){var t=y(e).toHsl(),n=t.h;return[y(e),y({h:(n+120)%360,s:t.s,l:t.l}),y({h:(n+240)%360,s:t.s,l:t.l})]}function D(e){var t=y(e).toHsl(),n=t.h;return[y(e),y({h:(n+90)%360,s:t.s,l:t.l}),y({h:(n+180)%360,s:t.s,l:t.l}),y({h:(n+270)%360,s:t.s,l:t.l})]}function R(e){var t=y(e).toHsl(),n=t.h;return[y(e),y({h:(n+72)%360,s:t.s,l:t.l}),y({h:(n+216)%360,s:t.s,l:t.l})]}function z(e,t,n){t=t||6,n=n||30;var r=y(e).toHsl(),o=360/n,l=[y(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,l.push(y(r));return l}function L(e,t){t=t||6;for(var n=y(e).toHsv(),r=n.h,s=n.s,o=n.v,l=[],c=1/t;t--;)l.push(y({h:r,s:s,v:o})),o=(o+c)%1;return l}y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=N(e),this._roundA=f(100*this._a)/100,this},toHsv:function(){var e=_(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=_(this._r,this._g,this._b),t=f(360*e.h),s=f(100*e.s),n=f(100*e.v);return 1==this._a?"hsv("+t+", "+s+"%, "+n+"%)":"hsva("+t+", "+s+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=x(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=x(this._r,this._g,this._b),t=f(360*e.h),s=f(100*e.s),n=f(100*e.l);return 1==this._a?"hsl("+t+", "+s+"%, "+n+"%)":"hsla("+t+", "+s+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return w(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,g,b,a,t){var n=[W(f(e).toString(16)),W(f(g).toString(16)),W(f(b).toString(16)),W($(a))];return t&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(100*B(this._r,255))+"%",g:f(100*B(this._g,255))+"%",b:f(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+f(100*B(this._r,255))+"%, "+f(100*B(this._g,255))+"%, "+f(100*B(this._b,255))+"%)":"rgba("+f(100*B(this._r,255))+"%, "+f(100*B(this._g,255))+"%, "+f(100*B(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+k(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=y(e);n="#"+k(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return y(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(M,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(z,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(I,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},y.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:H(e[i]));e=n}return y(e,t)},y.equals=function(e,t){return!(!e||!t)&&y(e).toRgbString()==y(t).toRgbString()},y.random=function(){return y.fromRatio({r:m(),g:m(),b:m()})},y.mix=function(e,t,n){n=0===n?0:n||50;var r=y(e).toRgb(),o=y(t).toRgb(),p=n/100;return y({r:(o.r-r.r)*p+r.r,g:(o.g-r.g)*p+r.g,b:(o.b-r.b)*p+r.b,a:(o.a-r.a)*p+r.a})},y.readability=function(e,t){var n=y(e),r=y(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},y.isReadable=function(e,t,n){var r,o,l,c,d,f=y.readability(e,t);switch(o=!1,(l=n,c=((l=l||{level:"AA",size:"small"}).level||"AA").toUpperCase(),d=(l.size||"small").toLowerCase(),"AA"!==c&&"AAA"!==c&&(c="AA"),"small"!==d&&"large"!==d&&(d="small"),r={level:c,size:d}).level+r.size){case"AAsmall":case"AAAlarge":o=f>=4.5;break;case"AAlarge":o=f>=3;break;case"AAAsmall":o=f>=7}return o},y.mostReadable=function(e,t,n){var r,o,l,c,d=null,f=0;o=(n=n||{}).includeFallbackColors,l=n.level,c=n.size;for(var i=0;i<t.length;i++)(r=y.readability(e,t[i]))>f&&(f=r,d=y(t[i]));return y.isReadable(e,d,{level:l,size:c})||!o?d:(n.includeFallbackColors=!1,y.mostReadable(e,["#fff","#000"],n))};var j=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=y.hexNames=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}(j);function N(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function B(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=h(t,v(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function V(e){return h(1,v(0,e))}function U(e){return parseInt(e,16)}function W(e){return 1==e.length?"0"+e:""+e}function H(e){return e<=1&&(e=100*e+"%"),e}function $(e){return o.round(255*parseFloat(e)).toString(16)}function G(e){return U(e)/255}var Z,Y,X,K=(Y="[\\s|\\(]+("+(Z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",X="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",{CSS_UNIT:new RegExp(Z),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+X),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+X),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+X),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function J(e){return!!K.CSS_UNIT.exec(e)}void 0!==e&&e.exports?e.exports=y:void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(32)),o=f(n(4)),l=f(n(151)),c=f(n(50)),d=n(39);function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RecommendedColors",mixins:[o.default,l.default,c.default],props:{list:{type:Array,default:void 0}},data:function(){return{left:-1,right:1,up:-1,down:1,powerKey:"shiftKey",grid:{x:1,y:1},rows:Math.ceil(this.list.length/12),columns:12}},computed:{hideClass:function(){return String(this.prefixCls)+"-hide"},linearIndex:function(){return this.getLinearIndex(this.grid)},currentCircle:function(){return this.$refs["color-circle-"+String(this.linearIndex)][0]}},methods:{getLinearIndex:function(e){return this.columns*(e.y-1)+e.x-1},getMaxLimit:function(e){return"x"===e?this.columns:this.rows},handleArrow:function(e,t,n){e.preventDefault(),e.stopPropagation(),this.blurColor();var o=(0,r.default)({},this.grid);e[this.powerKey]?o[t]=n<0?1:this.getMaxLimit(t):o[t]+=n;var l=this.getLinearIndex(o);l>=0&&l<this.list.length&&(this.grid[t]=(0,d.clamp)(o[t],1,this.getMaxLimit(t))),this.focusColor()},blurColor:function(){this.currentCircle.classList.add(this.hideClass)},focusColor:function(){this.currentCircle.classList.remove(this.hideClass)},handleEnter:function(e){this.handleClick(e,this.currentCircle)},handleClick:function(e,circle){e.preventDefault(),e.stopPropagation(),this.$refs.reference.focus();var t=circle||e.target,n=t.dataset.colorId||t.parentElement.dataset.colorId;if(n){this.blurColor();var r=Number(n)+1;this.grid.x=r%this.columns||this.columns,this.grid.y=Math.ceil(r/this.columns),this.focusColor(),this.$emit("picker-color",this.list[n]),this.$emit("change",{hex:this.list[n],source:"hex"})}},lineBreak:function(e,t){if(!t)return!1;var n=t+1;return n<e.length&&n%this.columns==0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{handleEscape:function(e){this.dispatch("ColorPicker","on-escape-keydown",e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(84)),o=d(n(50)),l=n(39),c=n(12);function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Saturation",mixins:[r.default,o.default],data:function(){return{left:-.01,right:.01,up:.01,down:-.01,multiplier:10,powerKey:"shiftKey"}},computed:{bgColorStyle:function(){return{background:"hsl("+String(this.value.hsv.h)+", 100%, 50%)"}},pointerStyle:function(){return{top:-100*this.value.hsv.v+1+100+"%",left:100*this.value.hsv.s+"%"}}},methods:{change:function(e,s,t,a){this.$emit("change",{h:e,s:s,v:t,a:a,source:"hsva"})},handleSlide:function(e,t,n){e.preventDefault(),e.stopPropagation();var r=e[this.powerKey]?t*this.multiplier:t,o=this.value.hsv,c=o.h,s=o.s,d=o.v,a=o.a,f=(0,l.clamp)(s+(0,l.getIncrement)(n,["left","right"],r),0,1),h=(0,l.clamp)(d+(0,l.getIncrement)(n,["up","down"],r),0,1);this.change(c,f,h,a)},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t=this.$refs.container,n=t.clientWidth,r=t.clientHeight,o=(0,l.clamp)(this.getLeft(e),0,n),c=(0,l.clamp)(this.getTop(e),0,r),d=o/n,f=(0,l.clamp)(1-c/r,0,1);this.change(this.value.hsv.h,d,f,this.value.hsv.a)},handleMouseDown:function(e){r.default.methods.handleMouseDown.call(this,e),(0,c.on)(window,"mouseup",this.handleChange)},unbindEventListeners:function(e){r.default.methods.unbindEventListeners.call(this,e),(0,c.off)(window,"mouseup",this.handleChange)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(84)),o=c(n(50)),l=n(39);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Hue",mixins:[r.default,o.default],data:function(){return{left:-1/360*25,right:1/360*25,up:1/360*25*20,down:-1/360*25*20,powerKey:"shiftKey",percent:(0,l.clamp)(100*this.value.hsl.h/360,0,100)}},watch:{value:function(){this.percent=(0,l.clamp)(100*this.value.hsl.h/360,0,100)}},methods:{change:function(e){this.percent=(0,l.clamp)(e,0,100);var t=this.value.hsl,n=t.h,s=t.s,r=t.l,a=t.a,o=(0,l.clamp)(e/100*360,0,360);n!==o&&this.$emit("change",{h:o,s:s,l:r,a:a,source:"hsl"})},handleSlide:function(e,t){e.preventDefault(),e.stopPropagation(),e[this.powerKey]?this.change(t<0?0:100):this.change(this.percent+t)},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t=this.getLeft(e);if(t<0)this.change(0);else{var n=this.$refs.container.clientWidth;t>n?this.change(100):this.change(100*t/n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(84)),o=c(n(50)),l=n(39);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Alpha",mixins:[r.default,o.default],data:function(){return{left:-1,right:1,up:10,down:-10,powerKey:"shiftKey"}},computed:{gradientStyle:function(){var e=this.value.rgba,t=e.r,g=e.g,b=e.b,n=(0,l.toRGBAString)({r:t,g:g,b:b,a:0}),r=(0,l.toRGBAString)({r:t,g:g,b:b,a:1});return{background:"linear-gradient(to right, "+String(n)+" 0%, "+String(r)+" 100%)"}}},methods:{change:function(e){var t=this.value.hsl,n=t.h,s=t.s,r=t.l;this.value.a!==e&&this.$emit("change",{h:n,s:s,l:r,a:e,source:"rgba"})},handleSlide:function(e,t){e.preventDefault(),e.stopPropagation(),this.change((0,l.clamp)(e[this.powerKey]?t:Math.round(100*this.value.hsl.a+t)/100,0,1))},handleChange:function(e){e.preventDefault(),e.stopPropagation();var t=this.getLeft(e);if(t<0)this.change(0);else{var n=this.$refs.container.clientWidth;t>n?this.change(1):this.change(Math.round(100*t/n)/100)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(156),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(404),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Content",computed:{wrapClasses:function(){return"ivu-layout-content"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(158),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(408),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(27)),o=T(n(57)),l=T(n(26)),c=T(n(32)),d=T(n(17)),f=T(n(2)),h=T(n(1)),v=T(n(38)),m=T(n(36)),y=T(n(8)),x=n(76),_=T(n(23)),w=n(3),k=n(20),S=T(n(4)),C=T(n(11));function T(e){return e&&e.__esModule?e:{default:e}}var E="ivu-date-picker",M=function(e){return(0,h.default)(void 0,void 0),e.reduce(function(e,t){return(0,h.default)(void 0,void 0),e&&!t||"string"==typeof t&&""===t.trim()}.bind(void 0),!0)}.bind(void 0),P={40:"up",39:"right",38:"down",37:"left"},A=function(e,t,n){return(0,h.default)(void 0,void 0),"left"===e?-1*t:"right"===e?1*t:"up"===e?1*n:"down"===e?-1*n:void 0}.bind(void 0),O=function(e){(0,h.default)(void 0,void 0),e.classList.add("ivu-date-picker-btn-pulse"),setTimeout(function(){return(0,h.default)(void 0,void 0),e.classList.remove("ivu-date-picker-btn-pulse")}.bind(void 0),200)}.bind(void 0),I=function(e){return(0,h.default)(void 0,void 0),e?[e.getHours(),e.getMinutes(),e.getSeconds()]:[0,0,0]}.bind(void 0);t.default={mixins:[S.default,C.default],components:{iInput:v.default,Drop:m.default,Icon:y.default},directives:{clickOutside:x.directive,TransferDom:_.default},props:{format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},confirm:{type:Boolean,default:!1},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{default:function(){return(0,h.default)(void 0,void 0),{}}.bind(void 0),type:Object},splitPanels:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},size:{validator:function(e){return(0,w.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},placeholder:{type:String,default:""},placement:{validator:function(e){return(0,w.oneOf)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom-start"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},name:{type:String},elementId:{type:String},steps:{type:Array,default:function(){return(0,h.default)(void 0,void 0),[]}.bind(void 0)},value:{type:[Date,String,Array]},options:{type:Object,default:function(){return(0,h.default)(void 0,void 0),{}}.bind(void 0)},separator:{type:String,default:" - "},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}},transferClassName:{type:String}},data:function(){var e=this.type.includes("range"),t=e?[null,null]:[null],n=M((e?this.value:[this.value])||[])?t:this.parseDate(this.value),r=n.map(I);return{prefixCls:E,showClose:!1,visible:!1,internalValue:n,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:n[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:r,active:!1},internalFocus:!1}},computed:{wrapperClasses:function(){return[E,(0,f.default)({},E+"-focused",this.isFocused)]},publicVModelValue:function(){var e=this;if(this.multiple)return this.internalValue.slice();var t=this.type.includes("range"),n=this.internalValue.map(function(t){return(0,h.default)(this,e),t instanceof Date?new Date(t):t||""}.bind(this));return this.type.match(/^time/)&&(n=n.map(this.formatDate)),t||this.multiple?n:n[0]},publicStringValue:function(){var e=this.formatDate,t=this.publicVModelValue;return this.type.match(/^time/)?t:this.multiple?e(t):Array.isArray(t)?t.map(e):e(t)},opened:function(){return null===this.open?this.visible:this.open},transition:function(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue:function(){return this.formatDate(this.internalValue)},isConfirm:function(){return this.confirm||"datetime"===this.type||"datetimerange"===this.type||this.multiple},arrowType:function(){var e="";return"time"===this.type||"timerange"===this.type?(e="ios-time-outline",this.$IVIEW&&(this.$IVIEW.timePicker.customIcon?e="":this.$IVIEW.timePicker.icon&&(e=this.$IVIEW.timePicker.icon))):(e="ios-calendar-outline",this.$IVIEW&&(this.$IVIEW.datePicker.customIcon?e="":this.$IVIEW.datePicker.icon&&(e=this.$IVIEW.datePicker.icon))),this.showClose&&(e="ios-close-circle"),e},customArrowType:function(){var e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.customIcon&&(e=this.$IVIEW.timePicker.customIcon):this.$IVIEW&&this.$IVIEW.datePicker.customIcon&&(e=this.$IVIEW.datePicker.customIcon)),e},arrowSize:function(){var e="";return this.showClose||("time"===this.type||"timerange"===this.type?this.$IVIEW&&this.$IVIEW.timePicker.iconSize&&(e=this.$IVIEW.timePicker.iconSize):this.$IVIEW&&this.$IVIEW.datePicker.iconSize&&(e=this.$IVIEW.datePicker.iconSize)),e},dropdownCls:function(){var e;return e={},(0,f.default)(e,E+"-transfer",this.transfer),(0,f.default)(e,this.transferClassName,this.transferClassName),e}},methods:{onSelectionModeChange:function(e){return e.match(/^date/)&&(e="date"),this.selectionMode=(0,w.oneOf)(e,["year","month","date","time"])&&e,this.selectionMode},handleTransferClick:function(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose:function(e){if(this.disableCloseUnderTransfer)return this.disableCloseUnderTransfer=!1,!1;if(e&&"mousedown"===e.type&&this.visible)return e.preventDefault(),void e.stopPropagation();if(this.visible){var t=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el;if(e&&t&&t.contains(e.target))return;return this.visible=!1,e&&e.preventDefault(),e&&e.stopPropagation(),void this.$emit("on-clickoutside",e)}this.isFocused=!1,this.disableClickOutSide=!1},handleFocus:function(e){this.readonly||(this.isFocused=!0,e&&"focus"===e.type||this.itemDisabled||(this.visible=!0))},handleBlur:function(e){this.internalFocus?this.internalFocus=!1:this.visible?e.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown:function(e){var t=this,n=e.keyCode;if(9===n)if(this.visible)if(e.stopPropagation(),e.preventDefault(),this.isConfirm){var r=this.$refs.drop.$el.querySelectorAll(".ivu-picker-confirm > *");this.internalFocus=!0,[].concat((0,d.default)(r))[e.shiftKey?"pop":"shift"]().focus()}else this.handleClose();else this.focused=!1;var o=[37,38,39,40];if(this.visible||!o.includes(n)){if(27===n&&this.visible&&(e.stopPropagation(),this.handleClose()),13===n){var l=(0,w.findComponentsDownward)(this,"TimeSpinner");if(l.length>0){var c=l[0].showSeconds?3:2,f=Math.floor(this.focusedTime.column/c),v=this.focusedTime.time[f];return void l[f].chooseValue(v)}if(this.type.match(/range/))this.$refs.pickerPanel.handleRangePick(this.focusedDate,"date");else{var m=(0,w.findComponentsDownward)(this,"PanelTable"),y=function(e){(0,h.default)(this,t);var n=["year","month","date"].indexOf(this.type)+1;return[e.getFullYear(),e.getMonth(),e.getDate()].slice(0,n).join("-")}.bind(this);m.find(function(e){var n=e.cells;return(0,h.default)(this,t),n.find(function(e){var n=e.date,r=e.disabled;return(0,h.default)(this,t),y(n)===y(this.focusedDate)&&!r}.bind(this))}.bind(this))&&this.onPick(this.focusedDate,!1,"date")}}o.includes(n)&&(this.focusedTime.active&&e.preventDefault(),this.navigateDatePanel(P[n],e.shiftKey))}else this.visible=!0},reset:function(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel:function(e){var t=this;this.focusedTime.active=!0;var n=e.match(/left|right/),r=e.match(/up|down/),o=(0,w.findComponentsDownward)(this,"TimeSpinner"),l=(o[0].showSeconds?3:2)*o.length,d=function(r){return(0,h.default)(this,t),(r+(n?"left"===e?-1:1:0)+l)%l}.bind(this)(this.focusedTime.column),f=l/o.length,v=Math.floor(d/f),col=d%f;if(n){var time=this.internalValue.map(I);this.focusedTime=(0,c.default)({},this.focusedTime,{column:d,time:time}),o.forEach(function(e,i){(0,h.default)(this,t),i===v?e.updateFocusedTime(col,time[v]):e.updateFocusedTime(-1,e.focusedTime)}.bind(this))}if(r){var m="up"===e?1:-1,y=o[v][String(["hours","minutes","seconds"][col])+"List"],x=y.findIndex(function(e){var text=e.text;return(0,h.default)(this,t),this.focusedTime.time[v][col]===text}.bind(this)),_=y[(x+m+y.length)%y.length].text,k=this.focusedTime.time.map(function(time,i){return(0,h.default)(this,t),i!==v||(time[col]=_),time}.bind(this));this.focusedTime=(0,c.default)({},this.focusedTime,{time:k}),o.forEach(function(e,i){(0,h.default)(this,t),i===v?e.updateFocusedTime(col,k[i]):e.updateFocusedTime(-1,e.focusedTime)}.bind(this))}},navigateDatePanel:function(e,t){var n=(0,w.findComponentsDownward)(this,"TimeSpinner");if(n.length>0)this.navigateTimePanel(e,t,n);else if(t){"year"===this.type?this.focusedDate=new Date(this.focusedDate.getFullYear()+A(e,0,10),this.focusedDate.getMonth(),this.focusedDate.getDate()):this.focusedDate=new Date(this.focusedDate.getFullYear()+A(e,0,1),this.focusedDate.getMonth()+A(e,1,0),this.focusedDate.getDate());var r=e.match(/left|down/)?"prev":"next",o=e.match(/up|down/)?"-double":"",button=this.$refs.drop.$el.querySelector(".ivu-date-picker-"+r+"-btn-arrow"+o);button&&O(button)}else{var l=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,c=new Date(l);if(this.type.match(/^date/)){var d=(0,k.getDayCountOfMonth)(l.getFullYear(),l.getMonth()),f=l.getDate(),h=c.getDate()+A(e,1,7);h<1?e.match(/left|right/)?(c.setMonth(c.getMonth()+1),c.setDate(h)):c.setDate(f+7*Math.floor((d-f)/7)):h>d?e.match(/left|right/)?(c.setMonth(c.getMonth()-1),c.setDate(h)):c.setDate(f%7):c.setDate(h)}this.type.match(/^month/)&&c.setMonth(c.getMonth()+A(e,1,3)),this.type.match(/^year/)&&c.setFullYear(c.getFullYear()+A(e,1,3)),this.focusedDate=c}},handleInputChange:function(e){var t=this,n=this.type.includes("range")||this.multiple,r=this.visualValue,o=e.target.value,l=this.parseDate(o),c=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,d=n?l:l[0],f=c&&c(d),v=l.reduce(function(e,n){return(0,h.default)(this,t),e&&n instanceof Date}.bind(this),!0);o!==r&&!f&&v?(this.emitChange(this.type),this.internalValue=l):this.forceInputRerender++},handleInputMouseenter:function(){this.readonly||this.itemDisabled||this.visualValue&&this.clearable&&(this.showClose=!0)},handleInputMouseleave:function(){this.showClose=!1},handleIconClick:function(e){this.showClose?(e&&e.stopPropagation(),this.handleClear()):this.itemDisabled||this.handleFocus()},handleClear:function(){var e=this;this.visible=!1,this.internalValue=this.internalValue.map(function(){return(0,h.default)(this,e),null}.bind(this)),this.$emit("on-clear"),this.dispatch("FormItem","on-form-change",""),this.emitChange(this.type),this.reset(),setTimeout(function(){return(0,h.default)(this,e),this.onSelectionModeChange(this.type)}.bind(this),500)},emitChange:function(e){var t=this;this.$nextTick(function(){(0,h.default)(this,t),this.$emit("on-change",this.publicStringValue,e),this.dispatch("FormItem","on-form-change",this.publicStringValue)}.bind(this))},parseDate:function(e){var t=this,n=this.type.includes("range"),r=this.type,o=(k.TYPE_VALUE_RESOLVER_MAP[r]||k.TYPE_VALUE_RESOLVER_MAP.default).parser,c=this.format||k.DEFAULT_FORMATS[r],d=k.TYPE_VALUE_RESOLVER_MAP.multiple.parser;if(!e||"time"!==r||e instanceof Date)if(this.multiple&&e)e=d(e,c,this.separator);else if(n)if(e)if("string"==typeof e)e=o(e,c,this.separator);else if("timerange"===r)e=o(e,c,this.separator).map(function(e){return(0,h.default)(this,t),e||""}.bind(this));else{var f=e,v=(0,l.default)(f,2),m=v[0],y=v[1];m instanceof Date&&y instanceof Date?e=e.map(function(e){return(0,h.default)(this,t),new Date(e)}.bind(this)):"string"==typeof m&&"string"==typeof y?e=o(e.join(this.separator),c,this.separator):m&&y||(e=[null,null])}else e=[null,null];else"string"==typeof e&&0!==r.indexOf("time")&&(e=o(e,c)||null);else e=o(e,c,this.separator);return n||this.multiple?e||[]:[e]},formatDate:function(e){var t=k.DEFAULT_FORMATS[this.type];return this.multiple?(0,k.TYPE_VALUE_RESOLVER_MAP.multiple.formatter)(e,this.format||t,this.separator):(0,(k.TYPE_VALUE_RESOLVER_MAP[this.type]||k.TYPE_VALUE_RESOLVER_MAP.default).formatter)(e,this.format||t,this.separator)},onPick:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2];if(this.multiple){var o=e.getTime(),l=this.internalValue.findIndex(function(e){return(0,h.default)(this,t),e&&e.getTime()===o}.bind(this)),f=[].concat((0,d.default)(this.internalValue),[e]).filter(Boolean),v=f.map(function(e){return(0,h.default)(this,t),e.getTime()}.bind(this)).filter(function(e,i,n){return(0,h.default)(this,t),n.indexOf(e)===i&&i!==l}.bind(this));this.internalValue=v.map(function(e){return(0,h.default)(this,t),new Date(e)}.bind(this))}else e=this.parseDate(e),this.internalValue=Array.isArray(e)?e:[e];this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime=(0,c.default)({},this.focusedTime,{time:this.internalValue.map(I)}),this.isConfirm||this.onSelectionModeChange(this.type),this.isConfirm||(this.visible=n),this.emitChange(r)},onPickSuccess:function(){this.visible=!1,this.$emit("on-ok"),this.focus(),this.reset()},focus:function(){this.$refs.input&&this.$refs.input.focus()},updatePopper:function(){this.$refs.drop.update()}},watch:{visible:function(e){!1===e&&this.$refs.drop.destroy(),this.$refs.drop.update(),this.$emit("on-open-change",e)},value:function(e){this.internalValue=this.parseDate(e)},open:function(e){this.visible=!0===e},type:function(e){this.onSelectionModeChange(e)},publicVModelValue:function(e,t){((0,o.default)(e)!==(0,o.default)(t)||(void 0===e?"undefined":(0,r.default)(e))!==(void 0===t?"undefined":(0,r.default)(t)))&&this.$emit("input",e)}},mounted:function(){var e=this,t=this.value,n=this.publicVModelValue;(void 0===t?"undefined":(0,r.default)(t))===(void 0===n?"undefined":(0,r.default)(n))&&(0,o.default)(t)===(0,o.default)(n)||this.$emit("input",this.publicVModelValue),null!==this.open&&(this.visible=this.open),this.$on("focus-input",function(){return(0,h.default)(this,e),this.focus()}.bind(this)),this.$on("update-popper",function(){return(0,h.default)(this,e),this.updatePopper()}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(n(1)),o=k(n(2)),l=k(n(8)),c=k(n(160)),d=k(n(162)),f=k(n(164)),h=k(n(166)),v=k(n(59)),m=k(n(171)),y=k(n(60)),x=k(n(173)),_=k(n(6)),w=n(20);function k(e){return e&&e.__esModule?e:{default:e}}t.default={name:"DatePickerPanel",mixins:[y.default,_.default,x.default],components:{Icon:l.default,DateTable:c.default,YearTable:d.default,MonthTable:f.default,TimePicker:h.default,Confirm:v.default,datePanelLabel:m.default},props:{multiple:{type:Boolean,default:!1}},data:function(){var e=this.selectionMode,t=this.value.slice().sort();return{prefixCls:"ivu-picker-panel",datePrefixCls:"ivu-date-picker",currentView:e||"date",pickerTable:this.getTableType(e),dates:t,panelDate:this.startDate||t[0]||new Date}},computed:{classes:function(){return["ivu-picker-panel-body-wrapper",(0,o.default)({},"ivu-picker-panel-with-sidebar",this.shortcuts.length)]},panelPickerHandlers:function(){return this.pickerTable===String(this.currentView)+"-table"?this.handlePick:this.handlePreSelection},datePanelLabel:function(){var e=this,t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),o=this.panelDate,l=(0,w.formatDateLabels)(t,n,o),c=l.labels,d=l.separator,f=function(t){return(0,r.default)(this,e),function(){return(0,r.default)(this,e),this.pickerTable=this.getTableType(t)}.bind(this)}.bind(this);return{separator:d,labels:c.map(function(t){return(0,r.default)(this,e),t.handler=f(t.type),t}.bind(this))}},timeDisabled:function(){return!this.dates[0]}},watch:{value:function(e){this.dates=e;var t=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=t||new Date},currentView:function(e){var t=this;this.$emit("on-selection-mode-change",e),"time"===this.currentView&&this.$nextTick(function(){(0,r.default)(this,t),this.$refs.timePicker.$refs.timeSpinner.updateScroll()}.bind(this))},selectionMode:function(e){this.currentView=e,this.pickerTable=this.getTableType(e)},focusedDate:function(e){var t=e.getFullYear()!==this.panelDate.getFullYear(),n=t||e.getMonth()!==this.panelDate.getMonth();(t||n)&&(this.multiple||(this.panelDate=e))}},methods:{reset:function(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear:function(e){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*e,0,1):this.panelDate=(0,w.siblingMonth)(this.panelDate,12*e)},getTableType:function(e){return e.match(/^time/)?"time-picker":String(e)+"-table"},changeMonth:function(e){this.panelDate=(0,w.siblingMonth)(this.panelDate,e)},handlePreSelection:function(e){this.panelDate=e,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick:function(e,t){var n=this.selectionMode,r=this.panelDate;e="year"===n?new Date(e.getFullYear(),0,1):"month"===n?new Date(r.getFullYear(),e.getMonth(),1):new Date(e),this.dates=[e],this.$emit("on-pick",e,!1,t||n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(161),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(414),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(32)),o=y(n(26)),l=y(n(1)),c=y(n(2)),d=n(20),f=y(n(6)),h=y(n(410)),v=y(n(85)),m=y(n(86));function y(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[f.default,v.default],props:{showWeekNumbers:{type:Boolean,default:!1}},data:function(){return{prefixCls:m.default}},computed:{classes:function(){return[""+String(m.default),(0,c.default)({},String(m.default)+"-show-week-numbers",this.showWeekNumbers)]},calendar:function(){var e=Number(this.t("i.datepicker.weekStartDay"));return new h.default.Generator({onlyDays:!this.showWeekNumbers,weekStart:e})},headerDays:function(){var e=this,t=Number(this.t("i.datepicker.weekStartDay")),n=["sun","mon","tue","wed","thu","fri","sat"].map(function(t){return(0,l.default)(this,e),this.t("i.datepicker.weeks."+t)}.bind(this)),r=n.splice(t,7-t).concat(n.splice(0,t));return this.showWeekNumbers?[""].concat(r):r},cells:function(){var e=this,t=this.tableDate.getFullYear(),n=this.tableDate.getMonth(),c=(0,d.clearHours)(new Date),f=this.dates.filter(Boolean).map(d.clearHours),h=this.dates.map(d.clearHours),v=(0,o.default)(h,2),m=v[0],y=v[1],x=this.rangeState.from&&(0,d.clearHours)(this.rangeState.from),_=this.rangeState.to&&(0,d.clearHours)(this.rangeState.to),w="range"===this.selectionMode,k="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(t,n,function(t){(0,l.default)(this,e),t.date instanceof Date&&t.date.setTime(t.date.getTime()+6e4*t.date.getTimezoneOffset()+288e5);var time=t.date&&(0,d.clearHours)(t.date),o=t.date&&n===t.date.getMonth();return(0,r.default)({},t,{type:time===c?"today":t.type,selected:o&&f.includes(time),disabled:t.date&&k&&k(new Date(time)),range:o&&w&&(0,d.isInRange)(time,x,_),start:o&&w&&time===m,end:o&&w&&time===y})}.bind(this)).cells.slice(this.showWeekNumbers?8:0)}},methods:{getCellCls:function(e){var t;return[String(m.default)+"-cell",(t={},(0,c.default)(t,String(m.default)+"-cell-selected",e.selected||e.start||e.end),(0,c.default)(t,String(m.default)+"-cell-disabled",e.disabled),(0,c.default)(t,String(m.default)+"-cell-today","today"===e.type),(0,c.default)(t,String(m.default)+"-cell-prev-month","prevMonth"===e.type),(0,c.default)(t,String(m.default)+"-cell-next-month","nextMonth"===e.type),(0,c.default)(t,String(m.default)+"-cell-week-label","weekLabel"===e.type),(0,c.default)(t,String(m.default)+"-cell-range",e.range&&!e.start&&!e.end),(0,c.default)(t,String(m.default)+"-focused",(0,d.clearHours)(e.date)===(0,d.clearHours)(this.focusedDate)),t)]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(163),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(415),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(2)),o=h(n(1)),l=n(20),c=n(3),d=h(n(85)),f=h(n(86));function h(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[d.default],props:{},computed:{classes:function(){return[""+String(f.default),String(f.default)+"-year"]},startYear:function(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells:function(){for(var e=this,t=[],n={text:"",selected:!1,disabled:!1},r=this.dates.filter(Boolean).map(function(t){return(0,o.default)(this,e),(0,l.clearHours)(new Date(t.getFullYear(),0,1))}.bind(this)),d=(0,l.clearHours)(new Date(this.focusedDate.getFullYear(),0,1)),i=0;i<10;i++){var f=(0,c.deepCopy)(n);f.date=new Date(this.startYear+i,0,1),f.disabled="function"==typeof this.disabledDate&&this.disabledDate(f.date)&&"year"===this.selectionMode;var h=(0,l.clearHours)(f.date);f.selected=r.includes(h),f.focused=h===d,t.push(f)}return t}},methods:{getCellCls:function(e){var t;return[String(f.default)+"-cell",(t={},(0,r.default)(t,String(f.default)+"-cell-selected",e.selected),(0,r.default)(t,String(f.default)+"-cell-disabled",e.disabled),(0,r.default)(t,String(f.default)+"-cell-focused",e.focused),(0,r.default)(t,String(f.default)+"-cell-range",e.range&&!e.start&&!e.end),t)]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(165),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(416),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(2)),o=v(n(1)),l=n(20),c=n(3),d=v(n(6)),f=v(n(85)),h=v(n(86));function v(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[d.default,f.default],props:{},computed:{classes:function(){return[""+String(h.default),String(h.default)+"-month"]},cells:function(){for(var e=this,t=[],n={text:"",selected:!1,disabled:!1},r=this.tableDate.getFullYear(),d=this.dates.filter(Boolean).map(function(t){return(0,o.default)(this,e),(0,l.clearHours)(new Date(t.getFullYear(),t.getMonth(),1))}.bind(this)),f=(0,l.clearHours)(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1)),i=0;i<12;i++){var h=(0,c.deepCopy)(n);h.date=new Date(r,i,1),h.text=this.tCell(i+1);var v=(0,l.clearHours)(h.date);h.disabled="function"==typeof this.disabledDate&&this.disabledDate(h.date)&&"month"===this.selectionMode,h.selected=d.includes(v),h.focused=v===f,t.push(h)}return t}},methods:{getCellCls:function(e){var t;return[String(h.default)+"-cell",(t={},(0,r.default)(t,String(h.default)+"-cell-selected",e.selected),(0,r.default)(t,String(h.default)+"-cell-disabled",e.disabled),(0,r.default)(t,String(h.default)+"-cell-focused",e.focused),(0,r.default)(t,String(h.default)+"-cell-range",e.range&&!e.start&&!e.end),t)]},tCell:function(e){return this.t("i.datepicker.months.m"+String(e))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(419),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(21)),o=y(n(17)),l=y(n(1)),c=y(n(168)),d=y(n(59)),f=y(n(58)),h=y(n(60)),v=y(n(6)),m=n(20);function y(e){return e&&e.__esModule?e:{default:e}}var x=function(e){return(0,l.default)(void 0,void 0),e[0].toUpperCase()+e.slice(1)}.bind(void 0),_=function(e,t,n,r){(0,l.default)(void 0,void 0);var o=new Date(e.getTime());return o.setHours(t),o.setMinutes(n),o.setSeconds(r),o}.bind(void 0),w=function(e,i,t){return(0,l.default)(void 0,void 0),t.indexOf(e)===i}.bind(void 0),k=function(){return(0,l.default)(void 0,void 0),!1}.bind(void 0);t.default={name:"TimePickerPanel",mixins:[h.default,v.default,f.default],components:{TimeSpinner:c.default,Confirm:d.default},props:{disabledDate:{type:Function,default:k},steps:{type:Array,default:function(){return(0,l.default)(void 0,void 0),[]}.bind(void 0)},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data:function(){return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",date:this.value[0]||(0,m.initTimeDate)(),showDate:!1}},computed:{showSeconds:function(){return!!(this.format||"").match(/ss/)},visibleDate:function(){var e=this.date,t=e.getMonth()+1,n=this.t("i.datepicker.year"),r=this.t("i.datepicker.month"+String(t));return""+String(e.getFullYear())+String(n)+" "+String(r)},timeSlots:function(){var e=this;return this.value[0]?["getHours","getMinutes","getSeconds"].map(function(slot){return(0,l.default)(this,e),this.date[slot]()}.bind(this)):[]},disabledHMS:function(){var e=this,t=["disabledHours","disabledMinutes","disabledSeconds"];if(this.disabledDate!==k&&this.value[0]){var n=[24,60,60],r=["Hours","Minutes","Seconds"].map(function(t){return(0,l.default)(this,e),this["disabled"+String(t)]}.bind(this)).map(function(t,r){(0,l.default)(this,e);for(var slot=n[r],c=t,d=function(i){var t=e.timeSlots.map(function(slot,t){return(0,l.default)(this,e),t===r?i:slot}.bind(e)),n=_.apply(void 0,[e.date].concat((0,o.default)(t)));e.disabledDate(n,!0)&&c.push(i)},i=0;i<slot;i+=this.steps[r]||1)d(i);return c.filter(w)}.bind(this));return t.reduce(function(t,n,i){return(0,l.default)(this,e),t[n]=r[i],t}.bind(this),{})}return t.reduce(function(t,n){return(0,l.default)(this,e),t[n]=this[n],t}.bind(this),{})}},watch:{value:function(e){var t=e[0]||(0,m.initTimeDate)();t=new Date(t),this.date=t}},methods:{handleChange:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=new Date(this.date);(0,r.default)(e).forEach(function(n){return(0,l.default)(this,t),o["set"+String(x(n))](e[n])}.bind(this)),n&&this.$emit("on-pick",o,"time")}},mounted:function(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(169),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(417),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(21)),o=h(n(32)),l=h(n(2)),c=h(n(1)),d=h(n(58)),f=n(3);function h(e){return e&&e.__esModule?e:{default:e}}var v="ivu-time-picker-cells",m=["hours","minutes","seconds"];t.default={name:"TimeSpinner",mixins:[d.default],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:function(){return(0,c.default)(void 0,void 0),[]}.bind(void 0)}},data:function(){var e=this;return{spinerSteps:[1,1,1].map(function(t,i){return(0,c.default)(this,e),Math.abs(this.steps[i])||t}.bind(this)),prefixCls:v,compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{classes:function(){return[""+v,(0,l.default)({},v+"-with-seconds",this.showSeconds)]},hoursList:function(){for(var e=[],t=this.spinerSteps[0],n=0===this.focusedColumn&&this.focusedTime[0],r={text:0,selected:!1,disabled:!1,hide:!1},i=0;i<24;i+=t){var o=(0,f.deepCopy)(r);o.text=i,o.focused=i===n,this.disabledHours.length&&this.disabledHours.indexOf(i)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.hours===i&&(o.selected=!0),e.push(o)}return e},minutesList:function(){for(var e=[],t=this.spinerSteps[1],n=1===this.focusedColumn&&this.focusedTime[1],r={text:0,selected:!1,disabled:!1,hide:!1},i=0;i<60;i+=t){var o=(0,f.deepCopy)(r);o.text=i,o.focused=i===n,this.disabledMinutes.length&&this.disabledMinutes.indexOf(i)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.minutes===i&&(o.selected=!0),e.push(o)}return e},secondsList:function(){for(var e=[],t=this.spinerSteps[2],n=2===this.focusedColumn&&this.focusedTime[2],r={text:0,selected:!1,disabled:!1,hide:!1},i=0;i<60;i+=t){var o=(0,f.deepCopy)(r);o.text=i,o.focused=i===n,this.disabledSeconds.length&&this.disabledSeconds.indexOf(i)>-1&&(o.disabled=!0,this.hideDisabledOptions&&(o.hide=!0)),this.seconds===i&&(o.selected=!0),e.push(o)}return e}},methods:{getCellCls:function(e){var t;return[v+"-cell",(t={},(0,l.default)(t,v+"-cell-selected",e.selected),(0,l.default)(t,v+"-cell-focused",e.focused),(0,l.default)(t,v+"-cell-disabled",e.disabled),t)]},chooseValue:function(e){var t=this,n=m.reduce(function(n,r,i){(0,c.default)(this,t);var d=e[i];return this[r]===d?n:(0,o.default)({},n,(0,l.default)({},r,d))}.bind(this),{});(0,r.default)(n).length>0&&this.emitChange(n)},handleClick:function(e,t){if(!t.disabled){var data=(0,l.default)({},e,t.text);this.emitChange(data)}},emitChange:function(e){this.$emit("on-change",e),this.$emit("on-pick-click")},scroll:function(e,t){var n=this.$refs[e].scrollTop,r=24*this.getScrollIndex(e,t);(0,f.scrollTop)(this.$refs[e],n,r,500)},getScrollIndex:function(e,t){var n=this,r=(0,f.firstUpperCase)(e),o=this["disabled"+String(r)];if(o.length&&this.hideDisabledOptions){var l=0;o.forEach(function(e){return(0,c.default)(this,n),e<=t?l++:""}.bind(this)),t-=l}return t},updateScroll:function(){var e=this;this.$nextTick(function(){(0,c.default)(this,e),m.forEach(function(t){(0,c.default)(this,e),this.$refs[t].scrollTop=24*this[String(t)+"List"].findIndex(function(n){return(0,c.default)(this,e),n.text==this[t]}.bind(this))}.bind(this))}.bind(this))},formatTime:function(text){return text<10?"0"+text:text},updateFocusedTime:function(col,time){this.focusedColumn=col,this.focusedTime=time.slice()}},watch:{hours:function(e){var t=this;this.compiled&&this.scroll("hours",this.hoursList.findIndex(function(n){return(0,c.default)(this,t),n.text==e}.bind(this)))},minutes:function(e){var t=this;this.compiled&&this.scroll("minutes",this.minutesList.findIndex(function(n){return(0,c.default)(this,t),n.text==e}.bind(this)))},seconds:function(e){var t=this;this.compiled&&this.scroll("seconds",this.secondsList.findIndex(function(n){return(0,c.default)(this,t),n.text==e}.bind(this)))},focusedTime:function(e,t){var n=this;m.forEach(function(r,i){if((0,c.default)(this,n),e[i]!==t[i]&&void 0!==e[i]){var o=this[String(r)+"List"].findIndex(function(t){return(0,c.default)(this,n),t.text===e[i]}.bind(this));this.scroll(r,o)}}.bind(this))}},mounted:function(){var e=this;this.$nextTick(function(){return(0,c.default)(this,e),this.compiled=!0}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(17)),o=f(n(1)),l=f(n(28)),c=f(n(6)),d=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[c.default,d.default],components:{iButton:l.default},props:{showTime:!1,isTime:!1,timeDisabled:!1},data:function(){return{prefixCls:"ivu-picker"}},computed:{timeClasses:function(){return"ivu-picker-confirm-time"},labels:function(){var e=this,t=[this.isTime?"selectDate":"selectTime","clear","ok"];return["time","clear","ok"].reduce(function(n,r,i){return(0,o.default)(this,e),n[r]=this.t("i.datepicker."+t[i]),n}.bind(this),{})}},methods:{handleClear:function(){this.$emit("on-pick-clear")},handleSuccess:function(){this.$emit("on-pick-success")},handleToggleTime:function(){this.timeDisabled||(this.$emit("on-pick-toggle-time"),this.dispatch("CalendarPicker","focus-input"),this.dispatch("CalendarPicker","update-popper"))},handleTab:function(e){var t=[].concat((0,r.default)(this.$el.children))[e.shiftKey?"shift":"pop"]();document.activeElement===t&&(e.preventDefault(),e.stopPropagation(),this.dispatch("CalendarPicker","focus-input"))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(172),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(420),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{datePanelLabel:Object,currentView:String,datePrefixCls:String}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d=n(20);t.default={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,validator:function(e){return(0,c.oneOf)(e,["year","month","date","time"])},default:"date"},shortcuts:{type:Array,default:function(){return(0,l.default)(void 0,void 0),[]}.bind(void 0)},disabledDate:{type:Function,default:function(){return(0,l.default)(void 0,void 0),!1}.bind(void 0)},value:{type:Array,default:function(){return(0,l.default)(void 0,void 0),[(0,d.initTimeDate)(),(0,d.initTimeDate)()]}.bind(void 0)},timePickerOptions:{default:function(){return(0,l.default)(void 0,void 0),{}}.bind(void 0),type:Object},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0}},computed:{isTime:function(){return"time"===this.currentView}},methods:{handleToggleTime:function(){this.currentView="time"===this.currentView?"date":"time"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(2)),o=S(n(26)),l=S(n(1)),c=S(n(8)),d=S(n(160)),f=S(n(162)),h=S(n(164)),v=S(n(175)),m=S(n(59)),y=n(20),x=S(n(171)),_=S(n(60)),w=S(n(173)),k=S(n(6));function S(e){return e&&e.__esModule?e:{default:e}}var C="ivu-picker-panel",T=function(a,b){return(0,l.default)(void 0,void 0),a&&b?a.getTime()-b.getTime():0}.bind(void 0);t.default={name:"RangeDatePickerPanel",mixins:[_.default,k.default,w.default],components:{Icon:c.default,DateTable:d.default,YearTable:f.default,MonthTable:h.default,TimePicker:v.default,Confirm:m.default,datePanelLabel:x.default},props:{splitPanels:{type:Boolean,default:!1}},data:function(){var e=this,t=this.value.map(function(t){return(0,l.default)(this,e),t||(0,y.initTimeDate)()}.bind(this)),n=(0,o.default)(t,2),r=n[0],c=n[1],d=this.startDate?this.startDate:r;return{prefixCls:C,datePrefixCls:"ivu-date-picker",dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:r&&!c},currentView:this.selectionMode||"range",leftPickerTable:String(this.selectionMode)+"-table",rightPickerTable:String(this.selectionMode)+"-table",leftPanelDate:d,rightPanelDate:new Date(d.getFullYear(),d.getMonth()+1,1)}},computed:{classes:function(){var e;return[C+"-body-wrapper","ivu-date-picker-with-range",(e={},(0,r.default)(e,C+"-with-sidebar",this.shortcuts.length),(0,r.default)(e,"ivu-date-picker-with-week-numbers",this.showWeekNumbers),e)]},panelBodyClasses:function(){var e;return[C+"-body",(e={},(0,r.default)(e,C+"-body-time",this.showTime),(0,r.default)(e,C+"-body-date",!this.showTime),e)]},leftDatePanelLabel:function(){return this.panelLabelConfig("left")},rightDatePanelLabel:function(){return this.panelLabelConfig("right")},leftDatePanelView:function(){return this.leftPickerTable.split("-").shift()},rightDatePanelView:function(){return this.rightPickerTable.split("-").shift()},timeDisabled:function(){return!(this.dates[0]&&this.dates[1])},preSelecting:function(){var e=String(this.currentView)+"-table";return{left:this.leftPickerTable!==e,right:this.rightPickerTable!==e}},panelPickerHandlers:function(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value:function(e){var t=e[0]?(0,y.toDate)(e[0]):null,n=e[1]?(0,y.toDate)(e[1]):null;this.dates=[t,n].sort(T),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView:function(e){var t=this.leftPanelDate.getMonth(),n=this.rightPanelDate.getMonth(),r=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===e&&r&&t===n&&this.changePanelDate("right","Month",1),"month"===e&&r&&this.changePanelDate("right","FullYear",1),"year"===e&&r&&this.changePanelDate("right","FullYear",10)},selectionMode:function(e){this.currentView=e||"range"},focusedDate:function(e){this.setPanelDates(e||new Date)}},methods:{reset:function(){this.currentView=this.selectionMode,this.leftPickerTable=String(this.currentView)+"-table",this.rightPickerTable=String(this.currentView)+"-table"},setPanelDates:function(e){this.leftPanelDate=e;var t=new Date(e.getFullYear(),e.getMonth()+1,1),n=this.dates[1]?this.dates[1].getTime():this.dates[1];this.rightPanelDate=this.splitPanels?new Date(Math.max(n,t.getTime())):t},panelLabelConfig:function(e){var t=this,n=this.t("i.locale"),r=this.t("i.datepicker.datePanelLabel"),o=function(n){(0,l.default)(this,t);var r="month"==n?this.showMonthPicker:this.showYearPicker;return function(){return(0,l.default)(this,t),r(e)}.bind(this)}.bind(this),c=this[String(e)+"PanelDate"],d=(0,y.formatDateLabels)(n,r,c),f=d.labels;return{separator:d.separator,labels:f.map(function(e){return(0,l.default)(this,t),e.handler=o(e.type),e}.bind(this))}},prevYear:function(e){var t="year"===this.currentView?-10:-1;this.changePanelDate(e,"FullYear",t)},nextYear:function(e){var t="year"===this.currentView?10:1;this.changePanelDate(e,"FullYear",t)},prevMonth:function(e){this.changePanelDate(e,"Month",-1)},nextMonth:function(e){this.changePanelDate(e,"Month",1)},changePanelDate:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=new Date(this[String(e)+"PanelDate"]);if(o["set"+String(t)](o["get"+String(t)]()+n),this[String(e)+"PanelDate"]=o,r)if(this.splitPanels){var l="left"===e?"right":"left";"left"===e&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(l,t,1),"right"===e&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(l,t,-1)}else{var c="left"===e?"right":"left",d=this[c+"PanelDate"],f=new Date(d);if("Month"===t){var h=new Date(f.getFullYear(),f.getMonth()+n+1,0).getDate();f.setDate(Math.min(h,f.getDate()))}f["set"+String(t)](f["get"+String(t)]()+n),this[c+"PanelDate"]=f}},showYearPicker:function(e){this[String(e)+"PickerTable"]="year-table"},showMonthPicker:function(e){this[String(e)+"PickerTable"]="month-table"},handlePreSelection:function(e,t){this[String(e)+"PanelDate"]=t;var n=this[String(e)+"PickerTable"];if(this[String(e)+"PickerTable"]="year-table"===n?"month-table":String(this.currentView)+"-table",!this.splitPanels){var r="left"===e?"right":"left";this[r+"PanelDate"]=t;var o="left"===r?-1:1;this.changePanelDate(r,"Month",o,!1)}},handleRangePick:function(e,t){if(this.rangeState.selecting||"time"===this.currentView){if("time"===this.currentView)this.dates=e;else{var n=[this.rangeState.from,e].sort(T),r=(0,o.default)(n,2),l=r[0],c=r[1];this.dates=[l,c],this.rangeState={from:l,to:c,selecting:!1}}this.handleConfirm(!1,t||"date")}else this.rangeState={from:e,to:null,selecting:!0}},handleChangeRange:function(e){this.rangeState.to=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(423),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(21)),o=x(n(2)),l=x(n(26)),c=x(n(1)),d=x(n(168)),f=x(n(59)),h=x(n(58)),v=x(n(60)),m=x(n(6)),y=n(20);function x(e){return e&&e.__esModule?e:{default:e}}var _=function(e){return(0,c.default)(void 0,void 0),e[0].toUpperCase()+e.slice(1)}.bind(void 0);t.default={name:"RangeTimePickerPanel",mixins:[v.default,m.default,h.default],components:{TimeSpinner:d.default,Confirm:f.default},props:{steps:{type:Array,default:function(){return(0,c.default)(void 0,void 0),[]}.bind(void 0)},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},data:function(){var e=this.value.slice(),t=(0,l.default)(e,2),n=t[0],r=t[1];return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",showDate:!1,dateStart:n||(0,y.initTimeDate)(),dateEnd:r||(0,y.initTimeDate)()}},computed:{classes:function(){return["ivu-picker-panel-body-wrapper","ivu-time-picker-with-range",(0,o.default)({},"ivu-time-picker-with-seconds",this.showSeconds)]},showSeconds:function(){return!!(this.format||"").match(/ss/)},leftDatePanelLabel:function(){return this.panelLabelConfig(this.date)},rightDatePanelLabel:function(){return this.panelLabelConfig(this.dateEnd)}},watch:{value:function(e){var t=e.slice(),n=(0,l.default)(t,2),r=n[0],o=n[1];this.dateStart=r||(0,y.initTimeDate)(),this.dateEnd=o||(0,y.initTimeDate)()}},methods:{panelLabelConfig:function(e){var t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),r=(0,y.formatDateLabels)(t,n,e||(0,y.initTimeDate)()),o=r.labels,l=r.separator;return[o[0].label,l,o[1].label].join("")},handleChange:function(e,t){var n=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=new Date(this.dateStart),d=new Date(this.dateEnd);(0,r.default)(e).forEach(function(t){(0,c.default)(this,n),l["set"+String(_(t))](e[t])}.bind(this)),(0,r.default)(t).forEach(function(e){(0,c.default)(this,n),d["set"+String(_(e))](t[e])}.bind(this)),d<l&&(d=l),o&&this.$emit("on-pick",[l,d],"time")},handleStartChange:function(e){this.handleChange(e,{})},handleEndChange:function(e){this.handleChange({},e)},updateScroll:function(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}},mounted:function(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d="ivu-divider";t.default={name:"Divider",props:{type:{type:String,default:"horizontal",validator:function(e){return(0,c.oneOf)(e,["horizontal","vertical"])}},orientation:{type:String,default:"center",validator:function(e){return(0,c.oneOf)(e,["left","right","center"])}},dashed:{type:Boolean,default:!1},size:{validator:function(e){return(0,c.oneOf)(e,["small","default"])},default:"default"}},computed:{hasSlot:function(){return!!this.$slots.default},classes:function(){var e;return[""+d,d+"-"+String(this.type),d+"-"+String(this.size),(e={},(0,l.default)(e,d+"-with-text",this.hasSlot&&"center"===this.orientation),(0,l.default)(e,d+"-with-text-"+String(this.orientation),this.hasSlot),(0,l.default)(e,d+"-dashed",!!this.dashed),e)]},slotClasses:function(){return[d+"-inner-text"]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(1)),o=y(n(15)),l=y(n(2)),c=y(n(19)),d=n(3),f=y(n(23)),h=y(n(4)),v=y(n(87)),m=n(12);function y(e){return e&&e.__esModule?e:{default:e}}var x="ivu-drawer";t.default={name:"Drawer",mixins:[h.default,v.default],components:{Icon:c.default},directives:{TransferDom:f.default},props:{value:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},placement:{validator:function(e){return(0,d.oneOf)(e,["left","right"])},default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},data:function(){return{prefixCls:x,visible:this.value,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,wrapperWidth:this.width,wrapperLeft:0,minWidth:256}},computed:{wrapClasses:function(){var e;return[x+"-wrap",(e={},(0,l.default)(e,x+"-hidden",!this.wrapShow),(0,l.default)(e,""+String(this.className),!!this.className),(0,l.default)(e,x+"-no-mask",!this.mask),(0,l.default)(e,x+"-wrap-inner",this.inner),(0,l.default)(e,x+"-wrap-dragging",this.canMove),e)]},mainStyles:function(){var style={},e=parseInt(this.dragWidth),t={width:e<=100?String(e)+"%":String(e)+"px"};return(0,o.default)(style,t),style},contentClasses:function(){return[x+"-content",(0,l.default)({},x+"-content-no-mask",!this.mask)]},classes:function(){var e;return[""+x,x+"-"+String(this.placement),(e={},(0,l.default)(e,x+"-no-header",!this.showHead),(0,l.default)(e,x+"-inner",this.inner),e)]},maskClasses:function(){return[x+"-mask",(0,l.default)({},x+"-mask-inner",this.inner)]}},methods:{close:function(){var e=this;if(!this.beforeClose)return this.handleClose();var t=this.beforeClose();t&&t.then?t.then(function(){(0,r.default)(this,e),this.handleClose()}.bind(this)):this.handleClose()},handleClose:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-close")},handleMask:function(){this.maskClosable&&this.mask&&this.close()},handleWrapClick:function(e){var t=e.target.getAttribute("class");t&&t.indexOf(x+"-wrap")>-1&&this.handleMask()},handleMousemove:function(e){if(this.canMove&&this.draggable){this.handleSetWrapperWidth();var t=e.pageX-this.wrapperLeft,n="right"===this.placement?this.wrapperWidth-t:t;n=Math.max(n,parseFloat(this.minWidth)),e.atMin=n===parseFloat(this.minWidth),n<=100&&(n=n/this.wrapperWidth*100),this.dragWidth=n,this.$emit("on-resize-width",parseInt(this.dragWidth))}},handleSetWrapperWidth:function(){var e=this.$el.getBoundingClientRect(),t=e.width,n=e.left;this.wrapperWidth=t,this.wrapperLeft=n},handleMouseup:function(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown:function(){this.canMove=!0,window.getSelection().removeAllRanges()}},mounted:function(){this.visible&&(this.wrapShow=!0);var e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,(0,m.on)(document,"mousemove",this.handleMousemove),(0,m.on)(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth()},beforeDestroy:function(){(0,m.off)(document,"mousemove",this.handleMousemove),(0,m.off)(document,"mouseup",this.handleMouseup),this.removeScrollEffect()},watch:{value:function(e){this.visible=e},visible:function(e){var t=this;!1===e?this.timer=setTimeout(function(){(0,r.default)(this,t),this.wrapShow=!1;var e=(0,d.findBrothersComponents)(this,"Drawer")||[],n=(0,d.findComponentsUpward)(this,"Drawer")||[];[].concat(e).concat(n).some(function(e){return(0,r.default)(this,t),e.visible&&!e.scrollable}.bind(this))||this.removeScrollEffect()}.bind(this),300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e)},scrollable:function(e){e?this.removeScrollEffect():this.addScrollEffect()},title:function(e){void 0===this.$slots.header&&(this.showHead=!!e)},width:function(e){this.dragWidth=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(2)),l=h(n(36)),c=h(n(82)),d=h(n(23)),f=n(3);function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Dropdown",directives:{clickOutside:c.default,TransferDom:d.default},components:{Drop:l.default},props:{trigger:{validator:function(e){return(0,f.oneOf)(e,["click","hover","custom","contextMenu"])},default:"hover"},placement:{validator:function(e){return(0,f.oneOf)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},visible:{type:Boolean,default:!1},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},transferClassName:{type:String},stopPropagation:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!this.$IVIEW||this.$IVIEW.capture}}},computed:{transition:function(){return["bottom-start","bottom","bottom-end"].indexOf(this.placement)>-1?"slide-up":"fade"},dropdownCls:function(){var e;return e={},(0,o.default)(e,"ivu-dropdown-transfer",this.transfer),(0,o.default)(e,this.transferClassName,this.transferClassName),e},relClasses:function(){return["ivu-dropdown-rel",(0,o.default)({},"ivu-dropdown-rel-user-select-none","contextMenu"===this.trigger)]}},data:function(){return{prefixCls:"ivu-dropdown",currentVisible:this.visible}},watch:{visible:function(e){this.currentVisible=e},currentVisible:function(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},methods:{handleClick:function(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.hasParent()||(this.currentVisible=!this.currentVisible))},handleRightClick:function(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!this.currentVisible)},handleMouseenter:function(){var e=this;return"custom"!==this.trigger&&"hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout(function(){(0,r.default)(this,e),this.currentVisible=!0}.bind(this),250)))},handleMouseleave:function(){var e=this;return"custom"!==this.trigger&&"hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){(0,r.default)(this,e),this.currentVisible=!1}.bind(this),150)))},onClickoutside:function(e){this.handleClose(),this.handleRightClose(),this.currentVisible&&this.$emit("on-clickoutside",e)},handleClose:function(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.currentVisible=!1)},handleRightClose:function(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!1)},hasParent:function(){var e=(0,f.findComponentUpward)(this,"Dropdown");return e||!1}},mounted:function(){var e=this;this.$on("on-click",function(t){if((0,r.default)(this,e),!this.stopPropagation){var n=this.hasParent();n&&n.$emit("on-click",t)}}.bind(this)),this.$on("on-hover-click",function(){(0,r.default)(this,e);var t=this.hasParent();t?(this.$nextTick(function(){if((0,r.default)(this,e),"custom"===this.trigger)return!1;this.currentVisible=!1}.bind(this)),t.$emit("on-hover-click")):this.$nextTick(function(){if((0,r.default)(this,e),"custom"===this.trigger)return!1;this.currentVisible=!1}.bind(this))}.bind(this)),this.$on("on-haschild-click",function(){(0,r.default)(this,e),this.$nextTick(function(){if((0,r.default)(this,e),"custom"===this.trigger)return!1;this.currentVisible=!0}.bind(this));var t=this.hasParent();t&&t.$emit("on-haschild-click")}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DropdownMenu"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d="ivu-dropdown-item";t.default={name:"DropdownItem",props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},divided:{type:Boolean,default:!1}},computed:{classes:function(){var e;return[""+d,(e={},(0,l.default)(e,d+"-disabled",this.disabled),(0,l.default)(e,d+"-selected",this.selected),(0,l.default)(e,d+"-divided",this.divided),e)]}},methods:{handleClick:function(){if(!this.disabled){var e=(0,c.findComponentUpward)(this,"Dropdown");this.$parent&&"Dropdown"===this.$parent.$options.name?this.$parent.$emit("on-haschild-click"):e&&"Dropdown"===e.$options.name&&e.$emit("on-hover-click"),e.$emit("on-click",this.name)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(183),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(437),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Footer",computed:{wrapClasses:function(){return"ivu-layout-footer"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(185)),o=d(n(1)),l=d(n(2)),c=n(3);function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"iForm",props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator:function(e){return(0,c.oneOf)(e,["left","right","top"])},default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator:function(e){return(0,c.oneOf)(e,["on","off"])},default:"off"},hideRequiredMark:{type:Boolean,default:!1},labelColon:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1}},provide:function(){return{FormInstance:this}},data:function(){return{fields:[]}},computed:{classes:function(){var e;return["ivu-form","ivu-form-label-"+String(this.labelPosition),(e={},(0,l.default)(e,"ivu-form-inline",this.inline),(0,l.default)(e,"ivu-form-hide-required-mark",this.hideRequiredMark),e)]},colon:function(){var e="";return this.labelColon&&(e="boolean"==typeof this.labelColon?":":this.labelColon),e}},methods:{resetFields:function(){var e=this;this.fields.forEach(function(t){(0,o.default)(this,e),t.resetField()}.bind(this))},validate:function(e){var t=this;return new r.default(function(n){(0,o.default)(this,t);var r=!0,l=0;0===this.fields.length&&(n(r),"function"==typeof e&&e(r)),this.fields.forEach(function(c){(0,o.default)(this,t),c.validate("",function(c){(0,o.default)(this,t),c&&(r=!1),++l===this.fields.length&&(n(r),"function"==typeof e&&e(r))}.bind(this))}.bind(this))}.bind(this))},validateField:function(e,t){var n=this,r=this.fields.filter(function(t){return(0,o.default)(this,n),t.prop===e}.bind(this))[0];if(!r)throw new Error("[iView warn]: must call validateField with valid prop string!");r.validate("",t)}},watch:{rules:function(){this.validate()}},created:function(){var e=this;this.$on("on-form-item-add",function(t){return(0,o.default)(this,e),t&&this.fields.push(t),!1}.bind(this)),this.$on("on-form-item-remove",function(t){return(0,o.default)(this,e),t.prop&&this.fields.splice(this.fields.indexOf(t),1),!1}.bind(this))}}},function(e,t,n){e.exports={default:n(440),__esModule:!0}},function(e,t,n){var r=n(22),o=n(43),l=n(10)("species");e.exports=function(e,t){var n,c=r(e).constructor;return void 0===c||null==(n=r(c)[l])?t:o(n)}},function(e,t,n){var r,o,l,c=n(24),d=n(442),html=n(105),f=n(69),h=n(9),v=h.process,m=h.setImmediate,y=h.clearImmediate,x=h.MessageChannel,_=h.Dispatch,w=0,k={},S=function(){var e=+this;if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}},C=function(e){S.call(e.data)};m&&y||(m=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return k[++w]=function(){d("function"==typeof e?e:Function(e),t)},r(w),w},y=function(e){delete k[e]},"process"==n(41)(v)?r=function(e){v.nextTick(c(S,e,1))}:_&&_.now?r=function(e){_.now(c(S,e,1))}:x?(l=(o=new x).port2,o.port1.onmessage=C,r=c(l.postMessage,l,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(r=function(e){h.postMessage(e+"","*")},h.addEventListener("message",C,!1)):r="onreadystatechange"in f("script")?function(e){html.appendChild(f("script")).onreadystatechange=function(){html.removeChild(this),S.call(e)}}:function(e){setTimeout(c(S,e,1),0)}),e.exports={set:m,clear:y}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(22),o=n(18),l=n(89);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=l.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(9),o=n(5),l=n(14),c=n(13),d=n(10)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];c&&t&&!t[d]&&l.f(t,d,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(2)),l=d(n(449)),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-form-item";function h(e,path){for(var t=e,n=(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,r=n.length;i<r-1;++i){var o=n[i];if(!(o in t))throw new Error("[iView warn]: please transfer a valid prop path to form item!");t=t[o]}return{o:t,k:n[i],v:t[n[i]]}}t.default={name:"FormItem",mixins:[c.default],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data:function(){return{prefixCls:f,isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}},watch:{error:{handler:function(e){this.validateMessage=e,this.validateState=e?"error":""},immediate:!0},validateStatus:function(e){this.validateState=e},rules:function(){this.setRules()},required:function(e,t){this.isRequired=e,t&&!e&&this.resetField()}},inject:["FormInstance"],computed:{classes:function(){var e;return[""+f,(e={},(0,o.default)(e,f+"-required",this.required||this.isRequired),(0,o.default)(e,f+"-error","error"===this.validateState),(0,o.default)(e,f+"-validating","validating"===this.validateState),e)]},fieldValue:function(){var e=this.FormInstance.model;if(e&&this.prop){var path=this.prop;return-1!==path.indexOf(":")&&(path=path.replace(/:/,".")),h(e,path).v}},labelStyles:function(){var style={},e=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(e||0===e)&&(style.width=String(e)+"px"),style},contentStyles:function(){var style={},e=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(e||0===e)&&(style.marginLeft=String(e)+"px"),style}},methods:{setRules:function(){var e=this,t=this.getRules();t.length&&this.required||(t.length?t.every(function(t){(0,r.default)(this,e),this.isRequired=t.required}.bind(this)):this.required&&(this.isRequired=this.required),this.$off("on-form-blur",this.onFieldBlur),this.$off("on-form-change",this.onFieldChange),this.$on("on-form-blur",this.onFieldBlur),this.$on("on-form-change",this.onFieldChange))},getRules:function(){var e=this.FormInstance.rules,t=this.rules;return e=e?e[this.prop]:[],[].concat(t||e||[])},getFilteredRule:function(e){var t=this;return this.getRules().filter(function(n){return(0,r.default)(this,t),!n.trigger||-1!==n.trigger.indexOf(e)}.bind(this))},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=this.getFilteredRule(e);if(!o||0===o.length){if(!this.required)return n(),!0;o=[{required:!0}]}this.validateState="validating";var c={};c[this.prop]=o;var d=new l.default(c),f={};f[this.prop]=this.fieldValue,d.validate(f,{firstFields:!0},function(e){(0,r.default)(this,t),this.validateState=e?"error":"success",this.validateMessage=e?e[0].message:"",n(this.validateMessage),this.FormInstance&&this.FormInstance.$emit("on-validate",this.prop,!e,this.validateMessage||null)}.bind(this)),this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.FormInstance.model,t=this.fieldValue,path=this.prop;-1!==path.indexOf(":")&&(path=path.replace(/:/,"."));var n=h(e,path);Array.isArray(t)?(this.validateDisabled=!0,n.o[n.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,n.o[n.k]=this.initialValue)},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}},mounted:function(){this.prop&&(this.dispatch("iForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue}),this.setRules())},beforeDestroy:function(){this.dispatch("iForm","on-form-item-remove",this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(193),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(453),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Header",computed:{wrapClasses:function(){return"ivu-layout-header"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(195),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(456),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1)),o=f(n(2)),l=n(3),c=f(n(4)),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}var h="ivu-input-number";function v(e,t){var n,r=void 0,o=void 0;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}return n=Math.pow(10,Math.max(r,o)),(Math.round(e*n)+Math.round(t*n))/n}t.default={name:"InputNumber",mixins:[c.default,d.default],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},activeChange:{type:Boolean,default:!0},value:{type:Number,default:1},size:{validator:function(e){return(0,l.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function},placeholder:{type:String,default:""}},data:function(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.value}},computed:{wrapClasses:function(){var e;return[""+h,(e={},(0,o.default)(e,h+"-"+String(this.size),!!this.size),(0,o.default)(e,h+"-disabled",this.itemDisabled),(0,o.default)(e,h+"-focused",this.focused),e)]},handlerClasses:function(){return h+"-handler-wrap"},upClasses:function(){return[h+"-handler",h+"-handler-up",(0,o.default)({},h+"-handler-up-disabled",this.upDisabled)]},innerUpClasses:function(){return h+"-handler-up-inner ivu-icon ivu-icon-ios-arrow-up"},downClasses:function(){return[h+"-handler",h+"-handler-down",(0,o.default)({},h+"-handler-down-disabled",this.downDisabled)]},innerDownClasses:function(){return h+"-handler-down-inner ivu-icon ivu-icon-ios-arrow-down"},inputWrapClasses:function(){return h+"-input-wrap"},inputClasses:function(){return h+"-input"},precisionValue:function(){return this.currentValue&&this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue:function(){return this.formatter&&null!==this.precisionValue?this.formatter(this.precisionValue):this.precisionValue}},methods:{preventDefault:function(e){e.preventDefault()},up:function(e){var t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down:function(e){var t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep:function(e,t){if(this.itemDisabled||this.readonly)return!1;var n=Number(t.target.value),r=Number(this.currentValue),o=Number(this.step);if(isNaN(r))return!1;if(!isNaN(n))if("up"===e){if(!(v(n,o)<=this.max))return!1;r=n}else if("down"===e){if(!(v(n,-o)>=this.min))return!1;r=n}"up"===e?r=v(r,o):"down"===e&&(r=v(r,-o)),this.setValue(r)},setValue:function(e){var t=this;e&&!isNaN(this.precision)&&(e=Number(Number(e).toFixed(this.precision)));var n=this.min,o=this.max;null!==e&&(e>o?e=o:e<n&&(e=n)),this.$nextTick(function(){(0,r.default)(this,t),this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}.bind(this))},focus:function(e){this.focused=!0,this.$emit("on-focus",e)},blur:function(){this.focused=!1,this.$emit("on-blur"),(0,l.findComponentUpward)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},keyDown:function(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change:function(e){if(("change"!=e.type||!this.activeChange)&&("input"!=e.type||this.activeChange)){var t=e.target.value.trim();this.parser&&(t=this.parser(t)),0===t.length?this.setValue(null):"input"==e.type&&t.match(/^\-?\.?$|\.$/)||(t=Number(t),isNaN(t)?e.target.value=this.currentValue:(this.currentValue=t,this.setValue(t)))}},changeVal:function(e){if(e=Number(e),isNaN(e))this.upDisabled=!0,this.downDisabled=!0;else{var t=this.step;this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min}}},mounted:function(){this.changeVal(this.currentValue)},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.changeVal(e)},min:function(){this.changeVal(this.currentValue)},max:function(){this.changeVal(this.currentValue)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(459)),o=m(n(2)),l=m(n(185)),c=m(n(1)),d=m(n(463)),f=m(n(464)),h=n(12),v=m(n(6));function m(e){return e&&e.__esModule?e:{default:e}}var y=10,x=5,_=function(){return(0,c.default)(void 0,void 0),l.default.resolve()}.bind(void 0);t.default={name:"Scroll",mixins:[v.default],components:{loader:f.default},props:{height:{type:[Number,String],default:300},onReachTop:{type:Function},onReachBottom:{type:Function},onReachEdge:{type:Function},loadingText:{type:String},distanceToEdge:[Number,Array],stopSlide:{type:Boolean,default:!1}},data:function(){var e=this,t=this.calculateProximityThreshold();return{showTopLoader:!1,showBottomLoader:!1,showBodyLoader:!1,lastScroll:0,reachedTopScrollLimit:!0,reachedBottomScrollLimit:!1,topRubberPadding:0,bottomRubberPadding:0,rubberRollBackTimeout:!1,isLoading:!1,pointerTouchDown:null,touchScroll:!1,handleScroll:function(){(0,c.default)(this,e)}.bind(this),pointerUpHandler:function(){(0,c.default)(this,e)}.bind(this),pointerMoveHandler:function(){(0,c.default)(this,e)}.bind(this),topProximityThreshold:t[0],bottomProximityThreshold:t[1]}},computed:{wrapClasses:function(){return"ivu-scroll-wrapper"},scrollContainerClasses:function(){return["ivu-scroll-container",(0,o.default)({},"ivu-scroll-container-loading",this.showBodyLoader&&this.stopSlide)]},slotContainerClasses:function(){return["ivu-scroll-content",(0,o.default)({},"ivu-scroll-content-loading",this.showBodyLoader)]},loaderClasses:function(){return"ivu-scroll-loader"},wrapperPadding:function(){return{paddingTop:this.topRubberPadding+"px",paddingBottom:this.bottomRubberPadding+"px"}},localeLoadingText:function(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText}},methods:{waitOneSecond:function(){var e=this;return new l.default(function(t){(0,c.default)(this,e),setTimeout(t,1e3)}.bind(this))},calculateProximityThreshold:function(){var e=this.distanceToEdge;return void 0===e?[20,20]:Array.isArray(e)?e:[e,e]},onCallback:function(e){var t=this;this.isLoading=!0,this.showBodyLoader=!0,e>0?(this.showTopLoader=!0,this.topRubberPadding=20):function(){t.showBottomLoader=!0,t.bottomRubberPadding=20;for(var e=0,n=t.$refs.scrollContainer,r=n.scrollTop,i=0;i<20;i++)setTimeout(function(){(0,c.default)(this,t),e=Math.max(e,this.$refs.bottomLoader.getBoundingClientRect().height),n.scrollTop=r+e}.bind(t),50*i)}();var n=[this.waitOneSecond(),this.onReachEdge?this.onReachEdge(e):_()];n.push(e>0?this.onReachTop?this.onReachTop():_():this.onReachBottom?this.onReachBottom():_());var r=setTimeout(function(){(0,c.default)(this,t),this.reset()}.bind(this),5e3);l.default.all(n).then(function(){(0,c.default)(this,t),clearTimeout(r),this.reset()}.bind(this))},reset:function(){var e=this;["showTopLoader","showBottomLoader","showBodyLoader","isLoading","reachedTopScrollLimit","reachedBottomScrollLimit"].forEach(function(t){return(0,c.default)(this,e),this[t]=!1}.bind(this)),this.lastScroll=0,this.topRubberPadding=0,this.bottomRubberPadding=0,clearInterval(this.rubberRollBackTimeout),this.touchScroll&&setTimeout(function(){(0,c.default)(this,e),(0,h.off)(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.removeEventListener("touchmove",this.pointerMoveHandler),this.touchScroll=!1}.bind(this),500)},onWheel:function(e){if(!this.isLoading){var t=e.wheelDelta?e.wheelDelta:-(e.detail||e.deltaY);this.stretchEdge(t)}},stretchEdge:function(e){var t=this;if(clearTimeout(this.rubberRollBackTimeout),!this.onReachEdge)if(e>0){if(!this.onReachTop)return}else if(!this.onReachBottom)return;this.rubberRollBackTimeout=setTimeout(function(){(0,c.default)(this,t),this.isLoading||this.reset()}.bind(this),250),e>0&&this.reachedTopScrollLimit?(this.topRubberPadding+=5-this.topRubberPadding/5,this.topRubberPadding>this.topProximityThreshold&&this.onCallback(1)):e<0&&this.reachedBottomScrollLimit?(this.bottomRubberPadding+=6-this.bottomRubberPadding/4,this.bottomRubberPadding>this.bottomProximityThreshold&&this.onCallback(-1)):this.onScroll()},onScroll:function(){var e=this.$refs.scrollContainer;if(!this.isLoading&&e){var t=(0,r.default)(this.lastScroll-e.scrollTop),n=e.scrollHeight-e.clientHeight-e.scrollTop,o=this.topProximityThreshold<0?this.topProximityThreshold:0,l=this.bottomProximityThreshold<0?this.bottomProximityThreshold:0;-1==t&&n+l<=y?this.reachedBottomScrollLimit=!0:t>=0&&e.scrollTop+o<=0?this.reachedTopScrollLimit=!0:(this.reachedTopScrollLimit=!1,this.reachedBottomScrollLimit=!1,this.lastScroll=e.scrollTop)}},getTouchCoordinates:function(e){return{x:e.touches[0].pageX,y:e.touches[0].pageY}},onPointerDown:function(e){var t=this;if(!this.isLoading){if("touchstart"==e.type){var n=this.$refs.scrollContainer;this.reachedTopScrollLimit?n.scrollTop=5:this.reachedBottomScrollLimit&&(n.scrollTop-=5)}"touchstart"==e.type&&0==this.$refs.scrollContainer.scrollTop&&(this.$refs.scrollContainer.scrollTop=5),this.pointerTouchDown=this.getTouchCoordinates(e),(0,h.on)(window,"touchend",this.pointerUpHandler),this.$refs.scrollContainer.parentElement.addEventListener("touchmove",function(e){(0,c.default)(this,t),e.stopPropagation(),this.pointerMoveHandler(e)}.bind(this),{passive:!1,useCapture:!0})}},onPointerMove:function(e){if(this.pointerTouchDown&&!this.isLoading){var t=this.getTouchCoordinates(e).y-this.pointerTouchDown.y;this.stretchEdge(t),this.touchScroll||Math.abs(t)>x&&(this.touchScroll=!0)}},onPointerUp:function(){this.pointerTouchDown=null}},created:function(){this.handleScroll=(0,d.default)(this.onScroll,150,{leading:!1}),this.pointerUpHandler=this.onPointerUp.bind(this),this.pointerMoveHandler=(0,d.default)(this.onPointerMove,50,{leading:!1})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(91)),l=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:["text","active","spinnerHeight"],components:{Spin:o.default,Icon:l.default},computed:{wrapperClasses:function(){return["ivu-scroll-loader-wrapper",(0,r.default)({},"ivu-scroll-loader-wrapper-active",this.active)]},spinnerClasses:function(){return"ivu-scroll-spinner"},iconClasses:function(){return"ivu-scroll-spinner-icon"},textClasses:function(){return"ivu-scroll-loader-text"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=n(3),l=c(n(87));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Spin",mixins:[l.default],props:{size:{validator:function(e){return(0,o.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{showText:!1,visible:!1}},computed:{classes:function(){var e;return["ivu-spin",(e={},(0,r.default)(e,"ivu-spin-"+String(this.size),!!this.size),(0,r.default)(e,"ivu-spin-fix",this.fix),(0,r.default)(e,"ivu-spin-show-text",this.showText),(0,r.default)(e,"ivu-spin-fullscreen",this.fullscreen),e)]},mainClasses:function(){return"ivu-spin-main"},dotClasses:function(){return"ivu-spin-dot"},textClasses:function(){return"ivu-spin-text"},fullscreenVisible:function(){return!this.fullscreen||this.visible}},watch:{visible:function(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted:function(){this.showText=void 0!==this.$slots.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1)),o=f(n(2)),l=n(3),c=n(12),d=f(n(470));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Split",components:{Trigger:d.default},props:{value:{type:[Number,String],default:.5},mode:{validator:function(e){return(0,l.oneOf)(e,["horizontal","vertical"])},default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},data:function(){return{prefix:"ivu-split",offset:0,oldOffset:0,isMoving:!1,computedMin:0,computedMax:0,currentValue:.5}},computed:{wrapperClasses:function(){return[String(this.prefix)+"-wrapper",this.isMoving?"no-select":""]},paneClasses:function(){return[String(this.prefix)+"-pane",(0,o.default)({},String(this.prefix)+"-pane-moving",this.isMoving)]},isHorizontal:function(){return"horizontal"===this.mode},anotherOffset:function(){return 100-this.offset},valueIsPx:function(){return"string"==typeof this.value},offsetSize:function(){return this.isHorizontal?"offsetWidth":"offsetHeight"}},methods:{px2percent:function(e,t){return parseFloat(e)/parseFloat(t)},getComputedThresholdValue:function(e){var t=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[e]?this[e]:t*this[e]:"string"==typeof this[e]?this.px2percent(this[e],t):this[e]},getMin:function(e,t){return this.valueIsPx?String(Math.min(parseFloat(e),parseFloat(t)))+"px":Math.min(e,t)},getMax:function(e,t){return this.valueIsPx?String(Math.max(parseFloat(e),parseFloat(t)))+"px":Math.max(e,t)},getAnotherOffset:function(e){return this.valueIsPx?this.$refs.outerWrapper[this.offsetSize]-parseFloat(e)+"px":1-e},handleMove:function(e){var t=(this.isHorizontal?e.pageX:e.pageY)-this.initOffset,n=this.$refs.outerWrapper[this.offsetSize],r=this.valueIsPx?String(parseFloat(this.oldOffset)+t)+"px":this.px2percent(n*this.oldOffset+t,n),o=this.getAnotherOffset(r);parseFloat(r)<=parseFloat(this.computedMin)&&(r=this.getMax(r,this.computedMin)),parseFloat(o)<=parseFloat(this.computedMax)&&(r=this.getAnotherOffset(this.getMax(o,this.computedMax))),e.atMin=this.value===this.computedMin,e.atMax=this.valueIsPx?this.getAnotherOffset(this.value)===this.computedMax:this.getAnotherOffset(this.value).toFixed(5)===this.computedMax.toFixed(5),this.$emit("input",r),this.$emit("on-moving",e)},handleUp:function(){this.isMoving=!1,(0,c.off)(document,"mousemove",this.handleMove),(0,c.off)(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown:function(e){this.initOffset=this.isHorizontal?e.pageX:e.pageY,this.oldOffset=this.value,this.isMoving=!0,(0,c.on)(document,"mousemove",this.handleMove),(0,c.on)(document,"mouseup",this.handleUp),this.$emit("on-move-start")},computeOffset:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e),this.computedMin=this.getComputedThresholdValue("min"),this.computedMax=this.getComputedThresholdValue("max"),this.offset=1e4*(this.valueIsPx?this.px2percent(this.value,this.$refs.outerWrapper[this.offsetSize]):this.value)/100}.bind(this))}},watch:{value:function(e){e!==this.currentValue&&(this.currentValue=e,this.computeOffset())}},mounted:function(){var e=this;this.$nextTick(function(){(0,r.default)(this,e),this.computeOffset()}.bind(this)),(0,c.on)(window,"resize",this.computeOffset)},beforeDestroy:function(){(0,c.off)(window,"resize",this.computeOffset)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Trigger",props:{mode:String},data:function(){return{prefix:"ivu-split-trigger",initOffset:0}},computed:{isVertical:function(){return"vertical"===this.mode},classes:function(){return[this.prefix,this.isVertical?String(this.prefix)+"-vertical":String(this.prefix)+"-horizontal"]},barConClasses:function(){return[String(this.prefix)+"-bar-con",this.isVertical?"vertical":"horizontal"]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Layout",data:function(){return{hasSider:!1}},computed:{wrapClasses:function(){return["ivu-layout",(0,o.default)({},"ivu-layout-has-sider",this.hasSider)]}},methods:{findSider:function(){var e=this;return this.$children.some(function(t){return(0,r.default)(this,e),"Sider"===t.$options.name}.bind(this))}},mounted:function(){this.hasSider=this.findSider()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(203),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(476),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(3),l="ivu-layout-sider";(0,o.setMatchMedia)(),t.default={name:"Sider",props:{value:{type:Boolean,default:!1},width:{type:[Number,String],default:200},collapsedWidth:{type:[Number,String],default:64},hideTrigger:{type:Boolean,default:!1},breakpoint:{type:String,validator:function(e){return(0,o.oneOf)(e,["xs","sm","md","lg","xl","xxl"])}},collapsible:{type:Boolean,default:!1},defaultCollapsed:{type:Boolean,default:!1},reverseArrow:{type:Boolean,default:!1}},data:function(){return{prefixCls:l,mediaMatched:!1}},computed:{wrapClasses:function(){return[""+l,this.siderWidth?"":l+"-zero-width",this.value?l+"-collapsed":""]},wrapStyles:function(){return{width:String(this.siderWidth)+"px",minWidth:String(this.siderWidth)+"px",maxWidth:String(this.siderWidth)+"px",flex:"0 0 "+String(this.siderWidth)+"px"}},triggerClasses:function(){return[l+"-trigger",this.value?l+"-trigger-collapsed":""]},childClasses:function(){return String(this.prefixCls)+"-children"},zeroWidthTriggerClasses:function(){return[l+"-zero-width-trigger",this.reverseArrow?l+"-zero-width-trigger-left":""]},triggerIconClasses:function(){return["ivu-icon","ivu-icon-ios-arrow-"+(this.reverseArrow?"forward":"back"),l+"-trigger-icon"]},siderWidth:function(){return this.collapsible?this.value?this.mediaMatched?0:parseInt(this.collapsedWidth):parseInt(this.width):this.width},showZeroTrigger:function(){return!!this.collapsible&&(this.mediaMatched&&!this.hideTrigger||0===parseInt(this.collapsedWidth)&&this.value&&!this.hideTrigger)},showBottomTrigger:function(){return!!this.collapsible&&!this.mediaMatched&&!this.hideTrigger}},methods:{toggleCollapse:function(){var e=!!this.collapsible&&!this.value;this.$emit("input",e)},matchMedia:function(){var e=void 0;window.matchMedia&&(e=window.matchMedia);var t=this.mediaMatched;this.mediaMatched=e("(max-width: "+String(o.dimensionMap[this.breakpoint])+")").matches,this.mediaMatched!==t&&this.$emit("input",this.mediaMatched)},onWindowResize:function(){this.matchMedia()}},watch:{value:function(e){this.$emit("on-collapse",e)}},mounted:function(){this.defaultCollapsed&&this.$emit("input",this.defaultCollapsed),void 0!==this.breakpoint&&((0,r.on)(window,"resize",this.onWindowResize),this.matchMedia())},beforeDestroy:function(){void 0!==this.breakpoint&&(0,r.off)(window,"resize",this.onWindowResize)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c=n(3);t.default={name:"List",provide:function(){return{ListInstance:this}},props:{border:{type:Boolean,default:!1},itemLayout:{validator:function(e){return(0,c.oneOf)(e,["horizontal","vertical"])},default:"horizontal"},header:{type:String,default:""},footer:{type:String,default:""},loading:{type:Boolean,default:!1},size:{validator:function(e){return(0,c.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},split:{type:Boolean,default:!0}},data:function(){return{}},computed:{classes:function(){var e;return["ivu-list","ivu-list-"+String(this.size),"ivu-list-"+String(this.itemLayout),(e={},(0,l.default)(e,"ivu-list-bordered",this.border),(0,l.default)(e,"ivu-list-split",this.split),e)]}},methods:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"ListItem",inject:["ListInstance"],props:{},computed:{itemLayout:function(){return this.ListInstance.itemLayout},isItemContainsTextNode:function(){var e=this,t=void 0;return this.$slots.default.forEach(function(n){(0,l.default)(this,e),"string"==typeof n&&(t=!0)}.bind(this)),t},isFlexMode:function(){var e=this.$slots.extra;return"vertical"===this.itemLayout?!!e:!this.isItemContainsTextNode},classes:function(){return[{"ivu-list-item-no-flex":!this.isFlexMode}]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(125),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"ListItemMeta",components:{Avatar:l.default},props:{avatar:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c="ivu-loading-bar";t.default={name:"LoadingBar",props:{color:{type:String,default:"primary"},failedColor:{type:String,default:"error"},height:{type:Number,default:2}},data:function(){return{percent:0,status:"success",show:!1}},computed:{classes:function(){return""+c},innerClasses:function(){var e;return[c+"-inner",(e={},(0,l.default)(e,c+"-inner-color-primary","primary"===this.color&&"success"===this.status),(0,l.default)(e,c+"-inner-failed-color-error","error"===this.failedColor&&"error"===this.status),e)]},outerStyles:function(){return{height:String(this.height)+"px"}},styles:function(){var style={width:String(this.percent)+"%",height:String(this.height)+"px"};return"primary"!==this.color&&"success"===this.status&&(style.backgroundColor=this.color),"error"!==this.failedColor&&"error"===this.status&&(style.backgroundColor=this.failedColor),style}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1)),o=f(n(17)),l=f(n(2)),c=n(3),d=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Menu",mixins:[d.default],props:{mode:{validator:function(e){return(0,c.oneOf)(e,["horizontal","vertical"])},default:"vertical"},theme:{validator:function(e){return(0,c.oneOf)(e,["light","dark","primary"])},default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default:function(){return[]}},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},data:function(){return{currentActiveName:this.activeName,openedNames:[]}},computed:{classes:function(){var e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),["ivu-menu","ivu-menu-"+String(e),(0,l.default)({},"ivu-menu-"+String(this.mode),this.mode)]},styles:function(){var style={};return"vertical"===this.mode&&(style.width=this.width),style}},methods:{updateActiveName:function(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.broadcast("Submenu","on-update-active-name",!1),this.broadcast("MenuItem","on-update-active-name",this.currentActiveName)},updateOpenKeys:function(e){var t=this,n=[].concat((0,o.default)(this.openedNames)).indexOf(e);if(this.accordion&&(0,c.findComponentsDownward)(this,"Submenu").forEach(function(e){(0,r.default)(this,t),e.opened=!1}.bind(this)),n>=0){var l=null;(0,c.findComponentsDownward)(this,"Submenu").forEach(function(n){(0,r.default)(this,t),n.name===e&&(l=n,n.opened=!1)}.bind(this)),(0,c.findComponentsUpward)(l,"Submenu").forEach(function(e){(0,r.default)(this,t),e.opened=!0}.bind(this)),(0,c.findComponentsDownward)(l,"Submenu").forEach(function(e){(0,r.default)(this,t),e.opened=!1}.bind(this))}else if(this.accordion){var d=null;(0,c.findComponentsDownward)(this,"Submenu").forEach(function(n){(0,r.default)(this,t),n.name===e&&(d=n,n.opened=!0)}.bind(this)),(0,c.findComponentsUpward)(d,"Submenu").forEach(function(e){(0,r.default)(this,t),e.opened=!0}.bind(this))}else(0,c.findComponentsDownward)(this,"Submenu").forEach(function(n){(0,r.default)(this,t),n.name===e&&(n.opened=!0)}.bind(this));var f=(0,c.findComponentsDownward)(this,"Submenu").filter(function(e){return(0,r.default)(this,t),e.opened}.bind(this)).map(function(e){return(0,r.default)(this,t),e.name}.bind(this));this.openedNames=[].concat((0,o.default)(f)),this.$emit("on-open-change",f)},updateOpened:function(){var e=this,t=(0,c.findComponentsDownward)(this,"Submenu");t.length&&t.forEach(function(t){(0,r.default)(this,e),this.openedNames.indexOf(t.name)>-1?t.opened=!0:t.opened=!1}.bind(this))},handleEmitSelectEvent:function(e){this.$emit("on-select",e)}},mounted:function(){var e=this;this.openedNames=[].concat((0,o.default)(this.openNames)),this.updateOpened(),this.$nextTick(function(){return(0,r.default)(this,e),this.updateActiveName()}.bind(this)),this.$on("on-menu-item-select",function(t){(0,r.default)(this,e),this.currentActiveName=t,this.$emit("on-select",t)}.bind(this))},watch:{openNames:function(e){this.openedNames=e},activeName:function(e){this.currentActiveName=e},currentActiveName:function(){this.updateActiveName()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(92),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"MenuGroup",mixins:[l.default],props:{title:{type:String,default:""}},data:function(){return{prefixCls:"ivu-menu"}},computed:{groupStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+28*(this.parentSubmenuNum-1)+"px"}:{}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(2)),l=h(n(4)),c=n(3),d=h(n(92)),f=h(n(48));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"MenuItem",mixins:[l.default,d.default,f.default],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{active:!1}},computed:{classes:function(){var e;return["ivu-menu-item",(e={},(0,o.default)(e,"ivu-menu-item-active",this.active),(0,o.default)(e,"ivu-menu-item-selected",this.active),(0,o.default)(e,"ivu-menu-item-disabled",this.disabled),e)]},itemStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}}},methods:{handleClickItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);var n=(0,c.findComponentUpward)(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else{var r=(0,c.findComponentUpward)(this,"Submenu");r?this.dispatch("Submenu","on-menu-item-select",this.name):this.dispatch("Menu","on-menu-item-select",this.name),this.handleCheckClick(e,t)}}},mounted:function(){var e=this;this.$on("on-update-active-name",function(t){(0,r.default)(this,e),this.name===t?(this.active=!0,this.dispatch("Submenu","on-update-active-name",t)):this.active=!1}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(1)),o=m(n(2)),l=m(n(36)),c=m(n(8)),d=m(n(83)),f=n(3),h=m(n(4)),v=m(n(92));function m(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Submenu",mixins:[h.default,v.default],components:{Icon:c.default,Drop:l.default,CollapseTransition:d.default},props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-menu",active:!1,opened:!1,dropWidth:parseFloat((0,f.getStyle)(this.$el,"width"))}},computed:{classes:function(){var e;return["ivu-menu-submenu",(e={},(0,o.default)(e,"ivu-menu-item-active",this.active&&!this.hasParentSubmenu),(0,o.default)(e,"ivu-menu-opened",this.opened),(0,o.default)(e,"ivu-menu-submenu-disabled",this.disabled),(0,o.default)(e,"ivu-menu-submenu-has-parent-submenu",this.hasParentSubmenu),(0,o.default)(e,"ivu-menu-child-item-active",this.active),e)]},accordion:function(){return this.menu.accordion},dropStyle:function(){var style={};return this.dropWidth&&(style.minWidth=String(this.dropWidth)+"px"),style},titleStyle:function(){return this.hasParentSubmenu&&"horizontal"!==this.mode?{paddingLeft:43+24*(this.parentSubmenuNum-1)+"px"}:{}},arrowType:function(){var e="ios-arrow-down";return this.$IVIEW&&(this.$IVIEW.menu.customArrow?e="":this.$IVIEW.menu.arrow&&(e=this.$IVIEW.menu.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.menu.customArrow&&(e=this.$IVIEW.menu.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.menu.arrowSize&&(e=this.$IVIEW.menu.arrowSize),e}},methods:{handleMouseenter:function(){var e=this;this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){(0,r.default)(this,e),this.menu.updateOpenKeys(this.name),this.opened=!0}.bind(this),250))},handleMouseleave:function(){var e=this;this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){(0,r.default)(this,e),this.menu.updateOpenKeys(this.name),this.opened=!1}.bind(this),150))},handleClick:function(){var e=this;if(!this.disabled&&"horizontal"!==this.mode){var t=this.opened;this.accordion&&this.$parent.$children.forEach(function(t){(0,r.default)(this,e),"Submenu"===t.$options.name&&(t.opened=!1)}.bind(this)),this.opened=!t,this.menu.updateOpenKeys(this.name)}}},watch:{mode:function(e){"horizontal"===e&&this.$refs.drop.update()},opened:function(e){"vertical"!==this.mode&&(e?(this.dropWidth=parseFloat((0,f.getStyle)(this.$el,"width")),this.$refs.drop.update()):this.$refs.drop.destroy())}},mounted:function(){var e=this;this.$on("on-menu-item-select",function(t){return(0,r.default)(this,e),"horizontal"===this.mode&&(this.opened=!1),this.dispatch("Menu","on-menu-item-select",t),!0}.bind(this)),this.$on("on-update-active-name",function(t){(0,r.default)(this,e),(0,f.findComponentUpward)(this,"Submenu")&&this.dispatch("Submenu","on-update-active-name",t),(0,f.findComponentsDownward)(this,"Submenu")&&(0,f.findComponentsDownward)(this,"Submenu").forEach(function(t){(0,r.default)(this,e),t.active=!1}.bind(this)),this.active=t}.bind(this))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(498)),l=c(n(16));function c(e){return e&&e.__esModule?e:{default:e}}o.default.newInstance=function(e){(0,r.default)(void 0,void 0);var t=e||{},n=new l.default({render:function(e){return e(o.default,{props:t})}}),component=n.$mount();document.body.appendChild(component.$el);var c=n.$children[0];return{notice:function(e){c.add(e)},remove:function(e){c.close(e)},component:c,destroy:function(element){c.closeAll(),setTimeout((function(){document.body.removeChild(document.getElementsByClassName(element)[0])}),500)}}}.bind(void 0),t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(15)),o=d(n(2)),l=d(n(499)),c=n(37);function d(e){return e&&e.__esModule?e:{default:e}}var f=0,h=Date.now();t.default={components:{Notice:l.default},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data:function(){return{notices:[],tIndex:this.handleGetIndex()}},computed:{classes:function(){return[""+String(this.prefixCls),(0,o.default)({},""+String(this.className),!!this.className)]},wrapStyles:function(){var e=(0,r.default)({},this.styles);return e["z-index"]=1010+this.tIndex,e}},methods:{add:function(e){var t=e.name||"ivuNotification_"+h+"_"+f++,n=(0,r.default)({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(n),this.tIndex=this.handleGetIndex()},close:function(e){for(var t=this.notices,i=0;i<t.length;i++)if(t[i].name===e){this.notices.splice(i,1);break}},closeAll:function(){this.notices=[]},handleGetIndex:function(){return(0,c.transferIncrease)(),c.transferIndex}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(2)),l=c(n(215));function c(e){return e&&e.__esModule?e:{default:e}}t.default={components:{RenderCell:l.default},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String},background:{type:Boolean,default:!1},msgType:{type:String}},data:function(){return{withDesc:!1}},computed:{baseClass:function(){return String(this.prefixCls)+"-notice"},renderFunc:function(){return this.render||function(){}},classes:function(){var e;return[this.baseClass,(e={},(0,o.default)(e,""+String(this.className),!!this.className),(0,o.default)(e,String(this.baseClass)+"-closable",this.closable),(0,o.default)(e,String(this.baseClass)+"-with-desc",this.withDesc),(0,o.default)(e,String(this.baseClass)+"-with-background",this.background),e)]},contentClasses:function(){return[String(this.baseClass)+"-content",void 0!==this.render?String(this.baseClass)+"-content-with-render":""]},messageContentClasses:function(){var e;return[String(this.baseClass)+"-content",(e={},(0,o.default)(e,String(this.baseClass)+"-content-"+String(this.msgType),this.msgType),(0,o.default)(e,String(this.baseClass)+"-content-background",this.background),e)]},contentWithIcon:function(){return[this.withIcon?String(this.prefixCls)+"-content-with-icon":"",!this.hasTitle&&this.withIcon?String(this.prefixCls)+"-content-with-render-notitle":""]},messageClasses:function(){return[String(this.baseClass)+"-content",void 0!==this.render?String(this.baseClass)+"-content-with-render":""]}},methods:{clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close:function(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter:function(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave:function(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},mounted:function(){var e=this;if(this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout(function(){(0,r.default)(this,e),this.close()}.bind(this),1e3*this.duration)),"ivu-notice"===this.prefixCls){var desc=this.$refs.content.querySelectorAll("."+String(this.prefixCls)+"-desc")[0];this.withDesc=!!this.render||!!desc&&""!==desc.innerHTML}},beforeDestroy:function(){this.clearCloseTimer()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"RenderCell",functional:!0,props:{render:Function},render:function(e,t){return(0,l.default)(void 0,void 0),t.props.render(e)}.bind(void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(1)),o=w(n(15)),l=w(n(2)),c=w(n(19)),d=w(n(28)),f=w(n(23)),h=w(n(6)),v=w(n(4)),m=w(n(87)),y=n(12),x=n(3),_=n(37);function w(e){return e&&e.__esModule?e:{default:e}}var k="ivu-modal";t.default={name:"Modal",mixins:[h.default,v.default,m.default],components:{Icon:c.default,iButton:d.default},directives:{TransferDom:f.default},props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.modal.maskClosable||this.$IVIEW.modal.maskClosable}},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object,default:function(){return{}}},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default:function(){return["ease","fade"]}},transfer:{type:Boolean,default:function(){return!this.$IVIEW||""===this.$IVIEW.transfer||this.$IVIEW.transfer}},fullscreen:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3}},data:function(){return{prefixCls:k,wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.value,dragData:{x:null,y:null,dragX:null,dragY:null,dragging:!1},modalIndex:this.handleGetModalIndex(),isMouseTriggerIn:!1}},computed:{wrapClasses:function(){var e;return[k+"-wrap",(e={},(0,l.default)(e,k+"-hidden",!this.wrapShow),(0,l.default)(e,""+String(this.className),!!this.className),(0,l.default)(e,k+"-no-mask",!this.showMask),e)]},wrapStyles:function(){return{zIndex:this.modalIndex+this.zIndex}},maskClasses:function(){return k+"-mask"},classes:function(){var e;return[""+k,(e={},(0,l.default)(e,k+"-fullscreen",this.fullscreen),(0,l.default)(e,k+"-fullscreen-no-header",this.fullscreen&&!this.showHead),(0,l.default)(e,k+"-fullscreen-no-footer",this.fullscreen&&this.footerHide),e)]},contentClasses:function(){var e;return[k+"-content",(e={},(0,l.default)(e,k+"-content-no-mask",!this.showMask),(0,l.default)(e,k+"-content-drag",this.draggable),(0,l.default)(e,k+"-content-dragging",this.draggable&&this.dragData.dragging),e)]},mainStyles:function(){var style={},e=parseInt(this.width),t=null!==this.dragData.x?{top:0}:{width:e<=100?String(e)+"%":String(e)+"px"},n=this.styles?this.styles:{};return(0,o.default)(style,t,n),style},contentStyles:function(){var style={};if(this.draggable){var e=this.styles.top?parseFloat(this.styles.top):0,t=this.styles.left?parseFloat(this.styles.left):0;null!==this.dragData.x&&(style.left=this.dragData.x-t+"px"),null!==this.dragData.y&&(style.top=String(this.dragData.y)+"px"),null!==this.dragData.y&&(style.top=this.dragData.y-e+"px");var n=parseInt(this.width),r={width:n<=100?String(n)+"%":String(n)+"px"};(0,o.default)(style,r)}return style},localeOkText:function(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText},showMask:function(){return!this.draggable&&this.mask}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("on-cancel")},handleMask:function(){this.maskClosable&&this.showMask&&this.close()},handleWrapClick:function(e){if(this.isMouseTriggerIn)this.isMouseTriggerIn=!1;else{var t=e.target.getAttribute("class");t&&t.indexOf(k+"-wrap")>-1&&this.handleMask()}},handleMousedown:function(){this.isMouseTriggerIn=!0},cancel:function(){this.close()},ok:function(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("input",!1)),this.$emit("on-ok")},EscClose:function(e){var t=this;if(this.visible&&this.closable&&27===e.keyCode){var n=(0,x.findComponentsDownward)(this.$root,"Modal").filter(function(e){return(0,r.default)(this,t),e.$data.visible&&e.$props.closable}.bind(this)).sort(function(a,b){return(0,r.default)(this,t),a.$data.modalIndex<b.$data.modalIndex?1:-1}.bind(this))[0];setTimeout(function(){(0,r.default)(this,t),n.close()}.bind(this),0)}},animationFinish:function(){this.$emit("on-hidden")},handleMoveStart:function(e){if(!this.draggable)return!1;var rect=this.$refs.content.getBoundingClientRect();this.dragData.x=rect.x||rect.left,this.dragData.y=rect.y||rect.top;var t={x:e.clientX,y:e.clientY};this.dragData.dragX=t.x,this.dragData.dragY=t.y,this.dragData.dragging=!0,(0,y.on)(window,"mousemove",this.handleMoveMove),(0,y.on)(window,"mouseup",this.handleMoveEnd)},handleMoveMove:function(e){if(!this.dragData.dragging)return!1;var t={x:e.clientX,y:e.clientY},n=t.x-this.dragData.dragX,r=t.y-this.dragData.dragY;this.dragData.x+=n,this.dragData.y+=r,this.dragData.dragX=t.x,this.dragData.dragY=t.y},handleMoveEnd:function(){this.dragData.dragging=!1,(0,y.off)(window,"mousemove",this.handleMoveMove),(0,y.off)(window,"mouseup",this.handleMoveEnd)},handleGetModalIndex:function(){return(0,_.transferIncrease)(),_.transferIndex},handleClickModal:function(){this.draggable&&(this.modalIndex=this.handleGetModalIndex())}},mounted:function(){this.visible&&(this.wrapShow=!0);var e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},beforeDestroy:function(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},watch:{value:function(e){this.visible=e},visible:function(e){var t=this;!1===e?(this.buttonLoading=!1,this.timer=setTimeout(function(){(0,r.default)(this,t),this.wrapShow=!1,this.removeScrollEffect()}.bind(this),300)):(this.modalIndex=this.handleGetModalIndex(),this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("on-visible-change",e)},loading:function(e){e||(this.buttonLoading=!1)},scrollable:function(e){e?this.removeScrollEffect():this.addScrollEffect()},title:function(e){void 0===this.$slots.header&&(this.showHead=!!e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=n(3),l=d(n(509)),c=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Page",mixins:[c.default],components:{Options:l.default},props:{current:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageSizeOpts:{type:Array,default:function(){return[10,20,30,40]}},placement:{validator:function(e){return(0,o.oneOf)(e,["top","bottom"])},default:"bottom"},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},size:{validator:function(e){return(0,o.oneOf)(e,["small"])}},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showSizer:{type:Boolean,default:!1},className:{type:String},styles:{type:Object},prevText:{type:String,default:""},nextText:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-page",currentPage:this.current,currentPageSize:this.pageSize}},watch:{total:function(e){var t=Math.ceil(e/this.currentPageSize);t<this.currentPage&&(this.currentPage=0===t?1:t)},current:function(e){this.currentPage=e},pageSize:function(e){this.currentPageSize=e}},computed:{isSmall:function(){return!!this.size},allPages:function(){var e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses:function(){return["ivu-page","ivu-page-simple",(0,r.default)({},""+String(this.className),!!this.className)]},simplePagerClasses:function(){return"ivu-page-simple-pager"},wrapClasses:function(){var e;return["ivu-page",(e={},(0,r.default)(e,""+String(this.className),!!this.className),(0,r.default)(e,"ivu-page-with-disabled",this.disabled),(0,r.default)(e,"mini",!!this.size),e)]},prevClasses:function(){var e;return["ivu-page-prev",(e={},(0,r.default)(e,"ivu-page-disabled",1===this.currentPage||this.disabled),(0,r.default)(e,"ivu-page-custom-text",""!==this.prevText),e)]},nextClasses:function(){var e;return["ivu-page-next",(e={},(0,r.default)(e,"ivu-page-disabled",this.currentPage===this.allPages||this.disabled),(0,r.default)(e,"ivu-page-custom-text",""!==this.nextText),e)]},firstPageClasses:function(){return["ivu-page-item",(0,r.default)({},"ivu-page-item-active",1===this.currentPage)]},lastPageClasses:function(){return["ivu-page-item",(0,r.default)({},"ivu-page-item-active",this.currentPage===this.allPages)]}},methods:{changePage:function(e){this.disabled||this.currentPage!=e&&(this.currentPage=e,this.$emit("update:current",e),this.$emit("on-change",e))},prev:function(){if(!this.disabled){var e=this.currentPage;if(e<=1)return!1;this.changePage(e-1)}},next:function(){if(!this.disabled){var e=this.currentPage;if(e>=this.allPages)return!1;this.changePage(e+1)}},fastPrev:function(){if(!this.disabled){var e=this.currentPage-5;e>0?this.changePage(e):this.changePage(1)}},fastNext:function(){if(!this.disabled){var e=this.currentPage+5;e>this.allPages?this.changePage(this.allPages):this.changePage(e)}},onSize:function(e){this.disabled||(this.currentPageSize=e,this.$emit("on-page-size-change",e),this.changePage(1))},onPage:function(e){this.disabled||this.changePage(e)},keyDown:function(e){var t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||8===t||37===t||39===t||e.preventDefault()},keyUp:function(e){var t=e.keyCode,n=parseInt(e.target.value);if(38===t)this.prev();else if(40===t)this.next();else if(13===t){var r=1;r=n>this.allPages?this.allPages:n<=0||!n?1:n,e.target.value=r,this.changePage(r)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(74)),o=c(n(81)),l=c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"PageOption",mixins:[l.default],components:{iSelect:r.default,iOption:o.default},props:{pageSizeOpts:Array,showSizer:Boolean,showElevator:Boolean,current:Number,_current:Number,pageSize:Number,allPages:Number,isSmall:Boolean,placement:String,transfer:Boolean,disabled:Boolean},data:function(){return{currentPageSize:this.pageSize}},watch:{pageSize:function(e){this.currentPageSize=e}},computed:{size:function(){return this.isSmall?"small":"default"},optsClasses:function(){return["ivu-page-options"]},sizerClasses:function(){return["ivu-page-options-sizer"]},ElevatorClasses:function(){return["ivu-page-options-elevator"]}},methods:{changeSize:function(){this.$emit("on-size",this.currentPageSize)},changePage:function(e){var t=e.target.value.trim(),n=0;if(/^[1-9][0-9]*$/.test(t+"")){if((t=Number(t))!=this.current){var r=this.allPages;n=t>r?r:t}}else n=1;n&&(this.$emit("on-page",n),e.target.value=n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(220),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(513),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(1)),o=y(n(2)),l=y(n(221)),c=y(n(28)),d=y(n(82)),f=y(n(23)),h=n(3),v=n(37),m=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}var x="ivu-poptip";t.default={name:"Poptip",mixins:[l.default,m.default],directives:{clickOutside:d.default,TransferDom:f.default},components:{iButton:c.default},props:{trigger:{validator:function(e){return(0,h.oneOf)(e,["click","focus","hover"])},default:"click"},placement:{validator:function(e){return(0,h.oneOf)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"top"},title:{type:[String,Number]},content:{type:[String,Number],default:""},width:{type:[String,Number]},confirm:{type:Boolean,default:!1},okText:{type:String},cancelText:{type:String},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},popperClass:{type:String},wordWrap:{type:Boolean,default:!1},padding:{type:String},disabled:{type:Boolean,default:!1},capture:{type:Boolean,default:function(){return!!this.$IVIEW&&this.$IVIEW.capture}},transferClassName:{type:String}},data:function(){return{prefixCls:x,showTitle:!0,isInput:!1,disableCloseUnderTransfer:!1,tIndex:this.handleGetIndex()}},computed:{classes:function(){return[""+x,(0,o.default)({},x+"-confirm",this.confirm)]},popperClasses:function(){var e;return[x+"-popper",(e={},(0,o.default)(e,x+"-confirm",this.transfer&&this.confirm),(0,o.default)(e,""+String(this.popperClass),!!this.popperClass),(0,o.default)(e,x+"-transfer",this.transfer),(0,o.default)(e,this.transferClassName,this.transferClassName),e)]},styles:function(){var style={};return this.width&&(style.width=String(this.width)+"px"),this.transfer&&(style["z-index"]=1060+this.tIndex),style},localeOkText:function(){return void 0===this.okText?this.t("i.poptip.okText"):this.okText},localeCancelText:function(){return void 0===this.cancelText?this.t("i.poptip.cancelText"):this.cancelText},contentClasses:function(){return[x+"-body-content",(0,o.default)({},x+"-body-content-word-wrap",this.wordWrap)]},contentPaddingStyle:function(){var e={};return""!==this.padding&&(e.padding=this.padding),e}},methods:{handleClick:function(){if(!this.disabled)return this.confirm?(this.visible=!this.visible,!0):"click"===this.trigger&&void(this.visible=!this.visible)},handleTransferClick:function(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose:function(){return this.disableCloseUnderTransfer?(this.disableCloseUnderTransfer=!1,!1):this.confirm?(this.visible=!1,!0):"click"===this.trigger&&void(this.visible=!1)},handleFocus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.disabled)return!("focus"!==this.trigger||this.confirm||this.isInput&&!e)&&void(this.visible=!0)},handleBlur:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("focus"!==this.trigger||this.confirm||this.isInput&&!e)return!1;this.visible=!1},handleMouseenter:function(){var e=this;if(!this.disabled){if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&clearTimeout(this.enterTimer),this.enterTimer=setTimeout(function(){(0,r.default)(this,e),this.visible=!0}.bind(this),100)}},handleMouseleave:function(){var e=this;if("hover"!==this.trigger||this.confirm)return!1;this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=setTimeout(function(){(0,r.default)(this,e),this.visible=!1}.bind(this),100))},cancel:function(){this.visible=!1,this.$emit("on-cancel")},ok:function(){this.visible=!1,this.$emit("on-ok")},getInputChildren:function(){var e=this.$refs.reference.querySelectorAll("input"),t=this.$refs.reference.querySelectorAll("textarea"),n=null;return e.length?n=e[0]:t.length&&(n=t[0]),n},handleGetIndex:function(){return(0,v.transferIncrease)(),v.transferIndex},handleIndexIncrease:function(){this.tIndex=this.handleGetIndex()}},mounted:function(){var e=this;this.confirm||(this.showTitle=void 0!==this.$slots.title||this.title),"focus"===this.trigger&&this.$nextTick(function(){(0,r.default)(this,e);var t=this.getInputChildren();t&&(this.isInput=!0,t.addEventListener("focus",this.handleFocus,!1),t.addEventListener("blur",this.handleBlur,!1))}.bind(this))},beforeDestroy:function(){var e=this.getInputChildren();e&&(e.removeEventListener("focus",this.handleFocus,!1),e.removeEventListener("blur",this.handleBlur,!1))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var l=o(n(16)).default.prototype.$isServer,c=l?function(){}:n(116);t.default={props:{placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:Object,popper:Object,offset:{default:0},value:{type:Boolean,default:!1},transition:String,options:{type:Object,default:function(){return{modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}}}},data:function(){return{visible:this.value}},watch:{value:{immediate:!0,handler:function(e){this.visible=e,this.$emit("input",e)}},visible:function(e){e?(this.handleIndexIncrease&&this.handleIndexIncrease(),this.updatePopper(),this.$emit("on-popper-show")):this.$emit("on-popper-hide"),this.$emit("input",e)}},methods:{createPopper:function(){var e=this;if(!l&&/^(top|bottom|left|right)(-start|-end)?$/g.test(this.placement)){var t=this.options,n=this.popper||this.$refs.popper,o=this.reference||this.$refs.reference;n&&o&&(this.popperJS&&this.popperJS.hasOwnProperty("destroy")&&this.popperJS.destroy(),t.placement=this.placement,t.modifiers.offset||(t.modifiers.offset={}),t.modifiers.offset.offset=this.offset,t.onCreate=function(){(0,r.default)(this,e),this.$nextTick(this.updatePopper),this.$emit("created",this)}.bind(this),this.popperJS=new c(o,n,t))}},updatePopper:function(){l||(this.popperJS?this.popperJS.update():this.createPopper())},doDestroy:function(){l||this.visible||(this.popperJS.destroy(),this.popperJS=null)}},updated:function(){var e=this;this.$nextTick(function(){return(0,r.default)(this,e),this.updatePopper()}.bind(this))},beforeDestroy:function(){l||this.popperJS&&this.popperJS.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(223),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(515),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(19)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}var d="ivu-progress";t.default={name:"Progress",components:{Icon:o.default},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator:function(e){return(0,l.oneOf)(e,["normal","active","wrong","success"])},default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data:function(){return{currentStatus:this.status}},computed:{isStatus:function(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon:function(){var e="";switch(this.currentStatus){case"wrong":e="ios-close-circle";break;case"success":e="ios-checkmark-circle"}return e},bgStyle:function(){var style=this.vertical?{height:String(this.percent)+"%",width:String(this.strokeWidth)+"px"}:{width:String(this.percent)+"%",height:String(this.strokeWidth)+"px"};return this.strokeColor&&("string"==typeof this.strokeColor?style["background-color"]=this.strokeColor:style["background-image"]="linear-gradient(to right, "+String(this.strokeColor[0])+" 0%, "+String(this.strokeColor[1])+" 100%)"),style},successBgStyle:function(){return this.vertical?{height:String(this.successPercent)+"%",width:String(this.strokeWidth)+"px"}:{width:String(this.successPercent)+"%",height:String(this.strokeWidth)+"px"}},wrapClasses:function(){var e;return[""+d,d+"-"+String(this.currentStatus),(e={},(0,r.default)(e,d+"-show-info",!this.hideInfo&&!this.textInside),(0,r.default)(e,d+"-vertical",this.vertical),e)]},textClasses:function(){return d+"-text"},textInnerClasses:function(){return d+"-text-inner"},outerClasses:function(){return d+"-outer"},innerClasses:function(){return d+"-inner"},bgClasses:function(){return d+"-bg"},successBgClasses:function(){return d+"-success-bg"}},created:function(){this.handleStatus()},methods:{handleStatus:function(e){e?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}},watch:{percent:function(e,t){e<t?this.handleStatus(!0):this.handleStatus()},status:function(e){this.currentStatus=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=n(3),l=d(n(4)),c=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-radio";t.default={name:"Radio",mixins:[l.default,c.default],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator:function(e){return(0,o.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},border:{type:Boolean,default:!1}},data:function(){return{currentValue:this.value,group:!1,groupName:this.name,parent:(0,o.findComponentUpward)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses:function(){var e;return[f+"-wrapper",(e={},(0,r.default)(e,f+"-group-item",this.group),(0,r.default)(e,f+"-wrapper-checked",this.currentValue),(0,r.default)(e,f+"-wrapper-disabled",this.itemDisabled),(0,r.default)(e,f+"-"+String(this.size),!!this.size),(0,r.default)(e,f+"-focus",this.focusWrapper),(0,r.default)(e,f+"-border",this.border),e)]},radioClasses:function(){var e;return[""+f,(e={},(0,r.default)(e,f+"-checked",this.currentValue),(0,r.default)(e,f+"-disabled",this.itemDisabled),e)]},innerClasses:function(){return[f+"-inner",(0,r.default)({},f+"-focus",this.focusInner)]},inputClasses:function(){return f+"-input"}},mounted:function(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),this.group?this.parent.updateValue():this.updateValue()},methods:{change:function(e){if(this.itemDisabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateValue:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusWrapper=!1,this.focusInner=!1},onFocus:function(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(2)),o=d(n(1)),l=n(3),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f="ivu-radio-group",h=0,v=Date.now(),m=function(){return(0,o.default)(void 0,void 0),"ivuRadioGroup_"+String(v)+"_"+h++}.bind(void 0);t.default={name:"RadioGroup",mixins:[c.default],props:{value:{type:[String,Number],default:""},size:{validator:function(e){return(0,l.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},type:{validator:function(e){return(0,l.oneOf)(e,["button"])}},vertical:{type:Boolean,default:!1},name:{type:String,default:m}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){var e;return[""+f,(e={},(0,r.default)(e,f+"-"+String(this.size),!!this.size),(0,r.default)(e,"ivu-radio-"+String(this.size),!!this.size),(0,r.default)(e,f+"-"+String(this.type),!!this.type),(0,r.default)(e,f+"-vertical",this.vertical),e)]}},mounted:function(){this.updateValue()},methods:{updateValue:function(){var e=this;this.childrens=(0,l.findComponentsDownward)(this,"Radio"),this.childrens&&this.childrens.forEach(function(t){(0,o.default)(this,e),t.currentValue=this.currentValue===t.label,t.group=!0}.bind(this))},change:function(data){this.currentValue=data.value,this.updateValue(),this.$emit("input",data.value),this.$emit("on-change",data.value),this.dispatch("FormItem","on-form-change",data.value)}},watch:{value:function(){var e=this;this.currentValue!==this.value&&(this.currentValue=this.value,this.$nextTick(function(){(0,o.default)(this,e),this.updateValue()}.bind(this)))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(2)),o=f(n(6)),l=f(n(4)),c=f(n(11)),d=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Rate",mixins:[o.default,l.default,c.default],components:{Icon:d.default},props:{count:{type:Number,default:5},value:{type:Number,default:0},allowHalf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},name:{type:String},clearable:{type:Boolean,default:!1},character:{type:String,default:""},icon:{type:String,default:""},customIcon:{type:String,default:""}},data:function(){return{prefixCls:"ivu-rate",hoverIndex:-1,isHover:!1,isHalf:this.allowHalf&&this.value.toString().indexOf(".")>=0,currentValue:this.value}},computed:{classes:function(){return["ivu-rate",(0,r.default)({},"ivu-rate-disabled",this.itemDisabled)]},iconClasses:function(){var e;return["ivu-icon",(e={},(0,r.default)(e,"ivu-icon-"+String(this.icon),""!==this.icon),(0,r.default)(e,""+String(this.customIcon),""!==this.customIcon),e)]},showCharacter:function(){return""!==this.character||""!==this.icon||""!==this.customIcon}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.setHalf(e)}},methods:{starCls:function(e){var t,n=this.hoverIndex,o=this.isHover?n:this.currentValue,l=!1,c=!1;return o>=e&&(l=!0),c=this.isHover?o===e:Math.ceil(this.currentValue)===e,[(t={},(0,r.default)(t,"ivu-rate-star",!this.showCharacter),(0,r.default)(t,"ivu-rate-star-chart",this.showCharacter),(0,r.default)(t,"ivu-rate-star-full",!c&&l||c&&!this.isHalf),(0,r.default)(t,"ivu-rate-star-half",c&&this.isHalf),(0,r.default)(t,"ivu-rate-star-zero",!l),t)]},handleMousemove:function(e,t){if(!this.itemDisabled){if(this.isHover=!0,this.allowHalf){var n=t.target.getAttribute("type")||!1;this.isHalf="half"===n}else this.isHalf=!1;this.hoverIndex=e}},handleMouseleave:function(){this.itemDisabled||(this.isHover=!1,this.setHalf(this.currentValue),this.hoverIndex=-1)},setHalf:function(e){this.isHalf=this.allowHalf&&e.toString().indexOf(".")>=0},handleClick:function(e){this.itemDisabled||(this.isHalf&&(e-=.5),this.clearable&&Math.abs(e-this.currentValue)<.01&&(e=0),this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n(75)),o=S(n(26)),l=S(n(21)),c=S(n(2)),d=S(n(1)),f=S(n(17)),h=S(n(194)),v=S(n(93)),m=S(n(528)),y=n(3),x=n(12),_=S(n(4)),w=S(n(11)),k=S(n(94));function S(e){return e&&e.__esModule?e:{default:e}}var C="ivu-slider";t.default={name:"Slider",mixins:[_.default,w.default],components:{InputNumber:h.default,Tooltip:v.default,SliderMarker:m.default},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},range:{type:Boolean,default:!1},value:{type:[Number,Array],default:0},disabled:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},inputSize:{type:String,default:"default",validator:function(e){return(0,y.oneOf)(e,["small","large","default"])}},showStops:{type:Boolean,default:!1},tipFormat:{type:Function,default:function(e){return e}},showTip:{type:String,default:"hover",validator:function(e){return(0,y.oneOf)(e,["hover","always","never"])}},name:{type:String},activeChange:{type:Boolean,default:!0},marks:{type:Object}},data:function(){var e=this.checkLimits(Array.isArray(this.value)?this.value:[this.value]);return{prefixCls:C,currentValue:e,dragging:!1,pointerDown:"",startX:0,currentX:0,startPos:0,oldValue:[].concat((0,f.default)(e)),valueIndex:{min:0,max:1},sliderWidth:0}},watch:{value:function(e){e=this.checkLimits(Array.isArray(e)?e:[e]),this.dragging||e[0]===this.currentValue[0]&&e[1]===this.currentValue[1]||(this.currentValue=e)},exportValue:function(e){var t=this;this.$nextTick(function(){(0,d.default)(this,t),this.$refs.minTooltip.updatePopper(),this.range&&this.$refs.maxTooltip.updatePopper()}.bind(this));var n=this.range?e:e[0];this.$emit("input",n),this.$emit("on-input",n)}},computed:{classes:function(){var e;return[""+C,(e={},(0,c.default)(e,C+"-input",this.showInput&&!this.range),(0,c.default)(e,C+"-range",this.range),(0,c.default)(e,C+"-disabled",this.itemDisabled),e)]},minButtonClasses:function(){return[C+"-button",(0,c.default)({},C+"-button-dragging","min"===this.pointerDown)]},maxButtonClasses:function(){return[C+"-button",(0,c.default)({},C+"-button-dragging","max"===this.pointerDown)]},exportValue:function(){var e=this,t=(String(this.step).split(".")[1]||"").length;return this.currentValue.map(function(n){return(0,d.default)(this,e),Number(n.toFixed(t))}.bind(this))},minPosition:function(){return(this.currentValue[0]-this.min)/this.valueRange*100},maxPosition:function(){return(this.currentValue[1]-this.min)/this.valueRange*100},barStyle:function(){var style={width:(this.currentValue[0]-this.min)/this.valueRange*100+"%"};return this.range&&(style.left=(this.currentValue[0]-this.min)/this.valueRange*100+"%",style.width=(this.currentValue[1]-this.currentValue[0])/this.valueRange*100+"%"),style},stops:function(){for(var e=this.valueRange/this.step,t=[],n=100*this.step/this.valueRange,i=1;i<e;i++)t.push(i*n);return t},markList:function(){var e=this;return this.marks?(0,l.default)(this.marks).map(parseFloat).sort(function(a,b){return(0,d.default)(this,e),a-b}.bind(this)).filter(function(t){return(0,d.default)(this,e),t<=this.max&&t>=this.min}.bind(this)).map(function(t){return(0,d.default)(this,e),{point:t,position:100*(t-this.min)/(this.max-this.min),mark:this.marks[t]}}.bind(this)):[]},tipDisabled:function(){return null===this.tipFormat(this.currentValue[0])||"never"===this.showTip},valueRange:function(){return this.max-this.min},firstPosition:function(){return this.currentValue[0]},secondPosition:function(){return this.currentValue[1]}},methods:{getPointerX:function(e){return-1!==e.type.indexOf("touch")?e.touches[0].clientX:e.clientX},checkLimits:function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return n=Math.max(this.min,n),n=Math.min(this.max,n),r=Math.max(this.min,n,r),[n,r=Math.min(this.max,r)]},getCurrentValue:function(e,t){if(!this.itemDisabled){var n=this.valueIndex[t];if(void 0!==n)return this.currentValue[n]}},onKeyLeft:function(e,t){var n=this.getCurrentValue(e,t);(0,r.default)(n)&&this.changeButtonPosition(n-this.step,t)},onKeyRight:function(e,t){var n=this.getCurrentValue(e,t);(0,r.default)(n)&&this.changeButtonPosition(n+this.step,t)},onPointerDown:function(e,t){this.itemDisabled||(e.preventDefault(),this.pointerDown=t,this.onPointerDragStart(e),(0,x.on)(window,"mousemove",this.onPointerDrag),(0,x.on)(window,"touchmove",this.onPointerDrag),(0,x.on)(window,"mouseup",this.onPointerDragEnd),(0,x.on)(window,"touchend",this.onPointerDragEnd))},onPointerDragStart:function(e){this.dragging=!1,this.startX=this.getPointerX(e),this.startPos=this[String(this.pointerDown)+"Position"]*this.valueRange/100+this.min},onPointerDrag:function(e){this.dragging=!0,this.$refs[String(this.pointerDown)+"Tooltip"].visible=!0,this.currentX=this.getPointerX(e);var t=(this.currentX-this.startX)/this.sliderWidth*this.valueRange;this.changeButtonPosition(this.startPos+t)},onPointerDragEnd:function(){this.dragging&&(this.dragging=!1,this.$refs[String(this.pointerDown)+"Tooltip"].visible=!1,this.emitChange()),this.pointerDown="",(0,x.off)(window,"mousemove",this.onPointerDrag),(0,x.off)(window,"touchmove",this.onPointerDrag),(0,x.off)(window,"mouseup",this.onPointerDragEnd),(0,x.off)(window,"touchend",this.onPointerDragEnd)},changeButtonPosition:function(e,t){var n=t||this.pointerDown,r="min"===n?0:1;e="min"===n?this.checkLimits([e,this.max])[0]:this.checkLimits([this.min,e])[1];var o=this.handleDecimal(e,this.step),l=this.currentValue;l[r]=e-o,this.range&&("min"===n&&l[0]>l[1]&&(l[1]=l[0]),"max"===n&&l[0]>l[1]&&(l[0]=l[1])),this.currentValue=[].concat((0,f.default)(l)),this.dragging||this.currentValue[r]!==this.oldValue[r]&&(this.emitChange(),this.oldValue[r]=this.currentValue[r])},handleDecimal:function(e,t){if(t<1){var n,r=t.toString(),o=void 0;try{o=r.split(".")[1].length}catch(e){o=0}return e*(n=Math.pow(10,o))%(t*n)/n}return e%t},emitChange:function(){var e=this.range?this.exportValue:this.exportValue[0];this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},sliderClick:function(e){if(!this.itemDisabled){var t=(this.getPointerX(e)-this.$refs.slider.getBoundingClientRect().left)/this.sliderWidth*this.valueRange+this.min,n=t/this.valueRange*100;!this.range||n<=this.minPosition?this.changeButtonPosition(t,"min"):n>=this.maxPosition?this.changeButtonPosition(t,"max"):this.changeButtonPosition(t,t-this.firstPosition<=this.secondPosition-t?"min":"max")}},handleInputChange:function(e){this.currentValue=[0===e?0:e||this.min,this.currentValue[1]],this.emitChange()},handleFocus:function(e){this.$refs[String(e)+"Tooltip"].handleShowPopper()},handleBlur:function(e){this.$refs[String(e)+"Tooltip"].handleClosePopper()},handleSetSliderWidth:function(){this.sliderWidth=parseInt((0,y.getStyle)(this.$refs.slider,"width"),10)}},mounted:function(){var e=this;this.$on("on-visible-change",function(t){(0,d.default)(this,e),t&&"always"===this.showTip&&(this.$refs.minTooltip.doDestroy(),this.range&&this.$refs.maxTooltip.doDestroy(),this.$nextTick(function(){(0,d.default)(this,e),this.$refs.minTooltip.updatePopper(),this.range&&this.$refs.maxTooltip.updatePopper()}.bind(this)))}.bind(this)),this.observer=(0,k.default)(),this.observer.listenTo(this.$refs.slider,this.handleSetSliderWidth)},beforeDestroy:function(){this.observer.removeListener(this.$refs.slider,this.handleSetSliderWidth)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(2)),l=h(n(221)),c=h(n(23)),d=n(3),f=n(37);function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Tooltip",directives:{TransferDom:c.default},mixins:[l.default],props:{placement:{validator:function(e){return(0,d.oneOf)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"])},default:"bottom"},content:{type:[String,Number],default:""},delay:{type:Number,default:100},disabled:{type:Boolean,default:!1},controlled:{type:Boolean,default:!1},always:{type:Boolean,default:!1},transfer:{type:Boolean,default:function(){return!(!this.$IVIEW||""===this.$IVIEW.transfer)&&this.$IVIEW.transfer}},theme:{validator:function(e){return(0,d.oneOf)(e,["dark","light"])},default:"dark"},maxWidth:{type:[String,Number]},transferClassName:{type:String}},data:function(){return{prefixCls:"ivu-tooltip",tIndex:this.handleGetIndex()}},computed:{innerStyles:function(){var e={};return this.maxWidth&&(e["max-width"]=String(this.maxWidth)+"px"),e},innerClasses:function(){return["ivu-tooltip-inner",(0,o.default)({},"ivu-tooltip-inner-with-width",!!this.maxWidth)]},dropStyles:function(){var e={};return this.transfer&&(e["z-index"]=1060+this.tIndex),e},dropdownCls:function(){var e;return["ivu-tooltip-popper","ivu-tooltip-"+String(this.theme),(e={},(0,o.default)(e,"ivu-tooltip-transfer",this.transfer),(0,o.default)(e,this.transferClassName,this.transferClassName),e)]}},watch:{content:function(){this.updatePopper()}},methods:{handleShowPopper:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){(0,r.default)(this,e),this.visible=!0}.bind(this),this.delay),this.tIndex=this.handleGetIndex()},handleClosePopper:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.controlled||(this.timeout=setTimeout(function(){(0,r.default)(this,e),this.visible=!1}.bind(this),100)))},handleGetIndex:function(){return(0,f.transferIncrease)(),f.transferIndex}},mounted:function(){this.always&&this.updatePopper()}}},function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return n}}},function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==function(){var e=3,div=document.createElement("div"),t=div.getElementsByTagName("i");do{div.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(t[0]);return e>4?e:void 0}());var t},r.isLegacyOpera=function(){return!!window.opera}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(2)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Steps",props:{current:{type:Number,default:0},status:{validator:function(e){return(0,l.oneOf)(e,["wait","process","finish","error"])},default:"process"},size:{validator:function(e){return(0,l.oneOf)(e,["small"])}},direction:{validator:function(e){return(0,l.oneOf)(e,["horizontal","vertical"])},default:"horizontal"}},computed:{classes:function(){return["ivu-steps","ivu-steps-"+String(this.direction),(0,o.default)({},"ivu-steps-"+String(this.size),!!this.size)]}},methods:{updateChildProps:function(e){var t=this,n=this.$children.length;this.$children.forEach(function(o,l){(0,r.default)(this,t),o.stepNumber=l+1,"horizontal"===this.direction&&(o.total=n),e&&o.currentStatus||(l===this.current?"error"!==this.status&&(o.currentStatus="process"):l<this.current?o.currentStatus="finish":o.currentStatus="wait"),"error"!==o.currentStatus&&0!==l&&(this.$children[l-1].nextError=!1)}.bind(this))},setNextError:function(){var e=this;this.$children.forEach(function(t,n){(0,r.default)(this,e),"error"===t.currentStatus&&0!==n&&(this.$children[n-1].nextError=!0)}.bind(this))},updateCurrent:function(e){this.current<0||this.current>=this.$children.length||e&&this.$children[this.current].currentStatus||(this.$children[this.current].currentStatus=this.status)},debouncedAppendRemove:function(){return e=function(){this.updateSteps()},t=void 0,function(){if(!t){t=!0;var n=this,r=arguments,o=function(){t=!1,e.apply(n,r)};this.$nextTick(o)}};var e,t},updateSteps:function(){this.updateChildProps(!0),this.setNextError(),this.updateCurrent(!0)}},mounted:function(){this.updateSteps(),this.$on("append",this.debouncedAppendRemove()),this.$on("remove",this.debouncedAppendRemove())},watch:{current:function(){this.updateChildProps()},status:function(){this.updateCurrent()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(4)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Step",mixins:[o.default],props:{status:{validator:function(e){return(0,l.oneOf)(e,["wait","process","finish","error"])}},title:{type:String,default:""},content:{type:String},icon:{type:String}},data:function(){return{prefixCls:"ivu-steps",stepNumber:"",nextError:!1,total:1,currentStatus:""}},computed:{wrapClasses:function(){var e;return["ivu-steps-item","ivu-steps-status-"+String(this.currentStatus),(e={},(0,r.default)(e,"ivu-steps-custom",!!this.icon||!!this.$slots.icon),(0,r.default)(e,"ivu-steps-next-error",this.nextError),e)]},iconClasses:function(){var e="";return this.icon?e=this.icon:"finish"===this.currentStatus?e="ios-checkmark":"error"===this.currentStatus&&(e="ios-close"),["ivu-steps-icon","ivu-icon",(0,r.default)({},"ivu-icon-"+String(e),""!==e)]}},watch:{status:function(e){this.currentStatus=e,"error"===this.currentStatus&&this.$parent.setNextError()}},created:function(){this.currentStatus=this.status},mounted:function(){this.dispatch("Steps","append")},beforeDestroy:function(){this.dispatch("Steps","remove")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1)),o=f(n(2)),l=n(3),c=f(n(4)),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"iSwitch",mixins:[c.default,d.default],props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:!1},size:{validator:function(e){return(0,l.oneOf)(e,["large","small","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String},loading:{type:Boolean,default:!1},trueColor:{type:String},falseColor:{type:String},beforeChange:Function},data:function(){return{currentValue:this.value}},computed:{wrapClasses:function(){var e;return["ivu-switch",(e={},(0,o.default)(e,"ivu-switch-checked",this.currentValue===this.trueValue),(0,o.default)(e,"ivu-switch-disabled",this.itemDisabled),(0,o.default)(e,"ivu-switch-"+String(this.size),!!this.size),(0,o.default)(e,"ivu-switch-loading",this.loading),e)]},wrapStyles:function(){var style={};return this.trueColor&&this.currentValue===this.trueValue?(style["border-color"]=this.trueColor,style["background-color"]=this.trueColor):this.falseColor&&this.currentValue===this.falseValue&&(style["border-color"]=this.falseColor,style["background-color"]=this.falseColor),style},innerClasses:function(){return"ivu-switch-inner"}},methods:{handleToggle:function(){var e=this.currentValue===this.trueValue?this.falseValue:this.trueValue;this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)},toggle:function(e){var t=this;if(e.preventDefault(),this.itemDisabled||this.loading)return!1;if(!this.beforeChange)return this.handleToggle();var n=this.beforeChange();n&&n.then?n.then(function(){(0,r.default)(this,t),this.handleToggle()}.bind(this)):this.handleToggle()}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.currentValue=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=P(n(45)),o=P(n(552)),l=P(n(17)),c=P(n(57)),d=P(n(1)),f=P(n(2)),h=P(n(567)),v=P(n(570)),m=P(n(576)),y=P(n(61)),x=P(n(62)),_=P(n(91)),w=n(3),k=n(12),S=P(n(578)),C=P(n(579)),T=P(n(6)),E=P(n(94)),M=n(580);function P(e){return e&&e.__esModule?e:{default:e}}var A="ivu-table",O=1,I=1;t.default={name:"Table",mixins:[T.default],components:{tableHead:h.default,tableBody:v.default,tableSummary:m.default,Spin:_.default,Dropdown:y.default,DropdownMenu:x.default},provide:function(){return{tableRoot:this}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},size:{validator:function(e){return(0,w.oneOf)(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},width:{type:[Number,String]},height:{type:[Number,String]},maxHeight:{type:[Number,String]},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClassName:{type:Function,default:function(){return""}},context:{type:Object},noDataText:{type:String},noFilteredDataText:{type:String},disabledHover:{type:Boolean},loading:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tooltipTheme:{validator:function(e){return(0,w.oneOf)(e,["dark","light"])},default:"dark"},rowKey:{type:[Boolean,String],default:!1},spanMethod:{type:Function},showSummary:{type:Boolean,default:!1},summaryMethod:{type:Function},sumText:{type:String},indentSize:{type:Number,default:16},loadData:{type:Function},updateShowChildren:{type:Boolean,default:!1},contextMenu:{type:Boolean,default:!1},showContextMenu:{type:Boolean,default:!1}},data:function(){var e=this.makeColumnsId(this.columns);return{ready:!1,tableWidth:0,columnsWidth:{},prefixCls:A,compiledUids:[],objData:this.makeObjData(),rebuildData:[],cloneColumns:this.makeColumns(e),columnRows:this.makeColumnRows(!1,e),leftFixedColumnRows:this.makeColumnRows("left",e),rightFixedColumnRows:this.makeColumnRows("right",e),allColumns:(0,M.getAllColumns)(e),showSlotHeader:!0,showSlotFooter:!0,bodyHeight:0,scrollBarWidth:(0,w.getScrollBarSize)(),currentContext:this.context,cloneData:(0,w.deepCopy)(this.data),showVerticalScrollBar:!1,showHorizontalScrollBar:!1,headerWidth:0,headerHeight:0,showResizeLine:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},computed:{localeNoDataText:function(){return void 0===this.noDataText?this.t("i.table.noDataText"):this.noDataText},localeNoFilteredDataText:function(){return void 0===this.noFilteredDataText?this.t("i.table.noFilteredDataText"):this.noFilteredDataText},localeSumText:function(){return void 0===this.sumText?this.t("i.table.sumText"):this.sumText},wrapClasses:function(){var e;return[A+"-wrapper",(e={},(0,f.default)(e,A+"-hide",!this.ready),(0,f.default)(e,A+"-with-header",this.showSlotHeader),(0,f.default)(e,A+"-with-footer",this.showSlotFooter),(0,f.default)(e,A+"-with-summary",this.showSummary),(0,f.default)(e,A+"-wrapper-with-border",this.border),e)]},classes:function(){var e;return[""+A,(e={},(0,f.default)(e,A+"-"+String(this.size),!!this.size),(0,f.default)(e,A+"-border",this.border),(0,f.default)(e,A+"-stripe",this.stripe),(0,f.default)(e,A+"-with-fixed-top",!!this.height),e)]},fixedHeaderClasses:function(){return[A+"-fixed-header",(0,f.default)({},A+"-fixed-header-with-empty",!this.rebuildData.length)]},styles:function(){var style={},e=0;if(this.showSummary&&(e="small"===this.size?40:"large"===this.size?60:48),this.height){var t=parseInt(this.height)+e;style.height=String(t)+"px"}if(this.maxHeight){var n=parseInt(this.maxHeight)+e;style.maxHeight=String(n)+"px"}return this.width&&(style.width=String(this.width)+"px"),style},tableStyle:function(){var style={};if(0!==this.tableWidth){var e="";e=0===this.bodyHeight?this.tableWidth:this.tableWidth-(this.showVerticalScrollBar?this.scrollBarWidth:0),style.width=String(e)+"px"}return style},tableHeaderStyle:function(){var e,style={};0!==this.tableWidth&&(e=this.tableWidth,style.width=String(e)+"px");return style},fixedTableStyle:function(){var e=this,style={},t=0;return this.leftFixedColumns.forEach(function(col){(0,d.default)(this,e),col.fixed&&"left"===col.fixed&&(t+=col._width)}.bind(this)),style.width=String(t)+"px",style},fixedRightTableStyle:function(){var e=this,style={},t=0;return this.rightFixedColumns.forEach(function(col){(0,d.default)(this,e),col.fixed&&"right"===col.fixed&&(t+=col._width)}.bind(this)),style.width=String(t)+"px",style.right=String(this.showVerticalScrollBar?this.scrollBarWidth:0)+"px",style},fixedRightHeaderStyle:function(){var style={},e=0,t=this.headerHeight+1;return this.showVerticalScrollBar&&(e=this.scrollBarWidth),style.width=String(e)+"px",style.height=String(t)+"px",style},bodyStyle:function(){var style={};if(0!==this.bodyHeight){var e=this.bodyHeight;this.height?style.height=String(e)+"px":this.maxHeight&&(style.maxHeight=String(e)+"px")}return style},fixedBodyStyle:function(){var style={};if(0!==this.bodyHeight){var e=this.bodyHeight-(this.showHorizontalScrollBar?this.scrollBarWidth:0);style.height=this.showHorizontalScrollBar?e+"px":e-1+"px"}return style},leftFixedColumns:function(){return(0,M.convertColumnOrder)(this.cloneColumns,"left")},rightFixedColumns:function(){return(0,M.convertColumnOrder)(this.cloneColumns,"right")},isLeftFixed:function(){var e=this;return this.columns.some(function(col){return(0,d.default)(this,e),col.fixed&&"left"===col.fixed}.bind(this))},isRightFixed:function(){var e=this;return this.columns.some(function(col){return(0,d.default)(this,e),col.fixed&&"right"===col.fixed}.bind(this))},summaryData:function(){var e=this;if(!this.showSummary)return{};var t={};return this.summaryMethod?t=this.summaryMethod({columns:this.cloneColumns,data:this.rebuildData}):this.cloneColumns.forEach(function(n,r){(0,d.default)(this,e);var o=n.key;if(0!==r){var l=this.rebuildData.map(function(t){return(0,d.default)(this,e),Number(t[n.key])}.bind(this)),c=[],f=!0;l.forEach(function(t){if((0,d.default)(this,e),!isNaN(t)){f=!1;var n=(""+t).split(".")[1];c.push(n?n.length:0)}}.bind(this));var h=Math.max.apply(null,c);if(f)t[o]={key:n.key,value:""};else{var v=l.reduce(function(t,n){(0,d.default)(this,e);var r=Number(n);return isNaN(r)?t:parseFloat((t+n).toFixed(Math.min(h,20)))}.bind(this),0);t[o]={key:n.key,value:v}}}else t[o]={key:n.key,value:this.localeSumText}}.bind(this)),t}},methods:{rowClsName:function(e){return this.rowClassName(this.data[e],e)},handleResize:function(){var e=this,t=this.$el.offsetWidth-1,n={},r=0,o=[],l=[],c=[],f=[];this.cloneColumns.forEach(function(col){(0,d.default)(this,e),col.width?o.push(col):(l.push(col),col.minWidth&&(r+=col.minWidth),col.maxWidth?c.push(col):f.push(col)),col._width=null}.bind(this));var h=t-o.map(function(t){return(0,d.default)(this,e),t.width}.bind(this)).reduce(function(a,b){return(0,d.default)(this,e),a+b}.bind(this),0)-r-(this.showVerticalScrollBar?this.scrollBarWidth:0)-1,v=l.length,m=0;h>0&&v>0&&(m=parseInt(h/v));for(var i=0;i<this.cloneColumns.length;i++){var y=this.cloneColumns[i],x=m+(y.minWidth?y.minWidth:0);y.width?x=y.width:y._width?x=y._width:(y.minWidth>x?x=y.minWidth:y.maxWidth<x&&(x=y.maxWidth),h>0?(h-=x-(y.minWidth?y.minWidth:0),m=--v>0?parseInt(h/v):0):m=0),y._width=x,n[y._index]={width:x}}if(h>0){v=f.length,m=parseInt(h/v);for(var _=0;_<f.length;_++){var w=f[_],k=w._width+m;v>1?(v--,h-=m,m=parseInt(h/v)):m=0,w._width=k,n[w._index]={width:k}}}this.tableWidth=this.cloneColumns.map(function(t){return(0,d.default)(this,e),t._width}.bind(this)).reduce(function(a,b){return(0,d.default)(this,e),a+b}.bind(this),0)+(this.showVerticalScrollBar?this.scrollBarWidth:0)+1,this.columnsWidth=n,this.fixedHeader()},handleMouseIn:function(e,t){if(!this.disabledHover){var n=t?this.getDataByRowKey(t):this.objData[e];n._isHover||(n._isHover=!0)}},handleMouseOut:function(e,t){this.disabledHover||((t?this.getDataByRowKey(t):this.objData[e])._isHover=!1)},handleCurrentRow:function(e,t,n){var r=n?this.getDataByRowKey(n):this.objData[t],o=null,l=-1;for(var i in this.objData){if(this.objData[i]._isHighlight){l=parseInt(i),this.objData[i]._isHighlight=!1;break}if(this.objData[i].children&&this.objData[i].children.length){var d=this.handleResetChildrenRow(this.objData[i]);d&&(o=JSON.parse((0,c.default)(d)))}}"highlight"===e&&(r._isHighlight=!0),l>=0&&(o=JSON.parse((0,c.default)(this.cloneData[l])));var f="highlight"===e?n?JSON.parse((0,c.default)(this.getBaseDataByRowKey(n))):JSON.parse((0,c.default)(this.cloneData[t])):null;this.$emit("on-current-change",f,o)},handleResetChildrenRow:function(e){var data=null;if(e.children&&e.children.length)for(var i=0;i<e.children.length;i++){var t=e.children[i];if(t._isHighlight){t._isHighlight=!1,data=t;break}t.children&&t.children.length&&(data=this.handleResetChildrenRow(t))}return data},highlightCurrentRow:function(e,t){var n=t?this.getDataByRowKey(t):this.objData[e];this.highlightRow&&!n._isHighlight&&this.handleCurrentRow("highlight",e,t)},clearCurrentRow:function(){this.highlightRow&&this.handleCurrentRow("clear")},clickCurrentRow:function(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-click",JSON.parse((0,c.default)(this.getBaseDataByRowKey(t)))):this.$emit("on-row-click",JSON.parse((0,c.default)(this.cloneData[e])),e)},dblclickCurrentRow:function(e,t){this.highlightCurrentRow(e,t),t?this.$emit("on-row-dblclick",JSON.parse((0,c.default)(this.getBaseDataByRowKey(t)))):this.$emit("on-row-dblclick",JSON.parse((0,c.default)(this.cloneData[e])),e)},contextmenuCurrentRow:function(e,t,n){var r=this;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){(0,d.default)(this,r);var o=this.$refs.tableWrap.getBoundingClientRect(),l={left:n.clientX-o.left+"px",top:n.clientY-o.top+"px"};this.contextMenuStyles=l,this.contextMenuVisible=!0,t?this.$emit("on-contextmenu",JSON.parse((0,c.default)(this.getBaseDataByRowKey(t))),n,l):this.$emit("on-contextmenu",JSON.parse((0,c.default)(this.cloneData[e])),n,l)}.bind(this))},getSelection:function(){var e=this,t=[],n=[];for(var i in this.objData){var r=this.objData[i];r._isChecked&&t.push(parseInt(i)),r.children&&r.children.length&&(n=n.concat(this.getSelectionChildrenRowKeys(r,n)))}n=[].concat((0,l.default)(new o.default(n)));var f=[];return this.data.forEach(function(r,o){(0,d.default)(this,e),t.indexOf(o)>-1&&(f=f.concat(r)),r.children&&r.children.length&&n.length&&(f=f.concat(this.getSelectionChildren(r,f,n)))}.bind(this)),f=[].concat((0,l.default)(new o.default(f))),JSON.parse((0,c.default)(f))},getSelectionChildrenRowKeys:function(e,t){var n=this;return e.children&&e.children.length&&e.children.forEach(function(e){(0,d.default)(this,n),e._isChecked&&t.push(e._rowKey),e.children&&e.children.length&&(t=t.concat(this.getSelectionChildrenRowKeys(e,t)))}.bind(this)),t},getSelectionChildren:function(data,e,t){var n=this;return data.children&&data.children.length&&data.children.forEach(function(r){(0,d.default)(this,n),t.indexOf(r[this.rowKey])>-1&&(e=e.concat(r)),r.children&&r.children.length&&(e=e.concat(this.getSelectionChildren(r,e,t)))}.bind(this)),e},toggleSelect:function(e,t){var data={};if(t)data=this.getDataByRowKey(t);else for(var i in this.objData)if(parseInt(i)===e){data=this.objData[i];break}var n=!data._isChecked;data._isChecked=n;var r=this.getSelection(),o=t?this.getBaseDataByRowKey(t,this.data):this.data[e];this.$emit(n?"on-select":"on-select-cancel",r,JSON.parse((0,c.default)(o))),this.$emit("on-selection-change",r)},toggleExpand:function(e){var t=this,data={};for(var i in this.objData)if(parseInt(i)===e){data=this.objData[i];break}var n=!data._isExpanded;this.objData[e]._isExpanded=n,this.$emit("on-expand",JSON.parse((0,c.default)(this.cloneData[e])),n),(this.height||this.maxHeight)&&this.$nextTick(function(){return(0,d.default)(this,t),this.fixedBody()}.bind(this))},toggleTree:function(e){var t=this,data=this.getDataByRowKey(e);if(!("_loading"in data)||!data._loading){if("_loading"in data&&!data._loading&&0===data.children.length){var n=this.getBaseDataByRowKey(e,this.data);return this.$set(n,"_loading",!0),void this.loadData(n,function(r){(0,d.default)(this,t),this.$set(n,"_loading",!1),r.length&&(this.$set(n,"children",r),this.$nextTick(function(){(0,d.default)(this,t);var n=this.getDataByRowKey(e);n._isShowChildren=!n._isShowChildren,this.updateDataStatus(e,"_showChildren",n._isShowChildren)}.bind(this)))}.bind(this))}data._isShowChildren=!data._isShowChildren,this.updateShowChildren&&this.updateDataStatus(e,"_showChildren",data._isShowChildren),this.$emit("on-expand-tree",e,data._isShowChildren)}},updateDataStatus:function(e,t,n){var data=this.getBaseDataByRowKey(e,this.data);this.$set(data,t,n)},getDataByRowKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.objData,data=null;for(var i in t){var n=t[i];if(n._rowKey===e){data=n;break}if(n.children&&n.children.length&&(data=this.getChildrenByRowKey(e,n)))break}return data},getChildrenByRowKey:function(e,t){var data=null;if(t.children&&t.children.length)for(var i=0;i<t.children.length;i++){var n=t.children[i];if(n._rowKey===e){data=n;break}if(n.children&&n.children.length&&(data=this.getChildrenByRowKey(e,n)))break}return data},getBaseDataByRowKey:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cloneData,data=null,i=0;i<t.length;i++){var n=t[i];if(n[this.rowKey]===e){data=n;break}if(n.children&&n.children.length&&(data=this.getChildrenDataByRowKey(e,n))&&data[this.rowKey]===e)return data}return data},getChildrenDataByRowKey:function(e,t){var data=null;if(t.children&&t.children.length)for(var i=0;i<t.children.length;i++){var n=t.children[i];if(n[this.rowKey]===e){data=n;break}if(n.children&&n.children.length&&(data=this.getChildrenDataByRowKey(e,n)))break}return data},selectAll:function(e){var t=!0,n=!1,o=void 0;try{for(var l,c=(0,r.default)(this.rebuildData);!(t=(l=c.next()).done);t=!0){var data=l.value,d=this.objData[data._index];d._isDisabled||(d._isChecked=e),data.children&&data.children.length&&this.selectAllChildren(d,e)}}catch(e){n=!0,o=e}finally{try{!t&&c.return&&c.return()}finally{if(n)throw o}}var f=this.getSelection();e?this.$emit("on-select-all",f):this.$emit("on-select-all-cancel",f),this.$emit("on-selection-change",f)},selectAllChildren:function(data,e){var t=this;data.children&&data.children.length&&data.children.map(function(n){(0,d.default)(this,t),n._isDisabled||(n._isChecked=e),n.children&&n.children.length&&this.selectAllChildren(n,e)}.bind(this))},fixedHeader:function(){var e=this;this.height||this.maxHeight?this.$nextTick(function(){(0,d.default)(this,e);var t=parseInt((0,w.getStyle)(this.$refs.title,"height"))||0,n=parseInt((0,w.getStyle)(this.$refs.header,"height"))||0,r=parseInt((0,w.getStyle)(this.$refs.footer,"height"))||0;this.height?this.bodyHeight=this.height-t-n-r:this.maxHeight&&(this.bodyHeight=this.maxHeight-t-n-r),this.$nextTick(function(){return(0,d.default)(this,e),this.fixedBody()}.bind(this))}.bind(this)):(this.bodyHeight=0,this.$nextTick(function(){return(0,d.default)(this,e),this.fixedBody()}.bind(this)))},fixedBody:function(){if(this.$refs.header&&(this.headerWidth=this.$refs.header.children[0].offsetWidth,this.headerHeight=this.$refs.header.children[0].offsetHeight),this.$refs.tbody&&this.data&&0!==this.data.length){var e=this.$refs.tbody.$el,t=e.parentElement,n=e.offsetHeight,r=t.offsetHeight;this.showHorizontalScrollBar=t.offsetWidth<e.offsetWidth+(this.showVerticalScrollBar?this.scrollBarWidth:0),this.showVerticalScrollBar=!!this.bodyHeight&&r-(this.showHorizontalScrollBar?this.scrollBarWidth:0)<n,this.showVerticalScrollBar?t.classList.add(this.prefixCls+"-overflowY"):t.classList.remove(this.prefixCls+"-overflowY"),this.showHorizontalScrollBar?t.classList.add(this.prefixCls+"-overflowX"):t.classList.remove(this.prefixCls+"-overflowX")}else this.showVerticalScrollBar=!1},hideColumnFilter:function(){var e=this;this.cloneColumns.forEach(function(col){return(0,d.default)(this,e),col._filterVisible=!1}.bind(this))},handleBodyScroll:function(e){this.showHeader&&(this.$refs.header.scrollLeft=e.target.scrollLeft),this.isLeftFixed&&(this.$refs.fixedBody.scrollTop=e.target.scrollTop),this.isRightFixed&&(this.$refs.fixedRightBody.scrollTop=e.target.scrollTop),this.showSummary&&this.$refs.summary&&(this.$refs.summary.$el.scrollLeft=e.target.scrollLeft),this.hideColumnFilter()},handleFixedMousewheel:function(e){var t=this,n=e.deltaY;if(!n&&e.detail&&(n=40*e.detail),!n&&e.wheelDeltaY&&(n=-e.wheelDeltaY),!n&&e.wheelDelta&&(n=-e.wheelDelta),n){var body=this.$refs.body,r=body.scrollTop;n<0&&0!==r&&e.preventDefault(),n>0&&body.scrollHeight-body.clientHeight>r&&e.preventDefault();var o=0,l=setInterval(function(){(0,d.default)(this,t),o+=5,n>0?body.scrollTop+=2:body.scrollTop-=2,o>=Math.abs(n)&&clearInterval(l)}.bind(this),5)}},handleMouseWheel:function(e){var t=e.deltaX,n=this.$refs.body;n.scrollLeft=t>0?n.scrollLeft+10:n.scrollLeft-10},sortData:function(data,e,t){var n=this,r=this.cloneColumns[t].key;data.sort(function(a,b){return(0,d.default)(this,n),this.cloneColumns[t].sortMethod?this.cloneColumns[t].sortMethod(a[r],b[r],e):"asc"===e?a[r]>b[r]?1:-1:"desc"===e?a[r]<b[r]?1:-1:void 0}.bind(this));for(var i=0;i<data.length;i++)data[i].children&&data[i].children.length&&(data[i].children=this.sortData(data[i].children,e,t));return data},handleSort:function(e,t){var n=this,r=this.GetOriginalIndex(e);this.cloneColumns.forEach(function(col){return(0,d.default)(this,n),col._sortType="normal"}.bind(this));var o=this.cloneColumns[r].key;"custom"!==this.cloneColumns[r].sortable&&(this.rebuildData="normal"===t?this.makeDataWithFilter():this.sortData(this.rebuildData,t,r)),this.cloneColumns[r]._sortType=t,this.$emit("on-sort-change",{column:JSON.parse((0,c.default)(this.allColumns[this.cloneColumns[r]._index])),key:o,order:t})},handleFilterHide:function(e){this.cloneColumns[e]._isFiltered||(this.cloneColumns[e]._filterChecked=[])},filterData:function(data,e){var t=this;return data.filter(function(n){if((0,d.default)(this,t),"function"==typeof e.filterRemote)return!0;for(var r=!e._filterChecked.length,i=0;i<e._filterChecked.length&&!(r=e.filterMethod(e._filterChecked[i],n));i++);return r}.bind(this))},filterOtherData:function(data,e){var t=this,n=this.cloneColumns[e];return"function"==typeof n.filterRemote&&n.filterRemote.call(this.$parent,n._filterChecked,n.key,n),this.cloneColumns.forEach(function(col,n){(0,d.default)(this,t),n!==e&&(data=this.filterData(data,col))}.bind(this)),data},handleFilter:function(e){var t=this.cloneColumns[e],n=this.makeDataWithSort();n=this.filterOtherData(n,e),this.rebuildData=this.filterData(n,t),this.cloneColumns[e]._isFiltered=!0,this.cloneColumns[e]._filterVisible=!1,this.$emit("on-filter-change",t)},GetOriginalIndex:function(e){var t=this;return this.cloneColumns.findIndex(function(n){return(0,d.default)(this,t),n._index===e}.bind(this))},handleFilterSelect:function(e,t){var n=this.GetOriginalIndex(e);this.cloneColumns[n]._filterChecked=[t],this.handleFilter(n)},handleFilterReset:function(e){var t=this.GetOriginalIndex(e);this.cloneColumns[t]._isFiltered=!1,this.cloneColumns[t]._filterVisible=!1,this.cloneColumns[t]._filterChecked=[];var n=this.makeDataWithSort();n=this.filterOtherData(n,t),this.rebuildData=n,this.$emit("on-filter-change",this.cloneColumns[t])},makeData:function(){var e=this,data=(0,w.deepCopy)(this.data);return data.forEach(function(t,n){(0,d.default)(this,e),t._index=n,t._rowKey="string"==typeof this.rowKey?t[this.rowKey]:O++,t.children&&t.children.length&&(t.children=this.makeChildrenData(t))}.bind(this)),data},makeChildrenData:function(data){var e=this;return data.children&&data.children.length?data.children.map(function(t,n){(0,d.default)(this,e);var r=(0,w.deepCopy)(t);return r._index=n,r._rowKey="string"==typeof this.rowKey?r[this.rowKey]:O++,r.children&&r.children.length&&(r.children=this.makeChildrenData(r)),r}.bind(this)):data},makeDataWithSort:function(){for(var data=this.makeData(),e="normal",t=-1,n=!1,i=0;i<this.cloneColumns.length;i++)if("normal"!==this.cloneColumns[i]._sortType){e=this.cloneColumns[i]._sortType,t=i,n="custom"===this.cloneColumns[i].sortable;break}return"normal"===e||n||(data=this.sortData(data,e,t)),data},makeDataWithFilter:function(){var e=this,data=this.makeData();return this.cloneColumns.forEach(function(col){return(0,d.default)(this,e),data=this.filterData(data,col)}.bind(this)),data},makeDataWithSortAndFilter:function(){var e=this,data=this.makeDataWithSort();return this.cloneColumns.forEach(function(col){return(0,d.default)(this,e),data=this.filterData(data,col)}.bind(this)),data},makeObjBaseData:function(e){var t=(0,w.deepCopy)(e);return"string"==typeof this.rowKey&&(t._rowKey=t[this.rowKey]),t._isHover=!1,t._disabled?t._isDisabled=t._disabled:t._isDisabled=!1,t._checked?t._isChecked=t._checked:t._isChecked=!1,t._expanded?t._isExpanded=t._expanded:t._isExpanded=!1,t._highlight?t._isHighlight=t._highlight:t._isHighlight=!1,t},makeObjData:function(){var e=this,data={};return this.data.forEach(function(t,n){(0,d.default)(this,e);var r=this.makeObjBaseData(t);r.children&&r.children.length&&(r._showChildren?r._isShowChildren=r._showChildren:r._isShowChildren=!1,r.children=this.makeChildrenObjData(r)),data[n]=r}.bind(this)),data},makeChildrenObjData:function(data){var e=this;return data.children&&data.children.length?data.children.map(function(t){(0,d.default)(this,e);var n=this.makeObjBaseData(t);return n._showChildren?n._isShowChildren=n._showChildren:n._isShowChildren=!1,n.children&&n.children.length&&(n.children=this.makeChildrenObjData(n)),n}.bind(this)):data},makeColumnsId:function(e){var t=this;return e.map(function(e){return(0,d.default)(this,t),"children"in e&&this.makeColumnsId(e.children),e.__id=(0,M.getRandomStr)(6),e}.bind(this))},makeColumns:function(e){var t=this,n=(0,w.deepCopy)((0,M.getAllColumns)(e)),r=[],o=[],l=[];return n.forEach(function(e,n){(0,d.default)(this,t),e._index=n,e._columnKey=I++,e.width=parseInt(e.width),e._width=e.width?e.width:"",e._sortType="normal",e._filterVisible=!1,e._isFiltered=!1,e._filterChecked=[],e._filterMultiple=!("filterMultiple"in e)||e.filterMultiple,"filteredValue"in e&&(e._filterChecked=e.filteredValue,e._isFiltered=!0),"sortType"in e&&(e._sortType=e.sortType),e.fixed&&"left"===e.fixed?r.push(e):e.fixed&&"right"===e.fixed?o.push(e):l.push(e)}.bind(this)),r.concat(l).concat(o)},makeColumnRows:function(e,t){return(0,M.convertToRows)(t,e)},exportCsv:function(e){e.filename?-1===e.filename.indexOf(".csv")&&(e.filename+=".csv"):e.filename="table.csv";var t=[],n=[];e.columns&&e.data?(t=e.columns,n=e.data):(t=this.allColumns,"original"in e||(e.original=!0),n=e.original?this.data:this.rebuildData);var r=!1;"noHeader"in e&&(r=e.noHeader);var data=(0,S.default)(t,n,e,r);e.callback?e.callback(data):C.default.download(e.filename,data)},dragAndDrop:function(a,b){this.$emit("on-drag-drop",a,b)},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1}},created:function(){this.context||(this.currentContext=this.$parent),this.showSlotHeader=void 0!==this.$slots.header,this.showSlotFooter=void 0!==this.$slots.footer,this.rebuildData=this.makeDataWithSortAndFilter()},mounted:function(){var e=this;this.handleResize(),this.$nextTick(function(){return(0,d.default)(this,e),this.ready=!0}.bind(this)),(0,k.on)(window,"resize",this.handleResize),this.observer=(0,E.default)(),this.observer.listenTo(this.$el,this.handleResize),this.$on("on-visible-change",function(t){(0,d.default)(this,e),t&&this.$nextTick(function(){(0,d.default)(this,e),this.handleResize()}.bind(this))}.bind(this))},beforeDestroy:function(){this.$off("on-visible-change"),(0,k.off)(window,"resize",this.handleResize),this.observer.removeAllListeners(this.$el),this.observer.uninstall(this.$el),this.observer=null},watch:{data:{handler:function(){var e=this,t=this.rebuildData.length;this.objData=this.makeObjData(),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize(),t||this.fixedHeader(),setTimeout(function(){(0,d.default)(this,e),this.cloneData=(0,w.deepCopy)(this.data)}.bind(this),0)},deep:!0},columns:{handler:function(){var e=this.makeColumnsId(this.columns);this.allColumns=(0,M.getAllColumns)(e),this.cloneColumns=this.makeColumns(e),this.columnRows=this.makeColumnRows(!1,e),this.leftFixedColumnRows=this.makeColumnRows("left",e),this.rightFixedColumnRows=this.makeColumnRows("right",e),this.rebuildData=this.makeDataWithSortAndFilter(),this.handleResize()},deep:!0},height:function(){this.handleResize()},maxHeight:function(){this.handleResize()},showHorizontalScrollBar:function(){this.handleResize()},showVerticalScrollBar:function(){this.handleResize()}}}},function(e,t,n){var r=n(18);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(1)),o=x(n(2)),l=x(n(15)),c=x(n(143)),d=x(n(49)),f=x(n(219)),h=x(n(28)),v=x(n(568)),m=x(n(95)),y=x(n(6));function x(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TableHead",mixins:[m.default,y.default],components:{CheckboxGroup:c.default,Checkbox:d.default,Poptip:f.default,iButton:h.default,renderHeader:v.default},props:{prefixCls:String,styleObject:Object,columns:Array,objData:Object,data:Array,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},columnRows:Array,fixedColumnRows:Array},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}},computed:{styles:function(){var style=(0,l.default)({},this.styleObject),e=parseInt(this.styleObject.width);return style.width=String(e)+"px",style},isSelectAll:function(){var e=!0;this.data.length||(e=!1);var t=!0;for(var i in this.objData){var n=this.objData[i];if(!n._isChecked&&!n._isDisabled){e=!1;break}n.children&&n.children.length&&(e=this.isChildrenSelected(n,e)),!n._isDisabled||n._isChecked?t=!1:n.children&&n.children.length&&(t=this.isChildrenAllDisabledAndUnSelected(n,t))}return t&&(e=!1),e},headRows:function(){return this.columnRows.length>1?this.fixed?this.fixedColumnRows:this.columnRows:[this.columns]},isSelectDisabled:function(){var e=!0;if(this.data.length)for(var i in this.objData){var t=this.objData[i];t._isDisabled?t.children&&t.children.length&&(e=this.isChildrenDisabled(t,e)):e=!1}return e}},methods:{cellClasses:function(e){var t;return[String(this.prefixCls)+"-cell",(t={},(0,o.default)(t,String(this.prefixCls)+"-hidden",!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed)),(0,o.default)(t,String(this.prefixCls)+"-cell-with-selection","selection"===e.type),t)]},scrollBarCellClass:function(){var e=!1;for(var i in this.headRows)for(var t in this.headRows[i]){if("right"===this.headRows[i][t].fixed){e=!0;break}if(e)break}return[(0,o.default)({},String(this.prefixCls)+"-hidden",e)]},itemClasses:function(e,t){return[String(this.prefixCls)+"-filter-select-item",(0,o.default)({},String(this.prefixCls)+"-filter-select-item-selected",e._filterChecked[0]===t.value)]},itemAllClasses:function(e){return[String(this.prefixCls)+"-filter-select-item",(0,o.default)({},String(this.prefixCls)+"-filter-select-item-selected",!e._filterChecked.length)]},selectAll:function(){var e=!this.isSelectAll;this.$parent.selectAll(e)},handleSort:function(e,t){var n=this,o=this.columns.find(function(t){return(0,r.default)(this,n),t._index===e}.bind(this)),l=o._index;o._sortType===t&&(t="normal"),this.$parent.handleSort(l,t)},handleSortByHead:function(e){var t=this,n=this.columns.find(function(n){return(0,r.default)(this,t),n._index===e}.bind(this));if(n.sortable){var o=n._sortType;"normal"===o?this.handleSort(e,"asc"):"asc"===o?this.handleSort(e,"desc"):this.handleSort(e,"normal")}},handleFilter:function(e){this.$parent.handleFilter(e)},handleSelect:function(e,t){this.$parent.handleFilterSelect(e,t)},handleReset:function(e){this.$parent.handleFilterReset(e)},handleFilterHide:function(e){this.$parent.handleFilterHide(e)},getColumn:function(e,t){var n=this;if(this.columnRows.length>1){var o=this.headRows[e][t].__id;return this.columns.filter(function(e){return(0,r.default)(this,n),e.__id===o}.bind(this))[0]}return this.headRows[e][t]},handleMouseDown:function(e,t){var n=this;if(!this.$isServer&&this.draggingColumn){this.dragging=!0;var table=this.$parent,o=table.$el.getBoundingClientRect().left,l=this.$el.querySelector("th.ivu-table-column-"+String(e.__id)).getBoundingClientRect(),c=l.left-o+30;table.showResizeLine=!0,this.dragState={startMouseLeft:t.clientX,startLeft:l.right-o,startColumnLeft:l.left-o,tableLeft:o};var d=table.$refs.resizeLine;d.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var f=function(e){(0,r.default)(this,n);var t=e.clientX-this.dragState.startMouseLeft,o=this.dragState.startLeft+t;d.style.left=Math.max(c,o)+"px"}.bind(this),h=function(){if((0,r.default)(this,n),this.dragging){var o=this.dragState,l=o.startColumnLeft,c=o.startLeft,v=parseInt(d.style.left,10)-l,m=table.columns.find(function(t){return(0,r.default)(this,n),t.__id===e.__id}.bind(this));m&&(m.width=v),table.$emit("on-column-width-resize",m.width,c-l,e,t),document.body.style.cursor="",this.dragging=!1,this.draggingColumn=null,this.dragState={},table.showResizeLine=!1}document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",h),document.onselectstart=null,document.ondragstart=null}.bind(this);document.addEventListener("mousemove",f),document.addEventListener("mouseup",h)}},handleMouseMove:function(e,t){for(var n=t.target;n&&"TH"!==n.tagName;)n=n.parentNode;if(e&&e.resizable&&!this.dragging){var rect=n.getBoundingClientRect(),r=document.body.style;rect.width>12&&rect.right-t.pageX<8?(r.cursor="col-resize",this.draggingColumn=e):this.dragging||(r.cursor="",this.draggingColumn=null)}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},isChildrenSelected:function(e,t){var n=this,o=t;return e.children&&e.children.length&&e.children.forEach(function(e){(0,r.default)(this,n),e._isChecked||e._isDisabled?e.children&&e.children.length&&(o=this.isChildrenSelected(e,o)):o=!1}.bind(this)),o},isChildrenAllDisabledAndUnSelected:function(e,t){var n=this,o=t;return e.children&&e.children.length&&e.children.forEach(function(e){(0,r.default)(this,n),!e._isDisabled||e._isChecked?o=!1:e.children&&e.children.length&&(o=this.isChildrenAllDisabledAndUnSelected(e,o))}.bind(this)),o},isChildrenDisabled:function(e,t){var n=this,o=t;return e.children&&e.children.length&&e.children.forEach(function(e){(0,r.default)(this,n),e._isDisabled?e.children&&e.children.length&&(o=this.isChildrenDisabled(e,o)):o=!1}.bind(this)),o}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(2)),o=v(n(1)),l=v(n(27)),c=v(n(571)),d=v(n(573)),f=v(n(240)),h=v(n(95));function v(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TableBody",mixins:[h.default],components:{TableCell:d.default,Expand:f.default,TableTr:c.default},props:{prefixCls:String,styleObject:Object,columns:Array,data:Array,objData:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1},rowKey:{type:[Boolean,String],default:!1}},computed:{expandRender:function(){for(var e=function(){return""},i=0;i<this.columns.length;i++){var t=this.columns[i];t.type&&"expand"===t.type&&t.render&&(e=t.render)}return e}},methods:{rowChecked:function(e){return this.objData[e]&&this.objData[e]._isChecked},rowDisabled:function(e){return this.objData[e]&&this.objData[e]._isDisabled},rowExpanded:function(e){return this.objData[e]&&this.objData[e]._isExpanded},rowStatusByRowKey:function(e,t){return this.$parent.getDataByRowKey(t)[e]},handleMouseIn:function(e,t,n){t.stopPropagation(),this.$parent.handleMouseIn(e,n)},handleMouseOut:function(e,t,n){t.stopPropagation(),this.$parent.handleMouseOut(e,n)},clickCurrentRow:function(e,t,n){this.$parent.clickCurrentRow(e,n)},dblclickCurrentRow:function(e,t,n){t.stopPropagation(),this.$parent.dblclickCurrentRow(e,n)},contextmenuCurrentRow:function(e,t,n){t.stopPropagation(),this.$parent.contextMenu&&t.preventDefault(),this.$parent.contextmenuCurrentRow(e,n,t)},selectStartCurrentRow:function(e,t){this.$parent.contextMenu},getSpan:function(e,t,n,r){var o=this.$parent.spanMethod;if("function"==typeof o){var c=o({row:e,column:t,rowIndex:n,columnIndex:r}),d=1,f=1;return Array.isArray(c)?(d=c[0],f=c[1]):"object"===(void 0===c?"undefined":(0,l.default)(c))&&(d=c.rowspan,f=c.colspan),{rowspan:d,colspan:f}}return{}},showWithSpan:function(e,t,n,r){var o=this.getSpan(e,t,n,r);return!("rowspan"in o&&0===o.rowspan||"colspan"in o&&0===o.colspan)},isTrShow:function(e){var t=!0,n=void 0;for(var i in this.objData){var r=this.objData[i],o=r._isShowChildren;if(r._rowKey===e){t=t&&o;break}if(r.children&&r.children.length&&(n=this.getTrStatus(e,r,t&&o))[0]&&n[0]._rowKey===e)return n[1]}return t},getTrStatus:function(e,data,t){var n=t,r=void 0;if(data.children&&data.children.length)for(var i=0;i<data.children.length;i++){var o=data.children[i],l=o._isShowChildren;if(o._rowKey===e){r=o,n=n&&l;break}if(o.children&&o.children.length){var c=this.getTrStatus(e,o,n&&l);if(c[0]&&c[0]._rowKey===e)return c}}return[r,n]},getLevel:function(e){for(var t=void 0,n=void 0,i=0;i<this.data.length;i++){var r=this.data[i];if(r[this.rowKey]===e){t=0;break}if(r.children&&r.children.length&&(n=this.getChildLevel(r,e,1))[0]&&n[0][this.rowKey]===e)return n[1]}return t},getChildLevel:function(data,e,t){var n=void 0,r=void 0;if(data.children&&data.children.length)for(var i=0;i<data.children.length;i++){var o=data.children[i];if(o[this.rowKey]===e){r=o,n=t;break}if(o.children&&o.children.length){var l=this.getChildLevel(o,e,t+1);if(l[0]&&l[0][this.rowKey]===e)return l}}return[r,n]},getChildNode:function(e,data,t){var n=this;return data.children&&data.children.length?(data.children.forEach(function(r,l){(0,o.default)(this,n);var f=[];this.columns.forEach(function(t,c){if((0,o.default)(this,n),this.showWithSpan(r,t,l,c)){var h=e(d.default,{props:{fixed:this.fixed,"prefix-cls":this.prefixCls,row:r,column:t,"natural-index":l,index:r._index,checked:this.rowStatusByRowKey("_isChecked",r._rowKey),disabled:this.rowStatusByRowKey("_isDisabled",r._rowKey),expanded:this.rowStatusByRowKey("_isExpanded",r._rowKey),treeNode:!0,treeLevel:this.getLevel(r._rowKey)},key:t._columnKey}),v=e("td",{class:this.alignCls(t,r),attrs:this.getSpan(r,t,l,c)},[h]);f.push(v)}}.bind(this));var h={};this.isTrShow(data._rowKey)||(h.display="none");var v=e(c.default,{props:{draggable:!1,row:r,"prefix-cls":this.prefixCls,isChildren:!0},style:h,key:this.rowKey?r._rowKey:l,nativeOn:{mouseenter:function(e){return(0,o.default)(this,n),this.handleMouseIn(r._index,e,r._rowKey)}.bind(this),mouseleave:function(e){return(0,o.default)(this,n),this.handleMouseOut(r._index,e,r._rowKey)}.bind(this),click:function(e){return(0,o.default)(this,n),this.clickCurrentRow(r._index,e,r._rowKey)}.bind(this),dblclick:function(e){return(0,o.default)(this,n),this.dblclickCurrentRow(r._index,e,r._rowKey)}.bind(this),contextmenu:function(e){return(0,o.default)(this,n),this.contextmenuCurrentRow(r._index,e,r._rowKey)}.bind(this),selectstart:function(e){return(0,o.default)(this,n),this.selectStartCurrentRow(r._index,e,r._rowKey)}.bind(this)}},f);t.push(v),r.children&&r.children.length&&this.getChildNode(e,r,t)}.bind(this)),t):t}},render:function(e){var t=this,n=[];this.columns.forEach(function(r){(0,o.default)(this,t);var l=e("col",{attrs:{width:this.setCellWidth(r)}});n.push(l)}.bind(this));var l=e("colgroup",{},n),h=[];this.data.forEach(function(n,l){(0,o.default)(this,t);var v=[];this.columns.forEach(function(r,c){if((0,o.default)(this,t),this.showWithSpan(n,r,l,c)){var f=e(d.default,{props:{fixed:this.fixed,"prefix-cls":this.prefixCls,row:n,column:r,"natural-index":l,index:n._index,checked:this.rowChecked(n._index),disabled:this.rowDisabled(n._index),expanded:this.rowExpanded(n._index)},key:r._columnKey}),h=e("td",{class:this.alignCls(r,n),attrs:this.getSpan(n,r,l,c)},[f]);v.push(h)}}.bind(this));var m=e(c.default,{props:{draggable:this.draggable,row:n,"prefix-cls":this.prefixCls},key:this.rowKey?n._rowKey:l,nativeOn:{mouseenter:function(e){return(0,o.default)(this,t),this.handleMouseIn(n._index,e)}.bind(this),mouseleave:function(e){return(0,o.default)(this,t),this.handleMouseOut(n._index,e)}.bind(this),click:function(e){return(0,o.default)(this,t),this.clickCurrentRow(n._index,e)}.bind(this),dblclick:function(e){return(0,o.default)(this,t),this.dblclickCurrentRow(n._index,e)}.bind(this),contextmenu:function(e){return(0,o.default)(this,t),this.contextmenuCurrentRow(n._index,e)}.bind(this),selectstart:function(e){return(0,o.default)(this,t),this.selectStartCurrentRow(n._index,e)}.bind(this)}},v);if(h.push(m),this.rowExpanded(n._index)){var y=e(f.default,{props:{row:n,render:this.expandRender,index:n._index},key:this.rowKey?n._rowKey:l}),x=e("td",{attrs:{colspan:this.columns.length},class:this.prefixCls+"-expanded-cell"},[y]),_=e("tr",{class:(0,r.default)({},this.prefixCls+"-expanded-hidden",this.fixed)},[x]);h.push(_)}n.children&&n.children.length&&this.getChildNode(e,n,[]).forEach(function(e){(0,o.default)(this,t),h.push(e)}.bind(this))}.bind(this));var v=e("tbody",{class:this.prefixCls+"-tbody"},[h]);return e("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"},style:this.styleObject},[l,v])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r};t.default={props:{row:Object,prefixCls:String,draggable:Boolean,isChildren:Boolean},computed:{objData:function(){return this.$parent.objData}},methods:{onDrag:function(e,t){e.dataTransfer.setData("index",t)},onDrop:function(e,t){var n=e.dataTransfer.getData("index");this.$parent.$parent.dragAndDrop(n,t),e.preventDefault()},allowDrop:function(e){e.preventDefault()},rowClasses:function(e){var t,n=this.isChildren?this.$parent.$parent.getDataByRowKey(this.row._rowKey):this.objData[e];return[String(this.prefixCls)+"-row",this.rowClsName(e),(t={},(0,l.default)(t,String(this.prefixCls)+"-row-highlight",n&&n._isHighlight),(0,l.default)(t,String(this.prefixCls)+"-row-hover",n&&n._isHover),t)]},rowClsName:function(e){return this.$parent.$parent.rowClassName(this.objData[e],e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(2)),o=h(n(240)),l=h(n(574)),c=h(n(8)),d=h(n(49)),f=h(n(93));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TableCell",components:{Icon:c.default,Checkbox:d.default,TableExpand:o.default,TableSlot:l.default,Tooltip:f.default},inject:["tableRoot"],props:{prefixCls:String,row:Object,column:Object,naturalIndex:Number,index:Number,checked:Boolean,disabled:Boolean,expanded:Boolean,fixed:{type:[Boolean,String],default:!1},treeNode:Boolean,treeLevel:{type:Number,default:0}},data:function(){return{renderType:"",uid:-1,context:this.$parent.$parent.$parent.currentContext,showTooltip:!1,tooltipShow:!1}},computed:{classes:function(){var e;return[String(this.prefixCls)+"-cell",(e={},(0,r.default)(e,String(this.prefixCls)+"-hidden",!this.fixed&&this.column.fixed&&("left"===this.column.fixed||"right"===this.column.fixed)),(0,r.default)(e,String(this.prefixCls)+"-cell-ellipsis",this.column.ellipsis||!1),(0,r.default)(e,String(this.prefixCls)+"-cell-with-expand","expand"===this.renderType),(0,r.default)(e,String(this.prefixCls)+"-cell-with-selection","selection"===this.renderType),e)]},expandCls:function(){return[String(this.prefixCls)+"-cell-expand",(0,r.default)({},String(this.prefixCls)+"-cell-expand-expanded",this.expanded)]},showChildren:function(){var e=!1;if("html"===this.renderType||"normal"===this.renderType||"render"===this.renderType||"slot"===this.renderType){var data=this.row;(data.children&&data.children.length||"_loading"in data)&&this.column.tree&&(e=!0)}return e},showTreeNode:function(){var e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},showLevel:function(){var e=!1;return"html"!==this.renderType&&"normal"!==this.renderType&&"render"!==this.renderType&&"slot"!==this.renderType||this.column.tree&&this.treeNode&&(e=!0),e},treeLevelStyle:function(){return{"padding-left":this.treeLevel*this.tableRoot.indentSize+"px"}},childrenExpand:function(){return this.tableRoot.getDataByRowKey(this.row._rowKey)._isShowChildren},childrenLoading:function(){var data=this.tableRoot.getDataByRowKey(this.row._rowKey);return"_loading"in data&&data._loading}},methods:{toggleSelect:function(){this.treeNode?this.$parent.$parent.$parent.toggleSelect(this.index,this.row._rowKey):this.$parent.$parent.$parent.toggleSelect(this.index)},toggleExpand:function(){this.$parent.$parent.$parent.toggleExpand(this.index)},handleClick:function(){},handleTooltipIn:function(){var e=this.$refs.content;this.showTooltip=e.scrollWidth>e.offsetWidth},handleTooltipOut:function(){this.showTooltip=!1},handleTooltipShow:function(){this.tooltipShow=!0},handleTooltipHide:function(){this.tooltipShow=!1},handleToggleTree:function(){this.$parent.$parent.$parent.toggleTree(this.row._rowKey)},handleCellClick:function(e){this.$parent.$parent.$parent.$emit("on-cell-click",this.row,this.column,this.row[this.column.key],e)}},created:function(){"index"===this.column.type?this.renderType="index":"selection"===this.column.type?this.renderType="selection":"html"===this.column.type?this.renderType="html":"expand"===this.column.type?this.renderType="expand":this.column.render?this.renderType="render":this.column.slot?this.renderType="slot":this.renderType="normal"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"TableExpand",functional:!0,props:{row:Object,render:Function,index:Number,column:{type:Object,default:null}},render:function(e,t){(0,l.default)(void 0,void 0);var n={row:t.props.row,index:t.props.index};return t.props.column&&(n.column=t.props.column),t.props.render(e,n)}.bind(void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(2)),o=l(n(95));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TableSummary",mixins:[o.default],props:{prefixCls:String,styleObject:Object,columns:Array,data:Object,columnsWidth:Object,fixed:{type:[Boolean,String],default:!1}},methods:{cellCls:function(e){return[(0,r.default)({},"ivu-table-hidden","left"===this.fixed&&"left"!==e.fixed||"right"===this.fixed&&"right"!==e.fixed||!this.fixed&&e.fixed&&("left"===e.fixed||"right"===e.fixed))]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(17)),o=w(n(27)),l=w(n(2)),c=w(n(45)),d=w(n(1)),f=w(n(8)),h=w(n(215)),v=w(n(61)),m=w(n(62)),y=n(3),x=w(n(4)),_=w(n(94));function w(e){return e&&e.__esModule?e:{default:e}}var k=function(e,t,n,r){(0,d.default)(void 0,void 0);var o=e.findIndex(function(e){return(0,d.default)(void 0,void 0),e.name===t}.bind(void 0)),l=e[(o+n+e.length)%e.length];return l.disabled?k(e,l.name,n,r):l}.bind(void 0),S=function(element,e){(0,d.default)(void 0,void 0);try{element.focus()}catch(e){}if(document.activeElement==element&&element!==e)return!0;var t=element.children,n=!0,r=!1,o=void 0;try{for(var l,f=(0,c.default)(t);!(n=(l=f.next()).done);n=!0){var h=l.value;if(S(h,e))return!0}}catch(e){r=!0,o=e}finally{try{!n&&f.return&&f.return()}finally{if(r)throw o}}return!1}.bind(void 0);t.default={name:"Tabs",mixins:[x.default],components:{Icon:f.default,Render:h.default,Dropdown:v.default,DropdownMenu:m.default},provide:function(){return{TabsInstance:this}},props:{value:{type:[String,Number]},type:{validator:function(e){return(0,y.oneOf)(e,["line","card"])},default:"line"},size:{validator:function(e){return(0,y.oneOf)(e,["small","default"])},default:"default"},animated:{type:Boolean,default:!0},captureFocus:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},beforeRemove:Function,name:{type:String},draggable:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tabs",navList:[],barWidth:0,barOffset:0,activeKey:this.value,focusedKey:this.value,showSlot:!1,navStyle:{transform:""},scrollable:!1,transitioning:!1,contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},computed:{classes:function(){var e;return["ivu-tabs",(e={},(0,l.default)(e,"ivu-tabs-card","card"===this.type),(0,l.default)(e,"ivu-tabs-mini","small"===this.size&&"line"===this.type),(0,l.default)(e,"ivu-tabs-no-animation",!this.animated),e)]},contentClasses:function(){return["ivu-tabs-content",(0,l.default)({},"ivu-tabs-content-animated",this.animated)]},barClasses:function(){return["ivu-tabs-ink-bar",(0,l.default)({},"ivu-tabs-ink-bar-animated",this.animated)]},contentStyle:function(){var e=this.getTabIndex(this.activeKey),p=0===e?"0%":"-"+String(e)+"00%",style={};return e>-1&&(style={transform:"translateX("+p+") translateZ(0px)"}),style},barStyle:function(){var style={visibility:"hidden",width:String(this.barWidth)+"px"};return"line"===this.type&&(style.visibility="visible"),this.animated?style.transform="translate3d("+String(this.barOffset)+"px, 0px, 0px)":style.left=String(this.barOffset)+"px",style},arrowType:function(){var e="ios-close";return this.$IVIEW&&(this.$IVIEW.tabs.customCloseIcon?e="":this.$IVIEW.tabs.closeIcon&&(e=this.$IVIEW.tabs.closeIcon)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.tabs.customCloseIcon&&(e=this.$IVIEW.tabs.customCloseIcon),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.tabs.closeIconSize&&(e=this.$IVIEW.tabs.closeIconSize),e}},methods:{getTabs:function(){var e=this,t=(0,y.findComponentsDownward)(this,"TabPane"),n=[];return t.forEach(function(t){(0,d.default)(this,e),t.tab&&this.name?t.tab===this.name&&n.push(t):n.push(t)}.bind(this)),n.sort(function(a,b){if((0,d.default)(this,e),a.index&&b.index)return a.index>b.index?1:-1}.bind(this)),n},updateNav:function(){var e=this;this.navList=[],this.getTabs().forEach(function(t,n){(0,d.default)(this,e),this.navList.push({labelType:(0,o.default)(t.label),label:t.label,icon:t.icon||"",name:t.currentName||n,disabled:t.disabled,closable:t.closable,contextMenu:t.contextMenu}),t.currentName||(t.currentName=n),0===n&&(this.activeKey||(this.activeKey=t.currentName||n))}.bind(this)),this.updateStatus(),this.updateBar()},updateBar:function(){var e=this;this.$nextTick(function(){(0,d.default)(this,e);var t=this.getTabIndex(this.activeKey);if(this.$refs.nav){var n=this.$refs.nav.querySelectorAll(".ivu-tabs-tab"),r=n[t];if(this.barWidth=r?parseFloat(r.offsetWidth):0,t>0){for(var o=0,l="small"===this.size?0:16,i=0;i<t;i++)o+=parseFloat(n[i].offsetWidth)+l;this.barOffset=o}else this.barOffset=0;this.updateNavScroll()}}.bind(this))},updateStatus:function(){var e=this;this.getTabs().forEach(function(t){return(0,d.default)(this,e),t.show=t.currentName===this.activeKey||this.animated}.bind(this))},tabCls:function(e){var t;return["ivu-tabs-tab",(t={},(0,l.default)(t,"ivu-tabs-tab-disabled",e.disabled),(0,l.default)(t,"ivu-tabs-tab-active",e.name===this.activeKey),(0,l.default)(t,"ivu-tabs-tab-focused",e.name===this.focusedKey),t)]},handleChange:function(e){var t=this;if(!this.transitioning){this.transitioning=!0,setTimeout(function(){return(0,d.default)(this,t),this.transitioning=!1}.bind(this),300);var nav=this.navList[e];nav&&!nav.disabled&&(this.activeKey=nav.name,this.$emit("input",nav.name),this.$emit("on-click",nav.name))}},handleDblclick:function(e){var nav=this.navList[e];nav&&!nav.disabled&&this.$emit("on-dblclick",nav.name)},handleContextmenu:function(e,t){var n=this;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){(0,d.default)(this,n);var nav=this.navList[e];if(nav&&!nav.disabled&&nav.contextMenu){t.preventDefault();var r=this.$refs.tabsWrap.getBoundingClientRect(),o={left:t.clientX-r.left+"px",top:t.clientY-r.top+"px"};this.contextMenuStyles=o,this.contextMenuVisible=!0,this.$emit("on-contextmenu",nav,t,o)}}.bind(this))},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1},handlePreventSelect:function(e,t){var nav=this.navList[e];nav&&!nav.disabled&&nav.contextMenu&&t.preventDefault()},handleTabKeyNavigation:function(e){if(37===e.keyCode||39===e.keyCode){var t=39===e.keyCode?1:-1,n=k(this.navList,this.focusedKey,t);this.focusedKey=n.name}},handleTabKeyboardSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e){var t=this.focusedKey||0,n=this.getTabIndex(t);this.handleChange(n)}},handleRemove:function(e){var t=this;if(!this.beforeRemove)return this.handleRemoveTab(e);var n=this.beforeRemove(e);n&&n.then?n.then(function(){(0,d.default)(this,t),this.handleRemoveTab(e)}.bind(this)):this.handleRemoveTab(e)},handleRemoveTab:function(e){var t=this,n=this.getTabs(),r=n[e];if(r.$destroy(),r.currentName===this.activeKey){var o=this.getTabs(),l=-1;if(o.length){var c=n.filter(function(n,r){return(0,d.default)(this,t),!n.disabled&&r<e}.bind(this)),f=n.filter(function(n,r){return(0,d.default)(this,t),!n.disabled&&r>e}.bind(this));l=f.length?f[0].currentName:c.length?c[c.length-1].currentName:o[0].currentName}this.activeKey=l,this.$emit("input",l)}this.$emit("on-tab-remove",r.currentName),this.updateNav()},showClose:function(e){return"card"===this.type&&(null!==e.closable?e.closable:this.closable)},scrollPrev:function(){var e=this.$refs.navScroll.offsetWidth,t=this.getCurrentScrollOffset();if(t){var n=t>e?t-e:0;this.setOffset(n)}},scrollNext:function(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,n=this.getCurrentScrollOffset();if(!(e-n<=t)){var r=e-n>2*t?n+t:e-t;this.setOffset(r)}},getCurrentScrollOffset:function(){var e=this.navStyle;return e.transform?Number(e.transform.match(/translateX\(-(\d+(\.\d+)*)px\)/)[1]):0},getTabIndex:function(e){var t=this;return this.navList.findIndex(function(nav){return(0,d.default)(this,t),nav.name===e}.bind(this))},setOffset:function(e){this.navStyle.transform="translateX(-"+String(e)+"px)"},scrollToActiveTab:function(){if(this.scrollable){var nav=this.$refs.nav,e=this.$el.querySelector(".ivu-tabs-tab-active");if(e){var t=this.$refs.navScroll,n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=nav.getBoundingClientRect(),l=this.getCurrentScrollOffset(),c=l;o.right<r.right&&(c=nav.offsetWidth-r.width),n.left<r.left?c=l-(r.left-n.left):n.right>r.right&&(c=l+n.right-r.right),l!==c&&this.setOffset(Math.max(c,0))}}},updateNavScroll:function(){var e=this.$refs.nav.offsetWidth,t=this.$refs.navScroll.offsetWidth,n=this.getCurrentScrollOffset();t<e?(this.scrollable=!0,e-n<t&&this.setOffset(e-t)):(this.scrollable=!1,n>0&&this.setOffset(0))},handleScroll:function(e){e.preventDefault(),e.stopPropagation();var t=e.type,n=0;"DOMMouseScroll"!==t&&"mousewheel"!==t||(n=e.wheelDelta?e.wheelDelta:40*-(e.detail||0)),n>0?this.scrollPrev():this.scrollNext()},handleResize:function(){this.updateNavScroll()},isInsideHiddenElement:function(){for(var e=this.$el.parentNode;e&&e!==document.body;){if(e.style&&"none"===e.style.display)return e;e=e.parentNode}return!1},updateVisibility:function(e){var t=this;[].concat((0,r.default)(this.$refs.panes.querySelectorAll(".ivu-tabs-tabpane"))).forEach(function(n,i){(0,d.default)(this,t),e===i?([].concat((0,r.default)(n.children)).filter(function(e){return(0,d.default)(this,t),e.classList.contains("ivu-tabs-tabpane")}.bind(this)).forEach(function(e){return(0,d.default)(this,t),e.style.visibility="visible"}.bind(this)),this.captureFocus&&setTimeout(function(){return(0,d.default)(this,t),S(n,n)}.bind(this),300)):setTimeout(function(){(0,d.default)(this,t),[].concat((0,r.default)(n.children)).filter(function(e){return(0,d.default)(this,t),e.classList.contains("ivu-tabs-tabpane")}.bind(this)).forEach(function(e){return(0,d.default)(this,t),e.style.visibility="hidden"}.bind(this))}.bind(this),300)}.bind(this))},handleDrag:function(e,t){var nav=this.navList[e];nav&&t.dataTransfer.setData("tab-name",nav.name)},handleDrop:function(e,t){var n=this,nav=this.navList[e];if(nav){var o=t.dataTransfer.getData("tab-name");t.preventDefault();var l=this.navList.map(function(e){return(0,d.default)(this,n),e.name}.bind(this)),a=parseInt(l.findIndex(function(e){return(0,d.default)(this,n),e===o}.bind(this))),b=parseInt(l.findIndex(function(e){return(0,d.default)(this,n),e===nav.name}.bind(this)));l.splice.apply(l,[b,1].concat((0,r.default)(l.splice(a,1,l[b])))),this.$emit("on-drag-drop",o,nav.name,a,b,l)}}},watch:{value:function(e){this.activeKey=e,this.focusedKey=e},activeKey:function(e){var t=this;this.focusedKey=e,this.updateBar(),this.updateStatus(),this.broadcast("Table","on-visible-change",!0),this.$nextTick(function(){(0,d.default)(this,t),this.scrollToActiveTab()}.bind(this));var n=Math.max(this.getTabIndex(this.focusedKey),0);this.updateVisibility(n)}},mounted:function(){var e=this;this.showSlot=void 0!==this.$slots.extra,this.observer=(0,_.default)(),this.observer.listenTo(this.$refs.navWrap,this.handleResize);var t=this.isInsideHiddenElement();t&&(this.mutationObserver=new y.MutationObserver(function(){(0,d.default)(this,e),"none"!==t.style.display&&(this.updateBar(),this.mutationObserver.disconnect())}.bind(this)),this.mutationObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,attributeFilter:["style"]})),this.handleTabKeyboardSelect(!0),this.updateVisibility(this.getTabIndex(this.activeKey))},beforeDestroy:function(){this.observer.removeListener(this.$refs.navWrap,this.handleResize),this.mutationObserver&&this.mutationObserver.disconnect()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TabPane",inject:["TabsInstance"],props:{name:{type:String},label:{type:[String,Function],default:""},icon:{type:String},disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:null},tab:{type:String},index:{type:Number},contextMenu:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tabs-tabpane",show:!0,currentName:this.name}},computed:{contentStyle:function(){return{visibility:this.TabsInstance.activeKey!==this.currentName?"hidden":"visible"}}},methods:{updateNav:function(){this.TabsInstance.updateNav()}},watch:{name:function(e){this.currentName=e,this.updateNav()},label:function(){this.updateNav()},icon:function(){this.updateNav()},disabled:function(){this.updateNav()}},mounted:function(){this.updateNav()},destroyed:function(){this.updateNav()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(19)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}var d=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],f=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"];t.default={name:"Tag",components:{Icon:o.default},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator:function(e){return(0,l.oneOf)(e,["border","dot"])}},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator:function(e){return(0,l.oneOf)(e,["default","medium","large"])},default:"default"}},data:function(){return{isChecked:this.checked}},computed:{classes:function(){var e;return["ivu-tag","ivu-tag-size-"+String(this.size),(e={},(0,r.default)(e,"ivu-tag-"+String(this.color),!!this.color&&(0,l.oneOf)(this.color,d)),(0,r.default)(e,"ivu-tag-"+String(this.type),!!this.type),(0,r.default)(e,"ivu-tag-closable",this.closable),(0,r.default)(e,"ivu-tag-checked",this.isChecked),e)]},wraperStyles:function(){return(0,l.oneOf)(this.color,d)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses:function(){return["ivu-tag-text","border"===this.type&&(0,l.oneOf)(this.color,d)?"ivu-tag-color-"+String(this.color):"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&f.indexOf(this.color)<0?"ivu-tag-color-white":""]},dotClasses:function(){return"ivu-tag-dot-inner"},iconClass:function(){return"dot"===this.type?"":"border"===this.type?(0,l.oneOf)(this.color,d)?"ivu-tag-color-"+String(this.color):"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},showDot:function(){return!!this.type&&"dot"===this.type},lineColor:function(){return"dot"===this.type?"":"border"===this.type?void 0!==this.color?(0,l.oneOf)(this.color,d)?"":this.color:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},borderColor:function(){return void 0!==this.color?"default"===this.color?"":this.color:""},dotColor:function(){return void 0!==this.color?(0,l.oneOf)(this.color,d)?"":this.color:""},textColorStyle:function(){return(0,l.oneOf)(this.color,d)?{}:"dot"!==this.type&&"border"!==this.type?this.isChecked?{color:this.lineColor}:{}:{color:this.lineColor}},bgColorStyle:function(){return(0,l.oneOf)(this.color,d)?{}:{background:this.dotColor}},defaultTypeColor:function(){return"dot"!==this.type&&"border"!==this.type&&void 0!==this.color?(0,l.oneOf)(this.color,d)?"":this.color:""}},methods:{close:function(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check:function(){if(this.checkable){var e=!this.isChecked;this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name)}}},watch:{checked:function(e){this.isChecked=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(1)),o=v(n(27)),l=v(n(2)),c=v(n(16)),d=n(3),f=v(n(6)),h=v(n(592));function v(e){return e&&e.__esModule?e:{default:e}}var m=c.default.prototype.$isServer;t.default={name:"Time",mixins:[f.default],props:{time:{type:[Number,Date,String],required:!0},type:{type:String,validator:function(e){return(0,d.oneOf)(e,["relative","date","datetime"])},default:"relative"},hash:{type:String,default:""},interval:{type:Number,default:60}},data:function(){return{date:""}},computed:{classes:function(){return["ivu-time",(0,l.default)({},"ivu-time-with-hash",this.hash)]}},watch:{time:function(){m||this.setTime()}},methods:{handleClick:function(){""!==this.hash&&(window.location.hash=this.hash)},setTime:function(){var e=(0,o.default)(this.time),time=void 0;if("number"===e){var t=this.time.toString().length>10?this.time:1e3*this.time;time=new Date(t).getTime()}else"object"===e?time=this.time.getTime():"string"===e&&(time=new Date(this.time).getTime());if("relative"===this.type)this.date=(0,h.default)(time,this.t);else{var n=new Date(this.time),r=n.getFullYear(),l=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,c=n.getDate()<10?"0"+n.getDate():n.getDate(),d=n.getHours()<10?"0"+n.getHours():n.getHours(),f=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),v=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();"datetime"===this.type?this.date=String(r)+"-"+String(l)+"-"+String(c)+" "+String(d)+":"+String(f)+":"+String(v):"date"===this.type&&(this.date=String(r)+"-"+String(l)+"-"+String(c))}}},mounted:function(){var e=this;this.setTime(),m||(this.timer=setInterval(function(){(0,r.default)(this,e),this.setTime()}.bind(this),1e3*this.interval))},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"Timeline",props:{pending:{type:Boolean,default:!1}},computed:{classes:function(){return["ivu-timeline",(0,l.default)({},"ivu-timeline-pending",this.pending)]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(2),l=(r=o)&&r.__esModule?r:{default:r},c="ivu-timeline";t.default={name:"TimelineItem",props:{color:{type:String,default:"blue"}},data:function(){return{dot:!1}},mounted:function(){this.dot=!!this.$refs.dot.innerHTML.length},computed:{itemClasses:function(){return c+"-item"},tailClasses:function(){return c+"-item-tail"},headClasses:function(){var e;return[c+"-item-head",(e={},(0,l.default)(e,c+"-item-head-custom",this.dot),(0,l.default)(e,c+"-item-head-"+String(this.color),this.headColorShow),e)]},headColorShow:function(){return"blue"==this.color||"red"==this.color||"green"==this.color},customColor:function(){var style={};return this.color&&(this.headColorShow||(style={color:this.color,"border-color":this.color})),style},contentClasses:function(){return c+"-item-content"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(17)),o=h(n(1)),l=h(n(604)),c=h(n(608)),d=h(n(6)),f=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Transfer",mixins:[f.default,d.default],render:function(e){var t=this,n=void 0===this.$slots.default?[]:this.$slots.default,r=void 0===this.$slots.default?[]:n.map(function(n){return(0,o.default)(this,t),function t(n){var r=this,l=n.children&&n.children.map(function(e){return(0,o.default)(this,r),t(e)}.bind(this)),c=e(n.tag,n.data,l);return c.text=n.text,c.isComment=n.isComment,c.componentOptions=n.componentOptions,c.elm=n.elm,c.context=n.context,c.ns=n.ns,c.isStatic=n.isStatic,c.key=n.key,c}(n)}.bind(this));return e("div",{class:this.classes},[e(l.default,{ref:"left",props:{prefixCls:this.prefixCls+"-list",data:this.leftData,renderFormat:this.renderFormat,checkedKeys:this.leftCheckedKeys,validKeysCount:this.leftValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[0],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleLeftCheckedKeysChange}},n),e(c.default,{props:{prefixCls:this.prefixCls,operations:this.operations,leftActive:this.leftValidKeysCount>0,rightActive:this.rightValidKeysCount>0,reverseOperation:this.reverseOperation}}),e(l.default,{ref:"right",props:{prefixCls:this.prefixCls+"-list",data:this.rightData,renderFormat:this.renderFormat,checkedKeys:this.rightCheckedKeys,validKeysCount:this.rightValidKeysCount,listStyle:this.listStyle,title:this.localeTitles[1],filterable:this.filterable,filterPlaceholder:this.localeFilterPlaceholder,filterMethod:this.filterMethod,notFoundText:this.localeNotFoundText},on:{"on-checked-keys-change":this.handleRightCheckedKeysChange}},r)])},props:{data:{type:Array,default:function(){return[]}},renderFormat:{type:Function,default:function(e){return e.label||e.key}},targetKeys:{type:Array,default:function(){return[]}},selectedKeys:{type:Array,default:function(){return[]}},listStyle:{type:Object,default:function(){return{}}},titles:{type:Array},operations:{type:Array,default:function(){return[]}},filterable:{type:Boolean,default:!1},filterPlaceholder:{type:String},filterMethod:{type:Function,default:function(data,e){return data["label"in data?"label":"key"].indexOf(e)>-1}},notFoundText:{type:String},reverseOperation:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-transfer",leftData:[],rightData:[],leftCheckedKeys:[],rightCheckedKeys:[]}},computed:{classes:function(){return["ivu-transfer"]},leftValidKeysCount:function(){return this.getValidKeys("left").length},rightValidKeysCount:function(){return this.getValidKeys("right").length},localeFilterPlaceholder:function(){return void 0===this.filterPlaceholder?this.t("i.transfer.filterPlaceholder"):this.filterPlaceholder},localeNotFoundText:function(){return void 0===this.notFoundText?this.t("i.transfer.notFoundText"):this.notFoundText},localeTitles:function(){return void 0===this.titles?[this.t("i.transfer.titles.source"),this.t("i.transfer.titles.target")]:this.titles}},methods:{getValidKeys:function(e){var t=this;return this[String(e)+"Data"].filter(function(data){return(0,o.default)(this,t),!data.disabled&&this[String(e)+"CheckedKeys"].indexOf(data.key)>-1}.bind(this)).map(function(data){return(0,o.default)(this,t),data.key}.bind(this))},splitData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.leftData=[].concat((0,r.default)(this.data)),this.rightData=[],this.targetKeys.length>0&&this.targetKeys.forEach(function(t){(0,o.default)(this,e);var n=this.leftData.filter(function(data,n){return(0,o.default)(this,e),data.key===t&&(this.leftData.splice(n,1),!0)}.bind(this));n&&n.length>0&&this.rightData.push(n[0])}.bind(this)),t&&this.splitSelectedKey()},splitSelectedKey:function(){var e=this,t=this.selectedKeys;t.length>0&&(this.leftCheckedKeys=this.leftData.filter(function(data){return(0,o.default)(this,e),t.indexOf(data.key)>-1}.bind(this)).map(function(data){return(0,o.default)(this,e),data.key}.bind(this)),this.rightCheckedKeys=this.rightData.filter(function(data){return(0,o.default)(this,e),t.indexOf(data.key)>-1}.bind(this)).map(function(data){return(0,o.default)(this,e),data.key}.bind(this)))},moveTo:function(e){var t=this,n=this.targetKeys,r="left"===e?"right":"left",l=this.getValidKeys(r),c="right"===e?l.concat(n):n.filter(function(e){return(0,o.default)(this,t),!l.some(function(n){return(0,o.default)(this,t),e===n}.bind(this))}.bind(this));this.$refs[r].toggleSelectAll(!1),this.$emit("on-change",c,e,l),this.dispatch("FormItem","on-form-change",{tarketKeys:c,direction:e,moveKeys:l})},handleLeftCheckedKeysChange:function(e){this.leftCheckedKeys=e},handleRightCheckedKeysChange:function(e){this.rightCheckedKeys=e},handleCheckedKeys:function(){var e=this.getValidKeys("left"),t=this.getValidKeys("right");this.$emit("on-selected-change",e,t)}},watch:{targetKeys:function(){this.splitData(!1)},data:function(){this.splitData(!1)}},mounted:function(){this.splitData(!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(1)),o=d(n(2)),l=d(n(605)),c=d(n(49));function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TransferList",components:{Search:l.default,Checkbox:c.default},props:{prefixCls:String,data:Array,renderFormat:Function,checkedKeys:Array,listStyle:Object,title:[String,Number],filterable:Boolean,filterPlaceholder:String,filterMethod:Function,notFoundText:String,validKeysCount:Number},data:function(){return{showItems:[],query:"",showFooter:!0}},watch:{data:function(){this.updateFilteredData()}},computed:{classes:function(){return[""+String(this.prefixCls),(0,o.default)({},String(this.prefixCls)+"-with-footer",this.showFooter)]},bodyClasses:function(){var e;return[String(this.prefixCls)+"-body",(e={},(0,o.default)(e,String(this.prefixCls)+"-body-with-search",this.filterable),(0,o.default)(e,String(this.prefixCls)+"-body-with-footer",this.showFooter),e)]},count:function(){var e=this.validKeysCount;return(e>0?String(e)+"/":"")+String(this.data.length)},checkedAll:function(){var e=this;return this.filterData.filter(function(data){return(0,r.default)(this,e),!data.disabled}.bind(this)).length===this.validKeysCount&&0!==this.validKeysCount},checkedAllDisabled:function(){var e=this;return this.filterData.filter(function(data){return(0,r.default)(this,e),!data.disabled}.bind(this)).length<=0},filterData:function(){var e=this;return this.showItems.filter(function(t){return(0,r.default)(this,e),this.filterMethod(t,this.query)}.bind(this))}},methods:{itemClasses:function(e){return[String(this.prefixCls)+"-content-item",(0,o.default)({},String(this.prefixCls)+"-content-item-disabled",e.disabled)]},showLabel:function(e){return this.renderFormat(e)},isCheck:function(e){var t=this;return this.checkedKeys.some(function(n){return(0,r.default)(this,t),n===e.key}.bind(this))},select:function(e){if(!e.disabled){var t=this.checkedKeys.indexOf(e.key);t>-1?this.checkedKeys.splice(t,1):this.checkedKeys.push(e.key),this.$parent.handleCheckedKeys()}},updateFilteredData:function(){this.showItems=this.data},toggleSelectAll:function(e){var t=this,n=e?this.filterData.filter(function(data){return(0,r.default)(this,t),!data.disabled||this.checkedKeys.indexOf(data.key)>-1}.bind(this)).map(function(data){return(0,r.default)(this,t),data.key}.bind(this)):this.filterData.filter(function(data){return(0,r.default)(this,t),data.disabled&&this.checkedKeys.indexOf(data.key)>-1}.bind(this)).map(function(data){return(0,r.default)(this,t),data.key}.bind(this));this.$emit("on-checked-keys-change",n)},handleQueryClear:function(){this.query=""},handleQueryChange:function(e){this.query=e}},created:function(){this.updateFilteredData()},mounted:function(){this.showFooter=void 0!==this.$slots.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(38),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"Search",components:{iInput:l.default},props:{prefixCls:String,placeholder:String,query:String},data:function(){return{currentQuery:this.query}},watch:{query:function(e){this.currentQuery=e},currentQuery:function(e){this.$emit("on-query-change",e)}},computed:{icon:function(){return""===this.query?"ios-search":"ios-close-circle"}},methods:{handleClick:function(){""!==this.currentQuery&&(this.currentQuery="",this.$emit("on-query-clear"))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(28)),o=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Operation",components:{iButton:r.default,Icon:o.default},props:{prefixCls:String,operations:Array,leftActive:Boolean,rightActive:Boolean,reverseOperation:Boolean},methods:{moveToLeft:function(){this.$parent.moveTo("left")},moveToRight:function(){this.$parent.moveTo("right")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(612)),l=h(n(61)),c=h(n(62)),d=h(n(4)),f=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Tree",mixins:[d.default,f.default],components:{TreeNode:o.default,Dropdown:l.default,DropdownMenu:c.default},provide:function(){return{TreeInstance:this}},props:{data:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},checkDirectly:{type:Boolean,default:!1},emptyText:{type:String},childrenKey:{type:String,default:"children"},loadData:{type:Function},render:{type:Function},selectNode:{type:Boolean,default:!0},expandNode:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tree",stateTree:this.data,flatState:[],contextMenuVisible:!1,contextMenuStyles:{top:0,left:0}}},watch:{data:{deep:!0,handler:function(){this.stateTree=this.data,this.flatState=this.compileFlatState(),this.rebuildTree()}}},computed:{localeEmptyText:function(){return void 0===this.emptyText?this.t("i.tree.emptyText"):this.emptyText}},methods:{compileFlatState:function(){var e=this,t=0,n=this.childrenKey,o=[];return this.stateTree.forEach(function(l){(0,r.default)(this,e),function e(l,c){var d=this;l.nodeKey=t++,o[l.nodeKey]={node:l,nodeKey:l.nodeKey},void 0!==c&&(o[l.nodeKey].parent=c.nodeKey,o[c.nodeKey][n].push(l.nodeKey)),l[n]&&(o[l.nodeKey][n]=[],l[n].forEach(function(t){return(0,r.default)(this,d),e(t,l)}.bind(this)))}(l)}.bind(this)),o},updateTreeUp:function(e){var t=this,n=this.flatState[e].parent;if(void 0!==n&&!this.checkStrictly){var o=this.flatState[e].node,l=this.flatState[n].node;o.checked==l.checked&&o.indeterminate==l.indeterminate||(1==o.checked?(this.$set(l,"checked",l[this.childrenKey].every(function(e){return(0,r.default)(this,t),e.checked}.bind(this))),this.$set(l,"indeterminate",!l.checked)):(this.$set(l,"checked",!1),this.$set(l,"indeterminate",l[this.childrenKey].some(function(e){return(0,r.default)(this,t),e.checked||e.indeterminate}.bind(this)))),this.updateTreeUp(n))}},rebuildTree:function(){var e=this;this.getCheckedNodes().forEach(function(t){(0,r.default)(this,e),this.updateTreeDown(t,{checked:!0});var n=this.flatState[t.nodeKey].parent;if(n||0===n){var o=this.flatState[n].node;void 0!==t.checked&&t.checked&&o.checked!=t.checked&&this.updateTreeUp(t.nodeKey)}}.bind(this))},getSelectedNodes:function(){var e=this;return this.flatState.filter(function(t){return(0,r.default)(this,e),t.node.selected}.bind(this)).map(function(t){return(0,r.default)(this,e),t.node}.bind(this))},getCheckedNodes:function(){var e=this;return this.flatState.filter(function(t){return(0,r.default)(this,e),t.node.checked}.bind(this)).map(function(t){return(0,r.default)(this,e),t.node}.bind(this))},getCheckedAndIndeterminateNodes:function(){var e=this;return this.flatState.filter(function(t){return(0,r.default)(this,e),t.node.checked||t.node.indeterminate}.bind(this)).map(function(t){return(0,r.default)(this,e),t.node}.bind(this))},updateTreeDown:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.checkStrictly){for(var o in n)this.$set(e,o,n[o]);e[this.childrenKey]&&e[this.childrenKey].forEach(function(e){(0,r.default)(this,t),this.updateTreeDown(e,n)}.bind(this))}},handleSelect:function(e){var t=this;if(this.flatState[e]){var n=this.flatState[e].node;if(!this.multiple){var o=this.flatState.findIndex(function(e){return(0,r.default)(this,t),e.node.selected}.bind(this));o>=0&&o!==e&&this.$set(this.flatState[o].node,"selected",!1)}this.$set(n,"selected",!n.selected),this.$emit("on-select-change",this.getSelectedNodes(),n)}},handleCheck:function(e){var t=e.checked,n=e.nodeKey;if(this.flatState[n]){var r=this.flatState[n].node;this.$set(r,"checked",t),this.$set(r,"indeterminate",!1),this.updateTreeUp(n),this.updateTreeDown(r,{checked:t,indeterminate:!1}),this.$emit("on-check-change",this.getCheckedNodes(),r)}},handleContextmenu:function(e){var t=this,data=e.data,n=e.event;this.contextMenuVisible&&this.handleClickContextMenuOutside(),this.$nextTick(function(){(0,r.default)(this,t);var e=this.$refs.treeWrap.getBoundingClientRect(),o={left:n.clientX-e.left+"px",top:n.clientY-e.top+"px"};this.contextMenuStyles=o,this.contextMenuVisible=!0,this.$emit("on-contextmenu",data,n,o)}.bind(this))},handleClickContextMenuOutside:function(){this.contextMenuVisible=!1}},created:function(){this.flatState=this.compileFlatState(),this.rebuildTree()},mounted:function(){var e=this;this.$on("on-check",this.handleCheck),this.$on("on-selected",this.handleSelect),this.$on("toggle-expand",function(t){return(0,r.default)(this,e),this.$emit("on-toggle-expand",t)}.bind(this)),this.$on("contextmenu",this.handleContextmenu)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(1)),o=m(n(2)),l=m(n(49)),c=m(n(8)),d=m(n(613)),f=m(n(83)),h=m(n(4)),v=n(3);function m(e){return e&&e.__esModule?e:{default:e}}t.default={name:"TreeNode",mixins:[h.default],inject:["TreeInstance"],components:{Checkbox:l.default,Icon:c.default,CollapseTransition:f.default,Render:d.default},props:{data:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},childrenKey:{type:String,default:"children"},showCheckbox:{type:Boolean,default:!1},appear:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-tree",appearByClickArrow:!1}},computed:{classes:function(){return["ivu-tree-children"]},selectedCls:function(){return[(0,o.default)({},"ivu-tree-node-selected",this.data.selected)]},arrowClasses:function(){var e;return["ivu-tree-arrow",(e={},(0,o.default)(e,"ivu-tree-arrow-disabled",this.data.disabled),(0,o.default)(e,"ivu-tree-arrow-open",this.data.expand),e)]},titleClasses:function(){return["ivu-tree-title",(0,o.default)({},"ivu-tree-title-selected",this.data.selected)]},showArrow:function(){return this.data[this.childrenKey]&&this.data[this.childrenKey].length||"loading"in this.data&&!this.data.loading},showLoading:function(){return"loading"in this.data&&this.data.loading},isParentRender:function(){var e=(0,v.findComponentUpward)(this,"Tree");return e&&e.render},parentRender:function(){var e=(0,v.findComponentUpward)(this,"Tree");return e&&e.render?e.render:null},node:function(){var e=this,t=(0,v.findComponentUpward)(this,"Tree");return t?[t.flatState,t.flatState.find(function(t){return(0,r.default)(this,e),t.nodeKey===this.data.nodeKey}.bind(this))]:[]},children:function(){return this.data[this.childrenKey]},arrowType:function(){var e="ios-arrow-forward";return this.$IVIEW&&(this.$IVIEW.tree.customArrow?e="":this.$IVIEW.tree.arrow&&(e=this.$IVIEW.tree.arrow)),e},customArrowType:function(){var e="";return this.$IVIEW&&this.$IVIEW.tree.customArrow&&(e=this.$IVIEW.tree.customArrow),e},arrowSize:function(){var e="";return this.$IVIEW&&this.$IVIEW.tree.arrowSize&&(e=this.$IVIEW.tree.arrowSize),e}},methods:{handleExpand:function(){var e=this,t=this.data;if(this.appearByClickArrow=!0,0===t[this.childrenKey].length){var n=(0,v.findComponentUpward)(this,"Tree");if(n&&n.loadData)return this.$set(this.data,"loading",!0),void n.loadData(t,function(t){(0,r.default)(this,e),this.$set(this.data,"loading",!1),t.length&&(this.$set(this.data,this.childrenKey,t),this.$nextTick(function(){return(0,r.default)(this,e),this.handleExpand()}.bind(this)))}.bind(this))}t[this.childrenKey]&&t[this.childrenKey].length&&(this.$set(this.data,"expand",!this.data.expand),this.dispatch("Tree","toggle-expand",this.data))},handleClickNode:function(){this.TreeInstance.expandNode?this.showArrow&&this.handleExpand():this.TreeInstance.selectNode&&this.handleSelect()},handleSelect:function(){this.data.disabled||(this.TreeInstance.showCheckbox&&this.TreeInstance.checkDirectly?this.handleCheck():this.dispatch("Tree","on-selected",this.data.nodeKey))},handleCheck:function(){if(!this.data.disabled){var e={checked:!this.data.checked&&!this.data.indeterminate,nodeKey:this.data.nodeKey};this.dispatch("Tree","on-check",e)}},handleContextmenu:function(data,e){data.contextmenu&&(e.preventDefault(),this.dispatch("Tree","contextmenu",{data:data,event:e}))},handlePreventSelect:function(data,e){data.contextmenu&&e.preventDefault()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(1)),o=v(n(2)),l=v(n(618)),c=v(n(620)),d=n(3),f=v(n(4)),h=v(n(11));function v(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Upload",mixins:[f.default,h.default],components:{UploadList:l.default},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!1},data:{type:Object},name:{type:String,default:"file"},withCredentials:{type:Boolean,default:!1},showUploadList:{type:Boolean,default:!0},type:{type:String,validator:function(e){return(0,d.oneOf)(e,["select","drag"])},default:"select"},format:{type:Array,default:function(){return[]}},accept:{type:String},maxSize:{type:Number},beforeUpload:Function,onProgress:{type:Function,default:function(){return{}}},onSuccess:{type:Function,default:function(){return{}}},onError:{type:Function,default:function(){return{}}},onRemove:{type:Function,default:function(){return{}}},onPreview:{type:Function,default:function(){return{}}},onExceededSize:{type:Function,default:function(){return{}}},onFormatError:{type:Function,default:function(){return{}}},defaultFileList:{type:Array,default:function(){return[]}},paste:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},webkitdirectory:{type:Boolean,default:!1}},data:function(){return{prefixCls:"ivu-upload",dragOver:!1,fileList:[],tempIndex:1}},computed:{classes:function(){var e;return["ivu-upload",(e={},(0,o.default)(e,"ivu-upload-select","select"===this.type),(0,o.default)(e,"ivu-upload-drag","drag"===this.type),(0,o.default)(e,"ivu-upload-dragOver","drag"===this.type&&this.dragOver),e)]}},methods:{handleClick:function(){this.itemDisabled||this.$refs.input.click()},handleChange:function(e){var t=e.target.files;t&&(this.uploadFiles(t),this.$refs.input.value=null)},onDrop:function(e){this.dragOver=!1,this.itemDisabled||this.uploadFiles(e.dataTransfer.files)},handlePaste:function(e){this.itemDisabled||this.paste&&this.uploadFiles(e.clipboardData.files)},uploadFiles:function(e){var t=this,n=Array.prototype.slice.call(e);this.multiple||(n=n.slice(0,1)),0!==n.length&&n.forEach(function(e){(0,r.default)(this,t),this.upload(e)}.bind(this))},upload:function(e){var t=this;if(!this.beforeUpload)return this.post(e);var n=this.beforeUpload(e);n&&n.then?n.then(function(n){(0,r.default)(this,t),"[object File]"===Object.prototype.toString.call(n)?this.post(n):this.post(e)}.bind(this),function(){(0,r.default)(this,t)}.bind(this)):!1!==n&&this.post(e)},post:function(e){var t=this;if(this.format.length){var n=e.name.split(".").pop().toLocaleLowerCase();if(!this.format.some(function(e){return(0,r.default)(this,t),e.toLocaleLowerCase()===n}.bind(this)))return this.onFormatError(e,this.fileList),!1}if(this.maxSize&&e.size>1024*this.maxSize)return this.onExceededSize(e,this.fileList),!1;this.handleStart(e),(new FormData).append(this.name,e),(0,c.default)({headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(n){(0,r.default)(this,t),this.handleProgress(n,e)}.bind(this),onSuccess:function(n){(0,r.default)(this,t),this.handleSuccess(n,e)}.bind(this),onError:function(n,o){(0,r.default)(this,t),this.handleError(n,o,e)}.bind(this)})},handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"uploading",name:e.name,size:e.size,percentage:0,uid:e.uid,showProgress:!0};this.fileList.push(t)},getFile:function(e){var t=this,n=this.fileList,o=void 0;return n.every(function(n){return(0,r.default)(this,t),!(o=e.uid===n.uid?n:null)}.bind(this)),o},handleProgress:function(e,t){var n=this.getFile(t);this.onProgress(e,n,this.fileList),n.percentage=e.percent||0},handleSuccess:function(e,t){var n=this,o=this.getFile(t);o&&(o.status="finished",o.response=e,this.onSuccess(e,o,this.fileList),this.dispatch("FormItem","on-form-change",o),setTimeout(function(){(0,r.default)(this,n),o.showProgress=!1}.bind(this),1e3))},handleError:function(e,t,n){var r=this.getFile(n),o=this.fileList;r.status="fail",o.splice(o.indexOf(r),1),this.onError(e,t,n)},handleRemove:function(e){var t=this.fileList;t.splice(t.indexOf(e),1),this.onRemove(e,t)},handlePreview:function(e){"finished"===e.status&&this.onPreview(e)},clearFiles:function(){this.fileList=[]}},watch:{defaultFileList:{immediate:!0,handler:function(e){var t=this;this.fileList=e.map(function(e){return(0,r.default)(this,t),e.status="finished",e.percentage=100,e.uid=Date.now()+this.tempIndex++,e}.bind(this))}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2)),o=c(n(8)),l=c(n(222));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"UploadList",components:{Icon:o.default,iProgress:l.default},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{prefixCls:"ivu-upload"}},methods:{fileCls:function(e){return["ivu-upload-list-file",(0,r.default)({},"ivu-upload-list-file-finish","finished"===e.status)]},handleClick:function(e){this.$emit("on-file-click",e)},handlePreview:function(e){this.$emit("on-file-preview",e)},handleRemove:function(e){this.$emit("on-file-remove",e)},format:function(e){var t=e.name.split(".").pop().toLocaleLowerCase()||"",n="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1&&(n="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1&&(n="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1&&(n="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1&&(n="md-document"),["numbers","csv","xls","xlsx"].indexOf(t)>-1&&(n="ios-stats"),["keynote","ppt","pptx"].indexOf(t)>-1&&(n="ios-videocam"),n},parsePercentage:function(e){return parseInt(e,10)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(2)),l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"Row",props:{type:{validator:function(e){return(0,l.oneOf)(e,["flex"])}},align:{validator:function(e){return(0,l.oneOf)(e,["top","middle","bottom"])}},justify:{validator:function(e){return(0,l.oneOf)(e,["start","end","center","space-around","space-between"])}},gutter:{type:Number,default:0},className:String},computed:{classes:function(){var e;return[(e={},(0,o.default)(e,"ivu-row",!this.type),(0,o.default)(e,"ivu-row-"+String(this.type),!!this.type),(0,o.default)(e,"ivu-row-"+String(this.type)+"-"+String(this.align),!!this.align),(0,o.default)(e,"ivu-row-"+String(this.type)+"-"+String(this.justify),!!this.justify),(0,o.default)(e,""+String(this.className),!!this.className),e)]},styles:function(){var style={};return 0!==this.gutter&&(style={marginLeft:this.gutter/-2+"px",marginRight:this.gutter/-2+"px"}),style}},methods:{updateGutter:function(e){var t=this,n=(0,l.findComponentDownward)(this,"iCol"),o=(0,l.findBrothersComponents)(n,"iCol",!1);o.length&&o.forEach(function(n){(0,r.default)(this,t),0!==e&&(n.gutter=e)}.bind(this))}},watch:{gutter:function(e){this.updateGutter(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(21)),o=f(n(27)),l=f(n(1)),c=f(n(2)),d=n(3);function f(e){return e&&e.__esModule?e:{default:e}}t.default={name:"iCol",props:{span:[Number,String],order:[Number,String],offset:[Number,String],push:[Number,String],pull:[Number,String],className:String,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object],xxl:[Number,Object]},data:function(){return{gutter:0}},computed:{classes:function(){var e,t=this,n=["ivu-col",(e={},(0,c.default)(e,"ivu-col-span-"+String(this.span),this.span),(0,c.default)(e,"ivu-col-order-"+String(this.order),this.order),(0,c.default)(e,"ivu-col-offset-"+String(this.offset),this.offset),(0,c.default)(e,"ivu-col-push-"+String(this.push),this.push),(0,c.default)(e,"ivu-col-pull-"+String(this.pull),this.pull),(0,c.default)(e,""+String(this.className),!!this.className),e)];return["xs","sm","md","lg","xl","xxl"].forEach(function(e){if((0,l.default)(this,t),"number"==typeof this[e])n.push("ivu-col-span-"+String(e)+"-"+String(this[e]));else if("object"===(0,o.default)(this[e])){var c=this[e];(0,r.default)(c).forEach(function(r){(0,l.default)(this,t),n.push("span"!==r?"ivu-col-"+String(e)+"-"+String(r)+"-"+String(c[r]):"ivu-col-span-"+String(e)+"-"+String(c[r]))}.bind(this))}}.bind(this)),n},styles:function(){var style={};return 0!==this.gutter&&(style={paddingLeft:this.gutter/2+"px",paddingRight:this.gutter/2+"px"}),style}},methods:{updateGutter:function(){var e=(0,d.findComponentUpward)(this,"Row");e&&e.updateGutter(e.gutter)}},mounted:function(){this.updateGutter()},beforeDestroy:function(){this.updateGutter()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"OptionGroup",props:{label:{type:String,default:""}},data:function(){return{prefixCls:"ivu-select-group",hidden:!1}},methods:{queryChange:function(){var e=this;this.$nextTick(function(){(0,l.default)(this,e);for(var t=this.$refs.options.querySelectorAll(".ivu-select-item"),n=!1,i=0;i<t.length;i++)if("none"!==t[i].style.display){n=!0;break}this.hidden=!n}.bind(this))}},mounted:function(){var e=this;this.$on("on-query-change",function(){return(0,l.default)(this,e),this.queryChange(),!0}.bind(this))}}},function(e,t,n){"use strict";var r=_e(n(1)),o=_e(n(21)),l=_e(n(32)),c=_e(n(267)),d=_e(n(273)),f=_e(n(283)),h=_e(n(286)),v=_e(n(289)),m=_e(n(341)),y=_e(n(343)),x=_e(n(346)),_=_e(n(349)),w=_e(n(354)),k=_e(n(358)),S=_e(n(361)),C=_e(n(366)),T=_e(n(373)),E=_e(n(380)),M=_e(n(383)),P=_e(n(387)),A=_e(n(392)),O=_e(n(403)),I=_e(n(405)),D=_e(n(425)),R=_e(n(428)),z=_e(n(431)),L=_e(n(436)),j=_e(n(438)),F=_e(n(452)),N=_e(n(19)),B=_e(n(454)),V=_e(n(455)),U=_e(n(457)),W=_e(n(468)),H=_e(n(473)),$=_e(n(477)),G=_e(n(484)),Z=_e(n(488)),Y=_e(n(497)),X=_e(n(502)),K=_e(n(506)),J=_e(n(507)),Q=_e(n(512)),ee=_e(n(514)),te=_e(n(516)),ie=_e(n(521)),ne=_e(n(524)),re=_e(n(525)),oe=_e(n(540)),ae=_e(n(542)),se=_e(n(547)),ue=_e(n(550)),le=_e(n(582)),ce=_e(n(587)),de=_e(n(590)),fe=_e(n(594)),he=_e(n(599)),pe=_e(n(601)),ve=_e(n(602)),me=_e(n(610)),ge=_e(n(616)),ye=n(622),be=n(627),xe=_e(n(120));function _e(e){return e&&e.__esModule?e:{default:e}}var we={Affix:c.default,Alert:d.default,Anchor:f.default,AnchorLink:h.default,AutoComplete:v.default,Avatar:m.default,BackTop:y.default,Badge:x.default,Breadcrumb:_.default,BreadcrumbItem:_.default.Item,Button:w.default,ButtonGroup:w.default.Group,Card:k.default,Carousel:S.default,CarouselItem:S.default.Item,Cascader:C.default,Cell:T.default,CellGroup:T.default.Group,Checkbox:E.default,CheckboxGroup:E.default.Group,Col:ye.Col,Collapse:P.default,ColorPicker:A.default,Content:O.default,DatePicker:I.default,Divider:D.default,Drawer:R.default,Dropdown:z.default,DropdownItem:z.default.Item,DropdownMenu:z.default.Menu,Footer:L.default,Form:j.default,FormItem:j.default.Item,Header:F.default,Icon:N.default,Input:B.default,InputNumber:V.default,Scroll:U.default,Sider:ne.default,Split:W.default,Submenu:Z.default.Sub,Layout:H.default,List:$.default,ListItem:$.default.Item,ListItemMeta:$.default.Item.Meta,LoadingBar:G.default,Menu:Z.default,MenuGroup:Z.default.Group,MenuItem:Z.default.Item,Message:Y.default,Modal:X.default,Notice:K.default,Option:be.Option,OptionGroup:be.OptionGroup,Page:J.default,Panel:P.default.Panel,Poptip:Q.default,Progress:ee.default,Radio:te.default,RadioGroup:te.default.Group,Rate:ie.default,Row:ye.Row,Select:be.Select,Slider:re.default,Spin:oe.default,Step:ae.default.Step,Steps:ae.default,Table:ue.default,Tabs:le.default,TabPane:le.default.Pane,Tag:ce.default,Time:de.default,Timeline:fe.default,TimelineItem:fe.default.Item,TimePicker:he.default,Tooltip:pe.default,Transfer:ve.default,Tree:me.default,Upload:ge.default},ke=(0,l.default)({},we,{iButton:w.default,iCircle:M.default,iCol:ye.Col,iContent:O.default,iForm:j.default,iFooter:L.default,iHeader:F.default,iInput:B.default,iMenu:Z.default,iOption:be.Option,iProgress:ee.default,iSelect:be.Select,iSwitch:se.default,iTable:ue.default,iTime:de.default}),Se=function e(t){var n=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.installed||(xe.default.use(l.locale),xe.default.i18n(l.i18n),(0,o.default)(ke).forEach(function(e){(0,r.default)(this,n),t.component(e,ke[e])}.bind(this)),t.prototype.$IVIEW={size:l.size||"",transfer:"transfer"in l?l.transfer:"",capture:!("capture"in l)||l.capture,select:{arrow:l.select&&l.select.arrow?l.select.arrow:"",customArrow:l.select&&l.select.customArrow?l.select.customArrow:"",arrowSize:l.select&&l.select.arrowSize?l.select.arrowSize:""},cell:{arrow:l.cell&&l.cell.arrow?l.cell.arrow:"",customArrow:l.cell&&l.cell.customArrow?l.cell.customArrow:"",arrowSize:l.cell&&l.cell.arrowSize?l.cell.arrowSize:""},menu:{arrow:l.menu&&l.menu.arrow?l.menu.arrow:"",customArrow:l.menu&&l.menu.customArrow?l.menu.customArrow:"",arrowSize:l.menu&&l.menu.arrowSize?l.menu.arrowSize:""},tree:{arrow:l.tree&&l.tree.arrow?l.tree.arrow:"",customArrow:l.tree&&l.tree.customArrow?l.tree.customArrow:"",arrowSize:l.tree&&l.tree.arrowSize?l.tree.arrowSize:""},cascader:{arrow:l.cascader&&l.cascader.arrow?l.cascader.arrow:"",customArrow:l.cascader&&l.cascader.customArrow?l.cascader.customArrow:"",arrowSize:l.cascader&&l.cascader.arrowSize?l.cascader.arrowSize:"",itemArrow:l.cascader&&l.cascader.itemArrow?l.cascader.itemArrow:"",customItemArrow:l.cascader&&l.cascader.customItemArrow?l.cascader.customItemArrow:"",itemArrowSize:l.cascader&&l.cascader.itemArrowSize?l.cascader.itemArrowSize:""},colorPicker:{arrow:l.colorPicker&&l.colorPicker.arrow?l.colorPicker.arrow:"",customArrow:l.colorPicker&&l.colorPicker.customArrow?l.colorPicker.customArrow:"",arrowSize:l.colorPicker&&l.colorPicker.arrowSize?l.colorPicker.arrowSize:""},datePicker:{icon:l.datePicker&&l.datePicker.icon?l.datePicker.icon:"",customIcon:l.datePicker&&l.datePicker.customIcon?l.datePicker.customIcon:"",iconSize:l.datePicker&&l.datePicker.iconSize?l.datePicker.iconSize:""},timePicker:{icon:l.timePicker&&l.timePicker.icon?l.timePicker.icon:"",customIcon:l.timePicker&&l.timePicker.customIcon?l.timePicker.customIcon:"",iconSize:l.timePicker&&l.timePicker.iconSize?l.timePicker.iconSize:""},tabs:{closeIcon:l.tabs&&l.tabs.closeIcon?l.tabs.closeIcon:"",customCloseIcon:l.tabs&&l.tabs.customCloseIcon?l.tabs.customCloseIcon:"",closeIconSize:l.tabs&&l.tabs.closeIconSize?l.tabs.closeIconSize:""},modal:{maskClosable:l.modal&&"maskClosable"in l.modal?l.modal.maskClosable:""}},t.prototype.$Loading=G.default,t.prototype.$Message=Y.default,t.prototype.$Modal=X.default,t.prototype.$Notice=K.default,t.prototype.$Spin=oe.default)};"undefined"!=typeof window&&window.Vue&&Se(window.Vue);var Ce=(0,l.default)({version:"4.4.0",locale:xe.default.use,i18n:xe.default.i18n,install:Se,Circle:M.default,Switch:se.default},we);Ce.lang=function(code){(0,r.default)(void 0,void 0);var e=window["iview/locale"].default;code===e.i.locale?xe.default.use(e):console.log("The "+String(code)+" language pack is not loaded.")}.bind(void 0),e.exports.default=e.exports=Ce},function(e,t,n){n(261),e.exports=n(5).Object.keys},function(e,t,n){var r=n(29),o=n(40);n(97)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(33),o=n(52),l=n(263);e.exports=function(e){return function(t,n,c){var d,f=r(t),h=o(f.length),v=l(c,h);if(e&&n!=n){for(;h>v;)if((d=f[v++])!=d)return!0}else for(;h>v;v++)if((e||v in f)&&f[v]===n)return e||v||0;return!e&&-1}}},function(e,t,n){var r=n(65),o=Math.max,l=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):l(e,t)}},function(e,t,n){n(265),e.exports=n(5).Object.assign},function(e,t,n){var r=n(7);r(r.S+r.F,"Object",{assign:n(266)})},function(e,t,n){"use strict";var r=n(13),o=n(40),l=n(71),c=n(54),d=n(29),f=n(64),h=Object.assign;e.exports=!h||n(31)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||Object.keys(h({},t)).join("")!=r}))?function(e,source){for(var t=d(e),n=arguments.length,h=1,v=l.f,m=c.f;n>h;)for(var y,x=f(arguments[h++]),_=v?o(x).concat(v(x)):o(x),w=_.length,k=0;w>k;)y=_[k++],r&&!m.call(x,y)||(t[y]=x[y]);return t}:h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(268),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(99),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(272),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={default:n(270),__esModule:!0}},function(e,t,n){n(271);var r=n(5).Object;e.exports=function(e,t,desc){return r.defineProperty(e,t,desc)}},function(e,t,n){var r=n(7);r(r.S+r.F*!n(13),"Object",{defineProperty:n(14).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{ref:"point",class:this.classes,style:this.styles},[this._t("default")],2),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.slot,expression:"slot"}],style:this.slotStyle})])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(274),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(282),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("i",{class:this.classes,style:this.styles,on:{click:this.handleClick}})},t.staticRenderFns=[]},function(e,t,n){n(46),n(35),e.exports=n(281)},function(e,t,n){"use strict";var r=n(278),o=n(102),l=n(34),c=n(33);e.exports=n(72)(Array,"Array",(function(e,t){this._t=c(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),l.Arguments=l.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(55),o=n(44),l=n(47),c={};n(25)(c,n(10)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(c,{next:o(1,n)}),l(e,t+" Iterator")}},function(e,t,n){var r=n(65),o=n(63);e.exports=function(e){return function(t,n){var a,b,s=String(o(t)),i=r(n),l=s.length;return i<0||i>=l?e?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?e?s.charAt(i):a:e?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(e,t,n){var r=n(22),o=n(73);e.exports=n(5).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.closed?e._e():n("div",{class:e.wrapClasses},[e.showIcon?n("span",{class:e.iconClasses},[e._t("icon",[n("Icon",{attrs:{type:e.iconType}})])],2):e._e(),e._v(" "),n("span",{class:e.messageClasses},[e._t("default")],2),e._v(" "),n("span",{class:e.descClasses},[e._t("desc")],2),e._v(" "),e.closable?n("a",{class:e.closeClasses,on:{click:e.close}},[e._t("close",[n("Icon",{attrs:{type:"ios-close"}})])],2):e._e()])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(284),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(107),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(285),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.wrapperComponent,{tag:"component",attrs:{"offset-top":e.offsetTop,"offset-bottom":e.offsetBottom},on:{"on-change":e.handleAffixStateChange}},[n("div",{class:e.prefix+"-wrapper",style:e.wrapperStyle},[n("div",{class:""+e.prefix},[n("div",{class:e.prefix+"-ink"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showInk,expression:"showInk"}],class:e.prefix+"-ink-ball",style:{top:e.inkTop+"px"}})]),e._v(" "),e._t("default")],2)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(287),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(108),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(288),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.anchorLinkClasses},[n("a",{class:e.linkTitleClasses,attrs:{href:e.href,"data-scroll-offset":e.scrollOffset,"data-href":e.href,title:e.title},on:{click:function(t){return t.preventDefault(),e.goAnchor(t)}}},[e._v(e._s(e.title))]),e._v(" "),e._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(290),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(340),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={default:n(292),__esModule:!0}},function(e,t,n){n(46),n(35),e.exports=n(293)},function(e,t,n){var r=n(56),o=n(10)("iterator"),l=n(34);e.exports=n(5).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||l.hasOwnProperty(r(t))}},function(e,t,n){n(295),e.exports=n(5).Number.isFinite},function(e,t,n){var r=n(7),o=n(9).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(5),o=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){n(35),n(298),e.exports=n(5).Array.from},function(e,t,n){"use strict";var r=n(24),o=n(7),l=n(29),c=n(112),d=n(113),f=n(52),h=n(299),v=n(73);o(o.S+o.F*!n(114)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,m,y=l(e),x="function"==typeof this?this:Array,_=arguments.length,w=_>1?arguments[1]:void 0,k=void 0!==w,S=0,C=v(y);if(k&&(w=r(w,_>2?arguments[2]:void 0,2)),null==C||x==Array&&d(C))for(n=new x(t=f(y.length));t>S;S++)h(n,S,k?w(y[S],S):y[S]);else for(m=C.call(y),n=new x;!(o=m.next()).done;S++)h(n,S,k?c(m,w,[o.value,S],!0):o.value);return n.length=S,n}})},function(e,t,n){"use strict";var r=n(14),o=n(44);e.exports=function(object,e,t){e in object?r.f(object,e,o(0,t)):object[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ivu-select-dropdown",class:this.className,style:this.styles},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){e.exports={default:n(302),__esModule:!0}},function(e,t,n){n(35),n(46),e.exports=n(77).f("iterator")},function(e,t,n){e.exports={default:n(304),__esModule:!0}},function(e,t,n){n(305),n(80),n(309),n(310),e.exports=n(5).Symbol},function(e,t,n){"use strict";var r=n(9),o=n(30),l=n(13),c=n(7),d=n(103),f=n(78).KEY,h=n(31),v=n(67),m=n(47),y=n(53),x=n(10),_=n(77),w=n(79),k=n(306),S=n(118),C=n(22),T=n(18),E=n(29),M=n(33),P=n(70),A=n(44),O=n(55),I=n(307),D=n(308),R=n(71),z=n(14),L=n(40),j=D.f,F=z.f,N=I.f,B=r.Symbol,V=r.JSON,U=V&&V.stringify,W=x("_hidden"),H=x("toPrimitive"),$={}.propertyIsEnumerable,G=v("symbol-registry"),Z=v("symbols"),Y=v("op-symbols"),X=Object.prototype,K="function"==typeof B&&!!R.f,J=r.QObject,Q=!J||!J.prototype||!J.prototype.findChild,ee=l&&h((function(){return 7!=O(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=j(X,t);r&&delete X[t],F(e,t,n),r&&e!==X&&F(X,t,r)}:F,te=function(e){var t=Z[e]=O(B.prototype);return t._k=e,t},ie=K&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},ne=function(e,t,n){return e===X&&ne(Y,t,n),C(e),t=P(t,!0),C(n),o(Z,t)?(n.enumerable?(o(e,W)&&e[W][t]&&(e[W][t]=!1),n=O(n,{enumerable:A(0,!1)})):(o(e,W)||F(e,W,A(1,{})),e[W][t]=!0),ee(e,t,n)):F(e,t,n)},re=function(e,t){C(e);for(var n,r=k(t=M(t)),i=0,o=r.length;o>i;)ne(e,n=r[i++],t[n]);return e},oe=function(e){var t=$.call(this,e=P(e,!0));return!(this===X&&o(Z,e)&&!o(Y,e))&&(!(t||!o(this,e)||!o(Z,e)||o(this,W)&&this[W][e])||t)},ae=function(e,t){if(e=M(e),t=P(t,!0),e!==X||!o(Z,t)||o(Y,t)){var n=j(e,t);return!n||!o(Z,t)||o(e,W)&&e[W][t]||(n.enumerable=!0),n}},se=function(e){for(var t,n=N(M(e)),r=[],i=0;n.length>i;)o(Z,t=n[i++])||t==W||t==f||r.push(t);return r},ue=function(e){for(var t,n=e===X,r=N(n?Y:M(e)),l=[],i=0;r.length>i;)!o(Z,t=r[i++])||n&&!o(X,t)||l.push(Z[t]);return l};K||(d((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=y(arguments.length>0?arguments[0]:void 0),t=function(n){this===X&&t.call(Y,n),o(this,W)&&o(this[W],e)&&(this[W][e]=!1),ee(this,e,A(1,n))};return l&&Q&&ee(X,e,{configurable:!0,set:t}),te(e)}).prototype,"toString",(function(){return this._k})),D.f=ae,z.f=ne,n(119).f=I.f=se,n(54).f=oe,R.f=ue,l&&!n(42)&&d(X,"propertyIsEnumerable",oe,!0),_.f=function(e){return te(x(e))}),c(c.G+c.W+c.F*!K,{Symbol:B});for(var le="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ce=0;le.length>ce;)x(le[ce++]);for(var de=L(x.store),fe=0;de.length>fe;)w(de[fe++]);c(c.S+c.F*!K,"Symbol",{for:function(e){return o(G,e+="")?G[e]:G[e]=B(e)},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),c(c.S+c.F*!K,"Object",{create:function(e,t){return void 0===t?O(e):re(O(e),t)},defineProperty:ne,defineProperties:re,getOwnPropertyDescriptor:ae,getOwnPropertyNames:se,getOwnPropertySymbols:ue});var he=h((function(){R.f(1)}));c(c.S+c.F*he,"Object",{getOwnPropertySymbols:function(e){return R.f(E(e))}}),V&&c(c.S+c.F*(!K||h((function(){var e=B();return"[null]"!=U([e])||"{}"!=U({a:e})||"{}"!=U(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(T(t)||void 0!==e)&&!ie(e))return S(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),r[1]=t,U.apply(V,r)}}),B.prototype[H]||n(25)(B.prototype,H,B.prototype.valueOf),m(B,"Symbol"),m(Math,"Math",!0),m(r.JSON,"JSON",!0)},function(e,t,n){var r=n(40),o=n(71),l=n(54);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var c,d=n(e),f=l.f,i=0;d.length>i;)f.call(e,c=d[i++])&&t.push(c);return t}},function(e,t,n){var r=n(33),o=n(119).f,l={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return c&&"[object Window]"==l.call(e)?function(e){try{return o(e)}catch(e){return c.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(54),o=n(44),l=n(33),c=n(70),d=n(30),f=n(98),h=Object.getOwnPropertyDescriptor;t.f=n(13)?h:function(e,t){if(e=l(e),t=c(t,!0),f)try{return h(e,t)}catch(e){}if(d(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){n(79)("asyncIterator")},function(e,t,n){n(79)("observable")},function(e,t,n){e.exports={default:n(312),__esModule:!0}},function(e,t,n){n(313);var r=n(5).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(7);r(r.S+r.F*!n(13),"Object",{defineProperties:n(104)})},function(e,t,n){e.exports={default:n(315),__esModule:!0}},function(e,t,n){n(316);var r=n(5).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(7);r(r.S,"Object",{create:n(55)})},function(e,t,n){e.exports={default:n(318),__esModule:!0}},function(e,t,n){n(319),e.exports=n(5).Object.getPrototypeOf},function(e,t,n){var r=n(29),o=n(106);n(97)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(321),l={i:{locale:"zh-CN",select:{placeholder:"请选择",noMatch:"无匹配数据",loading:"加载中"},table:{noDataText:"暂无数据",noFilteredDataText:"暂无筛选结果",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},datepicker:{selectDate:"选择日期",selectTime:"选择时间",startTime:"开始时间",endTime:"结束时间",clear:"清空",ok:"确定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"源列表",target:"目的列表"},filterPlaceholder:"请输入搜索内容",notFoundText:"列表为空"},modal:{okText:"确定",cancelText:"取消"},poptip:{okText:"确定",cancelText:"取消"},page:{prev:"上一页",next:"下一页",total:"共",item:"条",items:"条",prev5:"向前 5 页",next5:"向后 5 页",page:"条/页",goto:"跳至",p:"页"},rate:{star:"星",stars:"星"},time:{before:"前",after:"后",just:"刚刚",seconds:"秒",minutes:"分钟",hours:"小时",days:"天"},tree:{emptyText:"暂无数据"}}};(0,((r=o)&&r.__esModule?r:{default:r}).default)(l),t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){l||void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[e.i.locale]=e)};var r,o=n(16),l=((r=o)&&r.__esModule?r:{default:r}).default.prototype.$isServer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)},o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,source,t){return e.concat(source).map((function(element){return l(element,t)}))}function d(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||c,t.isMergeableObject=t.isMergeableObject||r;var n=Array.isArray(source);return n===Array.isArray(e)?n?t.arrayMerge(e,source,t):function(e,source,t){var n={};return t.isMergeableObject(e)&&Object.keys(e).forEach((function(r){n[r]=l(e[r],t)})),Object.keys(source).forEach((function(r){t.isMergeableObject(source[r])&&e[r]?n[r]=d(e[r],source[r],t):n[r]=l(source[r],t)})),n}(e,source,t):l(source,t)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return d(e,n,t)}),{})};var f=d;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(27));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return function(t){for(var n=this,l=arguments.length,d=Array(l>1?l-1:0),f=1;f<l;f++)d[f-1]=arguments[f];return 1===d.length&&"object"===(0,o.default)(d[0])&&(d=d[0]),d&&d.hasOwnProperty||(d={}),t.replace(c,function(o,l,i,c){(0,r.default)(this,n);var f=void 0;return"{"===t[c-1]&&"}"===t[c+o.length]?i:null==(f=e(d,i)?d[i]:null)?"":f}.bind(this))}};var c=/(%|)\{([0-9a-zA-Z_]+)\}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(121),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(325),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.headCls,on:{click:e.onHeaderClick}},[e.$slots.prefix||e.prefix?n("span",{class:[e.prefixCls+"-prefix"]},[e._t("prefix",[e.prefix?n("Icon",{attrs:{type:e.prefix}}):e._e()])],2):e._e(),e._v(" "),e._l(e.selectedMultiple,(function(t,r){return void 0===e.maxTagCount||r<e.maxTagCount?n("div",{staticClass:"ivu-tag ivu-tag-checked"},[n("span",{staticClass:"ivu-tag-text",class:{"ivu-select-multiple-tag-hidden":t.disabled}},[e._v(e._s(void 0!==t.tag?t.tag:t.label))]),e._v(" "),t.disabled?e._e():n("Icon",{attrs:{type:"ios-close"},nativeOn:{click:function(n){return n.stopPropagation(),e.removeTag(t)}}})],1):e._e()})),void 0!==e.maxTagCount&&e.selectedMultiple.length>e.maxTagCount?n("div",{staticClass:"ivu-tag ivu-tag-checked"},[n("span",{staticClass:"ivu-tag-text ivu-select-max-tag"},[e.maxTagPlaceholder?[e._v(e._s(e.maxTagPlaceholder(e.selectedMultiple.length-e.maxTagCount)))]:[e._v("+ "+e._s(e.selectedMultiple.length-e.maxTagCount)+"...")]],2)]):e._e(),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.singleDisplayValue,expression:"singleDisplayValue"}],class:e.singleDisplayClasses},[e._v(e._s(e.singleDisplayValue))]),e._v(" "),e.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",class:[e.prefixCls+"-input"],style:e.inputStyle,attrs:{id:e.inputElementId,type:"text",disabled:e.disabled,placeholder:e.showPlaceholder?e.localePlaceholder:"",autocomplete:"off",spellcheck:"false"},domProps:{value:e.query},on:{keydown:[e.resetInputState,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleInputDelete(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)}],focus:e.onInputFocus,blur:e.onInputBlur,input:function(t){t.target.composing||(e.query=t.target.value)}}}):e._e(),e._v(" "),e.resetSelect?n("Icon",{class:[e.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(t){return t.stopPropagation(),e.onClear(t)}}}):e._e(),e._v(" "),e.resetSelect||e.remote?e._e():n("Icon",{class:[e.prefixCls+"-arrow"],attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}})],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(122),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(0),d=Object(c.a)(o.a,void 0,void 0,!1,null,null,null);t.default=d.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:e.onClickOutside,expression:"onClickOutside",arg:e.capture},{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:e.onClickOutside,expression:"onClickOutside",arg:e.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:e.onClickOutside,expression:"onClickOutside",arg:e.capture,modifiers:{touchstart:!0}}],class:e.classes},[n("div",{ref:"reference",class:e.selectionCls,attrs:{tabindex:e.selectTabindex},on:{blur:e.toggleHeaderFocus,focus:e.toggleHeaderFocus,click:e.toggleMenu,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleKeydown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeydown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.handleKeydown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.handleKeydown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleKeydown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleKeydown(t)}],mouseenter:function(t){e.hasMouseHoverHead=!0},mouseleave:function(t){e.hasMouseHoverHead=!1}}},[e._t("input",[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.publicValue}}),e._v(" "),n("select-head",{attrs:{filterable:e.filterable,multiple:e.multiple,values:e.values,clearable:e.canBeCleared,prefix:e.prefix,disabled:e.itemDisabled,remote:e.remote,"input-element-id":e.elementId,"initial-label":e.initialLabel,placeholder:e.placeholder,"query-prop":e.query,"max-tag-count":e.maxTagCount,"max-tag-placeholder":e.maxTagPlaceholder,"allow-create":e.allowCreate,"show-create-item":e.showCreateItem},on:{"on-query-change":e.onQueryChange,"on-input-focus":function(t){e.isFocused=!0},"on-input-blur":function(t){e.isFocused=!1},"on-clear":e.clearSingleSelect,"on-enter":e.handleCreateItem}},[e._t("prefix",null,{slot:"prefix"})],2)])],2),e._v(" "),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.dropVisible,expression:"dropVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"dropdown",class:e.dropdownCls,attrs:{placement:e.placement,"data-transfer":e.transfer,transfer:e.transfer}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showNotFoundLabel&&!e.allowCreate,expression:"showNotFoundLabel && !allowCreate"}],class:[e.prefixCls+"-not-found"]},[n("li",[e._v(e._s(e.localeNotFoundText))])]),e._v(" "),n("ul",{class:e.prefixCls+"-dropdown-list"},[e.showCreateItem?n("li",{class:e.prefixCls+"-item",on:{click:e.handleCreateItem}},[e._v("\n                    "+e._s(e.query)+"\n                    "),n("Icon",{class:e.prefixCls+"-item-enter",attrs:{type:"md-return-left"}})],1):e._e(),e._v(" "),!e.remote||e.remote&&!e.loading?n("functional-options",{attrs:{options:e.selectOptions,"slot-update-hook":e.updateSlotOptions,"slot-options":e.slotOptions}}):e._e()],1),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],class:[e.prefixCls+"-loading"]},[e._v(e._s(e.localeLoadingText))])])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement;return(e._self._c||t)("li",{class:e.classes,on:{click:function(t){return t.stopPropagation(),e.select(t)},mousedown:function(e){e.preventDefault()}}},[e._t("default",[e._v(e._s(e.showLabel))])],2)},t.staticRenderFns=[]},function(e,t,n){e.exports={default:n(330),__esModule:!0}},function(e,t,n){n(331),e.exports=n(5).Number.isNaN},function(e,t,n){var r=n(7);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(333)),o=c(n(336)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];v||(v=document.createElement("textarea"),document.body.appendChild(v)),e.getAttribute("wrap")?v.setAttribute("wrap",e.getAttribute("wrap")):v.removeAttribute("wrap");var c=m(e,l),f=c.paddingSize,h=c.borderSize,y=c.boxSizing,x=c.sizingStyle;v.setAttribute("style",String(x)+";"+d),v.value=e.value||e.placeholder||"";var _=o.default,w=r.default,k=v.scrollHeight,S=void 0;if("border-box"===y?k+=h:"content-box"===y&&(k-=f),null!==t||null!==n){v.value=" ";var C=v.scrollHeight-f;null!==t&&(_=C*t,"border-box"===y&&(_=_+f+h),k=Math.max(_,k)),null!==n&&(w=C*n,"border-box"===y&&(w=w+f+h),S=k>w?"":"hidden",k=Math.min(w,k))}return n||(S="hidden"),{height:String(k)+"px",minHeight:String(_)+"px",maxHeight:String(w)+"px",overflowY:S}};var d="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],h={},v=void 0;function m(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(n&&h[r])return h[r];var style=window.getComputedStyle(e),o=style.getPropertyValue("box-sizing")||style.getPropertyValue("-moz-box-sizing")||style.getPropertyValue("-webkit-box-sizing"),c=parseFloat(style.getPropertyValue("padding-bottom"))+parseFloat(style.getPropertyValue("padding-top")),d=parseFloat(style.getPropertyValue("border-bottom-width"))+parseFloat(style.getPropertyValue("border-top-width")),v=f.map(function(e){return(0,l.default)(this,t),String(e)+":"+String(style.getPropertyValue(e))}.bind(this)).join(";"),m={sizingStyle:v,paddingSize:c,borderSize:d,boxSizing:o};return n&&r&&(h[r]=m),m}},function(e,t,n){e.exports={default:n(334),__esModule:!0}},function(e,t,n){n(335),e.exports=9007199254740991},function(e,t,n){var r=n(7);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){e.exports={default:n(337),__esModule:!0}},function(e,t,n){n(338),e.exports=-9007199254740991},function(e,t,n){var r=n(7);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},["textarea"!==e.type?[e.prepend?n("div",{directives:[{name:"show",rawName:"v-show",value:e.slotReady,expression:"slotReady"}],class:[e.prefixCls+"-group-prepend"]},[e._t("prepend")],2):e._e(),e._v(" "),e.clearable&&e.currentValue&&!e.itemDisabled?n("i",{staticClass:"ivu-icon",class:["ivu-icon-ios-close-circle",e.prefixCls+"-icon",e.prefixCls+"-icon-clear",e.prefixCls+"-icon-normal"],on:{click:e.handleClear}}):e.icon?n("i",{staticClass:"ivu-icon",class:["ivu-icon-"+e.icon,e.prefixCls+"-icon",e.prefixCls+"-icon-normal"],on:{click:e.handleIconClick}}):e.search&&!1===e.enterButton?n("i",{staticClass:"ivu-icon ivu-icon-ios-search",class:[e.prefixCls+"-icon",e.prefixCls+"-icon-normal",e.prefixCls+"-search-icon"],on:{click:e.handleSearch}}):e.showSuffix?n("span",{staticClass:"ivu-input-suffix"},[e._t("suffix",[e.suffix?n("i",{staticClass:"ivu-icon",class:["ivu-icon-"+e.suffix]}):e._e()])],2):e.showWordLimit?n("span",{staticClass:"ivu-input-word-count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e.password?n("span",{staticClass:"ivu-input-suffix",on:{click:e.handleToggleShowPassword}},[e.showPassword?n("i",{staticClass:"ivu-icon ivu-icon-ios-eye-off-outline"}):n("i",{staticClass:"ivu-icon ivu-icon-ios-eye-outline"})]):e._e(),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.icon?e._e():n("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop",class:[e.prefixCls+"-icon",e.prefixCls+"-icon-validate"]})]),e._v(" "),n("input",{ref:"input",class:e.inputClasses,attrs:{id:e.elementId,autocomplete:e.autocomplete,spellcheck:e.spellcheck,type:e.currentType,placeholder:e.placeholder,disabled:e.itemDisabled,maxlength:e.maxlength,readonly:e.readonly,name:e.name,number:e.number,autofocus:e.autofocus},domProps:{value:e.currentValue},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)},e.handleKeyup],keypress:e.handleKeypress,keydown:e.handleKeydown,focus:e.handleFocus,blur:e.handleBlur,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput,change:e.handleChange}}),e._v(" "),e.append?n("div",{directives:[{name:"show",rawName:"v-show",value:e.slotReady,expression:"slotReady"}],class:[e.prefixCls+"-group-append"]},[e._t("append")],2):e.search&&e.enterButton?n("div",{class:[e.prefixCls+"-group-append",e.prefixCls+"-search"],on:{click:e.handleSearch}},[!0===e.enterButton?n("i",{staticClass:"ivu-icon ivu-icon-ios-search"}):[e._v(e._s(e.enterButton))]],2):e.showPrefix?n("span",{staticClass:"ivu-input-prefix"},[e._t("prefix",[e.prefix?n("i",{staticClass:"ivu-icon",class:["ivu-icon-"+e.prefix]}):e._e()])],2):e._e()]:[n("textarea",{ref:"textarea",class:e.textareaClasses,style:e.textareaStyles,attrs:{id:e.elementId,wrap:e.wrap,autocomplete:e.autocomplete,spellcheck:e.spellcheck,placeholder:e.placeholder,disabled:e.itemDisabled,rows:e.rows,maxlength:e.maxlength,readonly:e.readonly,name:e.name,autofocus:e.autofocus},domProps:{value:e.currentValue},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)},e.handleKeyup],keypress:e.handleKeypress,keydown:e.handleKeydown,focus:e.handleFocus,blur:e.handleBlur,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput}}),e._v(" "),e.showWordLimit?n("span",{staticClass:"ivu-input-word-count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()]],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i-select",{ref:"select",staticClass:"ivu-auto-complete",attrs:{label:e.label,disabled:e.itemDisabled,clearable:e.clearable,placeholder:e.placeholder,size:e.size,placement:e.placement,value:e.currentValue,"transfer-class-name":e.transferClassName,filterable:"",remote:"","auto-complete":"","remote-method":e.remoteMethod,transfer:e.transfer},on:{"on-select":e.handleSelect,"on-clickoutside":e.handleClickOutside}},[e._t("input",[n("i-input",{ref:"input",attrs:{slot:"input","element-id":e.elementId,name:e.name,placeholder:e.placeholder,disabled:e.itemDisabled,size:e.size,icon:e.inputIcon},on:{"on-click":e.handleClear,"on-focus":e.handleFocus,"on-blur":e.handleBlur},slot:"input",model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})]),e._v(" "),e._t("default",e._l(e.filteredData,(function(t){return n("i-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})))],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(125),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.classes,style:e.styles},[e.src?n("img",{attrs:{src:e.src},on:{error:e.handleError}}):e.icon||e.customIcon?n("Icon",{attrs:{type:e.icon,custom:e.customIcon}}):n("span",{ref:"children",class:[e.prefixCls+"-string"],style:e.childrenStyle},[e._t("default")],2)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(344),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(345),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.classes,style:this.styles,on:{click:this.back}},[this._t("default",[t("div",{class:this.innerClasses},[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-up"})])])],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(347),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(348),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dot?n("span",{ref:"badge",class:e.classes},[e._t("default"),e._v(" "),n("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.dotClasses,style:e.styles})],2):e.status||e.color?n("span",{ref:"badge",staticClass:"ivu-badge-status",class:e.classes},[n("span",{class:e.statusClasses,style:e.statusStyles}),e._v(" "),n("span",{staticClass:"ivu-badge-status-text"},[e._t("text",[e._v(e._s(e.text))])],2)]):n("span",{ref:"badge",class:e.classes},[e._t("default"),e._v(" "),e.$slots.count?n("sup",{class:e.customCountClasses,style:e.styles},[e._t("count")],2):e.hasCount?n("sup",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],class:e.countClasses,style:e.styles},[e._t("text",[e._v(e._s(e.finalCount))])],2):e._e()],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(350)),o=l(n(352));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Item=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(129),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(351),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(130),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(353),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.to?n("a",{class:e.linkClasses,attrs:{href:e.linkUrl,target:e.target},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleCheckClick(t,!1)},function(t){return t.ctrlKey?e.handleCheckClick(t,!0):null},function(t){return t.metaKey?e.handleCheckClick(t,!0):null}]}},[e._t("default")],2):n("span",{class:e.linkClasses},[e._t("default")],2),e._v(" "),e.showSeparator?n("span",{class:e.separatorClasses},[e._t("separator")],2):n("span",{class:e.separatorClasses,domProps:{innerHTML:e._s(e.separator)}})])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(28)),o=l(n(356));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tagName,e._b({tag:"component",class:e.classes,attrs:{disabled:e.itemDisabled},on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.loading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e._e(),e._v(" "),!e.icon&&!e.customIcon||e.loading?e._e():n("Icon",{attrs:{type:e.icon,custom:e.customIcon}}),e._v(" "),e.showSlot?n("span",{ref:"slot"},[e._t("default")],2):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(132),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(357),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(359),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(133),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(360),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tagName,e._b({tag:"component",class:e.classes,on:{click:e.handleClickLink}},"component",e.tagProps,!1),[e.showHead?n("div",{class:e.headClasses},[e._t("title",[e.title?n("p",[e.icon?n("Icon",{attrs:{type:e.icon}}):e._e(),e._v(" "),n("span",[e._v(e._s(e.title))])],1):e._e()])],2):e._e(),e._v(" "),e.showExtra?n("div",{class:e.extraClasses},[e._t("extra")],2):e._e(),e._v(" "),n("div",{class:e.bodyClasses,style:e.bodyStyles},[e._t("default")],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(362)),o=l(n(364));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Item=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(134),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(363),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[n("button",{staticClass:"left",class:e.arrowClasses,attrs:{type:"button"},on:{click:function(t){return e.arrowEvent(-1)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),e._v(" "),n("div",{class:[e.prefixCls+"-list"]},[n("div",{ref:"originTrack",class:[e.prefixCls+"-track",e.showCopyTrack?"":"higher"],style:e.trackStyles,on:{click:function(t){return e.handleClick("currentIndex")}}},[e._t("default")],2),e._v(" "),e.loop?n("div",{ref:"copyTrack",class:[e.prefixCls+"-track",e.showCopyTrack?"higher":""],style:e.copyTrackStyles,on:{click:function(t){return e.handleClick("copyTrackIndex")}}}):e._e()]),e._v(" "),n("button",{staticClass:"right",class:e.arrowClasses,attrs:{type:"button"},on:{click:function(t){return e.arrowEvent(1)}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._v(" "),n("ul",{class:e.dotsClasses},[e._l(e.slides.length,(function(t){return[n("li",{class:[t-1===e.currentIndex?e.prefixCls+"-active":""],on:{click:function(n){return e.dotsEvent("click",t-1)},mouseover:function(n){return e.dotsEvent("hover",t-1)}}},[n("button",{class:[e.radiusDot?"radius":""],attrs:{type:"button"}})])]}))],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(135),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(365),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.prefixCls,style:this.styles},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(367),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(372),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(371),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(370),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.classes},[e._v("\n    "+e._s(e.data.label)+"\n    "),e.showArrow?n("Icon",{attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}}):e._e(),e._v(" "),e.showLoading?n("i",{staticClass:"ivu-icon ivu-icon-ios-loading ivu-load-loop ivu-cascader-menu-item-loading"}):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.data&&e.data.length?n("ul",{class:[e.prefixCls+"-menu"]},e._l(e.data,(function(t){return n("Casitem",{key:e.getKey(),attrs:{"prefix-cls":e.prefixCls,data:t,"tmp-item":e.tmpItem},nativeOn:{click:function(n){return n.stopPropagation(),e.handleClickItem(t)},mouseenter:function(n){return n.stopPropagation(),e.handleHoverItem(t)}}})})),1):e._e(),e.sublist&&e.sublist.length?n("Caspanel",{attrs:{"prefix-cls":e.prefixCls,data:e.sublist,disabled:e.disabled,trigger:e.trigger,"change-on-select":e.changeOnSelect}}):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.handleClose,expression:"handleClose"}],class:e.classes},[n("div",{ref:"reference",class:[e.prefixCls+"-rel"],on:{click:e.toggleOpen}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentValue}}),e._v(" "),e._t("default",[n("i-input",{ref:"input",attrs:{"element-id":e.elementId,readonly:!e.filterable,disabled:e.itemDisabled,value:e.displayInputRender,size:e.size,placeholder:e.inputPlaceholder},on:{"on-change":e.handleInput}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.filterable&&""===e.query,expression:"filterable && query === ''"}],class:[e.prefixCls+"-label"],on:{click:e.handleFocus}},[e._v(e._s(e.displayRender))]),e._v(" "),n("Icon",{directives:[{name:"show",rawName:"v-show",value:e.showCloseIcon,expression:"showCloseIcon"}],class:[e.prefixCls+"-arrow"],attrs:{type:"ios-close-circle"},nativeOn:{click:function(t){return t.stopPropagation(),e.clearSelect(t)}}}),e._v(" "),n("Icon",{class:[e.prefixCls+"-arrow"],attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}})])],2),e._v(" "),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:e.dropdownCls,attrs:{"data-transfer":e.transfer,transfer:e.transfer}},[n("div",[n("Caspanel",{directives:[{name:"show",rawName:"v-show",value:!e.filterable||e.filterable&&""===e.query,expression:"!filterable || (filterable && query === '')"}],ref:"caspanel",attrs:{"prefix-cls":e.prefixCls,data:e.data,disabled:e.itemDisabled,"change-on-select":e.changeOnSelect,trigger:e.trigger}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.filterable&&""!==e.query&&e.querySelections.length,expression:"filterable && query !== '' && querySelections.length"}],class:[e.prefixCls+"-dropdown"]},[n("ul",{class:[e.selectPrefixCls+"-dropdown-list"]},e._l(e.querySelections,(function(t,r){var o;return n("li",{class:[e.selectPrefixCls+"-item",(o={},o[e.selectPrefixCls+"-item-disabled"]=t.disabled,o)],domProps:{innerHTML:e._s(t.display)},on:{click:function(t){return e.handleSelectItem(r)}}})})),0)]),e._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.filterable&&""!==e.query&&!e.querySelections.length||!e.data.length,expression:"(filterable && query !== '' && !querySelections.length) || !data.length"}],class:[e.prefixCls+"-not-found-tip"]},[n("li",[e._v(e._s(e.localeNotFoundText))])])],1)])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(374)),o=l(n(378));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(377),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(140),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(376),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ivu-cell-item"},[n("div",{staticClass:"ivu-cell-icon"},[e._t("icon")],2),e._v(" "),n("div",{staticClass:"ivu-cell-main"},[n("div",{staticClass:"ivu-cell-title"},[e._t("default",[e._v(e._s(e.title))])],2),e._v(" "),n("div",{staticClass:"ivu-cell-label"},[e._t("label",[e._v(e._s(e.label))])],2)]),e._v(" "),n("div",{staticClass:"ivu-cell-footer"},[n("span",{staticClass:"ivu-cell-extra"},[e._t("extra",[e._v(e._s(e.extra))])],2)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e.to?n("a",{staticClass:"ivu-cell-link",attrs:{href:e.linkUrl,target:e.target},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleClickItem(t,!1)},function(t){return t.ctrlKey?e.handleClickItem(t,!0):null},function(t){return t.metaKey?e.handleClickItem(t,!0):null}]}},[n("CellItem",{attrs:{title:e.title,label:e.label,extra:e.extra}},[e._t("icon",null,{slot:"icon"}),e._v(" "),e._t("default",null,{slot:"default"}),e._v(" "),e._t("extra",null,{slot:"extra"}),e._v(" "),e._t("label",null,{slot:"label"})],2)],1):n("div",{staticClass:"ivu-cell-link",on:{click:e.handleClickItem}},[n("CellItem",{attrs:{title:e.title,label:e.label,extra:e.extra}},[e._t("icon",null,{slot:"icon"}),e._v(" "),e._t("default",null,{slot:"default"}),e._v(" "),e._t("extra",null,{slot:"extra"}),e._v(" "),e._t("label",null,{slot:"label"})],2)],1),e._v(" "),e.to?n("div",{staticClass:"ivu-cell-arrow"},[e._t("arrow",[n("Icon",{attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}})])],2):e._e()])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(141),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(379),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"ivu-cell-group"},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(49)),o=l(n(143));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.wrapClasses},[n("span",{class:e.checkboxClasses},[n("span",{class:e.innerClasses}),e._v(" "),e.group?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],class:e.inputClasses,attrs:{type:"checkbox",disabled:e.itemDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e.label,c=e._i(n,l);r.checked?c<0&&(e.model=n.concat([l])):c>-1&&(e.model=n.slice(0,c).concat(n.slice(c+1)))}else e.model=o},e.change],focus:e.onFocus,blur:e.onBlur}}):n("input",{class:e.inputClasses,attrs:{type:"checkbox",disabled:e.itemDisabled,name:e.name},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._v(" "),e._t("default",[e.showSlot?n("span",[e._v(e._s(e.label))]):e._e()])],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(384),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(145),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(386),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",n=t.length,r="",i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses,style:e.circleSize},[n("svg",{attrs:{viewBox:"0 0 100 100"}},[e.showDefs?n("defs",[n("linearGradient",{attrs:{id:e.id,x1:"100%",y1:"0%",x2:"0%",y2:"0%"}},[n("stop",{attrs:{offset:"0%","stop-color":e.strokeColor[0]}}),e._v(" "),n("stop",{attrs:{offset:"100%","stop-color":e.strokeColor[1]}})],1)],1):e._e(),e._v(" "),n("path",{style:e.trailStyle,attrs:{d:e.pathString,stroke:e.trailColor,"stroke-width":e.trailWidth,"fill-opacity":0,"stroke-linecap":e.strokeLinecap}}),e._v(" "),n("path",{style:e.pathStyle,attrs:{d:e.pathString,"stroke-linecap":e.strokeLinecap,stroke:e.strokeValue,"stroke-width":e.computedStrokeWidth,"fill-opacity":"0"}})]),e._v(" "),n("div",{class:e.innerClasses},[e._t("default")],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(388)),o=l(n(390));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Panel=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(146),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(389),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(147),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(391),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.itemClasses},[n("div",{class:e.headerClasses,on:{click:e.toggle}},[e.hideArrow?e._e():n("Icon",{attrs:{type:"ios-arrow-forward"}}),e._v(" "),e._t("default")],2),e._v(" "),e.mounted?n("collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],class:e.contentClasses},[n("div",{class:e.boxClasses},[e._t("content")],2)])]):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(393),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(148),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(402),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(395),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"reference",attrs:{tabindex:"0"},on:{click:e.handleClick,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleArrow(t,"x",e.left)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.handleArrow(t,"x",e.right)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.handleArrow(t,"y",e.up)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.handleArrow(t,"y",e.down)}],blur:e.blurColor,focus:e.focusColor}},[e._l(e.list,(function(t,r){return[n("div",{key:t+":"+r,class:[e.prefixCls+"-picker-colors-wrapper"]},[n("div",{attrs:{"data-color-id":r}},[n("div",{class:[e.prefixCls+"-picker-colors-wrapper-color"],style:{background:t}}),e._v(" "),n("div",{ref:"color-circle-"+r,refInFor:!0,class:[e.prefixCls+"-picker-colors-wrapper-circle",e.hideClass]})])]),e._v(" "),e.lineBreak(e.list,r)?n("br"):e._e()]}))],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(152),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(397),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls+"-saturation-wrapper"],attrs:{tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleLeft(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.handleRight(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.handleUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.handleDown(t)}],click:function(t){return e.$el.focus()}}},[n("div",{ref:"container",class:[e.prefixCls+"-saturation"],style:e.bgColorStyle,on:{mousedown:e.handleMouseDown}},[n("div",{class:[e.prefixCls+"-saturation--white"]}),e._v(" "),n("div",{class:[e.prefixCls+"-saturation--black"]}),e._v(" "),n("div",{class:[e.prefixCls+"-saturation-pointer"],style:e.pointerStyle},[n("div",{class:[e.prefixCls+"-saturation-circle"]})])])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(153),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(399),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls+"-hue"],attrs:{tabindex:"0"},on:{click:function(t){return e.$el.focus()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleLeft(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.handleRight(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.handleUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.handleDown(t)}]}},[n("div",{ref:"container",class:[e.prefixCls+"-hue-container"],on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{class:[e.prefixCls+"-hue-pointer"],style:{top:0,left:e.percent+"%"}},[n("div",{class:[e.prefixCls+"-hue-picker"]})])])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(401),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls+"-alpha"],attrs:{tabindex:"0"},on:{click:function(t){return e.$el.focus()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.handleLeft(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.handleRight(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.handleUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.handleDown(t)}]}},[n("div",{class:[e.prefixCls+"-alpha-checkboard-wrap"]},[n("div",{class:[e.prefixCls+"-alpha-checkerboard"]})]),e._v(" "),n("div",{class:[e.prefixCls+"-alpha-gradient"],style:e.gradientStyle}),e._v(" "),n("div",{ref:"container",class:[e.prefixCls+"-alpha-container"],on:{mousedown:e.handleMouseDown,touchmove:e.handleChange,touchstart:e.handleChange}},[n("div",{class:[e.prefixCls+"-alpha-pointer"],style:{top:0,left:100*e.value.a+"%"}},[n("div",{class:[e.prefixCls+"-alpha-picker"]})])])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture]",value:e.handleClose,expression:"handleClose",arg:e.capture}],class:e.classes},[n("div",{ref:"reference",class:e.wrapClasses,on:{click:e.toggleVisible}},[n("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.currentValue}}),e._v(" "),n("Icon",{class:e.arrowClasses,attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}}),e._v(" "),n("div",{ref:"input",class:e.inputClasses,attrs:{tabindex:e.itemDisabled?void 0:0},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.onTab(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrow(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrow(t)}]}},[n("div",{class:[e.prefixCls+"-color"]},[n("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.visible,expression:"value === '' && !visible"}],class:[e.prefixCls+"-color-empty"]},[n("i",{class:[e.iconPrefixCls,e.iconPrefixCls+"-ios-close"]})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.value||e.visible,expression:"value || visible"}],style:e.displayedColorStyle})])])],1),e._v(" "),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"},{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"drop",class:e.dropClasses,attrs:{placement:e.placement,"data-transfer":e.transfer,transfer:e.transfer}},[n("transition",{attrs:{name:"fade"}},[e.visible?n("div",{class:[e.prefixCls+"-picker"]},[n("div",{class:[e.prefixCls+"-picker-wrapper"]},[n("div",{class:[e.prefixCls+"-picker-panel"]},[n("Saturation",{ref:"saturation",attrs:{focused:e.visible},on:{change:e.childChange},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleFirstTab(t)}},model:{value:e.saturationColors,callback:function(t){e.saturationColors=t},expression:"saturationColors"}})],1),e._v(" "),e.hue?n("div",{class:[e.prefixCls+"-picker-hue-slider"]},[n("Hue",{on:{change:e.childChange},model:{value:e.saturationColors,callback:function(t){e.saturationColors=t},expression:"saturationColors"}})],1):e._e(),e._v(" "),e.alpha?n("div",{class:[e.prefixCls+"-picker-alpha-slider"]},[n("Alpha",{on:{change:e.childChange},model:{value:e.saturationColors,callback:function(t){e.saturationColors=t},expression:"saturationColors"}})],1):e._e(),e._v(" "),e.colors.length?n("recommend-colors",{class:[e.prefixCls+"-picker-colors"],attrs:{list:e.colors},on:{"picker-color":e.handleSelectColor}}):e._e(),e._v(" "),!e.colors.length&&e.recommend?n("recommend-colors",{class:[e.prefixCls+"-picker-colors"],attrs:{list:e.recommendedColor},on:{"picker-color":e.handleSelectColor}}):e._e()],1),e._v(" "),n("div",{class:[e.prefixCls+"-confirm"]},[n("span",{class:e.confirmColorClasses},[e.editable?[n("i-input",{attrs:{value:e.formatColor,size:"small"},on:{"on-enter":e.handleEditColor,"on-blur":e.handleEditColor}})]:[e._v(e._s(e.formatColor))]],2),e._v(" "),n("i-button",{ref:"clear",attrs:{tabindex:0,size:"small"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClear(t)}},nativeOn:{click:function(t){return e.handleClear(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closer(t)}}},[e._v(e._s(e.t("i.datepicker.clear")))]),e._v(" "),n("i-button",{ref:"ok",attrs:{tabindex:0,size:"small",type:"primary"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSuccess(t)}},nativeOn:{click:function(t){return e.handleSuccess(t)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleLastTab(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closer(t)}]}},[e._v(e._s(e.t("i.datepicker.ok")))])],1)]):e._e()])],1)],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(155),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(406),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(157)),o=d(n(409)),l=d(n(422)),c=n(3);function d(e){return e&&e.__esModule?e:{default:e}}t.default={name:"CalendarPicker",mixins:[r.default],props:{type:{validator:function(e){return(0,c.oneOf)(e,["year","month","date","daterange","datetime","datetimerange"])},default:"date"}},components:{DatePickerPanel:o.default,RangeDatePickerPanel:l.default},computed:{panel:function(){return"daterange"===this.type||"datetimerange"===this.type?"RangeDatePickerPanel":"DatePickerPanel"},ownPickerProps:function(){return this.options}}}},function(e,t,n){"use strict";var r;!function(main){var o={},l=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,c=/\d\d?/,d=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,f=function(){};function h(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(e[i].substr(0,t));return n}function v(e){return function(t,n,r){var o=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~o&&(t.month=o)}}function m(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=["January","February","March","April","May","June","July","August","September","October","November","December"],_=h(x,3),w=h(y,3);o.i18n={dayNamesShort:w,dayNames:y,monthNamesShort:_,monthNames:x,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var k={D:function(e){return e.getDay()},DD:function(e){return m(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return m(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return m(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return m(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return m(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return m(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return m(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return m(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return m(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+m(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},S={d:[c,function(e,t){e.day=t}],M:[c,function(e,t){e.month=t-1}],yy:[c,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[c,function(e,t){e.hour=t}],m:[c,function(e,t){e.minute=t}],s:[c,function(e,t){e.second=t}],yyyy:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],D:[c,f],ddd:[d,f],MMM:[d,v("monthNamesShort")],MMMM:[d,v("monthNames")],a:[d,function(e,t,n){var r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n,r=(t+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),e.timezoneOffset="+"===r[0]?n:-n)}]};S.DD=S.DD,S.dddd=S.ddd,S.Do=S.dd=S.d,S.mm=S.m,S.hh=S.H=S.HH=S.h,S.MM=S.M,S.ss=S.s,S.A=S.a,o.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,mask,t){var n=t||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return(mask=o.masks[mask]||mask||o.masks.default).replace(l,(function(t){return t in k?k[t](e,n):t.slice(1,t.length-1)}))},o.parse=function(e,t,n){var r=n||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return!1;var c=!0,d={};if(t.replace(l,(function(t){if(S[t]){var n=S[t],o=e.search(n[0]);~o?e.replace(n[0],(function(t){return n[1](d,t,r),e=e.substr(o+t.length),t})):c=!1}return S[t]?"":t.slice(1,t.length-1)})),!c)return!1;var f,h=new Date;return!0===d.isPm&&null!=d.hour&&12!=+d.hour?d.hour=+d.hour+12:!1===d.isPm&&12==+d.hour&&(d.hour=0),null!=d.timezoneOffset?(d.minute=+(d.minute||0)-+d.timezoneOffset,f=new Date(Date.UTC(d.year||h.getFullYear(),d.month||0,d.day||1,d.hour||0,d.minute||0,d.second||0,d.millisecond||0))):f=new Date(d.year||h.getFullYear(),d.month||0,d.day||1,d.hour||0,d.minute||0,d.second||0,d.millisecond||0),f},void 0!==e&&e.exports?e.exports=o:void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside:[capture].mousedown",value:e.handleClose,expression:"handleClose",arg:e.capture,modifiers:{mousedown:!0}},{name:"click-outside",rawName:"v-click-outside:[capture].touchstart",value:e.handleClose,expression:"handleClose",arg:e.capture,modifiers:{touchstart:!0}},{name:"click-outside",rawName:"v-click-outside:[capture]",value:e.handleClose,expression:"handleClose",arg:e.capture}],class:e.wrapperClasses},[n("div",{ref:"reference",class:[e.prefixCls+"-rel"]},[e._t("default",[n("i-input",{key:e.forceInputRerender,ref:"input",class:[e.prefixCls+"-editor"],attrs:{"element-id":e.elementId,readonly:!e.editable||e.readonly,disabled:e.itemDisabled,size:e.size,placeholder:e.placeholder,value:e.visualValue,name:e.name},on:{"on-input-change":e.handleInputChange,"on-focus":e.handleFocus,"on-blur":e.handleBlur},nativeOn:{click:function(t){return e.handleFocus(t)},keydown:function(t){return e.handleKeydown(t)},mouseenter:function(t){return e.handleInputMouseenter(t)},mouseleave:function(t){return e.handleInputMouseleave(t)}}},[n("Icon",{attrs:{slot:"suffix",type:e.arrowType,custom:e.customArrowType,size:e.arrowSize},on:{click:e.handleIconClick},slot:"suffix"})],1)])],2),e._v(" "),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:e.dropdownCls,attrs:{placement:e.placement,"data-transfer":e.transfer,transfer:e.transfer},nativeOn:{click:function(t){return e.handleTransferClick(t)}}},[n("div",[n(e.panel,e._b({ref:"pickerPanel",tag:"component",attrs:{visible:e.visible,showTime:"datetime"===e.type||"datetimerange"===e.type,confirm:e.isConfirm,selectionMode:e.selectionMode,steps:e.steps,format:e.format,value:e.internalValue,"start-date":e.startDate,"split-panels":e.splitPanels,"show-week-numbers":e.showWeekNumbers,"picker-type":e.type,multiple:e.multiple,"focused-date":e.focusedDate,"time-picker-options":e.timePickerOptions},on:{"on-pick":e.onPick,"on-pick-clear":e.handleClear,"on-pick-success":e.onPickSuccess,"on-pick-click":function(t){e.disableClickOutSide=!0},"on-selection-mode-change":e.onSelectionModeChange}},"component",e.ownPickerProps,!1))],1)])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(159),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(421),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={Generator:n(411),addLabels:n(412)}},function(e,t){function n(e,t){return new Date(e,t+1,0).getDate()}function r(e,t,n){return 0===t&&n>50?e-1:11===t&&n<10?e+1:e}function o(e,t,n,r){t>11&&(t=0,e++);var o=new Date(e,t,n);r&&o.setDate(o.getDate()+4-(o.getDay()||7));var l=r?o.getFullYear():e,c=new Date(l,0,1),d=1+Math.round((o-c)/864e5);r||(d+=c.getDay());var f=Math.ceil(d/7);if(!r){var h=new Date(e,t,n),v=new Date(e+1,0,1),m=v.getDay();h.getTime()>=v.getTime()-864e5*m&&(f=1)}return f}function l(e,t,l){for(var c,d,f,h=this.lang||"en",v=this.onlyDays,m=void 0===this.weekStart?1:this.weekStart,y=1===m,x=[],_=m-(new Date(e,t,1).getDay()||(y?7:0)),w=o(e,t,1,y),k=n(e,t),S=n(e,t-1),C=r(e,t,w),T={month:t,year:e,daysInMonth:k},i=0;i<7;i++){f=_;for(var E=0;E<8;E++){i>0&&E>0&&_++,_>k||_<1?(d=_>k?_-k:S+_,c=_>k?t+1:t-1):(d=_,c=t);var M=f!==_&&i>0,P={desc:M?d:w,week:w,type:0===E?"weekLabel":0===i?"dayLabel":_<1?"prevMonth":_>k?"nextMonth":"monthDay",format:y?"ISO 8601":"US",date:!!M&&new Date(Date.UTC(e,c,d)),year:C,index:x.length};l&&("function"==typeof l?P=l.call(T,P,h):l.forEach((function(e){P=e.call(T,P,h)}))),v&&M?x.push(P):v||x.push(P)}i>0&&(w=o(e,c,d+1,y)),C=r(e,t,w)}return T.cells=x,T}e.exports=function(e){return l.bind(e)}},function(e,t,n){var r=n(413);function o(e,t){var n=[r.classes[e.type]];return e.class?e.class=("string"==typeof e.class?[e.class]:e.class).concat(n):e.class=n,e.type.indexOf("Label")>0&&(0==e.index&&r.weekPlaceholder?e.desc=r.weekPlaceholder:e.index<8?e.desc=r.columnNames[t][e.index]:e.index%8==0&&(e.desc=e.week)),e.date&&(e.monthName=r.monthNames[t][e.date.getMonth()]),this.monthName||(this.monthName=r.monthNames[t][this.month]),this.labels||(this.labels={monthNames:r.monthNames[t],columnNames:r.columnNames[t],classes:r.classes}),e}o.setLabels=function(e){!function e(t,n){for(var r in t)n[r]?null==(o=t[r])||o.constructor!==Array&&o.constructor!==Object||e(t[r],n[r]):n[r]=t[r];var o}(e,r)},e.exports=o},function(e,t){e.exports={weekPlaceholder:"",columnNames:{en:{0:"w",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",7:"sunday"},sv:{0:"v",1:"måndag",2:"tisdag",3:"onsdag",4:"torsdag",5:"fredag",6:"lördag",7:"söndag"},pt:{0:"s",1:"segunda",2:"terça",3:"quarta",4:"quinta",5:"sexta",6:"sábado",7:"domingo"}},monthNames:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],sv:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],pt:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},classes:{dayLabel:"day-of-week",weekLabel:"week-number",prevMonth:"inactive",nextMonth:"inactive",monthDay:"day-in-month"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[n("div",{class:[e.prefixCls+"-header"]},e._l(e.headerDays,(function(t){return n("span",{key:t},[e._v("\n            "+e._s(t)+"\n        ")])})),0),e._v(" "),e._l(e.cells,(function(t,i){return n("span",{key:String(t.date)+i,class:e.getCellCls(t),on:{click:function(n){return e.handleClick(t,n)},mouseenter:function(n){return e.handleMouseMove(t)}}},[n("em",[e._v(e._s(t.desc))])])}))],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},e._l(e.cells,(function(t){return n("span",{class:e.getCellCls(t),on:{click:function(n){return e.handleClick(t,n)},mouseenter:function(n){return e.handleMouseMove(t)}}},[n("em",[e._v(e._s(t.date.getFullYear()))])])})),0)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},e._l(e.cells,(function(t){return n("span",{class:e.getCellCls(t),on:{click:function(n){return e.handleClick(t,n)},mouseenter:function(n){return e.handleMouseMove(t)}}},[n("em",[e._v(e._s(t.text))])])})),0)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[n("div",{ref:"hours",class:[e.prefixCls+"-list"]},[n("ul",{class:[e.prefixCls+"-ul"]},e._l(e.hoursList,(function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:e.getCellCls(t),on:{click:function(n){return e.handleClick("hours",t)}}},[e._v(e._s(e.formatTime(t.text)))])})),0)]),e._v(" "),n("div",{ref:"minutes",class:[e.prefixCls+"-list"]},[n("ul",{class:[e.prefixCls+"-ul"]},e._l(e.minutesList,(function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:e.getCellCls(t),on:{click:function(n){return e.handleClick("minutes",t)}}},[e._v(e._s(e.formatTime(t.text)))])})),0)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSeconds,expression:"showSeconds"}],ref:"seconds",class:[e.prefixCls+"-list"]},[n("ul",{class:[e.prefixCls+"-ul"]},e._l(e.secondsList,(function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!item.hide"}],class:e.getCellCls(t),on:{click:function(n){return e.handleClick("seconds",t)}}},[e._v(e._s(e.formatTime(t.text)))])})),0)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls+"-confirm"],on:{"!keydown":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.handleTab(t)}}},[e.showTime?n("i-button",{class:e.timeClasses,attrs:{size:"small",type:"text",disabled:e.timeDisabled},on:{click:e.handleToggleTime}},[e._v("\n        "+e._s(e.labels.time)+"\n    ")]):e._e(),e._v(" "),n("i-button",{attrs:{size:"small"},nativeOn:{click:function(t){return e.handleClear(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleClear(t)}}},[e._v("\n        "+e._s(e.labels.clear)+"\n    ")]),e._v(" "),n("i-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return e.handleSuccess(t)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSuccess(t)}}},[e._v("\n        "+e._s(e.labels.ok)+"\n    ")])],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls+"-body-wrapper"],on:{mousedown:function(e){e.preventDefault()}}},[n("div",{class:[e.prefixCls+"-body"]},[e.showDate?n("div",{class:[e.timePrefixCls+"-header"]},[e._v(e._s(e.visibleDate))]):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-content"]},[n("time-spinner",{ref:"timeSpinner",attrs:{"show-seconds":e.showSeconds,steps:e.steps,hours:e.timeSlots[0],minutes:e.timeSlots[1],seconds:e.timeSlots[2],"disabled-hours":e.disabledHMS.disabledHours,"disabled-minutes":e.disabledHMS.disabledMinutes,"disabled-seconds":e.disabledHMS.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleChange,"on-pick-click":e.handlePickClick}})],1),e._v(" "),e.confirm?n("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.datePanelLabel?n("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[0].type||"date"===e.currentView,expression:"datePanelLabel.labels[0].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[0].handler}},[e._v(e._s(e.datePanelLabel.labels[0].label))]):e._e(),e._v(" "),e.datePanelLabel&&"date"===e.currentView?[e._v(e._s(e.datePanelLabel.separator))]:e._e(),e._v(" "),e.datePanelLabel?n("span",{directives:[{name:"show",rawName:"v-show",value:"year"===e.datePanelLabel.labels[1].type||"date"===e.currentView,expression:"datePanelLabel.labels[1].type === 'year' || currentView === 'date'"}],class:[e.datePrefixCls+"-header-label"],on:{click:e.datePanelLabel.labels[1].handler}},[e._v(e._s(e.datePanelLabel.labels[1].label))]):e._e()],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,on:{mousedown:function(e){e.preventDefault()}}},[e.shortcuts.length?n("div",{class:[e.prefixCls+"-sidebar"]},e._l(e.shortcuts,(function(t){return n("div",{class:[e.prefixCls+"-shortcut"],on:{click:function(n){return e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])})),0):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-body"]},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==e.currentView,expression:"currentView !== 'time'"}],class:[e.datePrefixCls+"-header"]},[n("span",{class:e.iconBtnCls("prev","-double"),on:{click:function(t){return e.changeYear(-1)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),e._v(" "),"date-table"===e.pickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("prev"),on:{click:function(t){return e.changeMonth(-1)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1):e._e(),e._v(" "),n("date-panel-label",{attrs:{"date-panel-label":e.datePanelLabel,"current-view":e.pickerTable.split("-").shift(),"date-prefix-cls":e.datePrefixCls}}),e._v(" "),n("span",{class:e.iconBtnCls("next","-double"),on:{click:function(t){return e.changeYear(1)}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._v(" "),"date-table"===e.pickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("next"),on:{click:function(t){return e.changeMonth(1)}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1):e._e()],1),e._v(" "),n("div",{class:[e.prefixCls+"-content"]},["time"!==e.currentView?n(e.pickerTable,{ref:"pickerTable",tag:"component",attrs:{"table-date":e.panelDate,"show-week-numbers":e.showWeekNumbers,value:e.dates,"selection-mode":e.selectionMode,"disabled-date":e.disabledDate,"focused-date":e.focusedDate},on:{"on-pick":e.panelPickerHandlers,"on-pick-click":e.handlePickClick}}):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isTime,expression:"isTime"}],class:[e.prefixCls+"-content"]},["time"===e.currentView?n("time-picker",e._b({ref:"timePicker",attrs:{value:e.dates,format:e.format,"time-disabled":e.timeDisabled,"disabled-date":e.disabledDate,"focused-date":e.focusedDate},on:{"on-pick":e.handlePick,"on-pick-click":e.handlePickClick,"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess,"on-pick-toggle-time":e.handleToggleTime}},"time-picker",e.timePickerOptions,!1)):e._e()],1),e._v(" "),e.confirm?n("Confirm",{attrs:{"show-time":e.showTime,"is-time":e.isTime},on:{"on-pick-toggle-time":e.handleToggleTime,"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(174),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(424),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,on:{mousedown:function(e){e.preventDefault()}}},[n("div",{class:[e.prefixCls+"-body"]},[n("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-left"]},[n("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.leftDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.startTime")))]],2),e._v(" "),n("time-spinner",{ref:"timeSpinner",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[0]&&e.dateStart.getHours(),minutes:e.value[0]&&e.dateStart.getMinutes(),seconds:e.value[0]&&e.dateStart.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleStartChange,"on-pick-click":e.handlePickClick}})],1),e._v(" "),n("div",{class:[e.prefixCls+"-content",e.prefixCls+"-content-right"]},[n("div",{class:[e.timePrefixCls+"-header"]},[e.showDate?[e._v(e._s(e.rightDatePanelLabel))]:[e._v(e._s(e.t("i.datepicker.endTime")))]],2),e._v(" "),n("time-spinner",{ref:"timeSpinnerEnd",attrs:{steps:e.steps,"show-seconds":e.showSeconds,hours:e.value[1]&&e.dateEnd.getHours(),minutes:e.value[1]&&e.dateEnd.getMinutes(),seconds:e.value[1]&&e.dateEnd.getSeconds(),"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions},on:{"on-change":e.handleEndChange,"on-pick-click":e.handlePickClick}})],1),e._v(" "),e.confirm?n("Confirm",{on:{"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,on:{mousedown:function(e){e.preventDefault()}}},[e.shortcuts.length?n("div",{class:[e.prefixCls+"-sidebar"]},e._l(e.shortcuts,(function(t){return n("div",{class:[e.prefixCls+"-shortcut"],on:{click:function(n){return e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])})),0):e._e(),e._v(" "),n("div",{class:e.panelBodyClasses},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTime,expression:"!isTime"}],class:[e.prefixCls+"-content",e.prefixCls+"-content-left"]},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==e.currentView,expression:"currentView !== 'time'"}],class:[e.datePrefixCls+"-header"]},[n("span",{class:e.iconBtnCls("prev","-double"),on:{click:function(t){return e.prevYear("left")}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),e._v(" "),"date-table"===e.leftPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("prev"),on:{click:function(t){return e.prevMonth("left")}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1):e._e(),e._v(" "),n("date-panel-label",{attrs:{"date-panel-label":e.leftDatePanelLabel,"current-view":e.leftDatePanelView,"date-prefix-cls":e.datePrefixCls}}),e._v(" "),e.splitPanels||"date-table"!==e.leftPickerTable?n("span",{class:e.iconBtnCls("next","-double"),on:{click:function(t){return e.nextYear("left")}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1):e._e(),e._v(" "),e.splitPanels&&"date-table"===e.leftPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("next"),on:{click:function(t){return e.nextMonth("left")}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1):e._e()],1),e._v(" "),"time"!==e.currentView?n(e.leftPickerTable,{ref:"leftYearTable",tag:"component",attrs:{"table-date":e.leftPanelDate,"selection-mode":"range","disabled-date":e.disabledDate,"range-state":e.rangeState,"show-week-numbers":e.showWeekNumbers,value:e.preSelecting.left?[e.dates[0]]:e.dates,"focused-date":e.focusedDate},on:{"on-change-range":e.handleChangeRange,"on-pick":e.panelPickerHandlers.left,"on-pick-click":e.handlePickClick}}):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTime,expression:"!isTime"}],class:[e.prefixCls+"-content",e.prefixCls+"-content-right"]},[n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==e.currentView,expression:"currentView !== 'time'"}],class:[e.datePrefixCls+"-header"]},[e.splitPanels||"date-table"!==e.rightPickerTable?n("span",{class:e.iconBtnCls("prev","-double"),on:{click:function(t){return e.prevYear("right")}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1):e._e(),e._v(" "),e.splitPanels&&"date-table"===e.rightPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("prev"),on:{click:function(t){return e.prevMonth("right")}}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1):e._e(),e._v(" "),n("date-panel-label",{attrs:{"date-panel-label":e.rightDatePanelLabel,"current-view":e.rightDatePanelView,"date-prefix-cls":e.datePrefixCls}}),e._v(" "),n("span",{class:e.iconBtnCls("next","-double"),on:{click:function(t){return e.nextYear("right")}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._v(" "),"date-table"===e.rightPickerTable?n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],class:e.iconBtnCls("next"),on:{click:function(t){return e.nextMonth("right")}}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1):e._e()],1),e._v(" "),"time"!==e.currentView?n(e.rightPickerTable,{ref:"rightYearTable",tag:"component",attrs:{"table-date":e.rightPanelDate,"selection-mode":"range","range-state":e.rangeState,"disabled-date":e.disabledDate,"show-week-numbers":e.showWeekNumbers,value:e.preSelecting.right?[e.dates[e.dates.length-1]]:e.dates,"focused-date":e.focusedDate},on:{"on-change-range":e.handleChangeRange,"on-pick":e.panelPickerHandlers.right,"on-pick-click":e.handlePickClick}}):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isTime,expression:"isTime"}],class:[e.prefixCls+"-content"]},["time"===e.currentView?n("time-picker",e._b({ref:"timePicker",attrs:{value:e.dates,format:e.format,"time-disabled":e.timeDisabled},on:{"on-pick":e.handleRangePick,"on-pick-click":e.handlePickClick,"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess,"on-pick-toggle-time":e.handleToggleTime}},"time-picker",e.timePickerOptions,!1)):e._e()],1),e._v(" "),e.confirm?n("Confirm",{attrs:{"show-time":e.showTime,"is-time":e.isTime,"time-disabled":e.timeDisabled},on:{"on-pick-toggle-time":e.handleToggleTime,"on-pick-clear":e.handlePickClear,"on-pick-success":e.handlePickSuccess}}):e._e()],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(426),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(177),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(427),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.classes},[this.hasSlot?t("span",{class:this.slotClasses},[this._t("default")],2):this._e()])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(429),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(178),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(430),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":e.transfer}},[n("transition",{attrs:{name:"fade"}},[e.mask?n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.maskClasses,style:e.maskStyle,on:{click:e.handleMask}}):e._e()]),e._v(" "),n("div",{class:e.wrapClasses,on:{click:e.handleWrapClick}},[n("transition",{attrs:{name:"move-"+e.placement}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes,style:e.mainStyles},[n("div",{ref:"content",class:e.contentClasses},[e.closable?n("a",{staticClass:"ivu-drawer-close",on:{click:e.close}},[e._t("close",[n("Icon",{attrs:{type:"ios-close"}})])],2):e._e(),e._v(" "),e.showHead?n("div",{class:[e.prefixCls+"-header"]},[e._t("header",[n("div",{class:[e.prefixCls+"-header-inner"]},[e._v(e._s(e.title))])])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-body"],style:e.styles},[e._t("default")],2)]),e._v(" "),e.draggable?n("div",{staticClass:"ivu-drawer-drag",class:{"ivu-drawer-drag-left":"left"===e.placement},on:{mousedown:e.handleTriggerMousedown}},[e._t("trigger",[n("div",{staticClass:"ivu-drawer-drag-move-trigger"},[n("div",{staticClass:"ivu-drawer-drag-move-trigger-point"},[n("i"),n("i"),n("i"),n("i"),n("i")])])])],2):e._e()])])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(61)),o=c(n(62)),l=c(n(434));function c(e){return e&&e.__esModule?e:{default:e}}r.default.Menu=o.default,r.default.Item=l.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickoutside,expression:"onClickoutside"}],class:[e.prefixCls],on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[n("div",{ref:"reference",class:e.relClasses,on:{click:e.handleClick,contextmenu:function(t){return t.preventDefault(),e.handleRightClick(t)}}},[e._t("default")],2),e._v(" "),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.currentVisible,expression:"currentVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"drop",class:e.dropdownCls,attrs:{placement:e.placement,"data-transfer":e.transfer,transfer:e.transfer},nativeOn:{mouseenter:function(t){return e.handleMouseenter(t)},mouseleave:function(t){return e.handleMouseleave(t)}}},[e._t("list")],2)],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("ul",{staticClass:"ivu-dropdown-menu"},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(181),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(435),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("li",{class:this.classes,on:{click:this.handleClick}},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(182),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(439)),o=l(n(448));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Item=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(447),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){n(80),n(35),n(46),n(441),n(445),n(446),e.exports=n(5).Promise},function(e,t,n){"use strict";var r,o,l,c,d=n(42),f=n(9),h=n(24),v=n(56),m=n(7),y=n(18),x=n(43),_=n(88),w=n(51),k=n(186),S=n(187).set,C=n(443)(),T=n(89),E=n(188),M=n(444),P=n(189),A=f.TypeError,O=f.process,I=O&&O.versions,D=I&&I.v8||"",R=f.Promise,z="process"==v(O),L=function(){},j=o=T.f,F=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[n(10)("species")]=function(e){e(L,L)};return(z||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==D.indexOf("6.6")&&-1===M.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},B=function(e,t){if(!e._n){e._n=!0;var n=e._c;C((function(){for(var r=e._v,o=1==e._s,i=0,l=function(t){var n,l,c,d=o?t.ok:t.fail,f=t.resolve,h=t.reject,v=t.domain;try{d?(o||(2==e._h&&W(e),e._h=1),!0===d?n=r:(v&&v.enter(),n=d(r),v&&(v.exit(),c=!0)),n===t.promise?h(A("Promise-chain cycle")):(l=N(n))?l.call(n,f,h):f(n)):h(r)}catch(e){v&&!c&&v.exit(),h(e)}};n.length>i;)l(n[i++]);e._c=[],e._n=!1,t&&!e._h&&V(e)}))}},V=function(e){S.call(f,(function(){var t,n,r,o=e._v,l=U(e);if(l&&(t=E((function(){z?O.emit("unhandledRejection",o,e):(n=f.onunhandledrejection)?n({promise:e,reason:o}):(r=f.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=z||U(e)?2:1),e._a=void 0,l&&t.e)throw t.v}))},U=function(e){return 1!==e._h&&0===(e._a||e._c).length},W=function(e){S.call(f,(function(){var t;z?O.emit("rejectionHandled",e):(t=f.onrejectionhandled)&&t({promise:e,reason:e._v})}))},H=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),B(t,!0))},$=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(t=N(e))?C((function(){var r={_w:n,_d:!1};try{t.call(e,h($,r,1),h(H,r,1))}catch(e){H.call(r,e)}})):(n._v=e,n._s=1,B(n,!1))}catch(e){H.call({_w:n,_d:!1},e)}}};F||(R=function(e){_(this,R,"Promise","_h"),x(e),r.call(this);try{e(h($,this,1),h(H,this,1))}catch(e){H.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(90)(R.prototype,{then:function(e,t){var n=j(k(this,R));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=z?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&B(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new r;this.promise=e,this.resolve=h($,e,1),this.reject=h(H,e,1)},T.f=j=function(e){return e===R||e===c?new l(e):o(e)}),m(m.G+m.W+m.F*!F,{Promise:R}),n(47)(R,"Promise"),n(190)("Promise"),c=n(5).Promise,m(m.S+m.F*!F,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),m(m.S+m.F*(d||!F),"Promise",{resolve:function(e){return P(d&&this===c?R:this,e)}}),m(m.S+m.F*!(F&&n(114)((function(e){R.all(e).catch(L)}))),"Promise",{all:function(e){var t=this,n=j(t),r=n.resolve,o=n.reject,l=E((function(){var n=[],l=0,c=1;w(e,!1,(function(e){var d=l++,f=!1;n.push(void 0),c++,t.resolve(e).then((function(e){f||(f=!0,n[d]=e,--c||r(n))}),o)})),--c||r(n)}));return l.e&&o(l.v),n.promise},race:function(e){var t=this,n=j(t),r=n.reject,o=E((function(){w(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9),o=n(187).set,l=r.MutationObserver||r.WebKitMutationObserver,c=r.process,d=r.Promise,f="process"==n(41)(c);e.exports=function(){var head,e,t,n=function(){var n,r;for(f&&(n=c.domain)&&n.exit();head;){r=head.fn,head=head.next;try{r()}catch(n){throw head?t():e=void 0,n}}e=void 0,n&&n.enter()};if(f)t=function(){c.nextTick(n)};else if(!l||r.navigator&&r.navigator.standalone)if(d&&d.resolve){var h=d.resolve(void 0);t=function(){h.then(n)}}else t=function(){o.call(r,n)};else{var v=!0,m=document.createTextNode("");new l(n).observe(m,{characterData:!0}),t=function(){m.data=v=!v}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),head||(head=r,t()),e=r}}},function(e,t,n){var r=n(9).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(7),o=n(5),l=n(9),c=n(186),d=n(189);r(r.P+r.R,"Promise",{finally:function(e){var t=c(this,o.Promise||l.Promise),n="function"==typeof e;return this.then(n?function(n){return d(t,e()).then((function(){return n}))}:e,n?function(n){return d(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(7),o=n(89),l=n(188);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=l(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("form",{class:this.classes,attrs:{autocomplete:this.autocomplete}},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(191),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(451),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(){return(n=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var t in source)Object.prototype.hasOwnProperty.call(source,t)&&(e[t]=source[t])}return e}).apply(this,arguments)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,p){return(o=Object.setPrototypeOf||function(e,p){return e.__proto__=p,e})(e,p)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return(c=l()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&o(r,n.prototype),r}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,l)}function l(){return c(e,arguments,r(this).constructor)}return l.prototype=Object.create(e.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o(l,e)})(e)}var f=/%[sdj%]/g,h=function(){};function v(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=1,r=t[0],o=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"==typeof r){for(var l=String(r).replace(f,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(e){return"[Circular]"}break;default:return e}})),c=t[i];i<o;c=t[++i])l+=" "+c;return l}return r}function y(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function x(e,t,n){var r=0,o=e.length;!function l(c){if(c&&c.length)n(c);else{var d=r;r+=1,d<o?t(e[d],l):n([])}}([])}void 0!==e&&Object({NODE_ENV:"production"});var _=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(d(Error));function w(e,option,t,n){if(option.first){var r=new Promise((function(r,o){x(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),t,(function(e){return n(e),e.length?o(new _(e,v(e))):r()}))}));return r.catch((function(e){return e})),r}var o=option.firstFields||[];!0===o&&(o=Object.keys(e));var l=Object.keys(e),c=l.length,d=0,f=[],h=new Promise((function(r,h){var m=function(e){if(f.push.apply(f,e),++d===c)return n(f),f.length?h(new _(f,v(f))):r()};l.length||(n(f),r()),l.forEach((function(n){var r=e[n];-1!==o.indexOf(n)?x(r,t,m):function(e,t,n){var r=[],o=0,l=e.length;function c(e){r.push.apply(r,e),++o===l&&n(r)}e.forEach((function(a){t(a,c)}))}(r,t,m)}))}));return h.catch((function(e){return e})),h}function k(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function S(e,source){if(source)for(var s in source)if(source.hasOwnProperty(s)){var t=source[s];"object"==typeof t&&"object"==typeof e[s]?e[s]=n(n({},e[s]),t):e[s]=t}return e}function C(e,t,source,n,r,o){!e.required||source.hasOwnProperty(e.field)&&!y(t,o||e.type)||n.push(m(r.messages.required,e.fullField))}var pattern={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},T={integer:function(e){return T.number(e)&&parseInt(e,10)===e},float:function(e){return T.number(e)&&!T.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!T.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(pattern.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(pattern.url)},hex:function(e){return"string"==typeof e&&!!e.match(pattern.hex)}},E={required:C,whitespace:function(e,t,source,n,r){(/^\s+$/.test(t)||""===t)&&n.push(m(r.messages.whitespace,e.fullField))},type:function(e,t,source,n,r){if(e.required&&void 0===t)C(e,t,source,n,r);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?T[o](t)||n.push(m(r.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push(m(r.messages.types[o],e.fullField,e.type))}},range:function(e,t,source,n,r){var o="number"==typeof e.len,l="number"==typeof e.min,c="number"==typeof e.max,d=t,f=null,h="number"==typeof t,v="string"==typeof t,y=Array.isArray(t);if(h?f="number":v?f="string":y&&(f="array"),!f)return!1;y&&(d=t.length),v&&(d=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?d!==e.len&&n.push(m(r.messages[f].len,e.fullField,e.len)):l&&!c&&d<e.min?n.push(m(r.messages[f].min,e.fullField,e.min)):c&&!l&&d>e.max?n.push(m(r.messages[f].max,e.fullField,e.max)):l&&c&&(d<e.min||d>e.max)&&n.push(m(r.messages[f].range,e.fullField,e.min,e.max))},enum:function(e,t,source,n,r){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&n.push(m(r.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,source,n,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||n.push(m(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||n.push(m(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function M(e,t,n,source,r){var o=e.type,l=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t,o)&&!e.required)return n();E.required(e,t,source,l,r,o),y(t,o)||E.type(e,t,source,l,r)}n(l)}var P={string:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t,"string")&&!e.required)return n();E.required(e,t,source,o,r,"string"),y(t,"string")||(E.type(e,t,source,o,r),E.range(e,t,source,o,r),E.pattern(e,t,source,o,r),!0===e.whitespace&&E.whitespace(e,t,source,o,r))}n(o)},method:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&E.type(e,t,source,o,r)}n(o)},number:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(""===t&&(t=void 0),y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&(E.type(e,t,source,o,r),E.range(e,t,source,o,r))}n(o)},boolean:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&E.type(e,t,source,o,r)}n(o)},regexp:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),y(t)||E.type(e,t,source,o,r)}n(o)},integer:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&(E.type(e,t,source,o,r),E.range(e,t,source,o,r))}n(o)},float:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&(E.type(e,t,source,o,r),E.range(e,t,source,o,r))}n(o)},array:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t,"array")&&!e.required)return n();E.required(e,t,source,o,r,"array"),y(t,"array")||(E.type(e,t,source,o,r),E.range(e,t,source,o,r))}n(o)},object:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&E.type(e,t,source,o,r)}n(o)},enum:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r),void 0!==t&&E.enum(e,t,source,o,r)}n(o)},pattern:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t,"string")&&!e.required)return n();E.required(e,t,source,o,r),y(t,"string")||E.pattern(e,t,source,o,r)}n(o)},date:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();var l;E.required(e,t,source,o,r),y(t)||(l="number"==typeof t?new Date(t):t,E.type(e,l,source,o,r),l&&E.range(e,l.getTime(),source,o,r))}n(o)},url:M,hex:M,email:M,required:function(e,t,n,source,r){var o=[],l=Array.isArray(t)?"array":typeof t;E.required(e,t,source,o,r,l),n(o)},any:function(e,t,n,source,r){var o=[];if(e.required||!e.required&&source.hasOwnProperty(e.field)){if(y(t)&&!e.required)return n();E.required(e,t,source,o,r)}n(o)}};function A(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var O=A();function I(e){this.rules=null,this._messages=O,this.define(e)}I.prototype={messages:function(e){return e&&(this._messages=S(A(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var l,c,source=e,d=t,f=r;if("function"==typeof d&&(f=d,d={}),!this.rules||0===Object.keys(this.rules).length)return f&&f(),Promise.resolve();if(d.messages){var h=this.messages();h===O&&(h=A()),S(h,d.messages),d.messages=h}else d.messages=this.messages();var y={};(d.keys||Object.keys(this.rules)).forEach((function(t){l=o.rules[t],c=source[t],l.forEach((function(r){var l=r;"function"==typeof l.transform&&(source===e&&(source=n({},source)),c=source[t]=l.transform(c)),(l="function"==typeof l?{validator:l}:n({},l)).validator=o.getValidationMethod(l),l.field=t,l.fullField=l.fullField||t,l.type=o.getType(l),l.validator&&(y[t]=y[t]||[],y[t].push({rule:l,value:c,source:source,field:t}))}))}));var x={};return w(y,d,(function(data,e){var t,r=data.rule,o=!("object"!==r.type&&"array"!==r.type||"object"!=typeof r.fields&&"object"!=typeof r.defaultField);function l(e,t){return n(n({},t),{},{fullField:r.fullField+"."+e})}function c(t){void 0===t&&(t=[]);var c=t;if(Array.isArray(c)||(c=[c]),!d.suppressWarning&&c.length&&I.warning("async-validator:",c),c.length&&r.message&&(c=[].concat(r.message)),c=c.map(k(r)),d.first&&c.length)return x[r.field]=1,e(c);if(o){if(r.required&&!data.value)return r.message?c=[].concat(r.message).map(k(r)):d.error&&(c=[d.error(r,m(d.messages.required,r.field))]),e(c);var f={};if(r.defaultField)for(var h in data.value)data.value.hasOwnProperty(h)&&(f[h]=r.defaultField);for(var v in f=n(n({},f),data.rule.fields))if(f.hasOwnProperty(v)){var y=Array.isArray(f[v])?f[v]:[f[v]];f[v]=y.map(l.bind(null,v))}var _=new I(f);_.messages(d.messages),data.rule.options&&(data.rule.options.messages=d.messages,data.rule.options.error=d.error),_.validate(data.value,data.rule.options||d,(function(t){var n=[];c&&c.length&&n.push.apply(n,c),t&&t.length&&n.push.apply(n,t),e(n.length?n:null)}))}else e(c)}o=o&&(r.required||!r.required&&data.value),r.field=data.field,r.asyncValidator?t=r.asyncValidator(r,data.value,c,data.source,d):r.validator&&(!0===(t=r.validator(r,data.value,c,data.source,d))?c():!1===t?c(r.message||r.field+" fails"):t instanceof Array?c(t):t instanceof Error&&c(t.message)),t&&t.then&&t.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var i,t,n,r=[],o={};for(i=0;i<e.length;i++)t=e[i],n=void 0,Array.isArray(t)?r=(n=r).concat.apply(n,t):r.push(t);r.length?o=v(r):(r=null,o=null),f(r,o)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!P.hasOwnProperty(e.type))throw new Error(m("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?P.required:P[this.getType(e)]||!1}},I.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");P[e]=t},I.warning=h,I.messages=O,I.validators=P,t.default=I}.call(t,n(450))},function(e,t){var n,r,o=e.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function d(e){if(n===setTimeout)return setTimeout(e,0);if((n===l||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:l}catch(e){n=l}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var f,h=[],v=!1,m=-1;function y(){v&&f&&(v=!1,f.length?h=f.concat(h):m=-1,h.length&&x())}function x(){if(!v){var e=d(y);v=!0;for(var t=h.length;t;){for(f=h,h=[];++m<t;)f&&f[m].run();m=-1,t=h.length}f=null,v=!1,function(marker){if(r===clearTimeout)return clearTimeout(marker);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(marker);try{r(marker)}catch(e){try{return r.call(null,marker)}catch(e){return r.call(this,marker)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function w(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new _(e,t)),1!==h.length||v||d(x)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e.label||e.$slots.label?n("label",{class:[e.prefixCls+"-label"],style:e.labelStyles,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label)+e._s(e.FormInstance.colon))])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-content"],style:e.contentStyles},[e._t("default"),e._v(" "),n("transition",{attrs:{name:"fade"}},["error"===e.validateState&&e.showMessage&&e.FormInstance.showMessage?n("div",{class:[e.prefixCls+"-error-tip"]},[e._v(e._s(e.validateMessage))]):e._e()])],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(192),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(38),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(194),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},[n("div",{class:e.handlerClasses},[n("a",{class:e.upClasses,on:{click:e.up}},[n("span",{class:e.innerUpClasses,on:{click:e.preventDefault}})]),e._v(" "),n("a",{class:e.downClasses,on:{click:e.down}},[n("span",{class:e.innerDownClasses,on:{click:e.preventDefault}})])]),e._v(" "),n("div",{class:e.inputWrapClasses},[n("input",{class:e.inputClasses,attrs:{id:e.elementId,disabled:e.itemDisabled,autocomplete:"off",spellcheck:"false",autofocus:e.autofocus,readonly:e.readonly||!e.editable,name:e.name,placeholder:e.placeholder},domProps:{value:e.formatterValue},on:{focus:e.focus,blur:e.blur,keydown:function(t){return t.stopPropagation(),e.keyDown(t)},input:e.change,mouseup:e.preventDefault,change:e.change}})])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(458),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(196),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(467),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={default:n(460),__esModule:!0}},function(e,t,n){n(461),e.exports=n(5).Math.sign},function(e,t,n){var r=n(7);r(r.S,"Math",{sign:n(462)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,h=d||f||Function("return this")(),v=Object.prototype.toString,m=Math.max,y=Math.min,x=function(){return h.Date.now()};function _(e,t,n){var r,o,l,c,d,f,h=0,v=!1,_=!1,S=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function C(time){var t=r,n=o;return r=o=void 0,h=time,c=e.apply(n,t)}function T(time){return h=time,d=setTimeout(M,t),v?C(time):c}function E(time){var e=time-f;return void 0===f||e>=t||e<0||_&&time-h>=l}function M(){var time=x();if(E(time))return P(time);d=setTimeout(M,function(time){var e=t-(time-f);return _?y(e,l-(time-h)):e}(time))}function P(time){return d=void 0,S&&r?C(time):(r=o=void 0,c)}function A(){var time=x(),e=E(time);if(r=arguments,o=this,f=time,e){if(void 0===d)return T(f);if(_)return d=setTimeout(M,t),C(f)}return void 0===d&&(d=setTimeout(M,t)),c}return t=k(t)||0,w(n)&&(v=!!n.leading,l=(_="maxWait"in n)?m(k(n.maxWait)||0,t):l,S="trailing"in n?!!n.trailing:S),A.cancel=function(){void 0!==d&&clearTimeout(d),h=0,r=f=o=d=void 0},A.flush=function(){return void 0===d?c:P(x())},A}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var d=o.test(e);return d||l.test(e)?c(e.slice(2),d?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_(e,t,{leading:r,maxWait:t,trailing:o})}}).call(t,n(117))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(197),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(466),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.fullscreenVisible?n("div",{class:e.classes},[n("div",{class:e.mainClasses},[n("span",{class:e.dotClasses}),e._v(" "),n("div",{class:e.textClasses},[e._t("default")],2)])]):e._e()])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapperClasses},[n("div",{class:e.spinnerClasses},[n("Spin",{attrs:{fix:""}},[n("Icon",{class:e.iconClasses,attrs:{type:"ios-loading",size:"18"}}),e._v(" "),e.text?n("div",{class:e.textClasses},[e._v(e._s(e.text))]):e._e()],1)],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses,staticStyle:{"touch-action":"none"}},[n("div",{ref:"scrollContainer",class:e.scrollContainerClasses,style:{height:e.height+"px"},on:{scroll:e.handleScroll,wheel:e.onWheel,touchstart:e.onPointerDown}},[n("div",{ref:"toploader",class:e.loaderClasses,style:{paddingTop:e.wrapperPadding.paddingTop}},[n("loader",{attrs:{text:e.localeLoadingText,active:e.showTopLoader}})],1),e._v(" "),n("div",{ref:"scrollContent",class:e.slotContainerClasses},[e._t("default")],2),e._v(" "),n("div",{ref:"bottomLoader",class:e.loaderClasses,style:{paddingBottom:e.wrapperPadding.paddingBottom}},[n("loader",{attrs:{text:e.localeLoadingText,active:e.showBottomLoader}})],1)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(469),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(199),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(472),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(200),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(471),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.classes},[t("div",{class:this.barConClasses},this._m(0),0)])},t.staticRenderFns=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._l(8,(function(i){return n("i",{key:"trigger-"+i,class:e.prefix+"-bar"})}))}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"outerWrapper",class:e.wrapperClasses},[e.isHorizontal?n("div",{class:e.prefix+"-horizontal"},[n("div",{staticClass:"left-pane",class:e.paneClasses,style:{right:e.anotherOffset+"%"}},[e._t("left")],2),e._v(" "),n("div",{class:e.prefix+"-trigger-con",style:{left:e.offset+"%"},on:{mousedown:e.handleMousedown}},[e._t("trigger",[n("trigger",{attrs:{mode:"vertical"}})])],2),e._v(" "),n("div",{staticClass:"right-pane",class:e.paneClasses,style:{left:e.offset+"%"}},[e._t("right")],2)]):n("div",{class:e.prefix+"-vertical"},[n("div",{staticClass:"top-pane",class:e.paneClasses,style:{bottom:e.anotherOffset+"%"}},[e._t("top")],2),e._v(" "),n("div",{class:e.prefix+"-trigger-con",style:{top:e.offset+"%"},on:{mousedown:e.handleMousedown}},[e._t("trigger",[n("trigger",{attrs:{mode:"horizontal"}})])],2),e._v(" "),n("div",{staticClass:"bottom-pane",class:e.paneClasses,style:{top:e.offset+"%"}},[e._t("bottom")],2)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(474)),o=f(n(192)),l=f(n(202)),c=f(n(155)),d=f(n(182));function f(e){return e&&e.__esModule?e:{default:e}}r.default.Header=o.default,r.default.Sider=l.default,r.default.Content=c.default,r.default.Footer=d.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(201),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(475),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.wrapClasses},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses,style:e.wrapStyles},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showZeroTrigger,expression:"showZeroTrigger"}],class:e.zeroWidthTriggerClasses,on:{click:e.toggleCollapse}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-menu"})]),e._v(" "),n("div",{class:e.childClasses},[e._t("default")],2),e._v(" "),e._t("trigger",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBottomTrigger,expression:"showBottomTrigger"}],class:e.triggerClasses,style:{width:e.siderWidth+"px"},on:{click:e.toggleCollapse}},[n("i",{class:e.triggerIconClasses})])])],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(478)),o=c(n(480)),l=c(n(482));function c(e){return e&&e.__esModule?e:{default:e}}r.default.Item=o.default,r.default.Item.Meta=l.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(204),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(479),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e.header||e.$slots.header?n("div",{staticClass:"ivu-list-header"},[e._t("header",[e._v(e._s(e.header))])],2):e._e(),e._v(" "),n("div",{staticClass:"ivu-list-container"},[n("ul",{staticClass:"ivu-list-items"},[e._t("default")],2)]),e._v(" "),e.loading?n("Spin",{attrs:{fix:"",size:"large"}},[e._t("spin")],2):e._e(),e._v(" "),e.footer||e.$slots.footer?n("div",{staticClass:"ivu-list-footer"},[e._t("footer",[e._v(e._s(e.footer))])],2):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(205),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(481),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"ivu-list-item",class:e.classes},["vertical"===e.itemLayout&&e.$slots.extra?[n("div",{staticClass:"ivu-list-item-main"},[e._t("default"),e._v(" "),e.$slots.action?n("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e()],2),e._v(" "),n("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]:[e._t("default"),e._v(" "),e.$slots.action?n("ul",{staticClass:"ivu-list-item-action"},[e._t("action")],2):e._e(),e._v(" "),n("div",{staticClass:"ivu-list-item-extra"},[e._t("extra")],2)]],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(206),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(483),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ivu-list-item-meta"},[e.avatar||e.$slots.avatar?n("div",{staticClass:"ivu-list-item-meta-avatar"},[e._t("avatar",[n("Avatar",{attrs:{src:e.avatar}})])],2):e._e(),e._v(" "),n("div",{staticClass:"ivu-list-item-meta-content"},[e.title||e.$slots.title?n("div",{staticClass:"ivu-list-item-meta-title"},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e.description||e.$slots.description?n("div",{staticClass:"ivu-list-item-meta-description"},[e._t("description",[e._v(e._s(e.description))])],2):e._e()])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(485));function l(e){return e&&e.__esModule?e:{default:e}}var c=void 0,d="primary",f=800,h="error",v=2,m=void 0;function y(){return c=c||o.default.newInstance({color:d,failedColor:h,height:v})}function x(e){y().update(e)}function _(){var e=this;setTimeout(function(){(0,r.default)(this,e),x({show:!1}),setTimeout(function(){(0,r.default)(this,e),x({percent:0})}.bind(this),200)}.bind(this),f)}function w(){m&&(clearInterval(m),m=null)}t.default={start:function(){var e=this;if(!m){var t=0;x({percent:t,status:"success",show:!0}),m=setInterval(function(){(0,r.default)(this,e),(t+=Math.floor(3*Math.random()+1))>95&&w(),x({percent:t,status:"success",show:!0})}.bind(this),200)}},update:function(e){w(),x({percent:e,status:"success",show:!0})},finish:function(){w(),x({percent:100,status:"success",show:!0}),_()},error:function(){w(),x({percent:100,status:"error",show:!0}),_()},config:function(e){e.color&&(d=e.color),e.duration&&(f=e.duration),e.failedColor&&(h=e.failedColor),e.height&&(v=e.height)},destroy:function(){w();var e=y();c=null,e.destroy()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(1)),o=c(n(486)),l=c(n(16));function c(e){return e&&e.__esModule?e:{default:e}}o.default.newInstance=function(e){(0,r.default)(void 0,void 0);var t=e||{},n=new l.default({data:t,render:function(e){return e(o.default,{props:t})}}),component=n.$mount();document.body.appendChild(component.$el);var c=n.$children[0];return{update:function(e){"percent"in e&&(c.percent=e.percent),e.status&&(c.status=e.status),"show"in e&&(c.show=e.show)},component:c,destroy:function(){document.body.removeChild(document.getElementsByClassName("ivu-loading-bar")[0])}}}.bind(void 0),t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(207),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(487),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.classes,style:this.outerStyles},[t("div",{class:this.innerClasses,style:this.styles})])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(489)),o=d(n(491)),l=d(n(493)),c=d(n(495));function d(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default,r.default.Item=l.default,r.default.Sub=c.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(208),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(490),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("ul",{class:this.classes,style:this.styles},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(492),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:[e.prefixCls+"-item-group"]},[n("div",{class:[e.prefixCls+"-item-group-title"],style:e.groupStyle},[e._v(e._s(e.title))]),e._v(" "),n("ul",[e._t("default")],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(494),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.to?n("a",{class:e.classes,style:e.itemStyle,attrs:{href:e.linkUrl,target:e.target},on:{click:[function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.handleClickItem(t,!1)},function(t){return t.ctrlKey?e.handleClickItem(t,!0):null},function(t){return t.metaKey?e.handleClickItem(t,!0):null}]}},[e._t("default")],2):n("li",{class:e.classes,style:e.itemStyle,on:{click:function(t){return t.stopPropagation(),e.handleClickItem(t)}}},[e._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(211),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(496),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.classes,on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[n("div",{ref:"reference",class:[e.prefixCls+"-submenu-title"],style:e.titleStyle,on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._t("title"),e._v(" "),n("Icon",{class:[e.prefixCls+"-submenu-title-icon"],attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}})],2),e._v(" "),"vertical"===e.mode?n("collapse-transition",[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],class:[e.prefixCls]},[e._t("default")],2)]):n("transition",{attrs:{name:"slide-up"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],ref:"drop",style:e.dropStyle,attrs:{placement:"bottom"}},[n("ul",{class:[e.prefixCls+"-drop-list"]},[e._t("default")],2)])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(212),l=(r=o)&&r.__esModule?r:{default:r},c="ivu_message_key_",d={top:24,duration:1.5},f=void 0,h=1,v={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle",loading:"ios-loading"};function m(){return f=f||l.default.newInstance({prefixCls:"ivu-message",styles:{top:String(d.top)+"px"}})}t.default={name:"Message",info:function(e){return this.message("info",e)},success:function(e){return this.message("success",e)},warning:function(e){return this.message("warning",e)},error:function(e){return this.message("error",e)},loading:function(e){return this.message("loading",e)},message:function(e,t){return"string"==typeof t&&(t={content:t}),function(){var e,content=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.duration,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],y=v[n],x="loading"===n?" ivu-load-loop":"",_=m();return _.notice({name:""+c+h,duration:t,styles:{},transitionName:"move-up",content:'\n            <div class="ivu-message-custom-content ivu-message-'+String(n)+'">\n                <i class="ivu-icon ivu-icon-'+String(y)+" "+x+'"></i>\n                <span>'+String(content)+"</span>\n            </div>\n        ",render:l,onClose:r,closable:o,type:"message",msgType:n,background:f}),e=h++,function(){_.remove(""+c+e)}}(t.content,t.duration,e,t.onClose,t.closable,t.render,t.background)},config:function(e){(e.top||0===e.top)&&(d.top=e.top),(e.duration||0===e.duration)&&(d.duration=e.duration)},destroy:function(){var e=m();f=null,e.destroy("ivu-message")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(213),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(501),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(214),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(500),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transitionName,appear:""},on:{enter:e.handleEnter,leave:e.handleLeave}},[n("div",{class:e.classes,style:e.styles},["notice"===e.type?[n("div",{ref:"content",class:e.contentClasses,domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{class:e.contentWithIcon},[n("render-cell",{attrs:{render:e.renderFunc}})],1),e._v(" "),e.closable?n("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()]:e._e(),e._v(" "),"message"===e.type?[n("div",{ref:"content",class:e.messageContentClasses},[n("div",{class:[e.baseClass+"-content-text"],domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{class:[e.baseClass+"-content-text"]},[n("render-cell",{attrs:{render:e.renderFunc}})],1),e._v(" "),e.closable?n("a",{class:[e.baseClass+"-close"],on:{click:e.close}},[n("i",{staticClass:"ivu-icon ivu-icon-ios-close"})]):e._e()])]:e._e()],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.wrapStyles},e._l(e.notices,(function(t){return n("Notice",{key:t.name,attrs:{"prefix-cls":e.prefixCls,styles:t.styles,type:t.type,content:t.content,duration:t.duration,render:t.render,"has-title":t.hasTitle,withIcon:t.withIcon,closable:t.closable,name:t.name,"transition-name":t.transitionName,background:t.background,"msg-type":t.msgType,"on-close":t.onClose}})})),1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(503),l=(r=o)&&r.__esModule?r:{default:r},c=void 0;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c=c||l.default.newInstance({closable:!1,maskClosable:!1,footerHide:!0,render:e,lockScroll:t})}function f(e){var t=d("render"in e?e.render:void 0,!("lockScroll"in e)||e.lockScroll);e.onRemove=function(){c=null},t.show(e)}l.default.info=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon="info",e.showCancel=!1,f(e)},l.default.success=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon="success",e.showCancel=!1,f(e)},l.default.warning=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon="warning",e.showCancel=!1,f(e)},l.default.error=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon="error",e.showCancel=!1,f(e)},l.default.confirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon="confirm",e.showCancel=!0,f(e)},l.default.remove=function(){if(!c)return!1;d().remove()},t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(15)),o=h(n(1)),l=h(n(16)),c=h(n(504)),d=h(n(28)),f=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var v="ivu-modal-confirm";c.default.newInstance=function(e){(0,o.default)(void 0,void 0);var t=e||{},n=new l.default({mixins:[f.default],data:(0,r.default)({},t,{visible:!1,width:416,title:"",body:"",iconType:"",iconName:"",okText:void 0,cancelText:void 0,showCancel:!1,loading:!1,buttonLoading:!1,scrollable:!1,closable:!1,closing:!1}),render:function(e){var n=this,l=[];this.showCancel&&l.push(e(d.default,{props:{type:"text"},on:{click:this.cancel}},this.localeCancelText)),l.push(e(d.default,{props:{type:"primary",loading:this.buttonLoading},on:{click:this.ok}},this.localeOkText));var f=void 0;f=this.render?e("div",{attrs:{class:v+"-body "+v+"-body-render"}},[this.render(e)]):e("div",{attrs:{class:v+"-body"}},[e("div",{domProps:{innerHTML:this.body}})]);var h=void 0;return this.title&&(h=e("div",{attrs:{class:v+"-head"}},[e("div",{class:this.iconTypeCls},[e("i",{class:this.iconNameCls})]),e("div",{attrs:{class:v+"-head-title"},domProps:{innerHTML:this.title}})])),e(c.default,{props:(0,r.default)({},t,{width:this.width,scrollable:this.scrollable,closable:this.closable}),domProps:{value:this.visible},on:{input:function(e){(0,o.default)(this,n),this.visible=e}.bind(this),"on-cancel":this.cancel}},[e("div",{attrs:{class:v}},[h,f,e("div",{attrs:{class:v+"-footer"}},l)])])},computed:{iconTypeCls:function(){return[v+"-head-icon",v+"-head-icon-"+String(this.iconType)]},iconNameCls:function(){return["ivu-icon","ivu-icon-"+String(this.iconName)]},localeOkText:function(){return this.okText?this.okText:this.t("i.modal.okText")},localeCancelText:function(){return this.cancelText?this.cancelText:this.t("i.modal.cancelText")}},methods:{cancel:function(){this.closing||(this.$children[0].visible=!1,this.buttonLoading=!1,this.onCancel(),this.remove())},ok:function(){this.closing||(this.loading?this.buttonLoading=!0:(this.$children[0].visible=!1,this.remove()),this.onOk())},remove:function(){var e=this;this.closing=!0,setTimeout(function(){(0,o.default)(this,e),this.closing=!1,this.destroy()}.bind(this),300)},destroy:function(){this.$destroy(),this.$el&&document.body.removeChild(this.$el),this.onRemove()},onOk:function(){},onCancel:function(){},onRemove:function(){}}}),component=n.$mount();document.body.appendChild(component.$el);var h=n.$children[0];return{show:function(e){switch(h.$parent.showCancel=e.showCancel,h.$parent.iconType=e.icon,e.icon){case"info":h.$parent.iconName="ios-information-circle";break;case"success":h.$parent.iconName="ios-checkmark-circle";break;case"warning":h.$parent.iconName="ios-alert";break;case"error":h.$parent.iconName="ios-close-circle";break;case"confirm":h.$parent.iconName="ios-help-circle"}"width"in e&&(h.$parent.width=e.width),"closable"in e&&(h.$parent.closable=e.closable),"title"in e&&(h.$parent.title=e.title),"content"in e&&(h.$parent.body=e.content),"okText"in e&&(h.$parent.okText=e.okText),"cancelText"in e&&(h.$parent.cancelText=e.cancelText),"onCancel"in e&&(h.$parent.onCancel=e.onCancel),"onOk"in e&&(h.$parent.onOk=e.onOk),"loading"in e&&(h.$parent.loading=e.loading),"scrollable"in e&&(h.$parent.scrollable=e.scrollable),h.$parent.onRemove=e.onRemove,h.visible=!0},remove:function(){h.visible=!1,h.$parent.buttonLoading=!1,h.$parent.remove()},component:h}}.bind(void 0),t.default=c.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(216),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(505),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}],attrs:{"data-transfer":e.transfer}},[n("transition",{attrs:{name:e.transitionNames[1]}},[e.showMask?n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.maskClasses,style:e.wrapStyles,on:{click:e.handleMask}}):e._e()]),e._v(" "),n("div",{class:e.wrapClasses,style:e.wrapStyles,on:{click:e.handleWrapClick}},[n("transition",{attrs:{name:e.transitionNames[0]},on:{"after-leave":e.animationFinish}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:e.classes,style:e.mainStyles,on:{mousedown:e.handleMousedown}},[n("div",{ref:"content",class:e.contentClasses,style:e.contentStyles,on:{click:e.handleClickModal}},[e.closable?n("a",{class:[e.prefixCls+"-close"],on:{click:e.close}},[e._t("close",[n("Icon",{attrs:{type:"ios-close"}})])],2):e._e(),e._v(" "),e.showHead?n("div",{class:[e.prefixCls+"-header"],on:{mousedown:e.handleMoveStart}},[e._t("header",[n("div",{class:[e.prefixCls+"-header-inner"]},[e._v(e._s(e.title))])])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-body"]},[e._t("default")],2),e._v(" "),e.footerHide?e._e():n("div",{class:[e.prefixCls+"-footer"]},[e._t("footer",[n("i-button",{attrs:{type:"text"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v(e._s(e.localeCancelText))]),e._v(" "),n("i-button",{attrs:{type:"primary",loading:e.buttonLoading},nativeOn:{click:function(t){return e.ok(t)}}},[e._v(e._s(e.localeOkText))])])],2)])])])],1)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(212),l=(r=o)&&r.__esModule?r:{default:r},c="ivu-notice",d=24,f=4.5,h=void 0,v=1,m={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle"};function y(){return h=h||l.default.newInstance({prefixCls:c,styles:{top:d+"px",right:0}})}function x(e,t){var title=t.title||"",desc=t.desc||"",n=t.name||"ivu_notice_key_"+v,r=t.onClose||function(){},o=t.render,l=0===t.duration?0:t.duration||f;v++;var d=y(),content=void 0,h=void 0,x=t.render&&!title?"":desc||t.render?" "+c+"-with-desc":"";if("normal"==e)h=!1,content='\n            <div class="'+c+"-custom-content "+c+"-with-normal "+x+'">\n                <div class="'+c+'-title">'+String(title)+'</div>\n                <div class="'+c+'-desc">'+String(desc)+"</div>\n            </div>\n        ";else{var _=m[e],w=""===x?"":"-outline";h=!0,content='\n            <div class="'+c+"-custom-content "+c+"-with-icon "+c+"-with-"+String(e)+" "+x+'">\n                <span class="'+c+"-icon "+c+"-icon-"+String(e)+'">\n                    <i class="ivu-icon ivu-icon-'+String(_)+w+'"></i>\n                </span>\n                <div class="'+c+'-title">'+String(title)+'</div>\n                <div class="'+c+'-desc">'+String(desc)+"</div>\n            </div>\n        "}d.notice({name:n.toString(),duration:l,styles:{},transitionName:"move-notice",content:content,withIcon:h,render:o,hasTitle:!!title,onClose:r,closable:!0,type:"notice"})}t.default={open:function(e){return x("normal",e)},info:function(e){return x("info",e)},success:function(e){return x("success",e)},warning:function(e){return x("warning",e)},error:function(e){return x("error",e)},config:function(e){e.top&&(d=e.top),(e.duration||0===e.duration)&&(f=e.duration)},close:function(e){if(!e)return!1;e=e.toString(),h&&h.remove(e)},destroy:function(){var e=y();h=null,e.destroy("ivu-notice")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(508),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(217),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(511),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(218),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(510),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showSizer||e.showElevator?n("div",{class:e.optsClasses},[e.showSizer?n("div",{class:e.sizerClasses},[n("i-select",{attrs:{size:e.size,placement:e.placement,transfer:e.transfer,disabled:e.disabled},on:{"on-change":e.changeSize},model:{value:e.currentPageSize,callback:function(t){e.currentPageSize=t},expression:"currentPageSize"}},e._l(e.pageSizeOpts,(function(t){return n("i-option",{key:t,staticStyle:{"text-align":"center"},attrs:{value:t}},[e._v(e._s(t)+" "+e._s(e.t("i.page.page")))])})),1)],1):e._e(),e._v(" "),e.showElevator?n("div",{class:e.ElevatorClasses},[e._v("\n        "+e._s(e.t("i.page.goto"))+"\n        "),n("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:e.disabled},domProps:{value:e._current},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changePage(t)}}}),e._v("\n        "+e._s(e.t("i.page.p"))+"\n    ")]):e._e()]):e._e()},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.simple?n("ul",{class:e.simpleWrapClasses,style:e.styles},[n("li",{class:e.prevClasses,attrs:{title:e.t("i.page.prev")},on:{click:e.prev}},[e._m(0)]),e._v(" "),n("div",{class:e.simplePagerClasses,attrs:{title:e.currentPage+"/"+e.allPages}},[n("input",{attrs:{type:"text",autocomplete:"off",spellcheck:"false",disabled:e.disabled},domProps:{value:e.currentPage},on:{keydown:e.keyDown,keyup:e.keyUp,change:e.keyUp}}),e._v(" "),n("span",[e._v("/")]),e._v("\n        "+e._s(e.allPages)+"\n    ")]),e._v(" "),n("li",{class:e.nextClasses,attrs:{title:e.t("i.page.next")},on:{click:e.next}},[e._m(1)])]):n("ul",{class:e.wrapClasses,style:e.styles},[e.showTotal?n("span",{class:[e.prefixCls+"-total"]},[e._t("default",[e._v(e._s(e.t("i.page.total"))+" "+e._s(e.total)+" "),e.total<=1?[e._v(e._s(e.t("i.page.item")))]:[e._v(e._s(e.t("i.page.items")))]])],2):e._e(),e._v(" "),n("li",{class:e.prevClasses,attrs:{title:e.t("i.page.prev")},on:{click:e.prev}},[n("a",[""!==e.prevText?[e._v(e._s(e.prevText))]:n("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})],2)]),e._v(" "),n("li",{class:e.firstPageClasses,attrs:{title:"1"},on:{click:function(t){return e.changePage(1)}}},[n("a",[e._v("1")])]),e._v(" "),e.currentPage>5?n("li",{class:[e.prefixCls+"-item-jump-prev"],attrs:{title:e.t("i.page.prev5")},on:{click:e.fastPrev}},[e._m(2)]):e._e(),e._v(" "),5===e.currentPage?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage-3},on:{click:function(t){return e.changePage(e.currentPage-3)}}},[n("a",[e._v(e._s(e.currentPage-3))])]):e._e(),e._v(" "),e.currentPage-2>1?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage-2},on:{click:function(t){return e.changePage(e.currentPage-2)}}},[n("a",[e._v(e._s(e.currentPage-2))])]):e._e(),e._v(" "),e.currentPage-1>1?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage-1},on:{click:function(t){return e.changePage(e.currentPage-1)}}},[n("a",[e._v(e._s(e.currentPage-1))])]):e._e(),e._v(" "),1!=e.currentPage&&e.currentPage!=e.allPages?n("li",{class:[e.prefixCls+"-item",e.prefixCls+"-item-active"],attrs:{title:e.currentPage}},[n("a",[e._v(e._s(e.currentPage))])]):e._e(),e._v(" "),e.currentPage+1<e.allPages?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage+1},on:{click:function(t){return e.changePage(e.currentPage+1)}}},[n("a",[e._v(e._s(e.currentPage+1))])]):e._e(),e._v(" "),e.currentPage+2<e.allPages?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage+2},on:{click:function(t){return e.changePage(e.currentPage+2)}}},[n("a",[e._v(e._s(e.currentPage+2))])]):e._e(),e._v(" "),e.allPages-e.currentPage==4?n("li",{class:[e.prefixCls+"-item"],attrs:{title:e.currentPage+3},on:{click:function(t){return e.changePage(e.currentPage+3)}}},[n("a",[e._v(e._s(e.currentPage+3))])]):e._e(),e._v(" "),e.allPages-e.currentPage>=5?n("li",{class:[e.prefixCls+"-item-jump-next"],attrs:{title:e.t("i.page.next5")},on:{click:e.fastNext}},[e._m(3)]):e._e(),e._v(" "),e.allPages>1?n("li",{class:e.lastPageClasses,attrs:{title:e.allPages},on:{click:function(t){return e.changePage(e.allPages)}}},[n("a",[e._v(e._s(e.allPages))])]):e._e(),e._v(" "),n("li",{class:e.nextClasses,attrs:{title:e.t("i.page.next")},on:{click:e.next}},[n("a",[""!==e.nextText?[e._v(e._s(e.nextText))]:n("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})],2)]),e._v(" "),n("Options",{attrs:{"show-sizer":e.showSizer,"page-size":e.currentPageSize,"page-size-opts":e.pageSizeOpts,placement:e.placement,transfer:e.transfer,"show-elevator":e.showElevator,_current:e.currentPage,current:e.currentPage,disabled:e.disabled,"all-pages":e.allPages,"is-small":e.isSmall},on:{"on-size":e.onSize,"on-page":e.onPage}})],1)},t.staticRenderFns=[function(){var e=this.$createElement,t=this._self._c||e;return t("a",[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-back"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",[t("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-forward"})])}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(219),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.handleClose,expression:"handleClose"}],class:e.classes,on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[n("div",{ref:"reference",class:[e.prefixCls+"-rel"],on:{click:e.handleClick,mousedown:function(t){return e.handleFocus(!1)},mouseup:function(t){return e.handleBlur(!1)}}},[e._t("default")],2),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:e.popperClasses,style:e.styles,attrs:{"data-transfer":e.transfer},on:{click:e.handleTransferClick,mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[n("div",{class:[e.prefixCls+"-content"]},[n("div",{class:[e.prefixCls+"-arrow"]}),e._v(" "),e.confirm?n("div",{class:[e.prefixCls+"-inner"]},[n("div",{class:[e.prefixCls+"-body"]},[n("i",{staticClass:"ivu-icon ivu-icon-ios-help-circle"}),e._v(" "),n("div",{class:[e.prefixCls+"-body-message"]},[e._t("title",[e._v(e._s(e.title))])],2)]),e._v(" "),n("div",{class:[e.prefixCls+"-footer"]},[n("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v(e._s(e.localeCancelText))]),e._v(" "),n("i-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return e.ok(t)}}},[e._v(e._s(e.localeOkText))])],1)]):e._e(),e._v(" "),e.confirm?e._e():n("div",{class:[e.prefixCls+"-inner"]},[e.showTitle?n("div",{ref:"title",class:[e.prefixCls+"-title"],style:e.contentPaddingStyle},[e._t("title",[n("div",{class:[e.prefixCls+"-title-inner"]},[e._v(e._s(e.title))])])],2):e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-body"],style:e.contentPaddingStyle},[n("div",{class:e.contentClasses},[e._t("content",[n("div",{class:[e.prefixCls+"-body-content-inner"]},[e._v(e._s(e.content))])])],2)])])])])])],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(222),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},[n("div",{class:e.outerClasses},[n("div",{class:e.innerClasses},[n("div",{class:e.bgClasses,style:e.bgStyle},[e.textInside?n("div",{staticClass:"ivu-progress-inner-text"},[e._v(e._s(e.percent)+"%")]):e._e()]),n("div",{class:e.successBgClasses,style:e.successBgStyle})])]),e._v(" "),e.hideInfo||e.textInside?e._e():n("span",{class:e.textClasses},[e._t("default",[e.isStatus?n("span",{class:e.textInnerClasses},[n("Icon",{attrs:{type:e.statusIcon}})],1):n("span",{class:e.textInnerClasses},[e._v("\n                "+e._s(e.percent)+"%\n            ")])])],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(517)),o=l(n(519));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Group=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(224),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(518),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.wrapClasses},[n("span",{class:e.radioClasses},[n("span",{class:e.innerClasses}),e._v(" "),n("input",{class:e.inputClasses,attrs:{type:"radio",disabled:e.itemDisabled,name:e.groupName},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._t("default",[e._v(e._s(e.label))])],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(225),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(520),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,attrs:{name:this.name}},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(522),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(226),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(523),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,on:{mouseleave:e.handleMouseleave}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentValue}}),e._v(" "),e._l(e.count,(function(t){return n("div",{key:t,class:e.starCls(t),on:{mousemove:function(n){return e.handleMousemove(t,n)},click:function(n){return e.handleClick(t)}}},[e.showCharacter?[n("span",{class:[e.prefixCls+"-star-first"],attrs:{type:"half"}},[""!==e.character?[e._v(e._s(e.character))]:n("i",{class:e.iconClasses,attrs:{type:"half"}})],2),e._v(" "),n("span",{class:[e.prefixCls+"-star-second"]},[""!==e.character?[e._v(e._s(e.character))]:n("i",{class:e.iconClasses})],2)]:[n("span",{class:[e.prefixCls+"-star-content"],attrs:{type:"half"}})]],2)})),e._v(" "),e.showText?n("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue>0,expression:"currentValue > 0"}],class:[e.prefixCls+"-text"]},[e._t("default",[n("span",[e._v(e._s(e.currentValue))]),e._v(" "),e.currentValue<=1?n("span",[e._v(e._s(e.t("i.rate.star")))]):n("span",[e._v(e._s(e.t("i.rate.stars")))])])],2):e._e()],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(202),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(526),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(227),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(539),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls],on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[n("div",{ref:"reference",class:[e.prefixCls+"-rel"]},[e._t("default")],2),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&(e.visible||e.always),expression:"!disabled && (visible || always)"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popper",class:e.dropdownCls,style:e.dropStyles,attrs:{"data-transfer":e.transfer},on:{mouseenter:e.handleShowPopper,mouseleave:e.handleClosePopper}},[n("div",{class:[e.prefixCls+"-content"]},[n("div",{class:[e.prefixCls+"-arrow"]}),e._v(" "),n("div",{class:e.innerClasses,style:e.innerStyles},[e._t("content",[e._v(e._s(e.content))])],2)])])])],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SliderMarker",props:{mark:{type:[String,Object]}},render:function(e){var label="string"==typeof this.mark?this.mark:[this.mark.label];return e("div",{class:"ivu-slider-marks-item",style:this.mark.style||{}},label)}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(element){var e=t(element);return e&&!!e.isDetectable},markAsDetectable:function(element){t(element).isDetectable=!0},isBusy:function(element){return!!t(element).busy},markBusy:function(element,e){t(element).busy=!!e}}}},function(e,t,n){"use strict";e.exports=function(e){var t={};function n(element){var n=e.get(element);return void 0===n?[]:t[n]||[]}return{get:n,add:function(element,n){var r=e.get(element);t[r]||(t[r]=[]),t[r].push(n)},removeListener:function(element,e){for(var t=n(element),i=0,r=t.length;i<r;++i)if(t[i]===e){t.splice(i,1);break}},removeAllListeners:function(element){var e=n(element);e&&(e.length=0)}}}},function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(element){var e=n(element);return e&&void 0!==e.id?e.id:null},set:function(element){var e=n(element);if(!e)throw new Error("setId required the element to have a resize detection state.");var r=t.generate();return e.id=r,r}}}},function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var i=0;i<arguments.length;i++)e(arguments[i])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},function(e,t,n){"use strict";var r=n(535);function o(){var e={},t=0,n=0,r=0;return{add:function(o,l){l||(l=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(l),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],i=0;i<o.length;i++)(0,o[i])()},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),l=r.getOption(e,"auto",!0);l&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var c,d=o(),f=!1;function h(){for(f=!0;d.size();){var e=d;d=o(),e.process()}f=!1}function v(){var e;e=h,c=setTimeout(e,0)}return{add:function(e,t){!f&&l&&n&&0===d.size()&&v(),d.add(e,t)},force:function(e){f||(void 0===e&&(e=n),c&&(clearTimeout(c),c=null),e?v():h())}}}},function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}},function(e,t,n){"use strict";function r(element){return element._erd}e.exports={initState:function(element){return element._erd={},r(element)},getState:r,cleanState:function(element){delete element._erd}}},function(e,t,n){"use strict";var r=n(230);e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function l(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function c(element){return o(element).object}return{makeDetectable:function(e,element,c){c||(c=element,element=e,e=null),(e=e||{}).debug,r.isIE(8)?c(element):function(element,c){var d=l(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),f=!1,style=window.getComputedStyle(element),h=element.offsetWidth,v=element.offsetHeight;function m(){function n(){if("static"===style.position){element.style.setProperty("position","relative",e.important?"important":"");var n=function(t,element,style,n){var r=style[n];"auto"!==r&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(r)&&(t.warn("An element that is positioned static has style."+n+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",element),element.style.setProperty(n,"0",e.important?"important":""))};n(t,element,style,"top"),n(t,element,style,"right"),n(t,element,style,"bottom"),n(t,element,style,"left")}}""!==style.position&&(n(),f=!0);var object=document.createElement("object");object.style.cssText=d,object.tabIndex=-1,object.type="text/html",object.onload=function(){f||n(),function e(element,t){element.contentDocument?t(element.contentDocument):setTimeout((function(){e(element,t)}),100)}(this,(function(e){c(element)}))},r.isIE()||(object.data="about:blank"),o(element)&&(element.appendChild(object),o(element).object=object,r.isIE()&&(object.data="about:blank"))}o(element).startSize={width:h,height:v},n?n.add(m):m()}(element,c)},addListener:function(element,e){function t(){e(element)}if(r.isIE(8))o(element).object={proxy:t},element.attachEvent("onresize",t);else{var object=c(element);if(!object)throw new Error("Element is not detectable by this strategy.");object.contentDocument.defaultView.addEventListener("resize",t)}},uninstall:function(element){if(o(element)){var object=c(element);object&&(r.isIE(8)?element.detachEvent("onresize",object.proxy):element.removeChild(object),delete o(element).object)}}}}},function(e,t,n){"use strict";var r=n(229).forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,l=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var c=function(){var e=document.createElement("div");e.style.cssText=f(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=f(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function d(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o=n+"_animation_active",style="/* Created by the element-resize-detector library. */\n";style+="."+n+" > div::-webkit-scrollbar { "+f(["display: none"])+" }\n\n",style+="."+o+" { "+f(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",style+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(style,n){n=n||function(element){e.head.appendChild(element)};var r=e.createElement("style");r.innerHTML=style,r.id=t,n(r)}(style+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function f(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function h(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function v(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function m(element){return o(element).container.childNodes[0].childNodes[0].childNodes[0]}function y(element){return o(element).container.childNodes[0].childNodes[0].childNodes[1]}return d(window.document),{makeDetectable:function(e,element,d){function v(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(l.get(element),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var i=0;i<n.length;i++)t.log(n[i])}}function x(element){var e=o(element).container.childNodes[0],style=window.getComputedStyle(e);return!style.width||-1===style.width.indexOf("px")}function _(){var e=window.getComputedStyle(element),style={};return style.position=e.position,style.width=element.offsetWidth,style.height=element.offsetHeight,style.top=e.top,style.right=e.right,style.bottom=e.bottom,style.left=e.left,style.widthCSS=e.width,style.heightCSS=e.height,style}function w(){if(v("storeStyle invoked."),o(element)){var style=_();o(element).style=style}else v("Aborting because element has been uninstalled")}function k(element,e,t){o(element).lastWidth=e,o(element).lastHeight=t}function S(){return 2*c.width+1}function C(){return 2*c.height+1}function T(e){return e+10+S()}function E(e){return e+10+C()}function M(element,e,t){var n=m(element),r=y(element),o=T(e),l=E(t),c=function(e){return 2*e+S()}(e),d=function(e){return 2*e+C()}(t);n.scrollLeft=o,n.scrollTop=l,r.scrollLeft=c,r.scrollTop=d}function P(){var e=o(element).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=f(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(element).container=e,function(element){element.className+=" erd_scroll_detection_container_animation_active"}(e),element.appendChild(e);var t=function(){o(element).onRendered&&o(element).onRendered()};h(e,"animationstart",t),o(element).onAnimationStart=t}return e}function A(){if(v("Injecting elements"),o(element)){!function(){var style=o(element).style;if("static"===style.position){element.style.setProperty("position","relative",e.important?"important":"");var n=function(e,element,style,t){var n=style[t];"auto"!==n&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(n)&&(e.warn("An element that is positioned static has style."+t+"="+n+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+t+" will be set to 0. Element: ",element),element.style[t]=0)};n(t,element,style,"top"),n(t,element,style,"right"),n(t,element,style,"bottom"),n(t,element,style,"left")}}();var n=o(element).container;n||(n=P());var r,l,d,m,y=c.width,x=c.height,_=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),w=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+y))?r+"px":"0"),"top: "+(l=(l=-(1+x))?l+"px":"0"),"right: "+(m=(m=-y)?m+"px":"0"),"bottom: "+(d=(d=-x)?d+"px":"0")])),k=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),S=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),C=f(["position: absolute","left: 0","top: 0"]),T=f(["position: absolute","width: 200%","height: 200%"]),E=document.createElement("div"),M=document.createElement("div"),A=document.createElement("div"),O=document.createElement("div"),I=document.createElement("div"),D=document.createElement("div");E.dir="ltr",E.style.cssText=_,E.className="erd_scroll_detection_container",M.className="erd_scroll_detection_container",M.style.cssText=w,A.style.cssText=k,O.style.cssText=C,I.style.cssText=S,D.style.cssText=T,A.appendChild(O),I.appendChild(D),M.appendChild(A),M.appendChild(I),E.appendChild(M),n.appendChild(E),h(A,"scroll",R),h(I,"scroll",z),o(element).onExpandScroll=R,o(element).onShrinkScroll=z}else v("Aborting because element has been uninstalled");function R(){o(element).onExpand&&o(element).onExpand()}function z(){o(element).onShrink&&o(element).onShrink()}}function O(){function c(element,t,n){var r=function(element){return m(element).childNodes[0]}(element),o=T(t),l=E(n);r.style.setProperty("width",o+"px",e.important?"important":""),r.style.setProperty("height",l+"px",e.important?"important":"")}function d(r){var d=element.offsetWidth,h=element.offsetHeight,m=d!==o(element).lastWidth||h!==o(element).lastHeight;v("Storing current size",d,h),k(element,d,h),n.add(0,(function(){if(m)if(o(element))if(f()){if(e.debug){var n=element.offsetWidth,r=element.offsetHeight;n===d&&r===h||t.warn(l.get(element),"Scroll: Size changed before updating detector elements.")}c(element,d,h)}else v("Aborting because element container has not been initialized");else v("Aborting because element has been uninstalled")})),n.add(1,(function(){o(element)?f()?M(element,d,h):v("Aborting because element container has not been initialized"):v("Aborting because element has been uninstalled")})),m&&r&&n.add(2,(function(){o(element)?f()?r():v("Aborting because element container has not been initialized"):v("Aborting because element has been uninstalled")}))}function f(){return!!o(element).container}function h(){v("notifyListenersIfNeeded invoked");var e=o(element);return void 0===o(element).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?v("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?v("Not notifying: Size already notified"):(v("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(element).listeners,(function(e){e(element)})))}function _(){v("Scroll detected."),x(element)?v("Scroll event fired while unrendered. Ignoring..."):d(h)}if(v("registerListenersAndPositionElements invoked."),o(element)){o(element).onRendered=function(){if(v("startanimation triggered."),x(element))v("Ignoring since element is still unrendered...");else{v("Element rendered.");var e=m(element),t=y(element);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(v("Scrollbars out of sync. Updating detector elements..."),d(h))}},o(element).onExpand=_,o(element).onShrink=_;var style=o(element).style;c(element,style.width,style.height)}else v("Aborting because element has been uninstalled")}function I(){if(v("finalizeDomMutation invoked."),o(element)){var style=o(element).style;k(element,style.width,style.height),M(element,style.width,style.height)}else v("Aborting because element has been uninstalled")}function D(){d(element)}function R(){var style;v("Installing..."),o(element).listeners=[],style=_(),o(element).startSize={width:style.width,height:style.height},v("Element start size",o(element).startSize),n.add(0,w),n.add(1,A),n.add(2,O),n.add(3,I),n.add(4,D)}d||(d=element,element=e,e=null),e=e||{},v("Making detectable..."),function(element){return!function(element){return element===element.ownerDocument.body||element.ownerDocument.body.contains(element)}(element)||null===window.getComputedStyle(element)}(element)?(v("Element is detached"),P(),v("Waiting until element is attached..."),o(element).onRendered=function(){v("Element is now attached"),R()}):R()},addListener:function(element,e){if(!o(element).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(element).listeners.push(e)},uninstall:function(element){var e=o(element);e&&(e.onExpandScroll&&v(m(element),"scroll",e.onExpandScroll),e.onShrinkScroll&&v(y(element),"scroll",e.onShrinkScroll),e.onAnimationStart&&v(e.container,"animationstart",e.onAnimationStart),e.container&&element.removeChild(e.container))},initDocument:d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[!e.range&&e.showInput?n("Input-number",{attrs:{min:e.min,size:e.inputSize,max:e.max,step:e.step,value:e.exportValue[0],disabled:e.itemDisabled,"active-change":e.activeChange},on:{"on-change":e.handleInputChange}}):e._e(),e._v(" "),n("div",{ref:"slider",class:[e.prefixCls+"-wrap"],on:{click:function(t){return t.target!==t.currentTarget?null:e.sliderClick(t)}}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.exportValue}}),e._v(" "),n("div",{class:[e.prefixCls+"-bar"],style:e.barStyle,on:{click:function(t){return t.target!==t.currentTarget?null:e.sliderClick(t)}}}),e._v(" "),e.showStops?e._l(e.stops,(function(t){return n("div",{class:[e.prefixCls+"-stop"],style:{left:t+"%"},on:{click:function(t){return t.target!==t.currentTarget?null:e.sliderClick(t)}}})})):e._e(),e._v(" "),e.markList.length>0?[e._l(e.markList,(function(t,r){return n("div",{key:r,class:[e.prefixCls+"-stop"],style:{left:t.position+"%"},on:{click:function(t){return t.target!==t.currentTarget?null:e.sliderClick(t)}}})})),e._v(" "),n("div",{staticClass:"ivu-slider-marks"},e._l(e.markList,(function(t,r){return n("SliderMarker",{key:r,style:{left:t.position+"%"},attrs:{mark:t.mark},nativeOn:{click:function(t){return e.sliderClick(t)}}})})),1)]:e._e(),e._v(" "),n("div",{class:[e.prefixCls+"-button-wrap"],style:{left:e.minPosition+"%"},on:{touchstart:function(t){return e.onPointerDown(t,"min")},mousedown:function(t){return e.onPointerDown(t,"min")}}},[n("Tooltip",{ref:"minTooltip",attrs:{controlled:"min"===e.pointerDown,placement:"top",content:e.tipFormat(e.exportValue[0]),disabled:e.tipDisabled,always:"always"===e.showTip}},[n("div",{class:e.minButtonClasses,attrs:{tabindex:"0"},on:{focus:function(t){return e.handleFocus("min")},blur:function(t){return e.handleBlur("min")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.onKeyLeft(t,"min")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onKeyLeft(t,"min")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.onKeyRight(t,"min")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onKeyRight(t,"min")}]}})])],1),e._v(" "),e.range?n("div",{class:[e.prefixCls+"-button-wrap"],style:{left:e.maxPosition+"%"},on:{touchstart:function(t){return e.onPointerDown(t,"max")},mousedown:function(t){return e.onPointerDown(t,"max")}}},[n("Tooltip",{ref:"maxTooltip",attrs:{controlled:"max"===e.pointerDown,placement:"top",content:e.tipFormat(e.exportValue[1]),disabled:e.tipDisabled,always:"always"===e.showTip}},[n("div",{class:e.maxButtonClasses,attrs:{tabindex:"0"},on:{focus:function(t){return e.handleFocus("max")},blur:function(t){return e.handleBlur("max")},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.onKeyLeft(t,"max")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onKeyLeft(t,"max")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.onKeyRight(t,"max")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onKeyRight(t,"max")}]}})])],1):e._e()],2)],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(541));function l(e){return e&&e.__esModule?e:{default:e}}var c=void 0;function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return c=c||o.default.newInstance({render:e})}function f(e){d("render"in e?e.render:void 0).show(e)}o.default.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(e)},o.default.hide=function(){var e=this;if(!c)return!1;d().remove(function(){(0,r.default)(this,e),c=null}.bind(this))},t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(15)),o=f(n(1)),l=f(n(16)),c=f(n(91)),d=n(37);function f(e){return e&&e.__esModule?e:{default:e}}function h(){return(0,d.transferIncrease)(),d.transferIndex}var v=h();c.default.newInstance=function(e){(0,o.default)(void 0,void 0);var t=e||{},n=new l.default({data:(0,r.default)({},t,{}),render:function(e){var t="";return t=this.render?e(c.default,{props:{fix:!0,fullscreen:!0}},[this.render(e)]):e(c.default,{props:{size:"large",fix:!0,fullscreen:!0}}),e("div",{class:"ivu-spin-fullscreen ivu-spin-fullscreen-wrapper",style:{"z-index":2010+v}},[t])}}),component=n.$mount();document.body.appendChild(component.$el);var d=n.$children[0];return{show:function(){d.visible=!0,v=h()},remove:function(e){d.visible=!1,setTimeout((function(){d.$parent.$destroy(),void 0!==document.getElementsByClassName("ivu-spin-fullscreen")[0]&&document.body.removeChild(document.getElementsByClassName("ivu-spin-fullscreen")[0]),e()}),500)},component:d}}.bind(void 0),t.default=c.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(543)),o=l(n(545));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Step=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(231),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(544),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(232),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(546),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapClasses},[n("div",{class:[e.prefixCls+"-tail"]},[n("i")]),e._v(" "),n("div",{class:[e.prefixCls+"-head"]},[n("div",{class:[e.prefixCls+"-head-inner"]},[e.icon||e.$slots.icon||"finish"===e.currentStatus||"error"===e.currentStatus?e.$slots.icon?n("span",{staticClass:"ivu-steps-icon"},[e._t("icon")],2):n("span",{class:e.iconClasses}):n("span",[e._v(e._s(e.stepNumber))])])]),e._v(" "),n("div",{class:[e.prefixCls+"-main"]},[n("div",{class:[e.prefixCls+"-title"]},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),e.content||e.$slots.content?n("div",{class:[e.prefixCls+"-content"]},[e._t("content",[e._v(e._s(e.content))])],2):e._e()])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(548),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(233),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(549),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.wrapClasses,style:e.wrapStyles,attrs:{tabindex:"0"},on:{click:e.toggle,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.toggle(t)}}},[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentValue}}),e._v(" "),n("span",{class:e.innerClasses},[e.currentValue===e.trueValue?e._t("open"):e._e(),e._v(" "),e.currentValue===e.falseValue?e._t("close"):e._e()],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(551),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(234),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(581),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){e.exports={default:n(553),__esModule:!0}},function(e,t,n){n(80),n(35),n(46),n(554),n(560),n(563),n(565),e.exports=n(5).Set},function(e,t,n){"use strict";var strong=n(555),r=n(235);e.exports=n(556)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return strong.def(r(this,"Set"),e=0===e?0:e,e)}},strong)},function(e,t,n){"use strict";var r=n(14).f,o=n(55),l=n(90),c=n(24),d=n(88),f=n(51),h=n(72),v=n(102),m=n(190),y=n(13),x=n(78).fastKey,_=n(235),w=y?"_s":"size",k=function(e,t){var n,r=x(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,h){var v=e((function(e,r){d(e,v,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[w]=0,null!=r&&f(r,n,e[h],e)}));return l(v.prototype,{clear:function(){for(var e=_(this,t),data=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];e._f=e._l=void 0,e[w]=0},delete:function(e){var n=_(this,t),r=k(n,e);if(r){var o=r.n,l=r.p;delete n._i[r.i],r.r=!0,l&&(l.n=o),o&&(o.p=l),n._f==r&&(n._f=o),n._l==r&&(n._l=l),n[w]--}return!!r},forEach:function(e){_(this,t);for(var n,r=c(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!k(_(this,t),e)}}),y&&r(v.prototype,"size",{get:function(){return _(this,t)[w]}}),v},def:function(e,t,n){var r,o,l=k(e,t);return l?l.v=n:(e._l=l={i:o=x(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=l),r&&(r.n=l),e[w]++,"F"!==o&&(e._i[o]=l)),e},getEntry:k,setStrong:function(e,t,n){h(e,t,(function(e,n){this._t=_(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?v(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,v(1))}),n?"entries":"values",!n,!0),m(t)}}},function(e,t,n){"use strict";var r=n(9),o=n(7),meta=n(78),l=n(31),c=n(25),d=n(90),f=n(51),h=n(88),v=n(18),m=n(47),y=n(14).f,x=n(557)(0),_=n(13);e.exports=function(e,t,n,w,k,S){var C=r[e],T=C,E=k?"set":"add",M=T&&T.prototype,P={};return _&&"function"==typeof T&&(S||M.forEach&&!l((function(){(new T).entries().next()})))?(T=t((function(t,n){h(t,T,e,"_c"),t._c=new C,null!=n&&f(n,k,t[E],t)})),x("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in M)||S&&"clear"==e||c(T.prototype,e,(function(a,b){if(h(this,T,e),!t&&S&&!v(a))return"get"==e&&void 0;var n=this._c[e](0===a?0:a,b);return t?this:n}))})),S||y(T.prototype,"size",{get:function(){return this._c.size}})):(T=w.getConstructor(t,e,k,E),d(T.prototype,n),meta.NEED=!0),m(T,e),P[e]=T,o(o.G+o.W+o.F,P),S||w.setStrong(T,e,k),T}},function(e,t,n){var r=n(24),o=n(64),l=n(29),c=n(52),d=n(558);e.exports=function(e,t){var n=1==e,f=2==e,h=3==e,v=4==e,m=6==e,y=5==e||m,x=t||d;return function(t,d,_){for(var w,k,S=l(t),C=o(S),T=r(d,_,3),E=c(C.length),M=0,P=n?x(t,E):f?x(t,0):void 0;E>M;M++)if((y||M in C)&&(k=T(w=C[M],M,S),e))if(n)P[M]=k;else if(k)switch(e){case 3:return!0;case 5:return w;case 6:return M;case 2:P.push(w)}else if(v)return!1;return m?-1:h||v?v:P}}},function(e,t,n){var r=n(559);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(18),o=n(118),l=n(10)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[l])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(7);r(r.P+r.R,"Set",{toJSON:n(561)("Set")})},function(e,t,n){var r=n(56),o=n(562);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var r=n(51);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(564)("Set")},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(566)("Set")},function(e,t,n){"use strict";var r=n(7),o=n(43),l=n(24),c=n(51);e.exports=function(e){r(r.S,e,{from:function(source){var e,t,n,r,d=arguments[1];return o(this),(e=void 0!==d)&&o(d),null==source?new this:(t=[],e?(n=0,r=l(d,arguments[2],2),c(source,!1,(function(e){t.push(r(e,n++))}))):c(source,!1,t.push,t),new this(t))}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(236),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(569),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"TableRenderHeader",functional:!0,props:{render:Function,column:Object,index:Number},render:function(e,t){(0,l.default)(void 0,void 0);var n={column:t.props.column,index:t.props.index};return t.props.render(e,n)}.bind(void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{style:e.styles,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",[e._l(e.columns,(function(t,r){return n("col",{attrs:{width:e.setCellWidth(t)}})})),e._v(" "),e.$parent.showVerticalScrollBar?n("col",{attrs:{width:e.$parent.scrollBarWidth}}):e._e()],2),e._v(" "),n("thead",e._l(e.headRows,(function(t,r){return n("tr",[e._l(t,(function(t,o){var l;return n("th",{class:e.alignCls(t),attrs:{colspan:t.colSpan,rowspan:t.rowSpan}},[n("div",{class:e.cellClasses(t)},["expand"===t.type?[t.renderHeader?n("render-header",{attrs:{render:t.renderHeader,column:t,index:o}}):n("span",[e._v(e._s(t.title||""))])]:"selection"===t.type?[n("Checkbox",{attrs:{value:e.isSelectAll,disabled:e.isSelectDisabled},on:{"on-change":e.selectAll}})]:[t.renderHeader?n("render-header",{attrs:{render:t.renderHeader,column:t,index:o}}):n("span",{class:(l={},l[e.prefixCls+"-cell-sort"]=t.sortable,l),on:{click:function(n){t.sortable&&e.handleSortByHead(e.getColumn(r,o)._index)}}},[e._v(e._s(t.title||"#"))]),e._v(" "),t.sortable?n("span",{class:[e.prefixCls+"-sort"]},[n("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropup",class:{on:"asc"===e.getColumn(r,o)._sortType},on:{click:function(t){e.handleSort(e.getColumn(r,o)._index,"asc")}}}),e._v(" "),n("i",{staticClass:"ivu-icon ivu-icon-md-arrow-dropdown",class:{on:"desc"===e.getColumn(r,o)._sortType},on:{click:function(t){e.handleSort(e.getColumn(r,o)._index,"desc")}}})]):e._e(),e._v(" "),e.isPopperShow(t)?n("Poptip",{attrs:{placement:"bottom","popper-class":"ivu-table-popper",transfer:"",capture:!1},on:{"on-popper-hide":function(t){e.handleFilterHide(e.getColumn(r,o)._index)}},model:{value:e.getColumn(r,o)._filterVisible,callback:function(t){e.$set(e.getColumn(r,o),"_filterVisible",t)},expression:"getColumn(rowIndex, index)._filterVisible"}},[n("span",{class:[e.prefixCls+"-filter"]},[n("i",{staticClass:"ivu-icon ivu-icon-ios-funnel",class:{on:e.getColumn(r,o)._isFiltered}})]),e._v(" "),e.getColumn(r,o)._filterMultiple?n("div",{class:[e.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[n("div",{class:[e.prefixCls+"-filter-list-item"]},[n("checkbox-group",{model:{value:e.getColumn(r,o)._filterChecked,callback:function(t){e.$set(e.getColumn(r,o),"_filterChecked",t)},expression:"getColumn(rowIndex, index)._filterChecked"}},e._l(t.filters,(function(t,r){return n("checkbox",{key:r,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),n("div",{class:[e.prefixCls+"-filter-footer"]},[n("i-button",{attrs:{type:"text",size:"small",disabled:!e.getColumn(r,o)._filterChecked.length},nativeOn:{click:function(t){e.handleFilter(e.getColumn(r,o)._index)}}},[e._v(e._s(e.t("i.table.confirmFilter")))]),e._v(" "),n("i-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){e.handleReset(e.getColumn(r,o)._index)}}},[e._v(e._s(e.t("i.table.resetFilter")))])],1)]):n("div",{class:[e.prefixCls+"-filter-list"],attrs:{slot:"content"},slot:"content"},[n("ul",{class:[e.prefixCls+"-filter-list-single"]},[n("li",{class:e.itemAllClasses(e.getColumn(r,o)),on:{click:function(t){e.handleReset(e.getColumn(r,o)._index)}}},[e._v(e._s(e.t("i.table.clearFilter")))]),e._v(" "),e._l(t.filters,(function(t){return n("li",{class:e.itemClasses(e.getColumn(r,o),t),on:{click:function(n){e.handleSelect(e.getColumn(r,o)._index,t.value)}}},[e._v(e._s(t.label))])}))],2)])]):e._e()]],2),e._v(" "),t.resizable?n("div",{staticClass:"ivu-table-header-resizable",on:{mousedown:function(n){return e.handleMouseDown(t,n)},mousemove:function(n){return e.handleMouseMove(t,n)},mouseout:e.handleMouseOut}}):e._e()])})),e._v(" "),e.$parent.showVerticalScrollBar&&0===r?n("th",{class:e.scrollBarCellClass(),attrs:{rowspan:e.headRows.length}}):e._e()],2)})),0)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(237),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(0),d=Object(c.a)(o.a,void 0,void 0,!1,null,null,null);t.default=d.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(238),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(572),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.draggable?n("tr",{class:e.rowClasses(e.row._index),attrs:{draggable:e.draggable},on:{dragstart:function(t){return e.onDrag(t,e.row._index)},drop:function(t){return e.onDrop(t,e.row._index)},dragover:function(t){return e.allowDrop(t)}}},[e._t("default")],2):n("tr",{class:e.rowClasses(e.row._index),attrs:{draggable:!1}},[e._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(239),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(575),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"TableSlot",functional:!0,inject:["tableRoot"],props:{row:Object,index:Number,column:{type:Object,default:null},display:{type:String,default:"block"}},render:function(e,t){return(0,l.default)(void 0,void 0),e("div",{class:{"ivu-table-cell-slot":!0,"ivu-table-cell-slot-inline":"inline"===t.props.display,"ivu-table-cell-slot-inline-block":"inline-block"===t.props.display}},t.injections.tableRoot.$scopedSlots[t.props.column.slot]({row:t.props.row,column:t.props.column,index:t.props.index}))}.bind(void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"cell",class:e.classes,on:{click:e.handleCellClick}},["index"===e.renderType?[n("span",[e._v(e._s(e.column.indexMethod?e.column.indexMethod(e.row):e.naturalIndex+1))])]:e._e(),e._v(" "),"selection"===e.renderType?[n("Checkbox",{attrs:{value:e.checked,disabled:e.disabled},on:{"on-change":e.toggleSelect},nativeOn:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}})]:e._e(),e._v(" "),e.showLevel?n("div",{staticClass:"ivu-table-cell-tree-level",style:e.treeLevelStyle}):e._e(),e._v(" "),e.showChildren?n("div",{staticClass:"ivu-table-cell-tree",class:{"ivu-table-cell-tree-loading":e.childrenLoading},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleToggleTree(t)}}},[e.childrenLoading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e.childrenExpand?n("Icon",{attrs:{type:"ios-remove"}}):n("Icon",{attrs:{type:"ios-add"}})],1):e.showTreeNode?n("div",{staticClass:"ivu-table-cell-tree ivu-table-cell-tree-empty"}):e._e(),e._v(" "),"html"===e.renderType?[n("span",{domProps:{innerHTML:e._s(e.row[e.column.key])}})]:e._e(),e._v(" "),"normal"===e.renderType?[e.column.tooltip?[n("Tooltip",{staticClass:"ivu-table-cell-tooltip",attrs:{transfer:"",content:e.row[e.column.key],theme:e.tableRoot.tooltipTheme,disabled:!e.showTooltip&&!e.tooltipShow,"max-width":300},on:{"on-popper-show":e.handleTooltipShow,"on-popper-hide":e.handleTooltipHide}},[n("span",{ref:"content",staticClass:"ivu-table-cell-tooltip-content",on:{mouseenter:e.handleTooltipIn,mouseleave:e.handleTooltipOut}},[e._v(e._s(e.row[e.column.key]))])])]:n("span",[e._v(e._s(e.row[e.column.key]))])]:e._e(),e._v(" "),"expand"!==e.renderType||e.row._disableExpand?e._e():[n("div",{class:e.expandCls,on:{click:e.toggleExpand}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],e._v(" "),"render"===e.renderType?n("table-expand",{attrs:{row:e.row,column:e.column,index:e.index,render:e.column.render}}):e._e(),e._v(" "),"slot"===e.renderType?n("table-slot",{attrs:{row:e.row,column:e.column,display:e.column.display||"block",index:e.index}}):e._e()],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(241),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(577),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{overflow:"hidden"}},[n("table",{staticClass:"ivu-table-summary",style:e.styleObject,attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("colgroup",e._l(e.columns,(function(t,r){return n("col",{attrs:{width:e.setCellWidth(t)}})})),0),e._v(" "),n("tbody",{class:[e.prefixCls+"-tbody"]},[n("tr",{staticClass:"ivu-table-row"},e._l(e.columns,(function(t,r){return n("td",{class:e.alignCls(t)},[n("div",{staticClass:"ivu-table-cell",class:e.cellCls(t)},[n("span",[e._v(e._s(e.data[t.key].value))])])])})),0)])])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(21)),o=c(n(15)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var c=this,h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=(0,o.default)({},f,n);var v=void 0,content=[],m=[];return e?(v=e.map(function(e){return(0,l.default)(this,c),"string"==typeof e?e:(h||m.push(void 0!==e.title?e.title:e.key),e.key)}.bind(this)),m.length>0&&d(content,m,n)):(v=[],t.forEach(function(e){(0,l.default)(this,c),Array.isArray(e)||(v=v.concat((0,r.default)(e)))}.bind(this)),v.length>0&&(v=v.filter(function(e,t,n){return(0,l.default)(this,c),n.indexOf(e)===t}.bind(this)),h||d(content,v,n))),Array.isArray(t)&&t.forEach(function(e){(0,l.default)(this,c),Array.isArray(e)||(e=v.map(function(t){return(0,l.default)(this,c),void 0!==e[t]?e[t]:""}.bind(this))),d(content,e,n)}.bind(this)),content.join("\r\n")};var d=function(content,e,t){var n=t.separator,r=t.quoted;(0,l.default)(void 0,void 0);var line=e.map(function(data){return(0,l.default)(void 0,void 0),r?(data="string"==typeof data?data.replace(/"/g,'"'):data,'"'+String(data)+'"'):data}.bind(void 0));content.push(line.join(n))}.bind(void 0),f={separator:",",quoted:!1}},function(e,t,n){"use strict";function r(e){var t=navigator.userAgent;return"ie"===e?!!(t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1)&&(new RegExp("MSIE (\\d+\\.\\d+);").test(t),parseFloat(RegExp.$1)):t.indexOf(e)>-1}Object.defineProperty(t,"__esModule",{value:!0});var o={_isIE11:function(){var e=0,t=/MSIE (\d+\.\d+);/.test(navigator.userAgent),n=!!navigator.userAgent.match(/Trident\/7.0/),r=navigator.userAgent.indexOf("rv:11.0");return t&&(e=Number(RegExp.$1)),-1!==navigator.appVersion.indexOf("MSIE 10")&&(e=10),n&&-1!==r&&(e=11),11===e},_isEdge:function(){return/Edge/.test(navigator.userAgent)},_getDownloadUrl:function(text){if(window.Blob&&window.URL&&window.URL.createObjectURL){var e=new Blob(["\ufeff"+text],{type:"text/csv"});return URL.createObjectURL(e)}return"data:attachment/csv;charset=utf-8,\ufeff"+encodeURIComponent(text)},download:function(e,text){if(r("ie")&&r("ie")<10){var t=window.top.open("about:blank","_blank");t.document.charset="utf-8",t.document.write(text),t.document.close(),t.document.execCommand("SaveAs",e),t.close()}else if(10===r("ie")||this._isIE11()||this._isEdge()){var n=new Blob(["\ufeff"+text],{type:"text/csv"});navigator.msSaveBlob(n,e)}else{var link=document.createElement("a");link.download=e,link.href=this._getDownloadUrl(text),document.body.appendChild(link),link.click(),document.body.removeChild(link)}}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomStr=t.convertToRows=t.getAllColumns=t.convertColumnOrder=void 0;var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r},c=n(3),d=function(e,t){(0,l.default)(void 0,void 0);var n=[],r=[];return e.forEach(function(col){(0,l.default)(void 0,void 0),col.fixed&&col.fixed===t?n.push(col):r.push(col)}.bind(void 0)),n.concat(r)}.bind(void 0);t.convertColumnOrder=d;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,l.default)(void 0,void 0);var n=(0,c.deepCopy)(e),r=[];return n.forEach(function(e){(0,l.default)(void 0,void 0),e.children?(t&&r.push(e),r.push.apply(r,f(e.children,t))):r.push(e)}.bind(void 0)),r}.bind(void 0);t.getAllColumns=f;var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,l.default)(void 0,void 0);var n=t?"left"===t?(0,c.deepCopy)(d(e,"left")):(0,c.deepCopy)(d(e,"right")):(0,c.deepCopy)(e),r=1,o=function(e,t){if((0,l.default)(void 0,void 0),t&&(e.level=t.level+1,r<e.level&&(r=e.level)),e.children){var n=0;e.children.forEach(function(t){(0,l.default)(void 0,void 0),o(t,e),n+=t.colSpan}.bind(void 0)),e.colSpan=n}else e.colSpan=1}.bind(void 0);n.forEach(function(e){(0,l.default)(void 0,void 0),e.level=1,o(e)}.bind(void 0));for(var h=[],i=0;i<r;i++)h.push([]);var v=f(n,!0);return v.forEach(function(e){(0,l.default)(void 0,void 0),e.children?e.rowSpan=1:e.rowSpan=r-e.level+1,h[e.level-1].push(e)}.bind(void 0)),h}.bind(void 0);t.convertToRows=h,t.getRandomStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",n=t.length,r="",i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tableWrap",class:e.wrapClasses,style:e.styles},[n("div",{class:e.classes},[e.showSlotHeader?n("div",{ref:"title",class:[e.prefixCls+"-title"]},[e._t("header")],2):e._e(),e._v(" "),e.showHeader?n("div",{ref:"header",class:[e.prefixCls+"-header"],on:{mousewheel:e.handleMouseWheel}},[n("table-head",{attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableHeaderStyle,columns:e.cloneColumns,"column-rows":e.columnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!(e.localeNoDataText&&(!e.data||0===e.data.length)||e.localeNoFilteredDataText&&(!e.rebuildData||0===e.rebuildData.length)),expression:"!((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],ref:"body",class:[e.prefixCls+"-body"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[n("table-body",{ref:"tbody",attrs:{draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e._v(" "),e.showSummary&&e.data&&e.data.length?n("table-summary",{ref:"summary",attrs:{"prefix-cls":e.prefixCls,styleObject:e.tableStyle,columns:e.cloneColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!((!e.localeNoDataText||e.data&&0!==e.data.length)&&(!e.localeNoFilteredDataText||e.rebuildData&&0!==e.rebuildData.length)),expression:"((!!localeNoDataText && (!data || data.length === 0)) || (!!localeNoFilteredDataText && (!rebuildData || rebuildData.length === 0)))"}],class:[e.prefixCls+"-tip"],style:e.bodyStyle,on:{scroll:e.handleBodyScroll}},[n("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("tbody",[n("tr",[n("td",{style:{height:e.bodyStyle.height,width:this.headerWidth+"px"}},[e.data&&0!==e.data.length?n("span",{domProps:{innerHTML:e._s(e.localeNoFilteredDataText)}}):n("span",{domProps:{innerHTML:e._s(e.localeNoDataText)}})])])])])]),e._v(" "),e.isLeftFixed?n("div",{class:[e.prefixCls+"-fixed"],style:e.fixedTableStyle},[e.showHeader?n("div",{class:e.fixedHeaderClasses},[n("table-head",{attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.leftFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),e._v(" "),n("div",{ref:"fixedBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[n("table-body",{attrs:{fixed:"left",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e._v(" "),e.showSummary&&e.data&&e.data.length?n("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"left","prefix-cls":e.prefixCls,styleObject:e.fixedTableStyle,columns:e.leftFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e._v(" "),e.isRightFixed?n("div",{class:[e.prefixCls+"-fixed-right"],style:e.fixedRightTableStyle},[e.showHeader?n("div",{class:e.fixedHeaderClasses},[n("table-head",{attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,"column-rows":e.columnRows,"fixed-column-rows":e.rightFixedColumnRows,"obj-data":e.objData,"columns-width":e.columnsWidth,data:e.rebuildData}})],1):e._e(),e._v(" "),n("div",{ref:"fixedRightBody",class:[e.prefixCls+"-fixed-body"],style:e.fixedBodyStyle,on:{mousewheel:e.handleFixedMousewheel,DOMMouseScroll:e.handleFixedMousewheel}},[n("table-body",{attrs:{fixed:"right",draggable:e.draggable,"prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.rebuildData,"row-key":e.rowKey,"columns-width":e.columnsWidth,"obj-data":e.objData}})],1),e._v(" "),e.showSummary&&e.data&&e.data.length?n("table-summary",{style:{"margin-top":e.showHorizontalScrollBar?e.scrollBarWidth+"px":0},attrs:{fixed:"right","prefix-cls":e.prefixCls,styleObject:e.fixedRightTableStyle,columns:e.rightFixedColumns,data:e.summaryData,"columns-width":e.columnsWidth}}):e._e()],1):e._e(),e._v(" "),e.isRightFixed?n("div",{class:[e.prefixCls+"-fixed-right-header"],style:e.fixedRightHeaderStyle}):e._e(),e._v(" "),e.showSlotFooter?n("div",{ref:"footer",class:[e.prefixCls+"-footer"]},[e._t("footer")],2):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showResizeLine,expression:"showResizeLine"}],ref:"resizeLine",staticClass:"ivu-table-resize-line"}),e._v(" "),e.showContextMenu?n("div",{staticClass:"ivu-table-context-menu",style:e.contextMenuStyles},[n("Dropdown",{attrs:{trigger:"custom",visible:e.contextMenuVisible,transfer:""},on:{"on-clickoutside":e.handleClickContextMenuOutside}},[n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._t("contextMenu")],2)],1)],1):e._e(),e._v(" "),e.loading?n("Spin",{attrs:{fix:"",size:"large"}},[e._t("loading")],2):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(583)),o=l(n(585));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Pane=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(242),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(584),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tabsWrap",class:e.classes},[n("div",{class:[e.prefixCls+"-bar"]},[e.showSlot?n("div",{class:[e.prefixCls+"-nav-right"]},[e._t("extra")],2):e._e(),e._v(" "),n("div",{ref:"navContainer",class:[e.prefixCls+"-nav-container"],attrs:{tabindex:"0"},on:{keydown:[e.handleTabKeyNavigation,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.handleTabKeyboardSelect(!1))}]}},[n("div",{ref:"navWrap",class:[e.prefixCls+"-nav-wrap",e.scrollable?e.prefixCls+"-nav-scrollable":""]},[n("span",{class:[e.prefixCls+"-nav-prev",e.scrollable?"":e.prefixCls+"-nav-scroll-disabled"],on:{click:e.scrollPrev}},[n("Icon",{attrs:{type:"ios-arrow-back"}})],1),e._v(" "),n("span",{class:[e.prefixCls+"-nav-next",e.scrollable?"":e.prefixCls+"-nav-scroll-disabled"],on:{click:e.scrollNext}},[n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._v(" "),n("div",{ref:"navScroll",class:[e.prefixCls+"-nav-scroll"],on:{DOMMouseScroll:e.handleScroll,mousewheel:e.handleScroll}},[n("div",{ref:"nav",class:[e.prefixCls+"-nav"],style:e.navStyle},[n("div",{class:e.barClasses,style:e.barStyle}),e._v(" "),e._l(e.navList,(function(t,r){return n("div",{class:e.tabCls(t),attrs:{draggable:e.draggable},on:{click:function(t){return e.handleChange(r)},dblclick:function(t){return e.handleDblclick(r)},contextmenu:function(t){return t.stopPropagation(),e.handleContextmenu(r,t)},selectstart:function(t){return t.stopPropagation(),e.handlePreventSelect(r,t)},dragstart:function(t){return e.handleDrag(r,t)},drop:function(t){return e.handleDrop(r,t)},dragover:function(e){e.preventDefault()}}},[""!==t.icon?n("Icon",{attrs:{type:t.icon}}):e._e(),e._v(" "),"function"===t.labelType?n("Render",{attrs:{render:t.label}}):[e._v(e._s(t.label))],e._v(" "),e.showClose(t)?n("Icon",{class:[e.prefixCls+"-close"],attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize},nativeOn:{click:function(t){return t.stopPropagation(),e.handleRemove(r)}}}):e._e()],2)}))],2)])])])]),e._v(" "),n("div",{ref:"panes",class:e.contentClasses,style:e.contentStyle},[e._t("default")],2),e._v(" "),n("div",{staticClass:"ivu-tabs-context-menu",style:e.contextMenuStyles},[n("Dropdown",{attrs:{trigger:"custom",visible:e.contextMenuVisible,transfer:""},on:{"on-clickoutside":e.handleClickContextMenuOutside}},[n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._t("contextMenu")],2)],1)],1)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(243),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(586),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],class:this.prefixCls,style:this.contentStyle},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(588),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(244),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(589),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.fade?n("transition",{attrs:{name:"fade"}},[n("div",{class:e.classes,style:e.wraperStyles,on:{click:function(t){return t.stopPropagation(),e.check(t)}}},[e.showDot?n("span",{class:e.dotClasses,style:e.bgColorStyle}):e._e(),e._v(" "),n("span",{class:e.textClasses,style:e.textColorStyle},[e._t("default")],2),e._v(" "),e.closable?n("Icon",{class:e.iconClass,attrs:{color:e.lineColor,type:"ios-close"},nativeOn:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()],1)]):n("div",{class:e.classes,style:e.wraperStyles,on:{click:function(t){return t.stopPropagation(),e.check(t)}}},[e.showDot?n("span",{class:e.dotClasses,style:e.bgColorStyle}):e._e(),e._v(" "),n("span",{class:e.textClasses,style:e.textColorStyle},[e._t("default")],2),e._v(" "),e.closable?n("Icon",{class:e.iconClass,attrs:{color:e.lineColor,type:"ios-close"},nativeOn:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(591),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(245),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(593),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelativeTime=void 0;var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){return h(e,t)};var c=function(e,t){return(0,l.default)(void 0,void 0),e<=t}.bind(void 0),d=function(e){return(0,l.default)(void 0,void 0),e<10?"0"+e:e}.bind(void 0),f=function(e,t){(0,l.default)(void 0,void 0);var n=new Date(e),r=n.getFullYear(),o=d(n.getMonth()+1),c=d(n.getDate()),f=d(n.getHours()),h=d(n.getMinutes()),v=d(n.getSeconds());return"year"===t?r+"-"+o+"-"+c+" "+f+":"+h+":"+v:o+"-"+c+" "+f+":"+h}.bind(void 0),h=t.getRelativeTime=function(e,t){(0,l.default)(void 0,void 0);var n=(new Date).getTime(),r=c(e,n),o=n-e;r||(o=-o);var d=r?t("i.time.before")||"前":t("i.time.after")||"后";return o<1e3?t("i.time.just")||"刚刚":o<6e4?parseInt(o/1e3)+(t("i.time.seconds")||"秒")+d:o>=6e4&&o<36e5?Math.floor(o/6e4)+(t("i.time.minutes")||"分钟")+d:o>=36e5&&o<864e5?Math.floor(o/36e5)+(t("i.time.hours")||"小时")+d:o>=864e5&&o<262386e4?Math.floor(o/864e5)+(t("i.time.days")||"天")+d:o>=262386e4&&o<=3156786e4&&r?f(e):f(e,"year")}.bind(void 0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("span",{class:this.classes,on:{click:this.handleClick}},[this._v(this._s(this.date))])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(595)),o=l(n(597));function l(e){return e&&e.__esModule?e:{default:e}}r.default.Item=o.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(246),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(596),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("ul",{class:this.classes},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(247),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(598),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.itemClasses},[n("div",{class:e.tailClasses}),e._v(" "),n("div",{ref:"dot",class:e.headClasses,style:e.customColor},[e._t("dot")],2),e._v(" "),n("div",{class:e.contentClasses},[e._t("default")],2)])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(600),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(157)),l=h(n(166)),c=h(n(175)),d=h(n(58)),f=n(3);function h(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[o.default,d.default],components:{TimePickerPanel:l.default,RangeTimePickerPanel:c.default},props:{type:{validator:function(e){return(0,f.oneOf)(e,["time","timerange"])},default:"time"}},computed:{panel:function(){return"timerange"===this.type?"RangeTimePickerPanel":"TimePickerPanel"},ownPickerProps:function(){return{disabledHours:this.disabledHours,disabledMinutes:this.disabledMinutes,disabledSeconds:this.disabledSeconds,hideDisabledOptions:this.hideDisabledOptions}}},watch:{visible:function(e){var t=this;e&&this.$nextTick(function(){(0,r.default)(this,t),(0,f.findComponentsDownward)(this,"TimeSpinner").forEach(function(e){return(0,r.default)(this,t),e.updateScroll()}.bind(this))}.bind(this))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(93),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(603),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(248),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(0),d=Object(c.a)(o.a,void 0,void 0,!1,null,null,null);t.default=d.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(249),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(607),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(250),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(606),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.prefixCls},[n("i-input",{attrs:{size:"small",icon:e.icon,placeholder:e.placeholder},on:{"on-click":e.handleClick},model:{value:e.currentQuery,callback:function(t){e.currentQuery=t},expression:"currentQuery"}})],1)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.listStyle},[n("div",{class:e.prefixCls+"-header"},[n("Checkbox",{attrs:{value:e.checkedAll,disabled:e.checkedAllDisabled},on:{"on-change":e.toggleSelectAll}}),e._v(" "),n("span",{class:e.prefixCls+"-header-title",on:{click:function(t){return e.toggleSelectAll(!e.checkedAll)}}},[e._v(e._s(e.title))]),e._v(" "),n("span",{class:e.prefixCls+"-header-count"},[e._v(e._s(e.count))])],1),e._v(" "),n("div",{class:e.bodyClasses},[e.filterable?n("div",{class:e.prefixCls+"-body-search-wrapper"},[n("Search",{attrs:{"prefix-cls":e.prefixCls+"-search",query:e.query,placeholder:e.filterPlaceholder},on:{"on-query-clear":e.handleQueryClear,"on-query-change":e.handleQueryChange}})],1):e._e(),e._v(" "),n("ul",{class:e.prefixCls+"-content"},[e._l(e.filterData,(function(t){return n("li",{class:e.itemClasses(t),on:{click:function(n){return n.preventDefault(),e.select(t)}}},[n("Checkbox",{attrs:{value:e.isCheck(t),disabled:t.disabled}}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.showLabel(t))}})],1)})),e._v(" "),n("li",{class:e.prefixCls+"-content-not-found"},[e._v(e._s(e.notFoundText))])],2)]),e._v(" "),e.showFooter?n("div",{class:e.prefixCls+"-footer"},[e._t("default")],2):e._e()])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(251),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(609),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.prefixCls+"-operation"},[e.reverseOperation?[n("i-button",{attrs:{type:"primary",size:"small",disabled:!e.leftActive},nativeOn:{click:function(t){return e.moveToRight(t)}}},[n("span",[e._v(e._s(e.operations[1]))]),e._v(" "),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._v(" "),n("i-button",{attrs:{type:"primary",size:"small",disabled:!e.rightActive},nativeOn:{click:function(t){return e.moveToLeft(t)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "),n("span",[e._v(e._s(e.operations[0]))])],1)]:[n("i-button",{attrs:{type:"primary",size:"small",disabled:!e.rightActive},nativeOn:{click:function(t){return e.moveToLeft(t)}}},[n("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "),n("span",[e._v(e._s(e.operations[0]))])],1),e._v(" "),n("i-button",{attrs:{type:"primary",size:"small",disabled:!e.leftActive},nativeOn:{click:function(t){return e.moveToRight(t)}}},[n("span",[e._v(e._s(e.operations[1]))]),e._v(" "),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)]],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(611),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(252),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(615),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(253),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(614),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1),l=(r=o)&&r.__esModule?r:{default:r};t.default={name:"RenderCell",functional:!0,props:{render:Function,data:Object,node:Array},render:function(e,t){(0,l.default)(void 0,void 0);var n={root:t.props.node[0],node:t.props.node[1],data:t.props.data};return t.props.render(e,n)}.bind(void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("collapse-transition",{attrs:{appear:e.appear}},[n("ul",{class:e.classes},[n("li",{on:{contextmenu:function(t){return t.stopPropagation(),e.handleContextmenu(e.data,t)},selectstart:function(t){return t.stopPropagation(),e.handlePreventSelect(e.data,t)}}},[n("span",{class:e.arrowClasses,on:{click:e.handleExpand}},[e.showArrow?n("Icon",{attrs:{type:e.arrowType,custom:e.customArrowType,size:e.arrowSize}}):e._e(),e._v(" "),e.showLoading?n("Icon",{staticClass:"ivu-load-loop",attrs:{type:"ios-loading"}}):e._e()],1),e._v(" "),e.showCheckbox?n("Checkbox",{attrs:{value:e.data.checked,indeterminate:e.data.indeterminate,disabled:e.data.disabled||e.data.disableCheckbox},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheck(t)}}}):e._e(),e._v(" "),n("span",{class:e.titleClasses,on:{click:e.handleClickNode}},[e.data.render?n("Render",{attrs:{render:e.data.render,data:e.data,node:e.node}}):e.isParentRender?n("Render",{attrs:{render:e.parentRender,data:e.data,node:e.node}}):[e._v(e._s(e.data.title))]],2),e._v(" "),e._l(e.children,(function(t,i){return e.data.expand?n("Tree-node",{key:i,attrs:{appear:e.appearByClickArrow,data:t,multiple:e.multiple,"show-checkbox":e.showCheckbox,"children-key":e.childrenKey}}):e._e()}))],2)])])},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"treeWrap",class:e.prefixCls},[e._l(e.stateTree,(function(t,i){return n("Tree-node",{key:i,attrs:{data:t,visible:"",multiple:e.multiple,"show-checkbox":e.showCheckbox,"children-key":e.childrenKey}})})),e._v(" "),e.stateTree.length?e._e():n("div",{class:[e.prefixCls+"-empty"]},[e._v(e._s(e.localeEmptyText))]),e._v(" "),n("div",{staticClass:"ivu-tree-context-menu",style:e.contextMenuStyles},[n("Dropdown",{attrs:{trigger:"custom",visible:e.contextMenuVisible,transfer:""},on:{"on-clickoutside":e.handleClickContextMenuOutside}},[n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e._t("contextMenu")],2)],1)],1)],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(617),l=(r=o)&&r.__esModule?r:{default:r};t.default=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(254),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(621),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(255),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(619),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{class:[e.prefixCls+"-list"]},e._l(e.files,(function(t){return n("li",{class:e.fileCls(t),on:{click:function(n){return e.handleClick(t)}}},[n("span",{on:{click:function(n){return e.handlePreview(t)}}},[n("Icon",{attrs:{type:e.format(t)}}),e._v(" "+e._s(t.name)+"\n        ")],1),e._v(" "),n("Icon",{directives:[{name:"show",rawName:"v-show",value:"finished"===t.status,expression:"file.status === 'finished'"}],class:[e.prefixCls+"-list-remove"],attrs:{type:"ios-close"},nativeOn:{click:function(n){return e.handleRemove(t)}}}),e._v(" "),n("transition",{attrs:{name:"fade"}},[t.showProgress?n("i-progress",{attrs:{"stroke-width":2,percent:e.parsePercentage(t.percentage),status:"finished"===t.status&&t.showProgress?"success":"normal"}}):e._e()],1)],1)})),0)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1)),o=l(n(21));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var text=e.responseText||e.response;if(!text)return text;try{return JSON.parse(text)}catch(e){return text}}t.default=function(option){var e=this;if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest,n=option.action;t.upload&&(t.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),option.onProgress(e)});var l=new FormData;option.data&&(0,o.default)(option.data).map(function(t){(0,r.default)(this,e),l.append(t,option.data[t])}.bind(this)),l.append(option.filename,option.file),t.onerror=function(e){option.onError(e)},t.onload=function(){if(t.status<200||t.status>=300)return option.onError(function(e,option,t){var n="fail to post "+String(e)+" "+String(t.status)+"'",r=new Error(n);return r.status=t.status,r.method="post",r.url=e,r}(n,0,t),c(t));option.onSuccess(c(t))},t.open("post",n,!0),option.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var d=option.headers||{};for(var f in d)d.hasOwnProperty(f)&&null!==d[f]&&t.setRequestHeader(f,d[f]);t.send(l)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.prefixCls]},[n("div",{class:e.classes,on:{click:e.handleClick,drop:function(t){return t.preventDefault(),e.onDrop(t)},paste:e.handlePaste,dragover:function(t){t.preventDefault(),e.dragOver=!0},dragleave:function(t){t.preventDefault(),e.dragOver=!1}}},[n("input",{ref:"input",class:[e.prefixCls+"-input"],attrs:{type:"file",multiple:e.multiple,webkitdirectory:e.webkitdirectory,accept:e.accept},on:{change:e.handleChange}}),e._v(" "),e._t("default")],2),e._v(" "),e._t("tip"),e._v(" "),e.showUploadList?n("upload-list",{attrs:{files:e.fileList},on:{"on-file-remove":e.handleRemove,"on-file-preview":e.handlePreview}}):e._e()],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Col=t.Row=void 0;var r=l(n(623)),o=l(n(625));function l(e){return e&&e.__esModule?e:{default:e}}t.Row=r.default,t.Col=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(256),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(624),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(257),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(626),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.classes,style:this.styles},[this._t("default")],2)},t.staticRenderFns=[]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionGroup=t.Option=t.Select=void 0;var r=c(n(74)),o=c(n(81)),l=c(n(628));function c(e){return e&&e.__esModule?e:{default:e}}t.Select=r.default,t.Option=o.default,t.OptionGroup=l.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258),o=n.n(r);for(var l in r)"default"!==l&&function(e){n.d(t,e,(function(){return r[e]}))}(l);var c=n(629),d=(n.n(c),n(0)),f=Object(d.a)(o.a,c.render,c.staticRenderFns,!1,null,null,null);t.default=f.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],class:[e.prefixCls+"-wrap"]},[n("div",{class:[e.prefixCls+"-title"]},[e._v(e._s(e.label))]),e._v(" "),n("ul",[n("li",{ref:"options",class:[e.prefixCls]},[e._t("default")],2)])])},t.staticRenderFns=[]}])},e.exports=r(n(16))},function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(16),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/locale/",n(n.s=32)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r||void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[e.i.locale]=e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)).default.prototype.$isServer},1:function(e,t){e.exports=r},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={i:{locale:"zh-CN",select:{placeholder:"请选择",noMatch:"无匹配数据",loading:"加载中"},table:{noDataText:"暂无数据",noFilteredDataText:"暂无筛选结果",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},datepicker:{selectDate:"选择日期",selectTime:"选择时间",startTime:"开始时间",endTime:"结束时间",clear:"清空",ok:"确定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"源列表",target:"目的列表"},filterPlaceholder:"请输入搜索内容",notFoundText:"列表为空"},modal:{okText:"确定",cancelText:"取消"},poptip:{okText:"确定",cancelText:"取消"},page:{prev:"上一页",next:"下一页",total:"共",item:"条",items:"条",prev5:"向前 5 页",next5:"向后 5 页",page:"条/页",goto:"跳至",p:"页"},rate:{star:"星",stars:"星"},time:{before:"前",after:"后",just:"刚刚",seconds:"秒",minutes:"分钟",hours:"小时",days:"天"},tree:{emptyText:"暂无数据"}}};(0,function(e){return e&&e.__esModule?e:{default:e}}(n(0)).default)(r),t.default=r}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(457);t.default=function(e,t){return void 0===t&&(t=!0),{lazyInject:r.makePropertyInjectDecorator(e,t),lazyInjectNamed:r.makePropertyInjectNamedDecorator(e,t),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(e,t),lazyMultiInject:r.makePropertyMultiInjectDecorator(e,t)}}},,function(e,t,n){"use strict";e.exports=o,e.exports.default=o;var r=1e20;function o(e,t,n,r,o,l){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=o||"sans-serif",this.fontWeight=l||"normal",this.radius=n||8;var c=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=c,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(c*c),this.gridInner=new Float64Array(c*c),this.f=new Float64Array(c),this.d=new Float64Array(c),this.z=new Float64Array(c+1),this.v=new Int16Array(c),this.middle=Math.round(c/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function l(data,e,t,n,r,o,l){for(var d=0;d<e;d++){for(var f=0;f<t;f++)n[f]=data[f*e+d];for(c(n,r,o,l,t),f=0;f<t;f++)data[f*e+d]=r[f]}for(f=0;f<t;f++){for(d=0;d<e;d++)n[d]=data[f*e+d];for(c(n,r,o,l,e),d=0;d<e;d++)data[f*e+d]=Math.sqrt(r[d])}}function c(e,t,n,o,l){n[0]=0,o[0]=-r,o[1]=+r;for(var q=1,c=0;q<l;q++){for(var s=(e[q]+q*q-(e[n[c]]+n[c]*n[c]))/(2*q-2*n[c]);s<=o[c];)c--,s=(e[q]+q*q-(e[n[c]]+n[c]*n[c]))/(2*q-2*n[c]);n[++c]=q,o[c]=s,o[c+1]=+r}for(q=0,c=0;q<l;q++){for(;o[c+1]<q;)c++;t[q]=(q-n[c])*(q-n[c])+e[n[c]]}}o.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var a=t.data[4*i+3]/255;this.gridOuter[i]=1===a?0:0===a?r:Math.pow(Math.max(0,.5-a),2),this.gridInner[i]=1===a?r:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(l(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),l(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var o=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(28),o=n(314);function l(){return!("object"===(void 0===e?"undefined":Object(r.a)(e))&&"[object process]"===String(e)&&!1)||Object(o.a)()}}).call(this,n(78))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(28);function o(t){if("undefined"!=typeof window&&"object"===Object(r.a)(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"===Object(r.a)(e.versions)&&Boolean(e.versions.electron))return!0;var n="object"===("undefined"==typeof navigator?"undefined":Object(r.a)(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,o=t||n;return!!(o&&o.indexOf("Electron")>=0)}}).call(this,n(78))},function(e,t,n){var r=n(542),o=n(543)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(base,e){for(var t=Object.keys(e),i=0;i<t.length;++i)base[t[i]]=e[t[i]];return base};function n(e){var t=new Error("(regl) "+e);throw console.error(t),t}function r(e,t){e||n(t)}function o(e){return e?": "+e:""}function l(e,t){switch(t){case"number":return"number"==typeof e;case"object":return"object"==typeof e;case"string":return"string"==typeof e;case"boolean":return"boolean"==typeof e;case"function":return"function"==typeof e;case"undefined":return void 0===e;case"symbol":return"symbol"==typeof e}}function c(e,t,r){t.indexOf(e)<0&&n("invalid value"+o(r)+". must be one of: "+t)}var d=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function f(e,t){for(e+="";e.length<t;)e=" "+e;return e}function h(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function v(e,line){this.number=e,this.line=line,this.errors=[]}function m(e,t,n){this.file=e,this.line=t,this.message=n}function y(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function _(source,e){var t,n=source.split("\n"),r=1,o=0,l={unknown:new h,0:new h};l.unknown.name=l[0].name=e||y(),l.unknown.lines.push(new v(0,""));for(var i=0;i<n.length;++i){var line=n[i],c=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(line);if(c)switch(c[1]){case"line":var d=/(\d+)(\s+\d+)?/.exec(c[2]);d&&(r=0|d[1],d[2]&&((o=0|d[2])in l||(l[o]=new h)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(l[o].name=f[1]?(t=f[2],"undefined"!=typeof atob?atob(t):"base64:"+t):f[2])}l[o].lines.push(new v(r++,line))}return Object.keys(l).forEach((function(e){var t=l[e];t.lines.forEach((function(line){t.index[line.number]=line}))})),l}function w(object){object._commandRef=y()}function k(e,t){var r=x();n(e+" in command "+(t||y())+("unknown"===r?"":" called from "+r))}function S(e,t,n,r){l(e,t)||k("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||y())}var C={};function T(e,t){return 32820===e||32819===e||33635===e?2:34042===e?4:C[e]*t}function E(e){return!(e&e-1||!e)}C[5120]=C[5121]=1,C[5122]=C[5123]=C[36193]=C[33635]=C[32819]=C[32820]=2,C[5124]=C[5125]=C[5126]=C[34042]=4;var M=t(r,{optional:function(e){e()},raise:n,commandRaise:k,command:function(e,t,n){e||k(t,n||y())},parameter:function(param,e,t){param in e||n("unknown parameter ("+param+")"+o(t)+". possible values: "+Object.keys(e).join())},commandParameter:function(param,e,t,n){param in e||k("unknown parameter ("+param+")"+o(t)+". possible values: "+Object.keys(e).join(),n||y())},constructor:function(e){Object.keys(e).forEach((function(e){d.indexOf(e)<0&&n('invalid regl constructor argument "'+e+'". must be one of '+d)}))},type:function(e,t,r){l(e,t)||n("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e)},commandType:S,isTypedArray:function(data,t){e(data)||n("invalid parameter type"+o(t)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||n("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")},oneOf:c,shaderError:function(e,t,source,n,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var l=e.getShaderInfoLog(t),c=n===e.FRAGMENT_SHADER?"fragment":"vertex";S(source,"string",c+" shader source must be a string",o);var d=_(source,o),h=function(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new m(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new m("unknown",0,e))}})),t}(l);!function(e,t){t.forEach((function(t){var n=e[t.file];if(n){var line=n.index[t.line];if(line)return line.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}(d,h),Object.keys(d).forEach((function(e){var t=d[e];if(t.hasErrors){var n=[""],r=[""];o("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(line){if(line.errors.length>0){o(f(line.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(line.line+"\n","color:red; background-color:yellow; font-weight:bold");var e=0;line.errors.forEach((function(t){var n=t.message,r=/^\s*'(.*)'\s*:\s*(.*)$/.exec(n);if(r){var l=r[1];switch(n=r[2],l){case"assign":l="="}e=Math.max(line.line.indexOf(l,e),0)}else e=0;o(f("| ",6)),o(f("^^^",e+3)+"\n","font-weight:bold"),o(f("| ",6)),o(n+"\n","font-weight:bold")})),o(f("| ",6)+"\n")}else o(f(line.number,4)+"|  "),o(line.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(n.join("")):(r[0]=n.join("%c"),console.log.apply(console,r))}function o(e,style){n.push(e),r.push(style||"")}})),r.raise("Error compiling "+c+" shader, "+d[0].name)}},linkError:function(e,t,n,o,l){if(!e.getProgramParameter(t,e.LINK_STATUS)){var c=e.getProgramInfoLog(t),d=_(n,l),header='Error linking program with vertex shader, "'+_(o,l)[0].name+'", and fragment shader "'+d[0].name+'"';"undefined"!=typeof document?console.log("%c"+header+"\n%c"+c,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(header+"\n"+c),r.raise(header)}},callSite:x,saveCommandRef:w,saveDrawInfo:function(e,t,n,r){function o(e){return e?r.id(e):0}function l(e,t){Object.keys(t).forEach((function(u){e[r.id(u)]=!0}))}w(e),e._fragId=o(e.static.frag),e._vertId=o(e.static.vert);var c=e._uniformSet={};l(c,t.static),l(c,t.dynamic);var d=e._attributeSet={};l(d,n.static),l(d,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,n){e.texture?c(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):c(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:y,texture2D:function(e,t,n){var i,o=t.width,l=t.height,c=t.channels;r(o>0&&o<=n.maxTextureSize&&l>0&&l<=n.maxTextureSize,"invalid texture shape"),33071===e.wrapS&&33071===e.wrapT||r(E(o)&&E(l),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==o&&1!==l&&r(9984!==e.minFilter&&9986!==e.minFilter&&9985!==e.minFilter&&9987!==e.minFilter,"min filter requires mipmap"):(r(E(o)&&E(l),"texture must be a square power of 2 to support mipmapping"),r(t.mipmask===(o<<1)-1,"missing or incomplete mipmap data")),5126===t.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===e.minFilter&&9728===e.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!e.genMipmaps,"mipmap generation not supported with float textures"));var d=t.images;for(i=0;i<16;++i)if(d[i]){var f=o>>i,h=l>>i;r(t.mipmask&1<<i,"missing mipmap data");var img=d[i];if(r(img.width===f&&img.height===h,"invalid shape for mip images"),r(img.format===t.format&&img.internalformat===t.internalformat&&img.type===t.type,"incompatible type for mip image"),img.compressed);else if(img.data){var v=Math.ceil(T(img.type,c)*f/img.unpackAlignment)*img.unpackAlignment;r(img.data.byteLength===v*h,"invalid data for image, buffer size is inconsistent with image format")}else img.element||img.copy}else e.genMipmaps||r(0==(t.mipmask&1<<i),"extra mipmap data");t.compressed&&r(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,n,o){var l=e.width,c=e.height,d=e.channels;r(l>0&&l<=o.maxTextureSize&&c>0&&c<=o.maxTextureSize,"invalid texture shape"),r(l===c,"cube map must be square"),r(33071===t.wrapS&&33071===t.wrapT,"wrap mode not supported by cube map");for(var i=0;i<n.length;++i){var f=n[i];r(f.width===l&&f.height===c,"inconsistent cube map face shape"),t.genMipmaps&&(r(!f.compressed,"can not generate mipmap for compressed textures"),r(1===f.mipmask,"can not specify mipmaps and generate mipmaps"));for(var h=f.images,v=0;v<16;++v){var img=h[v];if(img){var m=l>>v,y=c>>v;r(f.mipmask&1<<v,"missing mipmap data"),r(img.width===m&&img.height===y,"invalid shape for mip images"),r(img.format===e.format&&img.internalformat===e.internalformat&&img.type===e.type,"incompatible type for mip image"),img.compressed||(img.data?r(img.data.byteLength===m*y*Math.max(T(img.type,d),img.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):img.element||img.copy)}}}}}),P=0;function A(e,data){this.id=P++,this.type=e,this.data=data}function O(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function I(e){return"["+function e(t){if(0===t.length)return[];var n=t.charAt(0),r=t.charAt(t.length-1);if(t.length>1&&n===r&&('"'===n||"'"===n))return['"'+O(t.substr(1,t.length-2))+'"'];var o=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(o)return e(t.substr(0,o.index)).concat(e(o[1])).concat(e(t.substr(o.index+o[0].length)));var l=t.split(".");if(1===l.length)return['"'+O(t)+'"'];for(var c=[],i=0;i<l.length;++i)c=c.concat(e(l[i]));return c}(e).join("][")+"]"}var D={DynamicVariable:A,define:function(e,data){return new A(e,I(data+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof A},unbox:function e(t,path){return"function"==typeof t?new A(0,t):"number"==typeof t||"boolean"==typeof t?new A(5,t):Array.isArray(t)?new A(6,t.map((t,i)=>e(t,path+"["+i+"]"))):t instanceof A?t:void M(!1,"invalid option type in uniform "+path)},accessor:I},R={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},z="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function L(input){return"string"==typeof input?input.split():(M(Array.isArray(input),"invalid extension array"),input)}function j(desc){return"string"==typeof desc?(M("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(desc)):desc}function F(e){var element,n,canvas,r,o,l=e||{},c={},d=[],f=[],h="undefined"==typeof window?1:window.devicePixelRatio,v=!1,m=function(e){e&&M.raise(e)},y=function(){};if("string"==typeof l?(M("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),element=document.querySelector(l),M(element,"invalid query string for element")):"object"==typeof l?"string"==typeof(o=l).nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?element=l:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(l)?canvas=(r=l).canvas:(M.constructor(l),"gl"in l?r=l.gl:"canvas"in l?canvas=j(l.canvas):"container"in l&&(n=j(l.container)),"attributes"in l&&(c=l.attributes,M.type(c,"object","invalid context attributes")),"extensions"in l&&(d=L(l.extensions)),"optionalExtensions"in l&&(f=L(l.optionalExtensions)),"onDone"in l&&(M.type(l.onDone,"function","invalid or missing onDone callback"),m=l.onDone),"profile"in l&&(v=!!l.profile),"pixelRatio"in l&&(h=+l.pixelRatio,M(h>0,"invalid pixel ratio"))):M.raise("invalid arguments to regl"),element&&("canvas"===element.nodeName.toLowerCase()?canvas=element:n=element),!r){if(!canvas){M("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var x=function(element,e,n){var r,canvas=document.createElement("canvas");function o(){var e=window.innerWidth,r=window.innerHeight;if(element!==document.body){var o=element.getBoundingClientRect();e=o.right-o.left,r=o.bottom-o.top}canvas.width=n*e,canvas.height=n*r,t(canvas.style,{width:e+"px",height:r+"px"})}return t(canvas.style,{border:0,margin:0,padding:0,top:0,left:0}),element.appendChild(canvas),element===document.body&&(canvas.style.position="absolute",t(element.style,{margin:0,padding:0})),element!==document.body&&"function"==typeof ResizeObserver?(r=new ResizeObserver((function(){setTimeout(o)}))).observe(element):window.addEventListener("resize",o,!1),o(),{canvas:canvas,onDestroy:function(){r?r.disconnect():window.removeEventListener("resize",o),element.removeChild(canvas)}}}(n||document.body,0,h);if(!x)return null;canvas=x.canvas,y=x.onDestroy}void 0===c.premultipliedAlpha&&(c.premultipliedAlpha=!0),r=function(canvas,e){function t(t){try{return canvas.getContext(t,e)}catch(e){return null}}return t("webgl")||t("experimental-webgl")||t("webgl-experimental")}(canvas,c)}return r?{gl:r,canvas:canvas,container:n,extensions:d,optionalExtensions:f,pixelRatio:h,profile:v,onDone:m,onDestroy:y}:(y(),m("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function N(e,t){for(var n=Array(e),i=0;i<e;++i)n[i]=t(i);return n}function B(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function V(){var e=N(8,(function(){return[]}));function t(t){var n=function(e){for(var i=16;i<=1<<28;i*=16)if(e<=i)return i;return 0}(t),r=e[B(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[B(t.byteLength)>>2].push(t)}return{alloc:t,free:n,allocType:function(e,n){var r=null;switch(e){case 5120:r=new Int8Array(t(n),0,n);break;case 5121:r=new Uint8Array(t(n),0,n);break;case 5122:r=new Int16Array(t(2*n),0,n);break;case 5123:r=new Uint16Array(t(2*n),0,n);break;case 5124:r=new Int32Array(t(4*n),0,n);break;case 5125:r=new Uint32Array(t(4*n),0,n);break;case 5126:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(e){n(e.buffer)}}}var U=V();function W(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}U.zero=V();var H=function(e){return Object.keys(e).map((function(t){return e[t]}))},$={shape:function(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t},flatten:function(e,t,n,r){var o=1;if(t.length)for(var i=0;i<t.length;++i)o*=t[i];else o=0;var l=r||U.allocType(n,o);switch(t.length){case 0:break;case 1:!function(e,t,n){for(var i=0;i<t;++i)n[i]=e[i]}(e,t[0],l);break;case 2:!function(e,t,n,r){for(var o=0,i=0;i<t;++i)for(var l=e[i],c=0;c<n;++c)r[o++]=l[c]}(e,t[0],t[1],l);break;case 3:G(e,t[0],t[1],t[2],l,0);break;default:!function e(t,n,r,o,l){for(var c=1,i=r+1;i<n.length;++i)c*=n[i];var d=n[r];if(n.length-r==4){var f=n[r+1],h=n[r+2],v=n[r+3];for(i=0;i<d;++i)G(t[i],f,h,v,o,l),l+=c}else for(i=0;i<d;++i)e(t[i],n,r+1,o,l),l+=c}(e,t,0,l,0)}return l}};function G(e,t,n,r,o,l){for(var c=l,i=0;i<t;++i)for(var d=e[i],f=0;f<n;++f)for(var col=d[f],h=0;h<r;++h)o[c++]=col[h]}var Z={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Y={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},X={dynamic:35048,stream:35040,static:35044},K=$.flatten,J=$.shape,Q=[];function ee(data){return 0|Z[Object.prototype.toString.call(data)]}function te(e,t){for(var i=0;i<t.length;++i)e[i]=t[i]}function ie(e,data,t,n,r,o,l){for(var c=0,i=0;i<t;++i)for(var d=0;d<n;++d)e[c++]=data[r*i+o*d+l]}Q[5120]=1,Q[5122]=2,Q[5124]=4,Q[5121]=1,Q[5123]=2,Q[5125]=4,Q[5126]=4;var ne={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},re=new Float32Array(1),oe=new Uint32Array(re.buffer);function ae(e){for(var t=U.allocType(5123,e.length),i=0;i<e.length;++i)if(isNaN(e[i]))t[i]=65535;else if(e[i]===1/0)t[i]=31744;else if(e[i]===-1/0)t[i]=64512;else{re[0]=e[i];var n=oe[0],r=n>>>31<<15,o=(n<<1>>>24)-127,l=n>>13&1023;if(o<-24)t[i]=r;else if(o<-14){var s=-14-o;t[i]=r+(l+1024>>s)}else t[i]=o>15?r+31744:r+(o+15<<10)+l}return t}function se(s){return Array.isArray(s)||e(s)}var ue=function(e){return!(e&e-1||!e)},le=[9984,9986,9985,9987],ce=[0,6409,6410,6407,6408],de={};function fe(e){return"[object "+e+"]"}de[6409]=de[6406]=de[6402]=1,de[34041]=de[6410]=2,de[6407]=de[35904]=3,de[6408]=de[35906]=4;var he=fe("HTMLCanvasElement"),pe=fe("OffscreenCanvas"),ve=fe("CanvasRenderingContext2D"),me=fe("ImageBitmap"),ge=fe("HTMLImageElement"),ye=fe("HTMLVideoElement"),be=Object.keys(Z).concat([he,pe,ve,me,ge,ye]),xe=[];xe[5121]=1,xe[5126]=4,xe[36193]=2,xe[5123]=2,xe[5125]=4;var _e=[];function we(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function ke(e){return!!Array.isArray(e)&&!(0===e.length||!se(e[0]))}function Se(e){return Object.prototype.toString.call(e)}function Ce(object){return Se(object)===he}function Te(object){return Se(object)===pe}function Ee(object){if(!object)return!1;var e=Se(object);return be.indexOf(e)>=0||we(object)||ke(object)||W(object)}function Me(data){return 0|Z[Object.prototype.toString.call(data)]}function Pe(image,e){return U.allocType(36193===image.type?5126:image.type,e)}function Ae(image,data){36193===image.type?(image.data=ae(data),U.freeType(data)):image.data=data}function Oe(e,t,n,r,o,l){var s;if(s=void 0!==_e[e]?_e[e]:de[e]*xe[t],l&&(s*=6),o){for(var c=0,d=n;d>=1;)c+=s*d*d,d/=2;return c}return s*n*r}function Ie(n,r,o,l,c,d,f){var h={"don't care":4352,"dont care":4352,nice:4354,fast:4353},v={repeat:10497,clamp:33071,mirror:33648},m={nearest:9728,linear:9729},y=t({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},m),x={none:0,browser:37444},_={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},w={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},k={};r.ext_srgb&&(w.srgb=35904,w.srgba=35906),r.oes_texture_float&&(_.float32=_.float=5126),r.oes_texture_half_float&&(_.float16=_["half float"]=36193),r.webgl_depth_texture&&(t(w,{depth:6402,"depth stencil":34041}),t(_,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&t(k,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&t(k,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&t(k,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(k["rgb etc1"]=36196);var S=Array.prototype.slice.call(n.getParameter(34467));Object.keys(k).forEach((function(e){var t=k[e];S.indexOf(t)>=0&&(w[e]=t)}));var C=Object.keys(w);o.textureFormats=C;var T=[];Object.keys(w).forEach((function(e){var t=w[e];T[t]=e}));var E=[];Object.keys(_).forEach((function(e){var t=_[e];E[t]=e}));var P=[];Object.keys(m).forEach((function(e){P[m[e]]=e}));var A=[];Object.keys(y).forEach((function(e){var t=y[e];A[t]=e}));var O=[];Object.keys(v).forEach((function(e){O[v[e]]=e}));var I=C.reduce((function(e,t){var n=w[t];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||r.ext_srgb&&(35904===n||35906===n)?e[n]=n:32855===n||t.indexOf("rgba")>=0?e[n]=6408:e[n]=6407,e}),{});function D(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function R(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function z(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(M.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(M.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(M.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(M.parameter(t.colorSpace,x,"invalid colorSpace"),e.colorSpace=x[t.colorSpace]),"type"in t){var n=t.type;M(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),M(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),M(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),M.parameter(n,_,"invalid texture type"),e.type=_[n]}var l=e.width,c=e.height,d=e.channels,f=!1;"shape"in t?(M(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),l=t.shape[0],c=t.shape[1],3===t.shape.length&&(d=t.shape[2],M(d>0&&d<=4,"invalid number of channels"),f=!0),M(l>=0&&l<=o.maxTextureSize,"invalid width"),M(c>=0&&c<=o.maxTextureSize,"invalid height")):("radius"in t&&(l=c=t.radius,M(l>=0&&l<=o.maxTextureSize,"invalid radius")),"width"in t&&(l=t.width,M(l>=0&&l<=o.maxTextureSize,"invalid width")),"height"in t&&(c=t.height,M(c>=0&&c<=o.maxTextureSize,"invalid height")),"channels"in t&&(d=t.channels,M(d>0&&d<=4,"invalid number of channels"),f=!0)),e.width=0|l,e.height=0|c,e.channels=0|d;var h=!1;if("format"in t){var v=t.format;M(r.webgl_depth_texture||!("depth"===v||"depth stencil"===v),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),M.parameter(v,w,"invalid texture format");var m=e.internalformat=w[v];e.format=I[m],v in _&&("type"in t||(e.type=_[v])),v in k&&(e.compressed=!0),h=!0}!f&&h?e.channels=de[e.format]:f&&!h?e.channels!==ce[e.format]&&(e.format=e.internalformat=ce[e.channels]):h&&f&&M(e.channels===de[e.format],"number of channels inconsistent with specified format")}}function L(e){n.pixelStorei(37440,e.flipY),n.pixelStorei(37441,e.premultiplyAlpha),n.pixelStorei(37443,e.colorSpace),n.pixelStorei(3317,e.unpackAlignment)}function j(){D.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function F(image,t){var data=null;if(Ee(t)?data=t:t&&(M.type(t,"object","invalid pixel data type"),z(image,t),"x"in t&&(image.xOffset=0|t.x),"y"in t&&(image.yOffset=0|t.y),Ee(t.data)&&(data=t.data)),M(!image.compressed||data instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),t.copy){M(!data,"can not specify copy and data field for the same texture");var n=c.viewportWidth,r=c.viewportHeight;image.width=image.width||n-image.xOffset,image.height=image.height||r-image.yOffset,image.needsCopy=!0,M(image.xOffset>=0&&image.xOffset<n&&image.yOffset>=0&&image.yOffset<r&&image.width>0&&image.width<=n&&image.height>0&&image.height<=r,"copy texture read out of bounds")}else if(data){if(e(data))image.channels=image.channels||4,image.data=data,"type"in t||5121!==image.type||(image.type=Me(data));else if(we(data))image.channels=image.channels||4,function(e,data){var t=data.length;switch(e.type){case 5121:case 5123:case 5125:case 5126:var n=U.allocType(e.type,t);n.set(data),e.data=n;break;case 36193:e.data=ae(data);break;default:M.raise("unsupported texture type, must specify a typed array")}}(image,data),image.alignment=1,image.needsFree=!0;else if(W(data)){var l=data.data;Array.isArray(l)||5121!==image.type||(image.type=Me(l));var d,f,h,v,m,y,x=data.shape,_=data.stride;3===x.length?(h=x[2],y=_[2]):(M(2===x.length,"invalid ndarray pixel data, must be 2 or 3D"),h=1,y=1),d=x[0],f=x[1],v=_[0],m=_[1],image.alignment=1,image.width=d,image.height=f,image.channels=h,image.format=image.internalformat=ce[h],image.needsFree=!0,function(image,e,t,n,r,o){for(var l=image.width,c=image.height,d=image.channels,data=Pe(image,l*c*d),p=0,i=0;i<c;++i)for(var f=0;f<l;++f)for(var h=0;h<d;++h)data[p++]=e[t*f+n*i+r*h+o];Ae(image,data)}(image,l,v,m,y,data.offset)}else if(Ce(data)||Te(data)||Se(data)===ve)Ce(data)||Te(data)?image.element=data:image.element=data.canvas,image.width=image.element.width,image.height=image.element.height,image.channels=4;else if(function(object){return Se(object)===me}(data))image.element=data,image.width=data.width,image.height=data.height,image.channels=4;else if(function(object){return Se(object)===ge}(data))image.element=data,image.width=data.naturalWidth,image.height=data.naturalHeight,image.channels=4;else if(function(object){return Se(object)===ye}(data))image.element=data,image.width=data.videoWidth,image.height=data.videoHeight,image.channels=4;else if(ke(data)){var w=image.width||data[0].length,k=image.height||data.length,S=image.channels;S=se(data[0][0])?S||data[0][0].length:S||1;for(var C=$.shape(data),T=1,dd=0;dd<C.length;++dd)T*=C[dd];var E=Pe(image,T);$.flatten(data,C,"",E),Ae(image,E),image.alignment=1,image.width=w,image.height=k,image.channels=S,image.format=image.internalformat=ce[S],image.needsFree=!0}}else image.width=image.width||1,image.height=image.height||1,image.channels=image.channels||4;5126===image.type?M(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===image.type&&M(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function N(e,t,r){var element=e.element,data=e.data,o=e.internalformat,c=e.format,d=e.type,f=e.width,h=e.height;L(e),element?n.texImage2D(t,r,c,c,d,element):e.compressed?n.compressedTexImage2D(t,r,o,f,h,0,data):e.needsCopy?(l(),n.copyTexImage2D(t,r,c,e.xOffset,e.yOffset,f,h,0)):n.texImage2D(t,r,c,f,h,0,c,d,data||null)}function B(e,t,r,o,c){var element=e.element,data=e.data,d=e.internalformat,f=e.format,h=e.type,v=e.width,m=e.height;L(e),element?n.texSubImage2D(t,c,r,o,f,h,element):e.compressed?n.compressedTexSubImage2D(t,c,r,o,d,v,m,data):e.needsCopy?(l(),n.copyTexSubImage2D(t,c,r,o,e.xOffset,e.yOffset,v,m)):n.texSubImage2D(t,c,r,o,v,m,f,h,data)}var V=[];function G(){return V.pop()||new j}function Z(image){image.needsFree&&U.freeType(image.data),j.call(image),V.push(image)}function Y(){D.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function X(e,t,n){var img=e.images[0]=G();e.mipmask=1,img.width=e.width=t,img.height=e.height=n,img.channels=e.channels=4}function K(e,t){var n=null;if(Ee(t))R(n=e.images[0]=G(),e),F(n,t),e.mipmask=1;else if(z(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)R(n=e.images[i]=G(),e),n.width>>=i,n.height>>=i,F(n,r[i]),e.mipmask|=1<<i;else R(n=e.images[0]=G(),e),F(n,t),e.mipmask=1;R(e,e.images[0]),!e.compressed||33776!==e.internalformat&&33777!==e.internalformat&&33778!==e.internalformat&&33779!==e.internalformat||M(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function J(e,t){for(var n=e.images,i=0;i<n.length;++i){if(!n[i])return;N(n[i],t,i)}}var Q=[];function ee(){var e=Q.pop()||new Y;D.call(e),e.mipmask=0;for(var i=0;i<16;++i)e.images[i]=null;return e}function te(e){for(var t=e.images,i=0;i<t.length;++i)t[i]&&Z(t[i]),t[i]=null;Q.push(e)}function ie(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ne(e,t){if("min"in t){var n=t.min;M.parameter(n,y),e.minFilter=y[n],le.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;M.parameter(r,m),e.magFilter=m[r]}var l=e.wrapS,c=e.wrapT;if("wrap"in t){var d=t.wrap;"string"==typeof d?(M.parameter(d,v),l=c=v[d]):Array.isArray(d)&&(M.parameter(d[0],v),M.parameter(d[1],v),l=v[d[0]],c=v[d[1]])}else{if("wrapS"in t){var f=t.wrapS;M.parameter(f,v),l=v[f]}if("wrapT"in t){var x=t.wrapT;M.parameter(x,v),c=v[x]}}if(e.wrapS=l,e.wrapT=c,"anisotropic"in t){var _=t.anisotropic;M("number"==typeof _&&_>=1&&_<=o.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var w=!1;switch(typeof t.mipmap){case"string":M.parameter(t.mipmap,h,"invalid mipmap hint"),e.mipmapHint=h[t.mipmap],e.genMipmaps=!0,w=!0;break;case"boolean":w=e.genMipmaps=t.mipmap;break;case"object":M(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,w=!0;break;default:M.raise("invalid mipmap type")}w&&!("min"in t)&&(e.minFilter=9984)}}function re(e,t){n.texParameteri(t,10241,e.minFilter),n.texParameteri(t,10240,e.magFilter),n.texParameteri(t,10242,e.wrapS),n.texParameteri(t,10243,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,34046,e.anisotropic),e.genMipmaps&&(n.hint(33170,e.mipmapHint),n.generateMipmap(t))}var oe=0,fe={},he=o.maxTextureUnits,pe=Array(he).map((function(){return null}));function be(e){D.call(this),this.mipmask=0,this.internalformat=6408,this.id=oe++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ie,f.profile&&(this.stats={size:0})}function xe(e){n.activeTexture(33984),n.bindTexture(e.target,e.texture)}function _e(){var e=pe[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(3553,null)}function Ie(e){var t=e.texture;M(t,"must not double destroy texture");var r=e.unit,o=e.target;r>=0&&(n.activeTexture(33984+r),n.bindTexture(o,null),pe[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete fe[e.id],d.textureCount--}return t(be.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var i=0;i<he;++i){var t=pe[i];if(t){if(t.bindCount>0)continue;t.unit=-1}pe[i]=this,e=i;break}e>=he&&M.raise("insufficient number of texture units"),f.profile&&d.maxTextureUnits<e+1&&(d.maxTextureUnits=e+1),this.unit=e,n.activeTexture(33984+e),n.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ie(this)}}),f.profile&&(d.getTotalTextureSize=function(){var e=0;return Object.keys(fe).forEach((function(t){e+=fe[t].stats.size})),e}),{create2D:function(a,b){var e=new be(3553);function t(a,b){var n=e.texInfo;ie.call(n);var r=ee();return"number"==typeof a?X(r,0|a,"number"==typeof b?0|b:0|a):a?(M.type(a,"object","invalid arguments to regl.texture"),ne(n,a),K(r,a)):X(r,1,1),n.genMipmaps&&(r.mipmask=(r.width<<1)-1),e.mipmask=r.mipmask,R(e,r),M.texture2D(n,r,o),e.internalformat=r.internalformat,t.width=r.width,t.height=r.height,xe(e),J(r,3553),re(n,3553),_e(),te(r),f.profile&&(e.stats.size=Oe(e.internalformat,e.type,r.width,r.height,n.genMipmaps,!1)),t.format=T[e.internalformat],t.type=E[e.type],t.mag=P[n.magFilter],t.min=A[n.minFilter],t.wrapS=O[n.wrapS],t.wrapT=O[n.wrapT],t}return fe[e.id]=e,d.textureCount++,t(a,b),t.subimage=function(image,n,r,o){M(!!image,"must specify image data");var l=0|n,c=0|r,d=0|o,f=G();return R(f,e),f.width=0,f.height=0,F(f,image),f.width=f.width||(e.width>>d)-l,f.height=f.height||(e.height>>d)-c,M(e.type===f.type&&e.format===f.format&&e.internalformat===f.internalformat,"incompatible format for texture.subimage"),M(l>=0&&c>=0&&l+f.width<=e.width&&c+f.height<=e.height,"texture.subimage write out of bounds"),M(e.mipmask&1<<d,"missing mipmap data"),M(f.data||f.element||f.needsCopy,"missing image data"),xe(e),B(f,3553,l,c,d),_e(),Z(f),t},t.resize=function(r,o){var l=0|r,c=0|o||l;if(l===e.width&&c===e.height)return t;t.width=e.width=l,t.height=e.height=c,xe(e);for(var i=0;e.mipmask>>i;++i){var d=l>>i,h=c>>i;if(!d||!h)break;n.texImage2D(3553,i,e.format,d,h,0,e.format,e.type,null)}return _e(),f.profile&&(e.stats.size=Oe(e.internalformat,e.type,l,c,!1,!1)),t},t._reglType="texture2d",t._texture=e,f.profile&&(t.stats=e.stats),t.destroy=function(){e.decRef()},t},createCube:function(e,t,r,l,c,h){var v=new be(34067);fe[v.id]=v,d.cubeCount++;var m=new Array(6);function y(e,t,n,r,l,c){var i,d=v.texInfo;for(ie.call(d),i=0;i<6;++i)m[i]=ee();if("number"!=typeof e&&e)if("object"==typeof e)if(t)K(m[0],e),K(m[1],t),K(m[2],n),K(m[3],r),K(m[4],l),K(m[5],c);else if(ne(d,e),z(v,e),"faces"in e){var h=e.faces;for(M(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),i=0;i<6;++i)M("object"==typeof h[i]&&!!h[i],"invalid input for cube map face"),R(m[i],v),K(m[i],h[i])}else for(i=0;i<6;++i)K(m[i],e);else M.raise("invalid arguments to cube map");else{var s=0|e||1;for(i=0;i<6;++i)X(m[i],s,s)}for(R(v,m[0]),o.npotTextureCube||M(ue(v.width)&&ue(v.height),"your browser does not support non power or two texture dimensions"),d.genMipmaps?v.mipmask=(m[0].width<<1)-1:v.mipmask=m[0].mipmask,M.textureCube(v,d,m,o),v.internalformat=m[0].internalformat,y.width=m[0].width,y.height=m[0].height,xe(v),i=0;i<6;++i)J(m[i],34069+i);for(re(d,34067),_e(),f.profile&&(v.stats.size=Oe(v.internalformat,v.type,y.width,y.height,d.genMipmaps,!0)),y.format=T[v.internalformat],y.type=E[v.type],y.mag=P[d.magFilter],y.min=A[d.minFilter],y.wrapS=O[d.wrapS],y.wrapT=O[d.wrapT],i=0;i<6;++i)te(m[i]);return y}return y(e,t,r,l,c,h),y.subimage=function(e,image,t,n,r){M(!!image,"must specify image data"),M("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|t,l=0|n,c=0|r,d=G();return R(d,v),d.width=0,d.height=0,F(d,image),d.width=d.width||(v.width>>c)-o,d.height=d.height||(v.height>>c)-l,M(v.type===d.type&&v.format===d.format&&v.internalformat===d.internalformat,"incompatible format for texture.subimage"),M(o>=0&&l>=0&&o+d.width<=v.width&&l+d.height<=v.height,"texture.subimage write out of bounds"),M(v.mipmask&1<<c,"missing mipmap data"),M(d.data||d.element||d.needsCopy,"missing image data"),xe(v),B(d,34069+e,o,l,c),_e(),Z(d),y},y.resize=function(e){var t=0|e;if(t!==v.width){y.width=v.width=t,y.height=v.height=t,xe(v);for(var i=0;i<6;++i)for(var r=0;v.mipmask>>r;++r)n.texImage2D(34069+i,r,v.format,t>>r,t>>r,0,v.format,v.type,null);return _e(),f.profile&&(v.stats.size=Oe(v.internalformat,v.type,y.width,y.height,!1,!0)),y}},y._reglType="textureCube",y._texture=v,f.profile&&(y.stats=v.stats),y.destroy=function(){v.decRef()},y},clear:function(){for(var i=0;i<he;++i)n.activeTexture(33984+i),n.bindTexture(3553,null),pe[i]=null;H(fe).forEach(Ie),d.cubeCount=0,d.textureCount=0},getTexture:function(e){return null},restore:function(){for(var i=0;i<he;++i){var e=pe[i];e&&(e.bindCount=0,e.unit=-1,pe[i]=null)}H(fe).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var i=0;i<32;++i)if(0!=(e.mipmask&1<<i))if(3553===e.target)n.texImage2D(3553,i,e.internalformat,e.width>>i,e.height>>i,0,e.internalformat,e.type,null);else for(var t=0;t<6;++t)n.texImage2D(34069+t,i,e.internalformat,e.width>>i,e.height>>i,0,e.internalformat,e.type,null);re(e.texInfo,e.target)}))},refresh:function(){for(var i=0;i<he;++i){var e=pe[i];e&&(e.bindCount=0,e.unit=-1,pe[i]=null),n.activeTexture(33984+i),n.bindTexture(3553,null),n.bindTexture(34067,null)}}}}_e[32854]=2,_e[32855]=2,_e[36194]=2,_e[34041]=4,_e[33776]=.5,_e[33777]=.5,_e[33778]=1,_e[33779]=1,_e[35986]=.5,_e[35987]=1,_e[34798]=1,_e[35840]=.5,_e[35841]=.25,_e[35842]=.5,_e[35843]=.25,_e[36196]=.5;var De=[];function Re(e,t,n){return De[e]*t*n}De[32854]=2,De[32855]=2,De[36194]=2,De[33189]=2,De[36168]=1,De[34041]=4,De[35907]=4,De[34836]=16,De[34842]=8,De[34843]=6;var ze=[6407,6408],Le=[];Le[6408]=4,Le[6407]=3;var je=[];je[5121]=1,je[5126]=4,je[36193]=2;var Fe=[32854,32855,36194,35907,34842,34843,34836],Ne={};function Be(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Ve(t,n,r,o,l,c,d){function f(input){var f;null===n.next?(M(l.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),f=5121):(M(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),f=n.next.colorAttachments[0].texture._texture.type,c.oes_texture_float?(M(5121===f||5126===f,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===f&&M(d.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):M(5121===f,"Reading from a framebuffer is only allowed for the type 'uint8'"));var h=0,v=0,m=o.framebufferWidth,y=o.framebufferHeight,data=null;e(input)?data=input:input&&(M.type(input,"object","invalid arguments to regl.read()"),h=0|input.x,v=0|input.y,M(h>=0&&h<o.framebufferWidth,"invalid x offset for regl.read"),M(v>=0&&v<o.framebufferHeight,"invalid y offset for regl.read"),m=0|(input.width||o.framebufferWidth-h),y=0|(input.height||o.framebufferHeight-v),data=input.data||null),data&&(5121===f?M(data instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===f&&M(data instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),M(m>0&&m+h<=o.framebufferWidth,"invalid width for read pixels"),M(y>0&&y+v<=o.framebufferHeight,"invalid height for read pixels"),r();var x=m*y*4;return data||(5121===f?data=new Uint8Array(x):5126===f&&(data=data||new Float32Array(x))),M.isTypedArray(data,"data buffer for regl.read() must be a typedarray"),M(data.byteLength>=x,"data buffer for regl.read() too small"),t.pixelStorei(3333,4),t.readPixels(h,v,m,y,6408,f,data),data}return function(e){return e&&"framebuffer"in e?function(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=f(e)})),t}(e):f(e)}}function Ue(e){return Array.prototype.slice.call(e)}function We(e){return Ue(e).join("")}Ne[36053]="complete",Ne[36054]="incomplete attachment",Ne[36057]="incomplete dimensions",Ne[36055]="incomplete, missing attachment",Ne[36061]="unsupported";var He="xyzw".split(""),$e="profile",qe="framebuffer",Ge="vert",Ze="frag",Ye="elements",Xe="primitive",Ke="count",Je="offset",Qe="instances",et="vao",tt=qe+"Width",it=qe+"Height",nt=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],ot={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},at=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],st={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ut={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},lt={frag:35632,vert:35633},ct={cw:2304,ccw:2305};function ft(t){return Array.isArray(t)||e(t)||W(t)}function ht(e){return e.sort((function(a,b){return"viewport"===a?-1:"viewport"===b?1:a<b?-1:1}))}function pt(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function vt(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function mt(e){return new pt(!1,!1,!1,e)}function gt(e,t){var n=e.type;if(0===n){var r=e.data.length;return new pt(!0,r>=1,r>=2,t)}if(4===n){var data=e.data;return new pt(data.thisDep,data.contextDep,data.propDep,t)}if(5===n)return new pt(!1,!1,!1,t);if(6===n){for(var o=!1,l=!1,c=!1,i=0;i<e.data.length;++i){var d=e.data[i];if(1===d.type)c=!0;else if(2===d.type)l=!0;else if(3===d.type)o=!0;else if(0===d.type){o=!0;var f=d.data;f>=1&&(l=!0),f>=2&&(c=!0)}else 4===d.type&&(o=o||d.data.thisDep,l=l||d.data.contextDep,c=c||d.data.propDep)}return new pt(o,l,c,t)}return new pt(3===n,2===n,1===n,t)}var yt=new pt(!1,!1,!1,(function(){}));function bt(e,n,r,o,l,c,d,f,h,v,m,y,x,_,w){var k=v.Record,S={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(S.min=32775,S.max=32776);var C=r.angle_instanced_arrays,T=r.webgl_draw_buffers,E={dirty:!0,profile:w.profile},P={},A=[],O={},I={};function R(e){return e.replace(".","_")}function z(e,t,n){var r=R(e);A.push(e),P[r]=E[r]=!!n,O[r]=t}function L(e,t,n){var r=R(e);A.push(e),Array.isArray(n)?(E[r]=n.slice(),P[r]=n.slice()):E[r]=P[r]=n,I[r]=t}z("dither",3024),z("blend.enable",3042),L("blend.color","blendColor",[0,0,0,0]),L("blend.equation","blendEquationSeparate",[32774,32774]),L("blend.func","blendFuncSeparate",[1,0,1,0]),z("depth.enable",2929,!0),L("depth.func","depthFunc",513),L("depth.range","depthRange",[0,1]),L("depth.mask","depthMask",!0),L("colorMask","colorMask",[!0,!0,!0,!0]),z("cull.enable",2884),L("cull.face","cullFace",1029),L("frontFace","frontFace",2305),L("lineWidth","lineWidth",1),z("polygonOffset.enable",32823),L("polygonOffset.offset","polygonOffset",[0,0]),z("sample.alpha",32926),z("sample.enable",32928),L("sample.coverage","sampleCoverage",[1,!1]),z("stencil.enable",2960),L("stencil.mask","stencilMask",-1),L("stencil.func","stencilFunc",[519,0,-1]),L("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),L("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),z("scissor.enable",3089),L("scissor.box","scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),L("viewport","viewport",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var j={gl:e,context:x,strings:n,next:P,current:E,draw:y,elements:c,buffer:l,shader:m,attributes:v.state,vao:v,uniforms:h,framebuffer:f,extensions:r,timer:_,isBufferArgs:ft},F={primTypes:ne,compareFuncs:st,blendFuncs:ot,blendEquations:S,stencilOps:ut,glTypes:Y,orientationType:ct};M.optional((function(){j.isArrayLike=se})),T&&(F.backBuffer=[1029],F.drawBuffer=N(o.maxDrawbuffers,(function(i){return 0===i?[0]:N(i,(function(e){return 36064+e}))})));var B=0;function V(){var e=function(){var e=0,n=[],r=[];function o(){var code=[],n=[];return t((function(){code.push.apply(code,Ue(arguments))}),{def:function(){var t="v"+e++;return n.push(t),arguments.length>0&&(code.push(t,"="),code.push.apply(code,Ue(arguments)),code.push(";")),t},toString:function(){return We([n.length>0?"var "+n.join(",")+";":"",We(code)])}})}function l(){var e=o(),n=o(),r=e.toString,l=n.toString;function c(object,t){n(object,t,"=",e.def(object,t),";")}return t((function(){e.apply(e,Ue(arguments))}),{def:e.def,entry:e,exit:n,save:c,set:function(object,t,n){c(object,t),e(object,t,"=",n,";")},toString:function(){return r()+l()}})}var c=o(),d={};return{global:c,link:function(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var o="g"+e++;return n.push(o),r.push(t),o},block:o,proc:function(e,n){var r=[];function o(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var i=0;i<n;++i)o();var body=l(),c=body.toString;return d[e]=t(body,{arg:o,toString:function(){return We(["function(",r.join(),"){",c(),"}"])}})},scope:l,cond:function(){var e=We(arguments),n=l(),r=l(),o=n.toString,c=r.toString;return t(n,{then:function(){return n.apply(n,Ue(arguments)),this},else:function(){return r.apply(r,Ue(arguments)),this},toString:function(){var t=c();return t&&(t="else{"+t+"}"),We(["if(",e,"){",o(),"}",t])}})},compile:function(){var code=['"use strict";',c,"return {"];Object.keys(d).forEach((function(e){code.push('"',e,'":',d[e].toString(),",")})),code.push("}");var e=We(code).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(e)).apply(null,r)}}}(),link=e.link,r=e.global;e.id=B++,e.batchId="0";var o=link(j),l=e.shared={props:"a0"};Object.keys(j).forEach((function(e){l[e]=r.def(o,".",e)})),M.optional((function(){e.CHECK=link(M),e.commandStr=M.guessCommand(),e.command=link(e.commandStr),e.assert=function(e,t,n){e("if(!(",t,"))",this.CHECK,".commandRaise(",link(n),",",this.command,");")},F.invalidBlendCombinations=at}));var c=e.next={},d=e.current={};Object.keys(I).forEach((function(e){Array.isArray(E[e])&&(c[e]=r.def(l.next,".",e),d[e]=r.def(l.current,".",e))}));var f=e.constants={};Object.keys(F).forEach((function(e){f[e]=r.def(JSON.stringify(F[e]))})),e.invoke=function(t,n){switch(n.type){case 0:var r=["this",l.context,l.props,e.batchId];return t.def(link(n.data),".call(",r.slice(0,Math.max(n.data.length+1,4)),")");case 1:return t.def(l.props,n.data);case 2:return t.def(l.context,n.data);case 3:return t.def("this",n.data);case 4:return n.data.append(e,t),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(n){return e.invoke(t,n)}))}},e.attribCache={};var h={};return e.scopeAttrib=function(e){var t=n.id(e);if(t in h)return h[t];var r=v.scope[t];return r||(r=v.scope[t]=new k),h[t]=link(r)},e}function U(e,t,d,h,y){var x=e.static,_=e.dynamic;M.optional((function(){var e=[qe,Ge,Ze,Ye,Xe,Je,Ke,Qe,$e,et].concat(A);function t(t){Object.keys(t).forEach((function(t){M.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',y.commandStr)}))}t(x),t(_)}));var w=function(e,t){var n=e.static;if("string"==typeof n[Ze]&&"string"==typeof n[Ge]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,o=Object.keys(r);if(o.length>0&&"number"==typeof r[o[0]]){for(var l=[],i=0;i<o.length;++i)M("number"==typeof r[o[i]],"must specify all vertex attribute locations when using vaos"),l.push([0|r[o[i]],o[i]]);return l}}return null}(e,t),T=function(e,t){var n=e.static,r=e.dynamic;if(qe in n){var o=n[qe];return o?(o=f.getFramebuffer(o),M.command(o,"invalid framebuffer object"),mt((function(e,t){var n=e.link(o),r=e.shared;t.set(r.framebuffer,".next",n);var l=r.context;return t.set(l,"."+tt,n+".width"),t.set(l,"."+it,n+".height"),n}))):mt((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+tt,r+".drawingBufferWidth"),t.set(r,"."+it,r+".drawingBufferHeight"),"null"}))}if(qe in r){var l=r[qe];return gt(l,(function(e,t){var n=e.invoke(t,l),r=e.shared,o=r.framebuffer,c=t.def(o,".getFramebuffer(",n,")");M.optional((function(){e.assert(t,"!"+n+"||"+c,"invalid framebuffer object")})),t.set(o,".next",c);var d=r.context;return t.set(d,"."+tt,c+"?"+c+".width:"+d+".drawingBufferWidth"),t.set(d,"."+it,c+"?"+c+".height:"+d+".drawingBufferHeight"),c}))}return null}(e),E=function(e,t,n){var r=e.static,o=e.dynamic;function l(param){if(param in r){var e=r[param];M.commandType(e,"object","invalid "+param,n.commandStr);var l,c,d=!0,f=0|e.x,h=0|e.y;return"width"in e?(l=0|e.width,M.command(l>=0,"invalid "+param,n.commandStr)):d=!1,"height"in e?(c=0|e.height,M.command(c>=0,"invalid "+param,n.commandStr)):d=!1,new pt(!d&&t&&t.thisDep,!d&&t&&t.contextDep,!d&&t&&t.propDep,(function(t,n){var r=t.shared.context,o=l;"width"in e||(o=n.def(r,".",tt,"-",f));var d=c;return"height"in e||(d=n.def(r,".",it,"-",h)),[f,h,o,d]}))}if(param in o){var v=o[param],m=gt(v,(function(e,t){var n=e.invoke(t,v);M.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid "+param)}));var r=e.shared.context,o=t.def(n,".x|0"),l=t.def(n,".y|0"),c=t.def('"width" in ',n,"?",n,".width|0:","(",r,".",tt,"-",o,")"),d=t.def('"height" in ',n,"?",n,".height|0:","(",r,".",it,"-",l,")");return M.optional((function(){e.assert(t,c+">=0&&"+d+">=0","invalid "+param)})),[o,l,c,d]}));return t&&(m.thisDep=m.thisDep||t.thisDep,m.contextDep=m.contextDep||t.contextDep,m.propDep=m.propDep||t.propDep),m}return t?new pt(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",tt),t.def(n,".",it)]})):null}var c=l("viewport");if(c){var d=c;c=new pt(c.thisDep,c.contextDep,c.propDep,(function(e,t){var n=d.append(e,t),r=e.shared.context;return t.set(r,".viewportWidth",n[2]),t.set(r,".viewportHeight",n[3]),n}))}return{viewport:c,scissor_box:l("scissor.box")}}(e,T,y),P=function(e,t){var n=e.static,r=e.dynamic,o=function(){if(Ye in n){var e=n[Ye];ft(e)?e=c.getElements(c.create(e,!0)):e&&(e=c.getElements(e),M.command(e,"invalid elements",t.commandStr));var o=mt((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return o.value=e,o}if(Ye in r){var l=r[Ye];return gt(l,(function(e,t){var n=e.shared,r=n.isBufferArgs,o=n.elements,c=e.invoke(t,l),d=t.def("null"),f=t.def(r,"(",c,")"),h=e.cond(f).then(d,"=",o,".createStream(",c,");").else(d,"=",o,".getElements(",c,");");return M.optional((function(){e.assert(h.else,"!"+c+"||"+d,"invalid elements")})),t.entry(h),t.exit(e.cond(f).then(o,".destroyStream(",d,");")),e.ELEMENTS=d,d}))}return null}();function l(param,e){if(param in n){var l=0|n[param];return M.command(!e||l>=0,"invalid "+param,t.commandStr),mt((function(t,n){return e&&(t.OFFSET=l),l}))}if(param in r){var c=r[param];return gt(c,(function(t,n){var r=t.invoke(n,c);return e&&(t.OFFSET=r,M.optional((function(){t.assert(n,r+">=0","invalid "+param)}))),r}))}return e&&o?mt((function(e,t){return e.OFFSET="0",0})):null}var d=l(Je,!0);return{elements:o,primitive:function(){if(Xe in n){var e=n[Xe];return M.commandParameter(e,ne,"invalid primitve",t.commandStr),mt((function(t,n){return ne[e]}))}if(Xe in r){var l=r[Xe];return gt(l,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,l);return M.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(ne))})),t.def(n,"[",r,"]")}))}return o?vt(o)?o.value?mt((function(e,t){return t.def(e.ELEMENTS,".primType")})):mt((function(){return 4})):new pt(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",4)})):null}(),count:function(){if(Ke in n){var e=0|n[Ke];return M.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),mt((function(){return e}))}if(Ke in r){var l=r[Ke];return gt(l,(function(e,t){var n=e.invoke(t,l);return M.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(vt(o)){if(o)return d?new pt(d.thisDep,d.contextDep,d.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return M.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):mt((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var c=mt((function(){return-1}));return M.optional((function(){c.MISSING=!0})),c}var f=new pt(o.thisDep||d.thisDep,o.contextDep||d.contextDep,o.propDep||d.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return M.optional((function(){f.DYNAMIC=!0})),f}return null}(),instances:l(Qe,!1),offset:d}}(e,y),O=function(e,t){var n=e.static,r=e.dynamic,l={};return A.forEach((function(e){var param=R(e);function c(t,o){if(e in n){var c=t(n[e]);l[param]=mt((function(){return c}))}else if(e in r){var d=r[e];l[param]=gt(d,(function(e,t){return o(e,t,e.invoke(t,d))}))}}switch(e){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return c((function(n){return M.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return M.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case"depth.func":return c((function(n){return M.commandParameter(n,st,"invalid "+e,t.commandStr),st[n]}),(function(t,n,r){var o=t.constants.compareFuncs;return M.optional((function(){t.assert(n,r+" in "+o,"invalid "+e+", must be one of "+Object.keys(st))})),n.def(o,"[",r,"]")}));case"depth.range":return c((function(e){return M.command(se(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return M.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case"blend.func":return c((function(e){M.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,o="dstRGB"in e?e.dstRGB:e.dst,l="dstAlpha"in e?e.dstAlpha:e.dst;return M.commandParameter(n,ot,param+".srcRGB",t.commandStr),M.commandParameter(r,ot,param+".srcAlpha",t.commandStr),M.commandParameter(o,ot,param+".dstRGB",t.commandStr),M.commandParameter(l,ot,param+".dstAlpha",t.commandStr),M.command(-1===at.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",t.commandStr),[ot[n],ot[o],ot[r],ot[l]]}),(function(t,n,r){var o=t.constants.blendFuncs;function l(l,c){var d=n.def('"',l,c,'" in ',r,"?",r,".",l,c,":",r,".",l);return M.optional((function(){t.assert(n,d+" in "+o,"invalid "+e+"."+l+c+", must be one of "+Object.keys(ot))})),d}M.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var c=l("src","RGB"),d=l("dst","RGB");M.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+c+'+", "+'+d+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var f=n.def(o,"[",c,"]"),h=n.def(o,"[",l("src","Alpha"),"]");return[f,n.def(o,"[",d,"]"),h,n.def(o,"[",l("dst","Alpha"),"]")]}));case"blend.equation":return c((function(n){return"string"==typeof n?(M.commandParameter(n,S,"invalid "+e,t.commandStr),[S[n],S[n]]):"object"==typeof n?(M.commandParameter(n.rgb,S,e+".rgb",t.commandStr),M.commandParameter(n.alpha,S,e+".alpha",t.commandStr),[S[n.rgb],S[n.alpha]]):void M.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var o=t.constants.blendEquations,l=n.def(),c=n.def(),d=t.cond("typeof ",r,'==="string"');return M.optional((function(){function n(e,n,r){t.assert(e,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(S))}n(d.then,e,r),t.assert(d.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(d.else,e+".rgb",r+".rgb"),n(d.else,e+".alpha",r+".alpha")})),d.then(l,"=",c,"=",o,"[",r,"];"),d.else(l,"=",o,"[",r,".rgb];",c,"=",o,"[",r,".alpha];"),n(d),[l,c]}));case"blend.color":return c((function(e){return M.command(se(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),N(4,(function(i){return+e[i]}))}),(function(e,t,n){return M.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),N(4,(function(i){return t.def("+",n,"[",i,"]")}))}));case"stencil.mask":return c((function(e){return M.commandType(e,"number",param,t.commandStr),0|e}),(function(e,t,n){return M.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case"stencil.func":return c((function(n){M.commandType(n,"object",param,t.commandStr);var r=n.cmp||"keep",o=n.ref||0,mask="mask"in n?n.mask:-1;return M.commandParameter(r,st,e+".cmp",t.commandStr),M.commandType(o,"number",e+".ref",t.commandStr),M.commandType(mask,"number",e+".mask",t.commandStr),[st[r],o,mask]}),(function(e,t,n){var r=e.constants.compareFuncs;return M.optional((function(){function o(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",7680),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return c((function(n){M.commandType(n,"object",param,t.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",l=n.zpass||"keep";return M.commandParameter(r,ut,e+".fail",t.commandStr),M.commandParameter(o,ut,e+".zfail",t.commandStr),M.commandParameter(l,ut,e+".zpass",t.commandStr),["stencil.opBack"===e?1029:1028,ut[r],ut[o],ut[l]]}),(function(t,n,r){var o=t.constants.stencilOps;function l(l){return M.optional((function(){t.assert(n,'!("'+l+'" in '+r+")||("+r+"."+l+" in "+o+")","invalid "+e+"."+l+", must be one of "+Object.keys(ut))})),n.def('"',l,'" in ',r,"?",o,"[",r,".",l,"]:",7680)}return M.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),["stencil.opBack"===e?1029:1028,l("fail"),l("zfail"),l("zpass")]}));case"polygonOffset.offset":return c((function(e){M.commandType(e,"object",param,t.commandStr);var n=0|e.factor,r=0|e.units;return M.commandType(n,"number",param+".factor",t.commandStr),M.commandType(r,"number",param+".units",t.commandStr),[n,r]}),(function(t,n,r){return M.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case"cull.face":return c((function(e){var n=0;return"front"===e?n=1028:"back"===e&&(n=1029),M.command(!!n,param,t.commandStr),n}),(function(e,t,n){return M.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',1028,":",1029)}));case"lineWidth":return c((function(e){return M.command("number"==typeof e&&e>=o.lineWidthDims[0]&&e<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return M.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case"frontFace":return c((function(e){return M.commandParameter(e,ct,param,t.commandStr),ct[e]}),(function(e,t,n){return M.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?2304:2305')}));case"colorMask":return c((function(e){return M.command(se(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return M.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),N(4,(function(i){return"!!"+n+"["+i+"]"}))}));case"sample.coverage":return c((function(e){M.command("object"==typeof e&&e,param,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return M.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return M.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),l}(e,y),I=function(e,t,r){var o=e.static,l=e.dynamic;function c(e){if(e in o){var t=n.id(o[e]);M.optional((function(){m.shader(lt[e],t,M.guessCommand())}));var r=mt((function(){return t}));return r.id=t,r}if(e in l){var c=l[e];return gt(c,(function(t,n){var r=t.invoke(n,c),o=n.def(t.shared.strings,".id(",r,")");return M.optional((function(){n(t.shared.shader,".shader(",lt[e],",",o,",",t.command,");")})),o}))}return null}var d,f=c(Ze),h=c(Ge),v=null;return vt(f)&&vt(h)?(v=m.program(h.id,f.id,null,r),d=mt((function(e,t){return e.link(v)}))):d=new pt(f&&f.thisDep||h&&h.thisDep,f&&f.contextDep||h&&h.contextDep,f&&f.propDep||h&&h.propDep,(function(e,t){var n,r=e.shared.shader;n=f?f.append(e,t):t.def(r,".",Ze);var o=r+".program("+(h?h.append(e,t):t.def(r,".",Ge))+","+n;return M.optional((function(){o+=","+e.command})),t.def(o+")")})),{frag:f,vert:h,progVar:d,program:v}}(e,0,w);function D(e){var t=E[e];t&&(O[e]=t)}D("viewport"),D(R("scissor.box"));var z=Object.keys(O).length>0,L={framebuffer:T,draw:P,shader:I,state:O,dirty:z,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(L.profile=function(e){var t,n=e.static,r=e.dynamic;if($e in n){var o=!!n[$e];(t=mt((function(e,t){return o}))).enable=o}else if($e in r){var l=r[$e];t=gt(l,(function(e,t){return e.invoke(t,l)}))}return t}(e),L.uniforms=function(e,t){var n=e.static,r=e.dynamic,o={};return Object.keys(n).forEach((function(e){var r,l=n[e];if("number"==typeof l||"boolean"==typeof l)r=mt((function(){return l}));else if("function"==typeof l){var c=l._reglType;"texture2d"===c||"textureCube"===c?r=mt((function(e){return e.link(l)})):"framebuffer"===c||"framebufferCube"===c?(M.command(l.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=mt((function(e){return e.link(l.color[0])}))):M.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else se(l)?r=mt((function(t){return t.global.def("[",N(l.length,(function(i){return M.command("number"==typeof l[i]||"boolean"==typeof l[i],"invalid uniform "+e,t.commandStr),l[i]})),"]")})):M.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=l,o[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];o[e]=gt(t,(function(e,n){return e.invoke(n,t)}))})),o}(d,y),L.drawVAO=L.scopeVAO=function(e,t){var n=e.static,r=e.dynamic;if(et in n){var o=n[et];return null!==o&&null===v.getVAO(o)&&(o=v.createVAO(o)),mt((function(e){return e.link(v.getVAO(o))}))}if(et in r){var l=r[et];return gt(l,(function(e,t){var n=e.invoke(t,l);return t.def(e.shared.vao+".getVAO("+n+")")}))}return null}(e),!L.drawVAO&&I.program&&!w&&r.angle_instanced_arrays){var j=!0,F=I.program.attributes.map((function(e){var n=t.static[e];return j=j&&!!n,n}));if(j&&F.length>0){var B=v.getVAO(v.createVAO(F));L.drawVAO=new pt(null,null,null,(function(e,t){return e.link(B)})),L.useVAO=!0}}return w?L.useVAO=!0:L.attributes=function(e,t){var r=e.static,o=e.dynamic,c={};return Object.keys(r).forEach((function(e){var o=r[e],d=n.id(e),f=new k;if(ft(o))f.state=1,f.buffer=l.getBuffer(l.create(o,34962,!1,!0)),f.type=0;else{var h=l.getBuffer(o);if(h)f.state=1,f.buffer=h,f.type=0;else if(M.command("object"==typeof o&&o,"invalid data for attribute "+e,t.commandStr),"constant"in o){var v=o.constant;f.buffer="null",f.state=2,"number"==typeof v?f.x=v:(M.command(se(v)&&v.length>0&&v.length<=4,"invalid constant for attribute "+e,t.commandStr),He.forEach((function(e,i){i<v.length&&(f[e]=v[i])})))}else{h=ft(o.buffer)?l.getBuffer(l.create(o.buffer,34962,!1,!0)):l.getBuffer(o.buffer),M.command(!!h,'missing buffer for attribute "'+e+'"',t.commandStr);var m=0|o.offset;M.command(m>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var y=0|o.stride;M.command(y>=0&&y<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var x=0|o.size;M.command(!("size"in o)||x>0&&x<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var _=!!o.normalized,w=0;"type"in o&&(M.commandParameter(o.type,Y,"invalid type for attribute "+e,t.commandStr),w=Y[o.type]);var S=0|o.divisor;"divisor"in o&&(M.command(0===S||C,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),M.command(S>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),M.optional((function(){var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(t){M.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),f.buffer=h,f.state=1,f.size=x,f.normalized=_,f.type=w||h.dtype,f.offset=m,f.stride=y,f.divisor=S}}c[e]=mt((function(e,t){var n=e.attribCache;if(d in n)return n[d];var r={isStream:!1};return Object.keys(f).forEach((function(e){r[e]=f[e]})),f.buffer&&(r.buffer=e.link(f.buffer),r.type=r.type||r.buffer+".dtype"),n[d]=r,r}))})),Object.keys(o).forEach((function(e){var t=o[e];c[e]=gt(t,(function(n,r){var o=n.invoke(r,t),l=n.shared,c=n.constants,d=l.isBufferArgs,f=l.buffer;M.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+d+"("+o+")||"+f+".getBuffer("+o+")||"+f+".getBuffer("+o+".buffer)||"+d+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+l.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+e+'"')}));var h={isStream:r.def(!1)},v=new k;v.state=1,Object.keys(v).forEach((function(e){h[e]=r.def(""+v[e])}));var m=h.buffer,y=h.type;function x(e){r(h[e],"=",o,".",e,"|0;")}return r("if(",d,"(",o,")){",h.isStream,"=true;",m,"=",f,".createStream(",34962,",",o,");",y,"=",m,".dtype;","}else{",m,"=",f,".getBuffer(",o,");","if(",m,"){",y,"=",m,".dtype;",'}else if("constant" in ',o,"){",h.state,"=",2,";","if(typeof "+o+'.constant === "number"){',h[He[0]],"=",o,".constant;",He.slice(1).map((function(e){return h[e]})).join("="),"=0;","}else{",He.map((function(e,i){return h[e]+"="+o+".constant.length>"+i+"?"+o+".constant["+i+"]:0;"})).join(""),"}}else{","if(",d,"(",o,".buffer)){",m,"=",f,".createStream(",34962,",",o,".buffer);","}else{",m,"=",f,".getBuffer(",o,".buffer);","}",y,'="type" in ',o,"?",c.glTypes,"[",o,".type]:",m,".dtype;",h.normalized,"=!!",o,".normalized;"),x("size"),x("offset"),x("stride"),x("divisor"),r("}}"),r.exit("if(",h.isStream,"){",f,".destroyStream(",m,");","}"),h}))})),c}(t,y),L.context=function(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=mt((function(e,t){return"number"==typeof n||"boolean"==typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=gt(t,(function(e,n){return e.invoke(n,t)}))})),r}(h),L}function W(e,t,n){var r=e.shared.context,o=e.scope();Object.keys(n).forEach((function(l){t.save(r,"."+l);var c=n[l].append(e,t);Array.isArray(c)?o(r,".",l,"=[",c.join(),"];"):o(r,".",l,"=",c,";")})),t(o)}function H(e,t,n,r){var o,l=e.shared,c=l.gl,d=l.framebuffer;T&&(o=t.def(l.extensions,".webgl_draw_buffers"));var f,h=e.constants,v=h.drawBuffer,m=h.backBuffer;f=n?n.append(e,t):t.def(d,".next"),r||t("if(",f,"!==",d,".cur){"),t("if(",f,"){",c,".bindFramebuffer(",36160,",",f,".framebuffer);"),T&&t(o,".drawBuffersWEBGL(",v,"[",f,".colorAttachments.length]);"),t("}else{",c,".bindFramebuffer(",36160,",null);"),T&&t(o,".drawBuffersWEBGL(",m,");"),t("}",d,".cur=",f,";"),r||t("}")}function $(e,t,n){var r=e.shared,o=r.gl,l=e.current,c=e.next,d=r.current,f=r.next,h=e.cond(d,".dirty");A.forEach((function(t){var r,v,param=R(t);if(!(param in n.state))if(param in c){r=c[param],v=l[param];var m=N(E[param].length,(function(i){return h.def(r,"[",i,"]")}));h(e.cond(m.map((function(p,i){return p+"!=="+v+"["+i+"]"})).join("||")).then(o,".",I[param],"(",m,");",m.map((function(p,i){return v+"["+i+"]="+p})).join(";"),";"))}else{r=h.def(f,".",param);var y=e.cond(r,"!==",d,".",param);h(y),param in O?y(e.cond(r).then(o,".enable(",O[param],");").else(o,".disable(",O[param],");"),d,".",param,"=",r,";"):y(o,".",I[param],"(",r,");",d,".",param,"=",r,";")}})),0===Object.keys(n.state).length&&h(d,".dirty=false;"),t(h)}function G(e,t,n,filter){var r=e.shared,o=e.current,l=r.current,c=r.gl;ht(Object.keys(n)).forEach((function(param){var r=n[param];if(!filter||filter(r)){var d=r.append(e,t);if(O[param]){var f=O[param];vt(r)?t(c,d?".enable(":".disable(",f,");"):t(e.cond(d).then(c,".enable(",f,");").else(c,".disable(",f,");")),t(l,".",param,"=",d,";")}else if(se(d)){var h=o[param];t(c,".",I[param],"(",d,");",d.map((function(e,i){return h+"["+i+"]="+e})).join(";"),";")}else t(c,".",I[param],"(",d,");",l,".",param,"=",d,";")}}))}function Z(e,t){C&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,o){var l,c,d,f=e.shared,h=e.stats,v=f.current,m=f.timer,y=n.profile;function x(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function w(e){e(l=t.def(),"=",x(),";"),"string"==typeof o?e(h,".count+=",o,";"):e(h,".count++;"),_&&(r?e(c=t.def(),"=",m,".getNumPendingQueries();"):e(m,".beginQuery(",h,");"))}function k(e){e(h,".cpuTime+=",x(),"-",l,";"),_&&(r?e(m,".pushScopeStats(",c,",",m,".getNumPendingQueries(),",h,");"):e(m,".endQuery();"))}function S(e){var n=t.def(v,".profile");t(v,".profile=",e,";"),t.exit(v,".profile=",n,";")}if(y){if(vt(y))return void(y.enable?(w(t),k(t.exit),S("true")):S("false"));S(d=y.append(e,t))}else d=t.def(v,".profile");var C=e.block();w(C),t("if(",d,"){",C,"}");var T=e.block();k(T),t.exit("if(",d,"){",T,"}")}function K(e,t,n,r,filter){var o=e.shared;r.forEach((function(r){var l,c=r.name,d=n.attributes[c];if(d){if(!filter(d))return;l=d.append(e,t)}else{if(!filter(yt))return;var f=e.scopeAttrib(c);M.optional((function(){e.assert(t,f+".state","missing attribute "+c)})),l={},Object.keys(new k).forEach((function(e){l[e]=t.def(f,".",e)}))}!function(n,r,l){var c=o.gl,d=t.def(n,".location"),f=t.def(o.attributes,"[",d,"]"),h=l.state,v=l.buffer,m=[l.x,l.y,l.z,l.w],y=["buffer","normalized","offset","stride"];function x(){t("if(!",f,".buffer){",c,".enableVertexAttribArray(",d,");}");var n,o=l.type;if(n=l.size?t.def(l.size,"||",r):r,t("if(",f,".type!==",o,"||",f,".size!==",n,"||",y.map((function(e){return f+"."+e+"!=="+l[e]})).join("||"),"){",c,".bindBuffer(",34962,",",v,".buffer);",c,".vertexAttribPointer(",[d,n,o,l.normalized,l.stride,l.offset],");",f,".type=",o,";",f,".size=",n,";",y.map((function(e){return f+"."+e+"="+l[e]+";"})).join(""),"}"),C){var h=l.divisor;t("if(",f,".divisor!==",h,"){",e.instancing,".vertexAttribDivisorANGLE(",[d,h],");",f,".divisor=",h,";}")}}function _(){t("if(",f,".buffer){",c,".disableVertexAttribArray(",d,");",f,".buffer=null;","}if(",He.map((function(e,i){return f+"."+e+"!=="+m[i]})).join("||"),"){",c,".vertexAttrib4f(",d,",",m,");",He.map((function(e,i){return f+"."+e+"="+m[i]+";"})).join(""),"}")}1===h?x():2===h?_():(t("if(",h,"===",1,"){"),x(),t("}else{"),_(),t("}"))}(e.link(r),function(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),l)}))}function J(e,t,r,o,filter){for(var l,c=e.shared,d=c.gl,i=0;i<o.length;++i){var f,h=o[i],v=h.name,m=h.info.type,y=r.uniforms[v],x=e.link(h)+".location";if(y){if(!filter(y))continue;if(vt(y)){var _=y.value;if(M.command(null!=_,'missing uniform "'+v+'"',e.commandStr),35678===m||35680===m){M.command("function"==typeof _&&(35678===m&&("texture2d"===_._reglType||"framebuffer"===_._reglType)||35680===m&&("textureCube"===_._reglType||"framebufferCube"===_._reglType)),"invalid texture for uniform "+v,e.commandStr);var w=e.link(_._texture||_.color[0]._texture);t(d,".uniform1i(",x,",",w+".bind());"),t.exit(w,".unbind();")}else if(35674===m||35675===m||35676===m){M.optional((function(){M.command(se(_),"invalid matrix for uniform "+v,e.commandStr),M.command(35674===m&&4===_.length||35675===m&&9===_.length||35676===m&&16===_.length,"invalid length for matrix uniform "+v,e.commandStr)}));var k=e.global.def("new Float32Array(["+Array.prototype.slice.call(_)+"])"),S=2;35675===m?S=3:35676===m&&(S=4),t(d,".uniformMatrix",S,"fv(",x,",false,",k,");")}else{switch(m){case 5126:M.commandType(_,"number","uniform "+v,e.commandStr),l="1f";break;case 35664:M.command(se(_)&&2===_.length,"uniform "+v,e.commandStr),l="2f";break;case 35665:M.command(se(_)&&3===_.length,"uniform "+v,e.commandStr),l="3f";break;case 35666:M.command(se(_)&&4===_.length,"uniform "+v,e.commandStr),l="4f";break;case 35670:M.commandType(_,"boolean","uniform "+v,e.commandStr),l="1i";break;case 5124:M.commandType(_,"number","uniform "+v,e.commandStr),l="1i";break;case 35671:case 35667:M.command(se(_)&&2===_.length,"uniform "+v,e.commandStr),l="2i";break;case 35672:case 35668:M.command(se(_)&&3===_.length,"uniform "+v,e.commandStr),l="3i";break;case 35673:case 35669:M.command(se(_)&&4===_.length,"uniform "+v,e.commandStr),l="4i"}t(d,".uniform",l,"(",x,",",se(_)?Array.prototype.slice.call(_):_,");")}continue}f=y.append(e,t)}else{if(!filter(yt))continue;f=t.def(c.uniforms,"[",n.id(v),"]")}35678===m?(M(!Array.isArray(f),"must specify a scalar prop for textures"),t("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):35680===m&&(M(!Array.isArray(f),"must specify a scalar prop for cube maps"),t("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),M.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+v+'".  '+r)}function r(e){M(!Array.isArray(f),"must not specify an array type for uniform"),n("typeof "+f+'==="'+e+'"',"invalid type, expected "+e)}function o(t,r){Array.isArray(f)?M(f.length===t,"must have length "+t):n(c.isArrayLike+"("+f+")&&"+f+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function l(t){M(!Array.isArray(f),"must not specify a value type"),n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(3553===t?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(m){case 5124:r("number");break;case 35667:o(2);break;case 35668:o(3);break;case 35669:o(4);break;case 5126:r("number");break;case 35664:o(2);break;case 35665:o(3);break;case 35666:o(4);break;case 35670:r("boolean");break;case 35671:o(2);break;case 35672:o(3);break;case 35673:case 35674:o(4);break;case 35675:o(9);break;case 35676:o(16);break;case 35678:l(3553);break;case 35680:l(34067)}}));var C=1;switch(m){case 35678:case 35680:var T=t.def(f,"._texture");t(d,".uniform1i(",x,",",T,".bind());"),t.exit(T,".unbind();");continue;case 5124:case 35670:l="1i";break;case 35667:case 35671:l="2i",C=2;break;case 35668:case 35672:l="3i",C=3;break;case 35669:case 35673:l="4i",C=4;break;case 5126:l="1f";break;case 35664:l="2f",C=2;break;case 35665:l="3f",C=3;break;case 35666:l="4f",C=4;break;case 35674:l="Matrix2fv";break;case 35675:l="Matrix3fv";break;case 35676:l="Matrix4fv"}if(t(d,".uniform",l,"(",x,","),"M"===l.charAt(0)){var E=Math.pow(m-35674+2,2),P=e.global.def("new Float32Array(",E,")");Array.isArray(f)?t("false,(",N(E,(function(i){return P+"["+i+"]="+f[i]})),",",P,")"):t("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",N(E,(function(i){return P+"["+i+"]="+f+"["+i+"]"})),",",P,")")}else C>1?t(N(C,(function(i){return Array.isArray(f)?f[i]:f+"["+i+"]"}))):(M(!Array.isArray(f),"uniform value must not be an array"),t(f));t(");")}}function Q(e,t,n,r){var o=e.shared,l=o.gl,c=o.draw,d=r.draw,f=function(){var o,f=d.elements,h=t;return f?((f.contextDep&&r.contextDynamic||f.propDep)&&(h=n),o=f.append(e,h)):o=h.def(c,".",Ye),o&&h("if("+o+")"+l+".bindBuffer(34963,"+o+".buffer.buffer);"),o}();function h(o){var l=d[o];return l?l.contextDep&&r.contextDynamic||l.propDep?l.append(e,n):l.append(e,t):t.def(c,".",o)}var v,m,y=h(Xe),x=h(Je),_=function(){var o,l=d.count,f=t;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(f=n),o=l.append(e,f),M.optional((function(){l.MISSING&&e.assert(t,"false","missing vertex count"),l.DYNAMIC&&e.assert(f,o+">=0","missing vertex count")}))):(o=f.def(c,".",Ke),M.optional((function(){e.assert(f,o+">=0","missing vertex count")}))),o}();if("number"==typeof _){if(0===_)return}else n("if(",_,"){"),n.exit("}");C&&(v=h(Qe),m=e.instancing);var w=f+".type",k=d.elements&&vt(d.elements);function S(){function e(){n(m,".drawElementsInstancedANGLE(",[y,_,w,x+"<<(("+w+"-5121)>>1)",v],");")}function t(){n(m,".drawArraysInstancedANGLE(",[y,x,_,v],");")}f?k?e():(n("if(",f,"){"),e(),n("}else{"),t(),n("}")):t()}function T(){function e(){n(l+".drawElements("+[y,_,w,x+"<<(("+w+"-5121)>>1)"]+");")}function t(){n(l+".drawArrays("+[y,x,_]+");")}f?k?e():(n("if(",f,"){"),e(),n("}else{"),t(),n("}")):t()}C&&("number"!=typeof v||v>=0)?"string"==typeof v?(n("if(",v,">0){"),S(),n("}else if(",v,"<0){"),T(),n("}")):S():T()}function ee(e,t,n,r,o){var l=V(),c=l.proc("body",o);return M.optional((function(){l.commandStr=t.commandStr,l.command=l.link(t.commandStr)})),C&&(l.instancing=c.def(l.shared.extensions,".angle_instanced_arrays")),e(l,c,n,r),l.compile().body}function te(e,t,n,r){Z(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0})),Q(e,t,t,n)}function ie(e,t,n,r){function o(){return!0}e.batchId="a1",Z(e,t),K(e,t,n,r.attributes,o),J(e,t,n,r.uniforms,o),Q(e,t,t,n)}function re(e,t,n,r){Z(e,t);var o=n.contextDep,l=t.def(),c=t.def();e.shared.props=c,e.batchId=l;var d=e.scope(),f=e.scope();function h(e){return e.contextDep&&o||e.propDep}function v(e){return!h(e)}if(t(d.entry,"for(",l,"=0;",l,"<","a1",";++",l,"){",c,"=","a0","[",l,"];",f,"}",d.exit),n.needsContext&&W(e,f,n.context),n.needsFramebuffer&&H(e,f,n.framebuffer),G(e,f,n.state,h),n.profile&&h(n.profile)&&X(e,f,n,!1,!0),r)n.useVAO?n.drawVAO?h(n.drawVAO)?f(e.shared.vao,".setVAO(",n.drawVAO.append(e,f),");"):d(e.shared.vao,".setVAO(",n.drawVAO.append(e,d),");"):d(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(d(e.shared.vao,".setVAO(null);"),K(e,d,n,r.attributes,v),K(e,f,n,r.attributes,h)),J(e,d,n,r.uniforms,v),J(e,f,n,r.uniforms,h),Q(e,d,f,n);else{var m=e.global.def("{}"),y=n.shader.progVar.append(e,f),x=f.def(y,".id"),_=f.def(m,"[",x,"]");f(e.shared.gl,".useProgram(",y,".program);","if(!",_,"){",_,"=",m,"[",x,"]=",e.link((function(t){return ee(ie,e,n,t,2)})),"(",y,");}",_,".call(this,a0[",l,"],",l,");")}}function oe(e,t,n){var object=t.static[n];if(object&&function(object){if("object"==typeof object&&!se(object)){for(var e=Object.keys(object),i=0;i<e.length;++i)if(D.isDynamic(object[e[i]]))return!0;return!1}}(object)){var r=e.global,o=Object.keys(object),l=!1,c=!1,d=!1,f=e.global.def("{}");o.forEach((function(t){var n=object[t];if(D.isDynamic(n)){"function"==typeof n&&(n=object[t]=D.unbox(n));var o=gt(n,null);l=l||o.thisDep,d=d||o.propDep,c=c||o.contextDep}else{switch(r(f,".",t,"="),typeof n){case"number":r(n);break;case"string":r('"',n,'"');break;case"object":Array.isArray(n)&&r("[",n.join(),"]");break;default:r(e.link(n))}r(";")}})),t.dynamic[n]=new D.DynamicVariable(4,{thisDep:l,contextDep:c,propDep:d,ref:f,append:function(e,t){o.forEach((function(n){var r=object[n];if(D.isDynamic(r)){var o=e.invoke(t,r);t(f,".",n,"=",o,";")}}))}}),delete t.static[n]}}return{next:P,current:E,procs:function(){var e=V(),t=e.proc("poll"),n=e.proc("refresh"),l=e.block();t(l),n(l);var c,d=e.shared,f=d.gl,h=d.next,v=d.current;l(v,".dirty=false;"),H(e,t),H(e,n,null,!0),C&&(c=e.link(C)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var i=0;i<o.maxAttributes;++i){var m=n.def(d.attributes,"[",i,"]"),y=e.cond(m,".buffer");y.then(f,".enableVertexAttribArray(",i,");",f,".bindBuffer(",34962,",",m,".buffer.buffer);",f,".vertexAttribPointer(",i,",",m,".size,",m,".type,",m,".normalized,",m,".stride,",m,".offset);").else(f,".disableVertexAttribArray(",i,");",f,".vertexAttrib4f(",i,",",m,".x,",m,".y,",m,".z,",m,".w);",m,".buffer=null;"),n(y),C&&n(c,".vertexAttribDivisorANGLE(",i,",",m,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(O).forEach((function(r){var o=O[r],c=l.def(h,".",r),d=e.block();d("if(",c,"){",f,".enable(",o,")}else{",f,".disable(",o,")}",v,".",r,"=",c,";"),n(d),t("if(",c,"!==",v,".",r,"){",d,"}")})),Object.keys(I).forEach((function(r){var o,c,d=I[r],m=E[r],y=e.block();if(y(f,".",d,"("),se(m)){var x=m.length;o=e.global.def(h,".",r),c=e.global.def(v,".",r),y(N(x,(function(i){return o+"["+i+"]"})),");",N(x,(function(i){return c+"["+i+"]="+o+"["+i+"];"})).join("")),t("if(",N(x,(function(i){return o+"["+i+"]!=="+c+"["+i+"]"})).join("||"),"){",y,"}")}else o=l.def(h,".",r),c=l.def(v,".",r),y(o,");",v,".",r,"=",o,";"),t("if(",o,"!==",c,"){",y,"}");n(y)})),e.compile()}(),compile:function(e,r,o,l,c){var d=V();d.stats=d.link(c),Object.keys(r.static).forEach((function(e){oe(d,r,e)})),nt.forEach((function(t){oe(d,e,t)}));var f=U(e,r,o,l,d);return function(e,t){var n=e.proc("draw",1);Z(e,n),W(e,n,t.context),H(e,n,t.framebuffer),$(e,n,t),G(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)te(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var o=e.global.def("{}"),l=n.def(r,".id"),c=n.def(o,"[",l,"]");n(e.cond(c).then(c,".call(this,a0);").else(c,"=",o,"[",l,"]=",e.link((function(n){return ee(te,e,t,n,1)})),"(",r,");",c,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(d,f),function(e,t){var r=e.proc("scope",3);e.batchId="a2";var o=e.shared,l=o.current;function c(n){var l=t.shader[n];l&&r.set(o.shader,"."+n,l.append(e,r))}W(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),ht(Object.keys(t.state)).forEach((function(n){var l=t.state[n].append(e,r);se(l)?l.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(o.next,"."+n,l)})),X(e,r,t,!0,!0),[Ye,Je,Ke,Qe,Xe].forEach((function(n){var l=t.draw[n];l&&r.set(o.draw,"."+n,""+l.append(e,r))})),Object.keys(t.uniforms).forEach((function(l){var c=t.uniforms[l].append(e,r);Array.isArray(c)&&(c="["+c.join()+"]"),r.set(o.uniforms,"["+n.id(l)+"]",c)})),Object.keys(t.attributes).forEach((function(n){var o=t.attributes[n].append(e,r),l=e.scopeAttrib(n);Object.keys(new k).forEach((function(e){r.set(l,"."+e,o[e])}))})),t.scopeVAO&&r.set(o.vao,".targetVAO",t.scopeVAO.append(e,r)),c(Ge),c(Ze),Object.keys(t.state).length>0&&(r(l,".dirty=true;"),r.exit(l,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}(d,f),function(e,t){var n=e.proc("batch",2);e.batchId="0",Z(e,n);var r=!1,o=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),o=!1);var l=t.framebuffer,c=!1;function d(e){return e.contextDep&&r||e.propDep}l?(l.propDep?r=c=!0:l.contextDep&&r&&(c=!0),c||H(e,n,l)):H(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),$(e,n,t),G(e,n,t.state,(function(e){return!d(e)})),t.profile&&d(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=o,t.needsFramebuffer=c;var f=t.shader.progVar;if(f.contextDep&&r||f.propDep)re(e,n,t,null);else{var h=f.append(e,n);if(n(e.shared.gl,".useProgram(",h,".program);"),t.shader.program)re(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var v=e.global.def("{}"),m=n.def(h,".id"),y=n.def(v,"[",m,"]");n(e.cond(y).then(y,".call(this,a0,a1);").else(y,"=",v,"[",m,"]=",e.link((function(n){return ee(re,e,t,n,2)})),"(",h,");",y,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;")}(d,f),t(d.compile(),{destroy:function(){f.shader.program.destroy()}})}}}var xt=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(e){n.push(e)}var o=[];function l(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var c=[];function d(e){c.push(e)}var f=[];function h(e,t,n){var r=c.pop()||new l;r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,f.push(r)}var v=[],m=[];return{beginQuery:function(e){var r=n.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),h(o.length-1,o.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:h,update:function(){var e,i,n=o.length;if(0!==n){m.length=Math.max(m.length,n+1),v.length=Math.max(v.length,n+1),v[0]=0,m[0]=0;var l=0;for(e=0,i=0;i<o.length;++i){var c=o[i];t.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(l+=t.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):o[e++]=c,v[i+1]=l,m[i+1]=e}for(o.length=e,e=0,i=0;i<f.length;++i){var h=f[i],y=h.startQueryIndex,x=h.endQueryIndex;h.sum+=v[x]-v[y];var _=m[y],w=m[x];w===_?(h.stats.gpuTime+=h.sum/1e6,d(h)):(h.startQueryIndex=_,h.endQueryIndex=w,f[e++]=h)}f.length=e}},getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var i=0;i<n.length;i++)t.ext_disjoint_timer_query.deleteQueryEXT(n[i]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}};function _t(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}return function(n){var r=F(n);if(!r)return null;var o=r.gl,l=o.getContextAttributes(),c=o.isContextLost(),d=function(e,t){var n={};function r(t){M.type(t,"string","extension name must be string");var r,o=t.toLowerCase();try{r=n[o]=e.getExtension(o)}catch(e){}return!!r}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!r(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}(o,r);if(!d)return null;var f,h,v=(f={"":0},h=[""],{id:function(e){var t=f[e];return t||(t=f[e]=h.length,h.push(e),t)},str:function(e){return h[e]}}),m={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},y=d.extensions,x=xt(0,y),_=z(),w=o.drawingBufferWidth,k=o.drawingBufferHeight,S={tick:0,time:0,viewportWidth:w,viewportHeight:k,framebufferWidth:w,framebufferHeight:k,drawingBufferWidth:w,drawingBufferHeight:k,pixelRatio:r.pixelRatio},C=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,o=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),o=e.getParameter(36063));var l=!!t.oes_texture_float;if(l){var c=e.createTexture();e.bindTexture(3553,c),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var d=e.createFramebuffer();if(e.bindFramebuffer(36160,d),e.framebufferTexture2D(36160,36064,3553,c,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))l=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var f=U.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,f),e.getError()?l=!1:(e.deleteFramebuffer(d),e.deleteTexture(c),l=1===f[0]),U.freeType(f)}}var h=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var v=e.createTexture(),data=U.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,v),e.texImage2D(34069,0,6408,3,3,0,6408,5121,data),U.freeType(data),e.bindTexture(34067,null),e.deleteTexture(v),h=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:l,npotTextureCube:h}}(o,y),T=function(t,n,r,o){var l=0,c={};function d(e){this.id=l++,this.buffer=t.createBuffer(),this.type=e,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}d.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},d.prototype.destroy=function(){m(this)};var f=[];function h(e,data,n){e.byteLength=data.byteLength,t.bufferData(e.type,data,n)}function v(t,data,n,r,o,l){var c,d;if(t.usage=n,Array.isArray(data)){if(t.dtype=r||5126,data.length>0)if(Array.isArray(data[0])){c=J(data);for(var f=1,i=1;i<c.length;++i)f*=c[i];t.dimension=f,h(t,d=K(data,c,t.dtype),n),l?t.persistentData=d:U.freeType(d)}else if("number"==typeof data[0]){t.dimension=o;var v=U.allocType(t.dtype,data.length);te(v,data),h(t,v,n),l?t.persistentData=v:U.freeType(v)}else e(data[0])?(t.dimension=data[0].length,t.dtype=r||ee(data[0])||5126,h(t,d=K(data,[data.length,data[0].length],t.dtype),n),l?t.persistentData=d:U.freeType(d)):M.raise("invalid buffer data")}else if(e(data))t.dtype=r||ee(data),t.dimension=o,h(t,data,n),l&&(t.persistentData=new Uint8Array(new Uint8Array(data.buffer)));else if(W(data)){c=data.shape;var m=data.stride,y=data.offset,x=0,_=0,w=0,k=0;1===c.length?(x=c[0],_=1,w=m[0],k=0):2===c.length?(x=c[0],_=c[1],w=m[0],k=m[1]):M.raise("invalid shape"),t.dtype=r||ee(data.data)||5126,t.dimension=_;var S=U.allocType(t.dtype,x*_);ie(S,data.data,x,_,w,k,y),h(t,S,n),l?t.persistentData=S:U.freeType(S)}else data instanceof ArrayBuffer?(t.dtype=5121,t.dimension=o,h(t,data,n),l&&(t.persistentData=new Uint8Array(new Uint8Array(data)))):M.raise("invalid buffer data")}function m(e){n.bufferCount--,o(e);var r=e.buffer;M(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete c[e.id]}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(c).forEach((function(t){e+=c[t].stats.size})),e}),{create:function(o,l,f,h){n.bufferCount++;var y=new d(l);function x(n){var o=35044,data=null,l=0,c=0,d=1;return Array.isArray(n)||e(n)||W(n)||n instanceof ArrayBuffer?data=n:"number"==typeof n?l=0|n:n&&(M.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(M(null===data||Array.isArray(data)||e(data)||W(data),"invalid data for buffer"),data=n.data),"usage"in n&&(M.parameter(n.usage,X,"invalid buffer usage"),o=X[n.usage]),"type"in n&&(M.parameter(n.type,Y,"invalid buffer type"),c=Y[n.type]),"dimension"in n&&(M.type(n.dimension,"number","invalid dimension"),d=0|n.dimension),"length"in n&&(M.nni(l,"buffer length must be a nonnegative integer"),l=0|n.length)),y.bind(),data?v(y,data,o,c,d,h):(l&&t.bufferData(y.type,l,o),y.dtype=c||5121,y.usage=o,y.dimension=d,y.byteLength=l),r.profile&&(y.stats.size=y.byteLength*Q[y.dtype]),x}function _(data,e){M(e+data.byteLength<=y.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+data.byteLength+" starting from offset "+e+" to a buffer of size "+y.byteLength),t.bufferSubData(y.type,e,data)}return c[y.id]=y,f||x(o),x._reglType="buffer",x._buffer=y,x.subdata=function(data,t){var n,r=0|(t||0);if(y.bind(),e(data)||data instanceof ArrayBuffer)_(data,r);else if(Array.isArray(data)){if(data.length>0)if("number"==typeof data[0]){var o=U.allocType(y.dtype,data.length);te(o,data),_(o,r),U.freeType(o)}else if(Array.isArray(data[0])||e(data[0])){n=J(data);var l=K(data,n,y.dtype);_(l,r),U.freeType(l)}else M.raise("invalid buffer data")}else if(W(data)){n=data.shape;var c=data.stride,d=0,f=0,h=0,v=0;1===n.length?(d=n[0],f=1,h=c[0],v=0):2===n.length?(d=n[0],f=n[1],h=c[0],v=c[1]):M.raise("invalid shape");var m=Array.isArray(data.data)?y.dtype:ee(data.data),w=U.allocType(m,d*f);ie(w,data.data,d,f,h,v,data.offset),_(w,r),U.freeType(w)}else M.raise("invalid data for buffer subdata");return x},r.profile&&(x.stats=y.stats),x.destroy=function(){m(y)},x},createStream:function(e,data){var t=f.pop();return t||(t=new d(e)),t.bind(),v(t,data,35040,0,1,!1),t},destroyStream:function(e){f.push(e)},clear:function(){H(c).forEach(m),f.forEach(m)},getBuffer:function(e){return e&&e._buffer instanceof d?e._buffer:null},restore:function(){H(c).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))},_initBuffer:v}}(o,m,r,(function(e){return E.destroyBuffer(e)})),E=function(t,n,r,o,l){for(var c=r.maxAttributes,d=new Array(c),i=0;i<c;++i)d[i]=new Be;var f=0,h={},v={Record:Be,scope:{},state:d,currentVAO:null,targetVAO:null,restore:m()?function(){m()&&H(h).forEach((function(e){e.refresh()}))}:function(){},createVAO:function(t){var r=new x;function d(t){M(Array.isArray(t),"arguments to vertex array constructor must be an array"),M(t.length<c,"too many attributes"),M(t.length>0,"must specify at least one attribute");var o={},f=r.attributes;f.length=t.length;for(var i=0;i<t.length;++i){var h,v=t[i],m=f[i]=new Be,data=v.data||v;Array.isArray(data)||e(data)||W(data)?(r.buffers[i]&&(h=r.buffers[i],e(data)&&h._buffer.byteLength>=data.byteLength?h.subdata(data):(h.destroy(),r.buffers[i]=null)),r.buffers[i]||(h=r.buffers[i]=l.create(v,34962,!1,!0)),m.buffer=l.getBuffer(h),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1,o[i]=1):l.getBuffer(v)?(m.buffer=l.getBuffer(v),m.size=0|m.buffer.dimension,m.normalized=!1,m.type=m.buffer.dtype,m.offset=0,m.stride=0,m.divisor=0,m.state=1):l.getBuffer(v.buffer)?(m.buffer=l.getBuffer(v.buffer),m.size=0|(+v.size||m.buffer.dimension),m.normalized=!!v.normalized||!1,"type"in v?(M.parameter(v.type,Y,"invalid buffer type"),m.type=Y[v.type]):m.type=m.buffer.dtype,m.offset=0|(v.offset||0),m.stride=0|(v.stride||0),m.divisor=0|(v.divisor||0),m.state=1,M(m.size>=1&&m.size<=4,"size must be between 1 and 4"),M(m.offset>=0,"invalid offset"),M(m.stride>=0&&m.stride<=255,"stride must be between 0 and 255"),M(m.divisor>=0,"divisor must be positive"),M(!m.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in v?(M(i>0,"first attribute must not be a constant"),m.x=+v.x||0,m.y=+v.y||0,m.z=+v.z||0,m.w=+v.w||0,m.state=2):M(!1,"invalid attribute spec for location "+i)}for(var y=0;y<r.buffers.length;++y)!o[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),d}return o.vaoCount+=1,d.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.destroy()},d._vao=r,d._reglType="vao",d(t)},getVAO:function(e){return"function"==typeof e&&e._vao?e._vao:null},destroyBuffer:function(e){for(var i=0;i<d.length;++i){var n=d[i];n.buffer===e&&(t.disableVertexAttribArray(i),n.buffer=null)}},setVAO:m()?function(e){if(e!==v.currentVAO){var t=m();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),v.currentVAO=e}}:function(e){if(e!==v.currentVAO){if(e)e.bindAttrs();else for(var n=y(),i=0;i<d.length;++i){var r=d[i];r.buffer?(t.enableVertexAttribArray(i),t.vertexAttribPointer(i,r.size,r.type,r.normalized,r.stride,r.offfset),n&&r.divisor&&n.vertexAttribDivisorANGLE(i,r.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,r.x,r.y,r.z,r.w))}v.currentVAO=e}},clear:m()?function(){H(h).forEach((function(e){e.destroy()}))}:function(){}};function m(){return n.oes_vertex_array_object}function y(){return n.angle_instanced_arrays}function x(){this.id=++f,this.attributes=[];var e=m();this.vao=e?e.createVertexArrayOES():null,h[this.id]=this,this.buffers=[]}return x.prototype.bindAttrs=function(){for(var e=y(),n=this.attributes,i=0;i<n.length;++i){var r=n[i];r.buffer?(t.enableVertexAttribArray(i),t.bindBuffer(34962,r.buffer.buffer),t.vertexAttribPointer(i,r.size,r.type,r.normalized,r.stride,r.offset),e&&r.divisor&&e.vertexAttribDivisorANGLE(i,r.divisor)):(t.disableVertexAttribArray(i),t.vertexAttrib4f(i,r.x,r.y,r.z,r.w))}for(var o=n.length;o<c;++o)t.disableVertexAttribArray(o)},x.prototype.refresh=function(){var e=m();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),v.currentVAO=this)},x.prototype.destroy=function(){if(this.vao){var e=m();this===v.currentVAO&&(v.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}h[this.id]&&(delete h[this.id],o.vaoCount-=1)},v}(o,y,C,m,T),P=function(t,n,r,o){var l={},c=0,d={uint8:5121,uint16:5123};function f(e){this.id=c++,l[this.id]=this,this.buffer=e,this.primType=4,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(d.uint32=5125),f.prototype.bind=function(){this.buffer.bind()};var h=[];function v(o,data,l,c,d,f,h){var v;if(o.buffer.bind(),data){var m=h;h||e(data)&&(!W(data)||e(data.data))||(m=n.oes_element_index_uint?5125:5123),r._initBuffer(o.buffer,data,l,m,3)}else t.bufferData(34963,f,l),o.buffer.dtype=v||5121,o.buffer.usage=l,o.buffer.dimension=3,o.buffer.byteLength=f;if(v=h,!h){switch(o.buffer.dtype){case 5121:case 5120:v=5121;break;case 5123:case 5122:v=5123;break;case 5125:case 5124:v=5125;break;default:M.raise("unsupported type for element array")}o.buffer.dtype=v}o.type=v,M(5125!==v||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var y=d;y<0&&(y=o.buffer.byteLength,5123===v?y>>=1:5125===v&&(y>>=2)),o.vertCount=y;var x=c;if(c<0){x=4;var _=o.buffer.dimension;1===_&&(x=0),2===_&&(x=1),3===_&&(x=4)}o.primType=x}function m(e){o.elementsCount--,M(null!==e.buffer,"must not double destroy elements"),delete l[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,n){var l=r.create(null,34963,!0),c=new f(l._buffer);function h(t){if(t)if("number"==typeof t)l(t),c.primType=4,c.vertCount=0|t,c.type=5121;else{var data=null,n=35044,r=-1,o=-1,f=0,m=0;Array.isArray(t)||e(t)||W(t)?data=t:(M.type(t,"object","invalid arguments for elements"),"data"in t&&(data=t.data,M(Array.isArray(data)||e(data)||W(data),"invalid data for element buffer")),"usage"in t&&(M.parameter(t.usage,X,"invalid element buffer usage"),n=X[t.usage]),"primitive"in t&&(M.parameter(t.primitive,ne,"invalid element buffer primitive"),r=ne[t.primitive]),"count"in t&&(M("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),o=0|t.count),"type"in t&&(M.parameter(t.type,d,"invalid buffer type"),m=d[t.type]),"length"in t?f=0|t.length:(f=o,5123===m||5122===m?f*=2:5125!==m&&5124!==m||(f*=4))),v(c,data,n,r,o,f,m)}else l(),c.primType=4,c.vertCount=0,c.type=5121;return h}return o.elementsCount++,h(t),h._reglType="elements",h._elements=c,h.subdata=function(data,e){return l.subdata(data,e),h},h.destroy=function(){m(c)},h},createStream:function(data){var e=h.pop();return e||(e=new f(r.create(null,34963,!0,!1)._buffer)),v(e,data,35040,-1,-1,0,0),e},destroyStream:function(e){h.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof f?e._elements:null},clear:function(){H(l).forEach(m)}}}(o,y,T,m),A=function(e,n,r,o){var l={},c={};function d(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function f(e,t){for(var i=0;i<e.length;++i)if(e[i].id===t.id)return void(e[i].location=t.location);e.push(t)}function h(t,r,o){var d=35632===t?l:c,f=d[r];if(!f){var source=n.str(r);f=e.createShader(t),e.shaderSource(f,source),e.compileShader(f),M.shaderError(e,f,source,t,o),d[r]=f}return f}var v={},m=[],y=0;function x(e,t){this.id=y++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,o.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function _(desc,t,r){var i,l,c=h(35632,desc.fragId),v=h(35633,desc.vertId),m=desc.program=e.createProgram();if(e.attachShader(m,c),e.attachShader(m,v),r)for(i=0;i<r.length;++i){var y=r[i];e.bindAttribLocation(m,y[0],y[1])}e.linkProgram(m),M.linkError(e,m,n.str(desc.fragId),n.str(desc.vertId),t);var x=e.getProgramParameter(m,35718);o.profile&&(desc.stats.uniformsCount=x);var _=desc.uniforms;for(i=0;i<x;++i)if(l=e.getActiveUniform(m,i))if(l.size>1)for(var w=0;w<l.size;++w){var k=l.name.replace("[0]","["+w+"]");f(_,new d(k,n.id(k),e.getUniformLocation(m,k),l))}else f(_,new d(l.name,n.id(l.name),e.getUniformLocation(m,l.name),l));var S=e.getProgramParameter(m,35721);o.profile&&(desc.stats.attributesCount=S);var C=desc.attributes;for(i=0;i<S;++i)(l=e.getActiveAttrib(m,i))&&f(C,new d(l.name,n.id(l.name),e.getAttribLocation(m,l.name),l))}return o.profile&&(r.getMaxUniformsCount=function(){var e=0;return m.forEach((function(desc){desc.stats.uniformsCount>e&&(e=desc.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return m.forEach((function(desc){desc.stats.attributesCount>e&&(e=desc.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);H(l).forEach(t),l={},H(c).forEach(t),c={},m.forEach((function(desc){e.deleteProgram(desc.program)})),m.length=0,v={},r.shaderCount=0},program:function(n,o,d,f){M.command(n>=0,"missing vertex shader",d),M.command(o>=0,"missing fragment shader",d);var h=v[o];h||(h=v[o]={});var y=h[n];if(y&&(y.refCount++,!f))return y;var w=new x(o,n);return r.shaderCount++,_(w,d,f),y||(h[n]=w),m.push(w),t(w,{destroy:function(){if(w.refCount--,w.refCount<=0){e.deleteProgram(w.program);var t=m.indexOf(w);m.splice(t,1),r.shaderCount--}h[w.vertId].refCount<=0&&(e.deleteShader(c[w.vertId]),delete c[w.vertId],delete v[w.fragId][w.vertId]),Object.keys(v[w.fragId]).length||(e.deleteShader(l[w.fragId]),delete l[w.fragId],delete v[w.fragId])}})},restore:function(){l={},c={};for(var i=0;i<m.length;++i)_(m[i],null,m[i].attributes.map((function(e){return[e.location,e.name]})))},shader:h,frag:-1,vert:-1}}(o,v,m,r),O=Ie(o,y,C,(function(){j.procs.poll()}),S,m,r),I=function(e,t,n,r,o){var l={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(l.srgba=35907),t.ext_color_buffer_half_float&&(l.rgba16f=34842,l.rgb16f=34843),t.webgl_color_buffer_float&&(l.rgba32f=34836);var c=[];Object.keys(l).forEach((function(e){var t=l[e];c[t]=e}));var d=0,f={};function h(e){this.id=d++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function v(t){var n=t.renderbuffer;M(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete f[t.id],r.renderbufferCount--}return h.prototype.decRef=function(){--this.refCount<=0&&v(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(f).forEach((function(t){e+=f[t].stats.size})),e}),{create:function(a,b){var t=new h(e.createRenderbuffer());function d(a,b){var r=0,f=0,h=32854;if("object"==typeof a&&a){var v=a;if("shape"in v){var m=v.shape;M(Array.isArray(m)&&m.length>=2,"invalid renderbuffer shape"),r=0|m[0],f=0|m[1]}else"radius"in v&&(r=f=0|v.radius),"width"in v&&(r=0|v.width),"height"in v&&(f=0|v.height);"format"in v&&(M.parameter(v.format,l,"invalid renderbuffer format"),h=l[v.format])}else"number"==typeof a?(r=0|a,f="number"==typeof b?0|b:r):a?M.raise("invalid arguments to renderbuffer constructor"):r=f=1;if(M(r>0&&f>0&&r<=n.maxRenderbufferSize&&f<=n.maxRenderbufferSize,"invalid renderbuffer size"),r!==t.width||f!==t.height||h!==t.format)return d.width=t.width=r,d.height=t.height=f,t.format=h,e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,h,r,f),M(0===e.getError(),"invalid render buffer format"),o.profile&&(t.stats.size=Re(t.format,t.width,t.height)),d.format=c[t.format],d}return f[t.id]=t,r.renderbufferCount++,d(a,b),d.resize=function(r,l){var c=0|r,f=0|l||c;return c===t.width&&f===t.height||(M(c>0&&f>0&&c<=n.maxRenderbufferSize&&f<=n.maxRenderbufferSize,"invalid renderbuffer size"),d.width=t.width=c,d.height=t.height=f,e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,c,f),M(0===e.getError(),"invalid render buffer format"),o.profile&&(t.stats.size=Re(t.format,t.width,t.height))),d},d._reglType="renderbuffer",d._renderbuffer=t,o.profile&&(d.stats=t.stats),d.destroy=function(){t.decRef()},d},clear:function(){H(f).forEach(v)},restore:function(){H(f).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height)})),e.bindRenderbuffer(36161,null)}}}(o,y,C,m,r),L=function(e,n,r,o,l,c){var d={cur:null,next:null,dirty:!1,setFBO:null},f=["rgba"],h=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&h.push("srgba"),n.ext_color_buffer_half_float&&h.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&h.push("rgba32f");var v=["uint8"];function m(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,o=0;t?(r=t.width,o=t.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function y(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function x(e,t,n){if(e)if(e.texture){var r=e.texture._texture,o=Math.max(1,r.width),th=Math.max(1,r.height);M(o===t&&th===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var l=e.renderbuffer._renderbuffer;M(l.width===t&&l.height===n,"inconsistent width/height for renderbuffer"),l.refCount+=1}}function _(t,n){n&&(n.texture?e.framebufferTexture2D(36160,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,n.renderbuffer._renderbuffer.renderbuffer))}function w(e){var t=3553,n=null,r=null,data=e;"object"==typeof e&&(data=e.data,"target"in e&&(t=0|e.target)),M.type(data,"function","invalid attachment data");var o=data._reglType;return"texture2d"===o?(n=data,M(3553===t)):"textureCube"===o?(n=data,M(t>=34069&&t<34075,"invalid cube map target")):"renderbuffer"===o?(r=data,t=36161):M.raise("invalid regl object for attachment"),new m(t,n,r)}function k(e,t,n,r,c){if(n){var d=o.create2D({width:e,height:t,format:r,type:c});return d._texture.refCount=0,new m(3553,d,null)}var f=l.create({width:e,height:t,format:r});return f._renderbuffer.refCount=0,new m(36161,null,f)}function S(e){return e&&(e.texture||e.renderbuffer)}function C(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&v.push("half float","float16"),n.oes_texture_float&&v.push("float","float32");var T=0,E={};function P(){this.id=T++,E[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function A(e){e.colorAttachments.forEach(y),y(e.depthAttachment),y(e.stencilAttachment),y(e.depthStencilAttachment)}function O(t){var n=t.framebuffer;M(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,c.framebufferCount--,delete E[t.id]}function I(t){var i;e.bindFramebuffer(36160,t.framebuffer);var n=t.colorAttachments;for(i=0;i<n.length;++i)_(36064+i,n[i]);for(i=n.length;i<r.maxColorAttachments;++i)e.framebufferTexture2D(36160,36064+i,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),_(36096,t.depthAttachment),_(36128,t.stencilAttachment),_(33306,t.depthStencilAttachment);var o=e.checkFramebufferStatus(36160);e.isContextLost()||36053===o||M.raise("framebuffer configuration not supported, status = "+Ne[o]),e.bindFramebuffer(36160,d.next?d.next.framebuffer:null),d.cur=d.next,e.getError()}function D(e,o){var l=new P;function m(a,b){var i;M(d.next!==l,"can not update framebuffer which is currently in use");var e=0,t=0,o=!0,c=!0,y=null,_=!0,C="rgba",T="uint8",E=1,P=null,O=null,D=null,R=!1;if("number"==typeof a)e=0|a,t=0|b||e;else if(a){M.type(a,"object","invalid arguments for framebuffer");var z=a;if("shape"in z){var L=z.shape;M(Array.isArray(L)&&L.length>=2,"invalid shape for framebuffer"),e=L[0],t=L[1]}else"radius"in z&&(e=t=z.radius),"width"in z&&(e=z.width),"height"in z&&(t=z.height);("color"in z||"colors"in z)&&(y=z.color||z.colors,Array.isArray(y)&&M(1===y.length||n.webgl_draw_buffers,"multiple render targets not supported")),y||("colorCount"in z&&(E=0|z.colorCount,M(E>0,"invalid color buffer count")),"colorTexture"in z&&(_=!!z.colorTexture,C="rgba4"),"colorType"in z&&(T=z.colorType,_?(M(n.oes_texture_float||!("float"===T||"float32"===T),"you must enable OES_texture_float in order to use floating point framebuffer objects"),M(n.oes_texture_half_float||!("half float"===T||"float16"===T),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===T||"float16"===T?(M(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),C="rgba16f"):"float"!==T&&"float32"!==T||(M(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),C="rgba32f"),M.oneOf(T,v,"invalid color type")),"colorFormat"in z&&(C=z.colorFormat,f.indexOf(C)>=0?_=!0:h.indexOf(C)>=0?_=!1:_?M.oneOf(z.colorFormat,f,"invalid color format for texture"):M.oneOf(z.colorFormat,h,"invalid color format for renderbuffer"))),("depthTexture"in z||"depthStencilTexture"in z)&&(R=!(!z.depthTexture&&!z.depthStencilTexture),M(!R||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in z&&("boolean"==typeof z.depth?o=z.depth:(P=z.depth,c=!1)),"stencil"in z&&("boolean"==typeof z.stencil?c=z.stencil:(O=z.stencil,o=!1)),"depthStencil"in z&&("boolean"==typeof z.depthStencil?o=c=z.depthStencil:(D=z.depthStencil,o=!1,c=!1))}else e=t=1;var j=null,F=null,N=null,B=null;if(Array.isArray(y))j=y.map(w);else if(y)j=[w(y)];else for(j=new Array(E),i=0;i<E;++i)j[i]=k(e,t,_,C,T);M(n.webgl_draw_buffers||j.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),M(j.length<=r.maxColorAttachments,"too many color attachments, not supported"),e=e||j[0].width,t=t||j[0].height,P?F=w(P):o&&!c&&(F=k(e,t,R,"depth","uint32")),O?N=w(O):c&&!o&&(N=k(e,t,!1,"stencil","uint8")),D?B=w(D):!P&&!O&&c&&o&&(B=k(e,t,R,"depth stencil","depth stencil")),M(!!P+!!O+!!D<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var V=null;for(i=0;i<j.length;++i)if(x(j[i],e,t),M(!j[i]||j[i].texture&&ze.indexOf(j[i].texture._texture.format)>=0||j[i].renderbuffer&&Fe.indexOf(j[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),j[i]&&j[i].texture){var U=Le[j[i].texture._texture.format]*je[j[i].texture._texture.type];null===V?V=U:M(V===U,"all color attachments much have the same number of bits per pixel.")}return x(F,e,t),M(!F||F.texture&&6402===F.texture._texture.format||F.renderbuffer&&33189===F.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),x(N,e,t),M(!N||N.renderbuffer&&36168===N.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),x(B,e,t),M(!B||B.texture&&34041===B.texture._texture.format||B.renderbuffer&&34041===B.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),A(l),l.width=e,l.height=t,l.colorAttachments=j,l.depthAttachment=F,l.stencilAttachment=N,l.depthStencilAttachment=B,m.color=j.map(S),m.depth=S(F),m.stencil=S(N),m.depthStencil=S(B),m.width=l.width,m.height=l.height,I(l),m}return c.framebufferCount++,m(e,o),t(m,{resize:function(e,t){M(d.next!==l,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===l.width&&r===l.height)return m;for(var o=l.colorAttachments,i=0;i<o.length;++i)C(o[i],n,r);return C(l.depthAttachment,n,r),C(l.stencilAttachment,n,r),C(l.depthStencilAttachment,n,r),l.width=m.width=n,l.height=m.height=r,I(l),m},_reglType:"framebuffer",_framebuffer:l,destroy:function(){O(l),A(l)},use:function(e){d.setFBO({framebuffer:m},e)}})}return t(d,{getFramebuffer:function(object){if("function"==typeof object&&"framebuffer"===object._reglType){var e=object._framebuffer;if(e instanceof P)return e}return null},create:D,createCube:function(e){var l=Array(6);function c(a){var i;M(l.indexOf(d.next)<0,"can not update framebuffer which is currently in use");var e,r={color:null},h=0,m=null,y="rgba",x="uint8",_=1;if("number"==typeof a)h=0|a;else if(a){M.type(a,"object","invalid arguments for framebuffer");var w=a;if("shape"in w){var k=w.shape;M(Array.isArray(k)&&k.length>=2,"invalid shape for framebuffer"),M(k[0]===k[1],"cube framebuffer must be square"),h=k[0]}else"radius"in w&&(h=0|w.radius),"width"in w?(h=0|w.width,"height"in w&&M(w.height===h,"must be square")):"height"in w&&(h=0|w.height);("color"in w||"colors"in w)&&(m=w.color||w.colors,Array.isArray(m)&&M(1===m.length||n.webgl_draw_buffers,"multiple render targets not supported")),m||("colorCount"in w&&(_=0|w.colorCount,M(_>0,"invalid color buffer count")),"colorType"in w&&(M.oneOf(w.colorType,v,"invalid color type"),x=w.colorType),"colorFormat"in w&&(y=w.colorFormat,M.oneOf(w.colorFormat,f,"invalid color format for texture"))),"depth"in w&&(r.depth=w.depth),"stencil"in w&&(r.stencil=w.stencil),"depthStencil"in w&&(r.depthStencil=w.depthStencil)}else h=1;if(m)if(Array.isArray(m))for(e=[],i=0;i<m.length;++i)e[i]=m[i];else e=[m];else{e=Array(_);var S={radius:h,format:y,type:x};for(i=0;i<_;++i)e[i]=o.createCube(S)}for(r.color=Array(e.length),i=0;i<e.length;++i){var C=e[i];M("function"==typeof C&&"textureCube"===C._reglType,"invalid cube map"),h=h||C.width,M(C.width===h&&C.height===h,"invalid cube map shape"),r.color[i]={target:34069,data:e[i]}}for(i=0;i<6;++i){for(var T=0;T<e.length;++T)r.color[T].target=34069+i;i>0&&(r.depth=l[0].depth,r.stencil=l[0].stencil,r.depthStencil=l[0].depthStencil),l[i]?l[i](r):l[i]=D(r)}return t(c,{width:h,height:h,color:e})}return c(e),t(c,{faces:l,resize:function(e){var i,t=0|e;if(M(t>0&&t<=r.maxCubeMapSize,"invalid radius for cube fbo"),t===c.width)return c;var n=c.color;for(i=0;i<n.length;++i)n[i].resize(t);for(i=0;i<6;++i)l[i].resize(t);return c.width=c.height=t,c},_reglType:"framebufferCube",destroy:function(){l.forEach((function(e){e.destroy()}))}})},clear:function(){H(E).forEach(O)},restore:function(){d.cur=null,d.next=null,d.dirty=!0,H(E).forEach((function(t){t.framebuffer=e.createFramebuffer(),I(t)}))}})}(o,y,C,O,I,m),j=bt(o,v,y,C,T,P,0,L,{},E,A,{elements:null,primitive:4,count:-1,offset:0,instances:-1},S,x,r),N=Ve(o,L,j.procs.poll,S,l,y,C),B=j.next,canvas=o.canvas,V=[],$=[],G=[],Z=[r.onDestroy],re=null;function oe(){if(0===V.length)return x&&x.update(),void(re=null);re=R.next(oe),ve();for(var i=V.length-1;i>=0;--i){var e=V[i];e&&e(S,null,0)}o.flush(),x&&x.update()}function ae(){!re&&V.length>0&&(re=R.next(oe))}function se(){re&&(R.cancel(oe),re=null)}function ue(e){e.preventDefault(),c=!0,se(),$.forEach((function(e){e()}))}function le(e){o.getError(),c=!1,d.restore(),A.restore(),T.restore(),O.restore(),I.restore(),L.restore(),E.restore(),x&&x.restore(),j.procs.refresh(),ae(),G.forEach((function(e){e()}))}function ce(e){function n(object,e){var t={},n={};return Object.keys(object).forEach((function(option){var r=object[option];if(D.isDynamic(r))n[option]=D.unbox(r,option);else{if(e&&Array.isArray(r))for(var i=0;i<r.length;++i)if(D.isDynamic(r[i]))return void(n[option]=D.unbox(r,option));t[option]=r}})),{dynamic:n,static:t}}M(!!e,"invalid args to regl({...})"),M.type(e,"object","invalid args to regl({...})");var r=n(e.context||{},!0),o=n(e.uniforms||{},!0),l=n(e.attributes||{},!1),d=n(function(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}(e),!1),f={gpuTime:0,cpuTime:0,count:0},h=j.compile(d,l,o,r,f),v=h.draw,m=h.batch,y=h.scope,x=[];return t((function(e,body){var i;if(c&&M.raise("context lost"),"function"==typeof e)return y.call(this,null,e,0);if("function"==typeof body)if("number"==typeof e)for(i=0;i<e;++i)y.call(this,null,body,i);else{if(!Array.isArray(e))return y.call(this,e,body,0);for(i=0;i<e.length;++i)y.call(this,e[i],body,i)}else if("number"==typeof e){if(e>0)return m.call(this,function(e){for(;x.length<e;)x.push(null);return x}(0|e),0|e)}else{if(!Array.isArray(e))return v.call(this,e);if(e.length)return m.call(this,e,e.length)}}),{stats:f,destroy:function(){h.destroy()}})}canvas&&(canvas.addEventListener("webglcontextlost",ue,!1),canvas.addEventListener("webglcontextrestored",le,!1));var de=L.setFBO=ce({framebuffer:D.define.call(null,1,"framebuffer")});function fe(e,t){var n=0;j.procs.poll();var r=t.color;r&&(o.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in t&&(o.clearDepth(+t.depth),n|=256),"stencil"in t&&(o.clearStencil(0|t.stencil),n|=1024),M(!!n,"called regl.clear with no buffer specified"),o.clear(n)}function he(e){return M.type(e,"function","regl.frame() callback must be a function"),V.push(e),ae(),{cancel:function(){var i=_t(V,e);M(i>=0,"cannot cancel a frame twice"),V[i]=function e(){var t=_t(V,e);V[t]=V[V.length-1],V.length-=1,V.length<=0&&se()}}}}function pe(){var e=B.viewport,t=B.scissor_box;e[0]=e[1]=t[0]=t[1]=0,S.viewportWidth=S.framebufferWidth=S.drawingBufferWidth=e[2]=t[2]=o.drawingBufferWidth,S.viewportHeight=S.framebufferHeight=S.drawingBufferHeight=e[3]=t[3]=o.drawingBufferHeight}function ve(){S.tick+=1,S.time=ge(),pe(),j.procs.poll()}function me(){O.refresh(),pe(),j.procs.refresh(),x&&x.update()}function ge(){return(z()-_)/1e3}me();var ye=t(ce,{clear:function(e){if(M("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var i=0;i<6;++i)de(t({framebuffer:e.framebuffer.faces[i]},e),fe);else de(e,fe);else fe(0,e)},prop:D.define.bind(null,1),context:D.define.bind(null,2),this:D.define.bind(null,3),draw:ce({}),buffer:function(e){return T.create(e,34962,!1,!1)},elements:function(e){return P.create(e,!1)},texture:O.create2D,cube:O.createCube,renderbuffer:I.create,framebuffer:L.create,framebufferCube:L.createCube,vao:E.createVAO,attributes:l,frame:he,on:function(e,t){var n;switch(M.type(t,"function","listener callback must be a function"),e){case"frame":return he(t);case"lost":n=$;break;case"restore":n=G;break;case"destroy":n=Z;break;default:M.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var i=0;i<n.length;++i)if(n[i]===t)return n[i]=n[n.length-1],void n.pop()}}},limits:C,hasExtension:function(e){return C.extensions.indexOf(e.toLowerCase())>=0},read:N,destroy:function(){V.length=0,se(),canvas&&(canvas.removeEventListener("webglcontextlost",ue),canvas.removeEventListener("webglcontextrestored",le)),A.clear(),L.clear(),I.clear(),O.clear(),P.clear(),T.clear(),E.clear(),x&&x.clear(),Z.forEach((function(e){e()}))},_gl:o,_refresh:me,poll:function(){ve(),x&&x.update()},now:ge,stats:m});return r.onDone(null,ye),ye}}()},function(e,t,n){"use strict";e.exports=function(){function e(a){var b=[];return a.AMapUI&&b.push(p(a.AMapUI)),a.Loca&&b.push(t(a.Loca)),Promise.all(b)}function p(a){return new Promise((function(e,t){var o=[];if(a.plugins)for(var l=0;l<a.plugins.length;l+=1)-1==n.AMapUI.plugins.indexOf(a.plugins[l])&&o.push(a.plugins[l]);if(g.AMapUI===b.failed)t("前次请求 AMapUI 失败");else if(g.AMapUI===b.notload){g.AMapUI=b.loading,n.AMapUI.version=a.version||n.AMapUI.version,l=n.AMapUI.version;var c=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+l+"/main.js",d.onerror=function(a){g.AMapUI=b.failed,t("请求 AMapUI 失败")},d.onload=function(){if(g.AMapUI=b.loaded,o.length)window.AMapUI.loadUI(o,(function(){for(var a=0,b=o.length;a<b;a++){var t=o[a].split("/").slice(-1)[0];window.AMapUI[t]=arguments[a]}for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()}));else for(e();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},c.appendChild(d)}else g.AMapUI===b.loaded?a.version&&a.version!==n.AMapUI.version?t("不允许多个版本 AMapUI 混用"):o.length?window.AMapUI.loadUI(o,(function(){for(var a=0,b=o.length;a<b;a++){var t=o[a].split("/").slice(-1)[0];window.AMapUI[t]=arguments[a]}e()})):e():a.version&&a.version!==n.AMapUI.version?t("不允许多个版本 AMapUI 混用"):r.AMapUI.push((function(a){a?t(a):o.length?window.AMapUI.loadUI(o,(function(){for(var a=0,b=o.length;a<b;a++){var t=o[a].split("/").slice(-1)[0];window.AMapUI[t]=arguments[a]}e()})):e()}))}))}function t(a){return new Promise((function(e,t){if(n.AMap.version.startsWith("2.0"))t("Loca 暂不适配 JSAPI 2.0,请使用 1.4.15");else if(g.Loca===b.failed)t("前次请求 Loca 失败");else if(g.Loca===b.notload){g.Loca=b.loading,n.Loca.version=a.version||n.Loca.version;var o=n.Loca.version,l=n.key,c=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+o+"&key="+l,d.onerror=function(a){g.Loca=b.failed,t("请求 AMapUI 失败")},d.onload=function(){for(g.Loca=b.loaded,e();r.Loca.length;)r.Loca.splice(0,1)[0]()},c.appendChild(d)}else g.Loca===b.loaded?a.version&&a.version!==n.Loca.version?t("不允许多个版本 Loca 混用"):e():a.version&&a.version!==n.Loca.version?t("不允许多个版本 Loca 混用"):r.Loca.push((function(a){a?t(a):t()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var b,a;(a=b||(b={})).notload="notload",a.loading="loading",a.loaded="loaded",a.failed="failed";var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},g={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},r={AMap:[],AMapUI:[],Loca:[]},q=[];return{load:function(a){return new Promise((function(t,r){if(g.AMap==b.failed)r("");else if(g.AMap==b.notload){var o=a.key,l=a.version,c=a.plugins;o?(window.AMap&&"lbs.amap.com"!==location.host&&r("禁止多种API加载方式混用"),n.key=o,n.AMap.version=l||n.AMap.version,n.AMap.plugins=c||n.AMap.plugins,g.AMap=b.loading,l=document.body||document.head,window.___onAPILoaded=function(n){if(delete window.___onAPILoaded,n)g.AMap=b.failed,r(n);else for(g.AMap=b.loaded,e(a).then((function(){t(window.AMap)})).catch(r);q.length;)q.splice(0,1)[0]()},(c=document.createElement("script")).type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+o+"&plugin="+n.AMap.plugins.join(","),c.onerror=function(a){g.AMap=b.failed,r(a)},l.appendChild(c)):r("请填写key")}else if(g.AMap==b.loaded)if(a.key&&a.key!==n.key)r("多个不一致的 key");else if(a.version&&a.version!==n.AMap.version)r("不允许多个版本 JSAPI 混用");else{if(o=[],a.plugins)for(l=0;l<a.plugins.length;l+=1)-1==n.AMap.plugins.indexOf(a.plugins[l])&&o.push(a.plugins[l]);o.length?window.AMap.plugin(o,(function(){e(a).then((function(){t(window.AMap)})).catch(r)})):e(a).then((function(){t(window.AMap)})).catch(r)}else if(a.key&&a.key!==n.key)r("多个不一致的 key");else if(a.version&&a.version!==n.AMap.version)r("不允许多个版本 JSAPI 混用");else{var d=[];if(a.plugins)for(l=0;l<a.plugins.length;l+=1)-1==n.AMap.plugins.indexOf(a.plugins[l])&&d.push(a.plugins[l]);!function(a){"function"==typeof a&&(g.AMap===b.loaded?a(window.AMap):q.push(a))}((function(){d.length?window.AMap.plugin(d,(function(){e(a).then((function(){t(window.AMap)})).catch(r)})):e(a).then((function(){t(window.AMap)})).catch(r)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},g={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},r={AMap:[],AMapUI:[],Loca:[]}}}}()},function(e,t,n){e.exports=function(){"use strict";var e,t,n;function r(r,o){if(e)if(t){var l="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",c={};e(c),n=o(c),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([l],{type:"text/javascript"})))}else t=o;else e=o}return r(0,(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var o="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,r,i){var a=new n(e,t,r,i);return function(e){return a.solve(e)}}var l=u(.25,.1,.25,1);function p(e,t,n){return Math.min(n,Math.max(t,e))}function c(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}var f=1;function h(){return f++}function v(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function x(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function b(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function _(e){return Array.isArray(e)?e.map(_):"object"==typeof e&&e?x(e,_):e}var w={};function k(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function S(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function C(e){for(var t=0,n=0,r=e.length,i=r-1,a=void 0,o=void 0;n<r;i=n++)t+=((o=e[i]).x-(a=e[n]).x)*(a.y+o.y);return t}function T(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function E(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var M=null;function P(e){if(null==M){var t=e.navigator?e.navigator.userAgent:null;M=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return M}function A(e){try{var t=o[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var O,I,D,R,z=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),L=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,j=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,F={now:z,frame:function(e){var t=L(e);return{cancel:function(){return j(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=o.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return O||(O=o.document.createElement("a")),O.href=e,O.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return!!o.matchMedia&&(null==I&&(I=o.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},N={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!V&&R&&(q?U(e):D=e)}},V=!1,q=!1;function U(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,R),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),V=!0}o.document&&((R=o.document.createElement("img")).onload=function(){D&&U(D),D=null,q=!0},R.onerror=function(){V=!0,D=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",H=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function $(e){return 0===e.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},H.prototype.normalizeStyleURL=function(e,t){if(!$(e))return e;var n=X(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeGlyphsURL=function(e,t){if(!$(e))return e;var n=X(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSourceURL=function(e,t){if(!$(e))return e;var n=X(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},H.prototype.normalizeSpriteURL=function(e,t,n,r){var i=X(e);return $(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,K(i))},H.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!$(e))return e;var n=X(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(F.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||N.ACCESS_TOKEN;return N.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},H.prototype.canonicalizeTileURL=function(e,t){var n=X(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},H.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&$(t),r=[],i=0,a=e.tiles||[];i<a.length;i+=1){var o=a[i];Z(o)?r.push(this.canonicalizeTileURL(o,n)):r.push(o)}return r},H.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(N.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"/"!==r.path&&(e.path=""+r.path+e.path),!N.REQUIRE_ACCESS_TOKEN)return K(e);if(!(t=t||N.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),K(e)};var G=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(e){return G.test(e)}var Y=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(e){var t=e.match(Y);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function K(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function J(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(o.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Q=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(e){var t,n=J(N.ACCESS_TOKEN);return t=n&&n.u?o.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):N.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},Q.prototype.fetchEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=o.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=o.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){k("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var e=A("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{o.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){k("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(e){},Q.prototype.postEvent=function(e,t,n,r){var i=this;if(N.EVENTS_URL){var a=X(N.EVENTS_URL);a.params.push("access_token="+(r||N.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.12.0",skuId:W,userId:this.anonId},s=t?d(o,t):o,u={url:K(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=be(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},Q.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,rt=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(N.EVENTS_URL&&r||N.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return $(e)||Z(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=v()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}(Q),ie=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){N.EVENTS_URL&&N.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return $(e)||Z(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(N.ACCESS_TOKEN),r=n?n.u:N.ACCESS_TOKEN,i=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=v(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),u=(a-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e)}},t}(Q)),ne=ie.postTurnstileEvent.bind(ie),re=new rt,oe=re.postMapLoadEvent.bind(re),ae=500,se=50;function ue(){o.caches&&!ee&&(ee=o.caches.open("mapbox-tiles"))}function le(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var ce,de=1/0;function fe(){return null==ce&&(ce=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof o.createImageBitmap),ce}var he={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(he);var pe,ve,dt=function(e){function t(t,n,r){401===n&&Z(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),me=T()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===o.location.protocol?o.parent:o).location.href},ge=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(me())&&!/^\w+:/.test(n))){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new o.AbortController,i=new o.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:me(),signal:r.signal}),a=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&Z(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,a){if(!s){if(n&&"SecurityError"!==n.message&&k(n),r&&a)return p(r);var l=Date.now();o.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return p(n,r,l)}return t(new dt(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},p=function(n,r,u){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&u&&function(e,t,n){if(ue(),ee){var r={status:t.status,statusText:t.statusText,headers:new o.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=E(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new o.Response(t,r);ue(),ee&&ee.then((function(t){return t.put(le(e.url),n)})).catch((function(e){return k(e.message)}))})))}}(i,r,u),a=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(ue(),!ee)return t(null);var n=le(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=E(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)})).catch(t)})).catch(t)}(i,l):l(null,null),{cancel:function(){s=!0,a||r.abort()}}}(e,t);if(T()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new o.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new dt(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},ye=function(e,t){return ge(d(e,{type:"arrayBuffer"}),t)},be=function(e,t){return ge(d(e,{method:"POST"}),t)};pe=[],ve=0;var xe=function(e,t){if(B.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),ve>=N.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return pe.push(n),n}ve++;var r=!1,i=function(){if(!r)for(r=!0,ve--;pe.length&&ve<N.MAX_PARALLEL_IMAGE_REQUESTS;){var e=pe.shift();e.cancelled||(e.cancel=xe(e.requestParameters,e.callback).cancel)}},a=ye(e,(function(e,n,r,a){i(),e?t(e):n&&(fe()?function(e,t){var n=new o.Blob([new Uint8Array(e)],{type:"image/png"});o.createImageBitmap(n).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,t):function(e,t,n,r){var i=new o.Image,a=o.URL;i.onload=function(){t(null,i),a.revokeObjectURL(i.src)},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new o.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?a.createObjectURL(s):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(n,t,r,a))}));return{cancel:function(){a.cancel(),i()}}};function _e(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function we(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var ke=function(e,t){void 0===t&&(t={}),d(this,t),this.type=e},Se=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",d({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(ke),Ce=function(){};Ce.prototype.on=function(e,t){return this._listeners=this._listeners||{},_e(e,t,this._listeners),this},Ce.prototype.off=function(e,t){return we(e,t,this._listeners),we(e,t,this._oneTimeListeners),this},Ce.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},_e(e,t,this._oneTimeListeners),this},Ce.prototype.fire=function(e,t){"string"==typeof e&&(e=new ke(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];a<o.length;a+=1){var s=o[a];we(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(d(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Se&&console.error(e.error);return this},Ce.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ce.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ee=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Me(e){var t=e.value;return t?[new Ee(e.key,t,"constants have been deprecated as of v8")]:[]}function Pe(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}function Ae(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Oe(e){if(Array.isArray(e))return e.map(Oe);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Oe(e[n]);return t}return Ae(e)}var Ie=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),De=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};De.prototype.concat=function(e){return new De(this,e)},De.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},De.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Re={kind:"null"},ze={kind:"number"},Le={kind:"string"},je={kind:"boolean"},Fe={kind:"color"},Ne={kind:"object"},Be={kind:"value"},Ve={kind:"collator"},Ue={kind:"formatted"},We={kind:"resolvedImage"};function He(e,t){return{kind:"array",itemType:e,N:t}}function $e(e){if("array"===e.kind){var t=$e(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var qe=[Re,ze,Le,je,Fe,Ue,Ne,He(Be),We];function Ge(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ge(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=qe;n<r.length;n+=1)if(!Ge(r[n],t))return null}return"Expected "+$e(e)+" but found "+$e(t)+" instead."}function Ze(e,t){return t.some((function(t){return t.kind===e.kind}))}function Ye(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var Xe=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function o(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var p=s.substr(0,u),c=s.substr(u+1,l-(u+1)).split(","),d=1;switch(p){case"rgba":if(4!==c.length)return null;d=a(c.pop());case"rgb":return 3!==c.length?null:[i(c[0]),i(c[1]),i(c[2]),d];case"hsla":if(4!==c.length)return null;d=a(c.pop());case"hsl":if(3!==c.length)return null;var f=(parseFloat(c[0])%360+360)%360/360,h=a(c[1]),v=a(c[2]),m=v<=.5?v*(h+1):v+h-v*h,y=2*v-m;return[r(255*o(y,m,f+1/3)),r(255*o(y,m,f)),r(255*o(y,m,f-1/3)),d];default:return null}}return null}}catch(e){}})).parseCSSColor,Ke=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};Ke.parse=function(e){if(e){if(e instanceof Ke)return e;if("string"==typeof e){var t=Xe(e);if(t)return new Ke(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Ke.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},Ke.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},Ke.black=new Ke(0,0,0,1),Ke.white=new Ke(1,1,1,1),Ke.transparent=new Ke(0,0,0,0),Ke.red=new Ke(1,0,0,1);var Je=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Je.prototype.compare=function(e,t){return this.collator.compare(e,t)},Je.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Qe=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},et=function(e){this.sections=e};et.fromString=function(e){return new et([new Qe(e,null,null,null,null)])},et.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},et.factory=function(e){return e instanceof et?e:et.fromString(e)},et.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},et.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var tt=function(e){this.name=e.name,this.available=e.available};function it(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function nt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ke)return!0;if(e instanceof Je)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!nt(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!nt(e[r]))return!1;return!0}return!1}function ot(e){if(null===e)return Re;if("string"==typeof e)return Le;if("boolean"==typeof e)return je;if("number"==typeof e)return ze;if(e instanceof Ke)return Fe;if(e instanceof Je)return Ve;if(e instanceof et)return Ue;if(e instanceof tt)return We;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var a=ot(i[r]);if(t){if(t===a)continue;t=Be;break}t=a}return He(t||Be,n)}return Ne}function at(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ke||e instanceof et||e instanceof tt?e.toString():JSON.stringify(e)}tt.prototype.toString=function(){return this.name},tt.fromString=function(e){return e?new tt({name:e,available:!1}):null},tt.prototype.serialize=function(){return["image",this.name]};var st=function(e,t){this.type=e,this.value=t};st.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!nt(e[1]))return t.error("invalid value");var n=e[1],r=ot(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new st(r,n)},st.prototype.evaluate=function(){return this.value},st.prototype.eachChild=function(){},st.prototype.outputDefined=function(){return!0},st.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ke?["rgba"].concat(this.value.toArray()):this.value instanceof et?this.value.serialize():this.value};var ut=function(e){this.name="ExpressionEvaluationError",this.message=e};ut.prototype.toJSON=function(){return this.message};var lt={string:Le,number:ze,boolean:je,object:Ne},ct=function(e,t){this.type=e,this.args=t};ct.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in lt)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=lt[s],r++}else a=Be;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=He(a,o)}else n=lt[i];for(var u=[];r<e.length;r++){var l=t.parse(e[r],r,Be);if(!l)return null;u.push(l)}return new ct(n,u)},ct.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ge(this.type,ot(n)))return n;if(t===this.args.length-1)throw new ut("Expected value to be of type "+$e(this.type)+", but found "+$e(ot(n))+" instead.")}return null},ct.prototype.eachChild=function(e){this.args.forEach(e)},ct.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ct.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var ft=function(e){this.type=Ue,this.sections=e};ft.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,ze)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,He(Le))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,Fe)))return null;var p=r[r.length-1];p.scale=s,p.font=u,p.textColor=l}else{var c=t.parse(e[a],1,Be);if(!c)return null;var d=c.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:c,scale:null,font:null,textColor:null})}}return new ft(r)},ft.prototype.evaluate=function(e){return new et(this.sections.map((function(t){var n=t.content.evaluate(e);return ot(n)===We?new Qe("",n,null,null,null):new Qe(at(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},ft.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},ft.prototype.outputDefined=function(){return!1},ft.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var ht=function(e){this.type=We,this.input=e};ht.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Le);return n?new ht(n):t.error("No image name provided.")},ht.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=tt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},ht.prototype.eachChild=function(e){e(this.input)},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){return["image",this.input.serialize()]};var pt={"to-boolean":je,"to-color":Fe,"to-number":ze,"to-string":Le},vt=function(e,t){this.type=e,this.args=t};vt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=pt[n],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,Be);if(!o)return null;i.push(o)}return new vt(r,i)},vt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof Ke)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":it(t[0],t[1],t[2],t[3])))return new Ke(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ut(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new ut("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?et.fromString(at(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?tt.fromString(at(this.args[0].evaluate(e))):at(this.args[0].evaluate(e))},vt.prototype.eachChild=function(e){this.args.forEach(e)},vt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},vt.prototype.serialize=function(){if("formatted"===this.type.kind)return new ft([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ht(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var mt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?mt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ke.parse(e)),t};var yt=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};yt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},yt.prototype.eachChild=function(e){this.args.forEach(e)},yt.prototype.outputDefined=function(){return!1},yt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},yt.parse=function(e,t){var n,r=e[0],i=yt.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,l=0,p=s;l<p.length;l+=1){var c=p[l],d=c[0],f=c[1];u=new Bt(t.registry,t.path,null,t.scope);for(var h=[],v=!1,m=1;m<e.length;m++){var y=e[m],g=Array.isArray(d)?d[m-1]:d.type,x=u.parse(y,1+h.length,g);if(!x){v=!0;break}h.push(x)}if(!v)if(Array.isArray(d)&&d.length!==h.length)u.error("Expected "+d.length+" arguments, but found "+h.length+" instead.");else{for(var b=0;b<h.length;b++){var _=Array.isArray(d)?d[b]:d.type,w=h[b];u.concat(b+1).checkSubtype(_,w.type)}if(0===u.errors.length)return new yt(r,a,f,h)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var k=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map($e).join(", ")+")":"("+$e(t.type)+"...)"})).join(" | "),S=[],C=1;C<e.length;C++){var T=t.parse(e[C],1+S.length);if(!T)return null;S.push($e(T.type))}t.error("Expected arguments of type "+k+", but found ("+S.join(", ")+") instead.")}return null},yt.register=function(e,t){for(var n in yt.definitions=t,t)e[n]=yt};var bt=function(e,t,n){this.type=Ve,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function xt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function _t(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function wt(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function kt(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function St(e,t){for(var n,r,i,a,o,s,u,l=!1,p=0,c=t.length;p<c;p++)for(var d=t[p],f=0,h=d.length;f<h-1;f++){if((a=(n=e)[0]-(r=d[f])[0])*(u=n[1]-(i=d[f+1])[1])-(s=n[0]-i[0])*(o=n[1]-r[1])==0&&a*s<=0&&o*u<=0)return!1;kt(e,d[f],d[f+1])&&(l=!l)}return l}function Ct(e,t){for(var n=0;n<t.length;n++)if(St(e,t[n]))return!0;return!1}function Tt(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function Et(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var a=i[r],o=0;o<a.length-1;++o)if(0!=(c=[(p=a[o+1])[0]-(l=a[o])[0],p[1]-l[1]])[0]*(d=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-c[1]*d[0]&&Tt(s,u,l,p)&&Tt(l,p,s,u))return!0;var s,u,l,p,c,d;return!1}function Mt(e,t){for(var n=0;n<e.length;++n)if(!St(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(Et(e[r],e[r+1],t))return!1;return!0}function Pt(e,t){for(var n=0;n<t.length;n++)if(Mt(e,t[n]))return!0;return!1}function At(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=wt(e[i][o],n);xt(t,s),a.push(s)}r.push(a)}return r}function Ot(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=At(e[i],t,n);r.push(a)}return r}function It(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}xt(t,e)}function Dt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],o=[],s=0,u=e;s<u.length;s+=1)for(var l=0,p=u[s];l<p.length;l+=1){var c=p[l],d=[c.x+a[0],c.y+a[1]];It(d,t,n,i),o.push(d)}return o}function Rt(e,t,n,r){for(var i,a=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],s=[],u=0,l=e;u<l.length;u+=1){for(var p=[],c=0,d=l[u];c<d.length;c+=1){var f=d[c],h=[f.x+o[0],f.y+o[1]];xt(t,h),p.push(h)}s.push(p)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var v=0,m=s;v<m.length;v+=1)for(var y=0,g=m[v];y<g.length;y+=1)It(g[y],t,n,a)}return s}bt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,je);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,je);if(!i)return null;var a=null;return n.locale&&!(a=t.parse(n.locale,1,Le))?null:new bt(r,i,a)},bt.prototype.evaluate=function(e){return new Je(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},bt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var zt=function(e,t){this.type=je,this.geojson=e,this.geometries=t};function Lt(e){if(e instanceof yt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof zt)return!1;var t=!0;return e.eachChild((function(e){t&&!Lt(e)&&(t=!1)})),t}function jt(e){if(e instanceof yt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!jt(e)&&(t=!1)})),t}function Ft(e,t){if(e instanceof yt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!Ft(e,t)&&(n=!1)})),n}zt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(nt(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new zt(n,n.features[r].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new zt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new zt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},zt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=At(t.coordinates,r,i),o=Dt(e.geometry(),n,r,i);if(!_t(n,r))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!St(u[s],a))return!1}if("MultiPolygon"===t.type){var l=Ot(t.coordinates,r,i),p=Dt(e.geometry(),n,r,i);if(!_t(n,r))return!1;for(var c=0,d=p;c<d.length;c+=1)if(!Ct(d[c],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=At(t.coordinates,r,i),o=Rt(e.geometry(),n,r,i);if(!_t(n,r))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!Mt(u[s],a))return!1}if("MultiPolygon"===t.type){var l=Ot(t.coordinates,r,i),p=Rt(e.geometry(),n,r,i);if(!_t(n,r))return!1;for(var c=0,d=p;c<d.length;c+=1)if(!Pt(d[c],l))return!1}return!0}(e,this.geometries)}return!1},zt.prototype.eachChild=function(){},zt.prototype.outputDefined=function(){return!0},zt.prototype.serialize=function(){return["within",this.geojson]};var Nt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Nt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new Nt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Nt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Nt.prototype.eachChild=function(){},Nt.prototype.outputDefined=function(){return!1},Nt.prototype.serialize=function(){return["var",this.name]};var Bt=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new De),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Vt(e,t){for(var n,r=e.length-1,i=0,a=r,o=0;i<=a;)if((n=e[o=Math.floor((i+a)/2)])<=t){if(o===r||t<e[o+1])return o;i=o+1}else{if(!(n>t))throw new ut("Input is not a number.");a=o-1}return 0}Bt.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Bt.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new ct(t,[e]):"coerce"===n?new vt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof st)&&"resolvedImage"!==a.type.kind&&function e(t){if(t instanceof Nt)return e(t.boundExpression);if(t instanceof yt&&"error"===t.name)return!1;if(t instanceof bt)return!1;if(t instanceof zt)return!1;var n=t instanceof vt||t instanceof ct,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof st})),!!r&&Lt(t)&&Ft(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var u=new gt;try{a=new st(a.type,a.evaluate(u))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Bt.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Bt(this.registry,r,t||null,i,this.errors)},Bt.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Ie(r,e))},Bt.prototype.checkSubtype=function(e,t){var n=Ge(e,t);return n&&this.error(n),n};var Ut=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var a=i[r],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function Wt(e,t,n){return e*(1-n)+t*n}Ut.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,ze);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,l=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(s,l,i);if(!p)return null;i=i||p.type,r.push([o,p])}return new Ut(i,n,r)},Ut.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Vt(t,r)].evaluate(e)},Ut.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ut.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ut.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var Ht=Object.freeze({__proto__:null,number:Wt,color:function(e,t,n){return new Ke(Wt(e.r,t.r,n),Wt(e.g,t.g,n),Wt(e.b,t.b,n),Wt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Wt(e,t[r],n)}))}}),$t=6/29*3*(6/29),qt=Math.PI/180,Gt=180/Math.PI;function Zt(e){return e>.008856451679035631?Math.pow(e,1/3):e/$t+4/29}function Yt(e){return e>6/29?e*e*e:$t*(e-4/29)}function Xt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Kt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Jt(e){var t=Kt(e.r),n=Kt(e.g),r=Kt(e.b),i=Zt((.4124564*t+.3575761*n+.1804375*r)/.95047),a=Zt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Zt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function Qt(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Yt(t),n=.95047*Yt(n),r=1.08883*Yt(r),new Ke(Xt(3.2404542*n-1.5371385*t-.4985314*r),Xt(-.969266*n+1.8760108*t+.041556*r),Xt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tr(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var ei={forward:Jt,reverse:Qt,interpolate:function(e,t,n){return{l:Wt(e.l,t.l,n),a:Wt(e.a,t.a,n),b:Wt(e.b,t.b,n),alpha:Wt(e.alpha,t.alpha,n)}}},ti={forward:function(e){var t=Jt(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Gt;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*qt,n=e.c;return Qt({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tr(e.h,t.h,n),c:Wt(e.c,t.c,n),l:Wt(e.l,t.l,n),alpha:Wt(e.alpha,t.alpha,n)}}},ii=Object.freeze({__proto__:null,lab:ei,hcl:ti}),ni=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function ri(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}ni.interpolationFactor=function(e,t,r,i){var a=0;if("exponential"===e.name)a=ri(t,e.base,r,i);else if("linear"===e.name)a=ri(t,1,r,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new n(o[0],o[1],o[2],o[3]).solve(ri(t,1,r,i))}return a},ni.parse=function(e,t){var n=e[0],r=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var o=r[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:o}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,ze)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Fe:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var p=0;p<a.length;p+=2){var c=a[p],d=a[p+1],f=p+3,h=p+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var v=t.parse(d,h,l);if(!v)return null;l=l||v.type,u.push([c,v])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new ni(l,n,r,i,u):t.error("Type "+$e(l)+" is not interpolatable.")},ni.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var a=Vt(t,r),o=ni.interpolationFactor(this.interpolation,r,t[a],t[a+1]),s=n[a].evaluate(e),u=n[a+1].evaluate(e);return"interpolate"===this.operator?Ht[this.type.kind.toLowerCase()](s,u,o):"interpolate-hcl"===this.operator?ti.reverse(ti.interpolate(ti.forward(s),ti.forward(u),o)):ei.reverse(ei.interpolate(ei.forward(s),ei.forward(u),o))},ni.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},ni.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},ni.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var oi=function(e,t){this.type=e,this.args=t};oi.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=t.parse(o[a],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(e){return Ge(r,e.type)}));return new oi(u?Be:n,i)},oi.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,a=this.args;i<a.length&&(r++,(n=a[i].evaluate(e))&&n instanceof tt&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},oi.prototype.eachChild=function(e){this.args.forEach(e)},oi.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},oi.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ai=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};ai.prototype.evaluate=function(e){return this.result.evaluate(e)},ai.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},ai.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=t.parse(e[r+1],r+1);if(!a)return null;n.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new ai(n,o):null},ai.prototype.outputDefined=function(){return this.result.outputDefined()},ai.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var si=function(e,t,n){this.type=e,this.index=t,this.input=n};si.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ze),r=t.parse(e[2],2,He(t.expectedType||Be));return n&&r?new si(r.type.itemType,n,r):null},si.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ut("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ut("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ut("Array index must be an integer, but found "+t+" instead.");return n[t]},si.prototype.eachChild=function(e){e(this.index),e(this.input)},si.prototype.outputDefined=function(){return!1},si.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ui=function(e,t){this.type=je,this.needle=e,this.haystack=t};ui.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Be),r=t.parse(e[2],2,Be);return n&&r?Ze(n.type,[je,Le,ze,Re,Be])?new ui(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+$e(n.type)+" instead"):null},ui.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Ye(t,["boolean","string","number","null"]))throw new ut("Expected first argument to be of type boolean, string, number or null, but found "+$e(ot(t))+" instead.");if(!Ye(n,["string","array"]))throw new ut("Expected second argument to be of type array or string, but found "+$e(ot(n))+" instead.");return n.indexOf(t)>=0},ui.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},ui.prototype.outputDefined=function(){return!0},ui.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ci=function(e,t,n){this.type=ze,this.needle=e,this.haystack=t,this.fromIndex=n};ci.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Be),r=t.parse(e[2],2,Be);if(!n||!r)return null;if(!Ze(n.type,[je,Le,ze,Re,Be]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+$e(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,ze);return i?new ci(n,r,i):null}return new ci(n,r)},ci.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Ye(t,["boolean","string","number","null"]))throw new ut("Expected first argument to be of type boolean, string, number or null, but found "+$e(ot(t))+" instead.");if(!Ye(n,["string","array"]))throw new ut("Expected second argument to be of type array or string, but found "+$e(ot(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},ci.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},ci.prototype.outputDefined=function(){return!1},ci.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var di=function(e,t,n,r,i,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=a};di.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var p=0,c=s;p<c.length;p+=1){var d=c[p];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,ot(d)))return null}else n=ot(d);if(void 0!==i[String(d)])return l.error("Branch labels must be unique.");i[String(d)]=a.length}var f=t.parse(u,o,r);if(!f)return null;r=r||f.type,a.push(f)}var h=t.parse(e[1],1,Be);if(!h)return null;var v=t.parse(e[e.length-1],e.length-1,r);return v?"value"!==h.type.kind&&t.concat(1).checkSubtype(n,h.type)?null:new di(n,r,h,i,a,v):null},di.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(ot(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},di.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},di.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},di.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(c=r[this.cases[o]])?(r[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[c][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=n;u<l.length;u+=1){var p=l[u],c=p[0],d=p[1];t.push(1===d.length?s(d[0]):d.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var hr=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};hr.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,je);if(!a)return null;var o=t.parse(e[i+1],i+1,n);if(!o)return null;r.push([a,o]),n=n||o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new hr(n,r,s):null},hr.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},hr.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},hr.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},hr.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var fi=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function hi(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function pi(e,t,n,r){return 0===r.compare(t,n)}function vi(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=je,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,Be);if(!a)return null;if(!hi(n,a.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+$e(a.type)+"'.");var o=t.parse(e[2],2,Be);if(!o)return null;if(!hi(n,o.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+$e(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+$e(a.type)+"' and '"+$e(o.type)+"'.");r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new ct(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new ct(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ve)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=ot(a),u=ot(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ut('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=ot(a),p=ot(o);if("string"!==l.kind||"string"!==p.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}fi.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Be),r=t.parse(e[2],2,ze);if(!n||!r)return null;if(!Ze(n.type,[He(Be),Le,Be]))return t.error("Expected first argument to be of type array or string, but found "+$e(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,ze);return i?new fi(n.type,n,r,i):null}return new fi(n.type,n,r)},fi.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Ye(t,["string","array"]))throw new ut("Expected first argument to be of type array or string, but found "+$e(ot(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},fi.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},fi.prototype.outputDefined=function(){return!1},fi.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var mi=vi("==",(function(e,t,n){return t===n}),pi),gi=vi("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!pi(0,t,n,r)})),yi=vi("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),br=vi(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),bi=vi("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),xi=vi(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),_i=function(e,t,n,r,i){this.type=Le,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};_i.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,ze);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,Le)))return null;var a=null;if(r.currency&&!(a=t.parse(r.currency,1,Le)))return null;var o=null;if(r["min-fraction-digits"]&&!(o=t.parse(r["min-fraction-digits"],1,ze)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,ze))?null:new _i(n,i,a,o,s)},_i.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},_i.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},_i.prototype.outputDefined=function(){return!1},_i.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var wi=function(e){this.type=ze,this.input=e};wi.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+$e(n.type)+" instead."):new wi(n):null},wi.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ut("Expected value to be of type string or array, but found "+$e(ot(t))+" instead.")},wi.prototype.eachChild=function(e){e(this.input)},wi.prototype.outputDefined=function(){return!1},wi.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ki={"==":mi,"!=":gi,">":br,"<":yi,">=":xi,"<=":bi,array:ct,at:si,boolean:ct,case:hr,coalesce:oi,collator:bt,format:ft,image:ht,in:ui,"index-of":ci,interpolate:ni,"interpolate-hcl":ni,"interpolate-lab":ni,length:wi,let:ai,literal:st,match:di,number:ct,"number-format":_i,object:ct,slice:fi,step:Ut,string:ct,"to-boolean":vt,"to-color":vt,"to-number":vt,"to-string":vt,var:Nt,within:zt};function Si(e,t){var n=t[0],r=t[1],i=t[2],a=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=it(n,r,i,o);if(s)throw new ut(s);return new Ke(n/255*o,r/255*o,i/255*o,o)}function Ci(e,t){return e in t}function Ti(e,t){var n=t[e];return void 0===n?null:n}function Ei(e){return{type:e}}function Mi(e){return{result:"success",value:e}}function Pi(e){return{result:"error",value:e}}function Ai(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Oi(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Ii(e){return!!e.expression&&e.expression.interpolated}function Di(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Ri(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function zi(e){return e}function Li(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function ji(e,t,n,r,i){return Li(typeof n===i?r[n]:void 0,e.default,t.default)}function Fi(e,t,n){if("number"!==Di(n))return Li(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Ni(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Di(n))return Li(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=Vt(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],u=e.stops[a+1][1],l=Ht[t.type]||zi;if(e.colorSpace&&"rgb"!==e.colorSpace){var p=ii[e.colorSpace];l=function(e,t){return p.reverse(p.interpolate(p.forward(e),p.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return l(n,r,o)}}:l(s,u,o)}function Bi(e,t,n){return"color"===t.type?n=Ke.parse(n):"formatted"===t.type?n=et.fromString(n.toString()):"resolvedImage"===t.type?n=tt.fromString(n.toString()):Di(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Li(n,e.default,t.default)}yt.register(ki,{error:[{kind:"error"},[Le],function(e,t){throw new ut(t[0].evaluate(e))}],typeof:[Le,[Be],function(e,t){return $e(ot(t[0].evaluate(e)))}],"to-rgba":[He(ze,4),[Fe],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Fe,[ze,ze,ze],Si],rgba:[Fe,[ze,ze,ze,ze],Si],has:{type:je,overloads:[[[Le],function(e,t){return Ci(t[0].evaluate(e),e.properties())}],[[Le,Ne],function(e,t){var n=t[1];return Ci(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:Be,overloads:[[[Le],function(e,t){return Ti(t[0].evaluate(e),e.properties())}],[[Le,Ne],function(e,t){var n=t[1];return Ti(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[Be,[Le],function(e,t){return Ti(t[0].evaluate(e),e.featureState||{})}],properties:[Ne,[],function(e){return e.properties()}],"geometry-type":[Le,[],function(e){return e.geometryType()}],id:[Be,[],function(e){return e.id()}],zoom:[ze,[],function(e){return e.globals.zoom}],"heatmap-density":[ze,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[ze,[],function(e){return e.globals.lineProgress||0}],accumulated:[Be,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[ze,Ei(ze),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[ze,Ei(ze),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:ze,overloads:[[[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[ze],function(e,t){return-t[0].evaluate(e)}]]},"/":[ze,[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[ze,[ze,ze],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[ze,[],function(){return Math.LN2}],pi:[ze,[],function(){return Math.PI}],e:[ze,[],function(){return Math.E}],"^":[ze,[ze,ze],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[ze,[ze],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[ze,[ze],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[ze,[ze],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[ze,[ze],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[ze,[ze],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[ze,[ze],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[ze,[ze],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[ze,[ze],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[ze,Ei(ze),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[ze,Ei(ze),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[ze,[ze],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[ze,[ze],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ze,[ze],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[ze,[ze],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[je,[Le,Be],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[je,[Be],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[je,[Le],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[je,[Le,Be],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<a}],"filter-id-<":[je,[Be],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[je,[Le,Be],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>a}],"filter-id->":[je,[Be],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[je,[Le,Be],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[je,[Be],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[je,[Le,Be],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[je,[Be],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[je,[Be],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[je,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[je,[He(Le)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[je,[He(Be)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[je,[Le,He(Be)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[je,[Le,He(Be)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Ei(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:je,overloads:[[[je,je],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Ei(je),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[je,[je],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[je,[Le],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[Le,[Le],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Le,[Le],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Le,Ei(Be),function(e,t){return t.map((function(t){return at(t.evaluate(e))})).join("")}],"resolved-locale":[Le,[Ve],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var Vi=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Ri(e.default)?new Ke(0,0,0,0):"color"===e.type?Ke.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Ui(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in ki}function Wi(e,t){var n=new Bt(ki,[],t?function(e){var t={color:Fe,string:Le,number:ze,enum:Le,boolean:je,formatted:Ue,resolvedImage:We};return"array"===e.type?He(t[e.value]||Be,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Mi(new Vi(r,t)):Pi(n.errors)}Vi.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},Vi.prototype.evaluate=function(e,t,n,r,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new ut("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Hi=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!jt(t.expression)};Hi.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},Hi.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)};var $i=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!jt(t.expression),this.interpolationType=r};function qi(e,t){if("error"===(e=Wi(e,t)).result)return e;var n=e.value.expression,r=Lt(n);if(!r&&!Ai(t))return Pi([new Ie("","data expressions not supported")]);var i=Ft(n,["zoom"]);if(!i&&!Oi(t))return Pi([new Ie("","zoom expressions not supported")]);var a=function e(t){var n=null;if(t instanceof ai)n=e(t.result);else if(t instanceof oi)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Ut||t instanceof ni)&&t.input instanceof yt&&"zoom"===t.input.name&&(n=t);return n instanceof Ie||t.eachChild((function(t){var r=e(t);r instanceof Ie?n=r:!n&&r?n=new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Ie("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return a||i?a instanceof Ie?Pi([a]):a instanceof ni&&!Ii(t)?Pi([new Ie("",'"interpolate" expressions cannot be used with this property')]):Mi(a?new $i(r?"camera":"composite",e.value,a.labels,a instanceof ni?a.interpolation:void 0):new Hi(r?"constant":"source",e.value)):Pi([new Ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}$i.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},$i.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)},$i.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?ni.interpolationFactor(this.interpolationType,e,t,n):0};var Gi=function(e,t){this._parameters=e,this._specification=t,Pe(this,function e(t,n){var r,i,a,o="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),l=t.type||(Ii(n)?"exponential":"interval");if(o&&((t=Pe({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],Ke.parse(e[1])]}))),t.default=Ke.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!ii[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)r=Ni;else if("interval"===l)r=Fi;else if("categorical"===l){r=ji,i=Object.create(null);for(var p=0,c=t.stops;p<c.length;p+=1){var d=c[p];i[d[0]]=d[1]}a=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=Bi}if(s){for(var f={},h=[],v=0;v<t.stops.length;v++){var m=t.stops[v],y=m[0].zoom;void 0===f[y]&&(f[y]={zoom:y,type:t.type,property:t.property,default:t.default,stops:[]},h.push(y)),f[y].stops.push([m[0].value,m[1]])}for(var g=[],x=0,b=h;x<b.length;x+=1){var _=b[x];g.push([f[_].zoom,e(f[_],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:ni.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Ni({stops:g,base:t.base},n,i).evaluate(i,r)}}}if(u){var k="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:ni.interpolationFactor.bind(void 0,k),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,a)}}}return{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?Li(t.default,n.default):r(t,n,s,i,a)}}}(this._parameters,this._specification))};function Zi(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],u=Di(n);if("object"!==u)return[new Ee(t,n,"object expected, "+u+" found")];for(var l in n){var p=l.split(".")[0],c=r[p]||r["*"],d=void 0;if(i[p])d=i[p];else if(r[p])d=xn;else if(i["*"])d=i["*"];else{if(!r["*"]){s.push(new Ee(t,n[l],'unknown property "'+l+'"'));continue}d=xn}s=s.concat(d({key:(t?t+".":t)+l,value:n[l],valueSpec:c,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&s.push(new Ee(t,n,'missing required property "'+f+'"'));return s}function Yi(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||xn;if("array"!==Di(t))return[new Ee(a,t,"array expected, "+Di(t)+" found")];if(n.length&&t.length!==n.length)return[new Ee(a,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Ee(a,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Di(n.value)&&(s=n.value);for(var u=[],l=0;l<t.length;l++)u=u.concat(o({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:a+"["+l+"]"}));return u}function Xi(e){var t=e.key,n=e.value,r=e.valueSpec,i=Di(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Ee(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Ee(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Ee(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Ki(e){var t,n,r,i=e.valueSpec,a=Ae(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,u=!s,l="array"===Di(e.value.stops)&&"array"===Di(e.value.stops[0])&&"object"===Di(e.value.stops[0][0]),p=Zi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new Ee(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(Yi({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:c})),"array"===Di(n)&&0===n.length&&t.push(new Ee(e.key,n,"array must have at least one stop")),t},default:function(e){return xn({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&p.push(new Ee(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||p.push(new Ee(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!Ii(e.valueSpec)&&p.push(new Ee(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!Ai(e.valueSpec)?p.push(new Ee(e.key,e.value,"property functions not supported")):s&&!Oi(e.valueSpec)&&p.push(new Ee(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!l||void 0!==e.value.property||p.push(new Ee(e.key,e.value,'"property" property is required')),p;function c(e){var t=[],a=e.value,s=e.key;if("array"!==Di(a))return[new Ee(s,a,"array expected, "+Di(a)+" found")];if(2!==a.length)return[new Ee(s,a,"array length 2 expected, length "+a.length+" found")];if(l){if("object"!==Di(a[0]))return[new Ee(s,a,"object expected, "+Di(a[0])+" found")];if(void 0===a[0].zoom)return[new Ee(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new Ee(s,a,"object stop key must have value")];if(r&&r>Ae(a[0].zoom))return[new Ee(s,a[0].zoom,"stop zoom values must appear in ascending order")];Ae(a[0].zoom)!==r&&(r=Ae(a[0].zoom),n=void 0,o={}),t=t.concat(Zi({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Xi,value:d}}))}else t=t.concat(d({key:s+"[0]",value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return Ui(Oe(a[1]))?t.concat([new Ee(s+"[1]",a[1],"expressions are not allowed in function stops.")]):t.concat(xn({key:s+"[1]",value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function d(e,r){var s=Di(e.value),u=Ae(e.value),l=null!==e.value?e.value:r;if(t){if(s!==t)return[new Ee(e.key,l,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ee(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var p="number expected, "+s+" found";return Ai(i)&&void 0===a&&(p+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ee(e.key,l,p)]}return"categorical"!==a||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==a&&"number"===s&&void 0!==n&&u<n?[new Ee(e.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===a&&u in o?[new Ee(e.key,l,"stop domain values must be unique")]:(o[u]=!0,[])):[new Ee(e.key,l,"integer expected, found "+u)]}}function Ji(e){var t=("property"===e.expressionContext?qi:Wi)(Oe(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ee(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Ee(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!jt(n))return[new Ee(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!jt(n))return[new Ee(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Ft(n,["zoom","feature-state"]))return[new Ee(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Lt(n))return[new Ee(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Qi(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Ae(n))&&i.push(new Ee(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Ae(n))&&i.push(new Ee(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function en(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!en(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Gi.deserialize=function(e){return new Gi(e._parameters,e._specification)},Gi.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var tn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function nn(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};en(e)||(e=on(e));var t=Wi(e,tn);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function rn(e,t){return e<t?-1:e>t?1:0}function on(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?an(e[1],e[2],"=="):"!="===n?ln(an(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?an(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(on))):"all"===n?["all"].concat(e.slice(1).map(on)):"none"===n?["all"].concat(e.slice(1).map(on).map(ln)):"in"===n?sn(e[1],e.slice(2)):"!in"===n?ln(sn(e[1],e.slice(2))):"has"===n?un(e[1]):"!has"===n?ln(un(e[1])):"within"!==n||e}function an(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function sn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(rn)]]:["filter-in-small",e,["literal",t]]}}function un(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function ln(e){return["!",e]}function cn(e){return en(Oe(e.value))?Ji(Pe({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==Di(n))return[new Ee(r,n,"array expected, "+Di(n)+" found")];var i,a=t.styleSpec,o=[];if(n.length<1)return[new Ee(r,n,"filter array must have at least 1 element")];switch(o=o.concat(Qi({key:r+"[0]",value:n[0],valueSpec:a.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ae(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ae(n[1])&&o.push(new Ee(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&o.push(new Ee(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Di(n[1]))&&o.push(new Ee(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Di(n[s]),"$type"===Ae(n[1])?o=o.concat(Qi({key:r+"["+s+"]",value:n[s],valueSpec:a.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new Ee(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)o=o.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Di(n[1]),2!==n.length?o.push(new Ee(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&o.push(new Ee(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Di(n[1]),2!==n.length?o.push(new Ee(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&o.push(new Ee(r+"[1]",n[1],"object expected, "+i+" found"))}return o}(e)}function dn(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=o.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return xn({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var l,p=e.valueSpec||s[o];if(!p)return[new Ee(n,a,'unknown property "'+o+'"')];if("string"===Di(a)&&Ai(p)&&!p.tokens&&(l=/^{([^}]+)}$/.exec(a)))return[new Ee(n,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var c=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&c.push(new Ee(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Ri(Oe(a))&&"identity"===Ae(a.type)&&c.push(new Ee(n,a,'"text-font" does not support identity functions'))),c.concat(xn({key:e.key,value:a,valueSpec:p,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function fn(e){return dn(e,"paint")}function hn(e){return dn(e,"layout")}function pn(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new Ee(r,n,'either "type" or "ref" is required'));var o,s=Ae(n.type),u=Ae(n.ref);if(n.id)for(var l=Ae(n.id),p=0;p<e.arrayIndex;p++){var c=i.layers[p];Ae(c.id)===l&&t.push(new Ee(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+c.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Ee(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Ae(e.id)===u&&(o=e)})),o?o.ref?t.push(new Ee(r,n.ref,"ref cannot reference another ref layer")):s=Ae(o.type):t.push(new Ee(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var d=i.sources&&i.sources[n.source],f=d&&Ae(d.type);d?"vector"===f&&"raster"===s?t.push(new Ee(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?t.push(new Ee(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new Ee(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&d.lineMetrics||t.push(new Ee(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ee(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Ee(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Ee(r,n,'missing required property "source"'));return t=t.concat(Zi({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return xn({key:r+".type",value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:cn,layout:function(e){return Zi({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return hn(Pe({layerType:s},e))}}})},paint:function(e){return Zi({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return fn(Pe({layerType:s},e))}}})}}}))}function vn(e){var t=e.value,n=e.key,r=Di(t);return"string"!==r?[new Ee(n,t,"string expected, "+r+" found")]:[]}var mn={promoteId:function(e){var t=e.key,n=e.value;if("string"===Di(n))return vn({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,vn({key:t+"."+i,value:n[i]}));return r}};function gn(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Ee(n,t,'"type" is required')];var a,o=Ae(t.type);switch(o){case"vector":case"raster":case"raster-dem":return Zi({key:n,value:t,valueSpec:r["source_"+o.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:mn});case"geojson":if(a=Zi({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:mn}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],l=u[0],p="string"==typeof l?[l,["accumulated"],["get",s]]:l;a.push.apply(a,Ji({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),a.push.apply(a,Ji({key:n+"."+s+".reduce",value:p,expressionContext:"cluster-reduce"}))}return a;case"video":return Zi({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Zi({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Ee(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Qi({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function yn(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Di(t);if(void 0===t)return a;if("object"!==o)return a.concat([new Ee("light",t,"object expected, "+o+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);a=a.concat(u&&r[u[1]]&&r[u[1]].transition?xn({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?xn({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Ee(s,t[s],'unknown property "'+s+'"')])}return a}var bn={"*":function(){return[]},array:Yi,boolean:function(e){var t=e.value,n=e.key,r=Di(t);return"boolean"!==r?[new Ee(n,t,"boolean expected, "+r+" found")]:[]},number:Xi,color:function(e){var t=e.key,n=e.value,r=Di(n);return"string"!==r?[new Ee(t,n,"color expected, "+r+" found")]:null===Xe(n)?[new Ee(t,n,'color expected, "'+n+'" found')]:[]},constants:Me,enum:Qi,filter:cn,function:Ki,layer:pn,object:Zi,source:gn,light:yn,string:vn,formatted:function(e){return 0===vn(e).length?[]:Ji(e)},resolvedImage:function(e){return 0===vn(e).length?[]:Ji(e)}};function xn(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Ri(Ae(t))?Ki(e):n.expression&&Ui(Oe(t))?Ji(e):n.type&&bn[n.type]?bn[n.type](e):Zi(Pe({},e,{valueSpec:n.type?r[n.type]:n}))}function _n(e){var t=e.value,n=e.key,r=vn(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Ee(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Ee(n,t,'"glyphs" url must include a "{range}" token'))),r}function wn(e,t){void 0===t&&(t=Te);var n=[];return n=n.concat(xn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:_n,"*":function(){return[]}}})),e.constants&&(n=n.concat(Me({key:"constants",value:e.constants,style:e,styleSpec:t}))),kn(n)}function kn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Sn(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return kn(e.apply(this,t))}}wn.source=Sn(gn),wn.light=Sn(yn),wn.layer=Sn(pn),wn.filter=Sn(cn),wn.paintProperty=Sn(fn),wn.layoutProperty=Sn(hn);var Cn=wn,Tn=Cn.light,En=Cn.paintProperty,Mn=Cn.layoutProperty;function Pn(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Se(new Error(i[r].message))),n=!0;return n}var An=On;function On(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var p=n/t*e;this.min=-p,this.max=e+p}On.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},On.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},On.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},On.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},On.prototype._queryCell=function(e,t,n,r,i,a,o,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,p=this.bboxes,c=0;c<u.length;c++){var d=u[c];if(void 0===o[d]){var f=4*d;(s?s(p[f+0],p[f+1],p[f+2],p[f+3]):e<=p[f+2]&&t<=p[f+3]&&n>=p[f+0]&&r>=p[f+1])?(o[d]=!0,a.push(l[d])):o[d]=!1}}},On.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var u=this._convertToCellCoord(e),l=this._convertToCellCoord(t),p=this._convertToCellCoord(n),c=this._convertToCellCoord(r),d=u;d<=p;d++)for(var f=l;f<=c;f++){var h=this.d*f+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(f),this._convertFromCellCoord(d+1),this._convertFromCellCoord(f+1)))&&i.call(this,e,t,n,r,h,a,o,s))return}},On.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},On.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},On.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var In=o.ImageData,Dn=o.ImageBitmap,Rn={};function zn(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Rn[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Ln in zn("Object",Object),An.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},An.deserialize=function(e){return new An(e.buffer)},zn("Grid",An),zn("Color",Ke),zn("Error",Error),zn("ResolvedImage",tt),zn("StylePropertyFunction",Gi),zn("StyleExpression",Vi,{omit:["_evaluator"]}),zn("ZoomDependentExpression",$i),zn("ZoomConstantExpression",Hi),zn("CompoundExpression",yt,{omit:["_evaluate"]}),ki)ki[Ln]._classRegistryKey||zn("Expression_"+Ln,ki[Ln]);function jn(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Fn(e){return Dn&&e instanceof Dn}function Nn(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(jn(e)||Fn(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof In)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,a=e;i<a.length;i+=1)r.push(Nn(a[i],t));return r}if("object"==typeof e){var o=e.constructor,s=o._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=o.serialize?o.serialize(e,t):{};if(!o.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(Rn[s].omit.indexOf(l)>=0)){var p=e[l];u[l]=Rn[s].shallow.indexOf(l)>=0?p:Nn(p,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Bn(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||jn(e)||Fn(e)||ArrayBuffer.isView(e)||e instanceof In)return e;if(Array.isArray(e))return e.map(Bn);if("object"==typeof e){var t=e.$name||"Object",n=Rn[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if("$name"!==o){var s=e[o];r[o]=Rn[t].shallow.indexOf(o)>=0?s:Bn(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Vn=function(){this.first=!0};Vn.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var Un={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Wn(e){for(var t=0,n=e;t<n.length;t+=1)if(Hn(n[t].charCodeAt(0)))return!0;return!1}function Hn(e){return!(746!==e&&747!==e&&(e<4352||!(Un["Bopomofo Extended"](e)||Un.Bopomofo(e)||Un["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Un["CJK Compatibility Ideographs"](e)||Un["CJK Compatibility"](e)||Un["CJK Radicals Supplement"](e)||Un["CJK Strokes"](e)||!(!Un["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Un["CJK Unified Ideographs Extension A"](e)||Un["CJK Unified Ideographs"](e)||Un["Enclosed CJK Letters and Months"](e)||Un["Hangul Compatibility Jamo"](e)||Un["Hangul Jamo Extended-A"](e)||Un["Hangul Jamo Extended-B"](e)||Un["Hangul Jamo"](e)||Un["Hangul Syllables"](e)||Un.Hiragana(e)||Un["Ideographic Description Characters"](e)||Un.Kanbun(e)||Un["Kangxi Radicals"](e)||Un["Katakana Phonetic Extensions"](e)||Un.Katakana(e)&&12540!==e||!(!Un["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Un["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Un["Unified Canadian Aboriginal Syllabics"](e)||Un["Unified Canadian Aboriginal Syllabics Extended"](e)||Un["Vertical Forms"](e)||Un["Yijing Hexagram Symbols"](e)||Un["Yi Syllables"](e)||Un["Yi Radicals"](e))))}function $n(e){return!(Hn(e)||function(e){return!!(Un["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Un["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Un["Letterlike Symbols"](e)||Un["Number Forms"](e)||Un["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Un["Control Pictures"](e)&&9251!==e||Un["Optical Character Recognition"](e)||Un["Enclosed Alphanumerics"](e)||Un["Geometric Shapes"](e)||Un["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Un["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Un["CJK Symbols and Punctuation"](e)||Un.Katakana(e)||Un["Private Use Area"](e)||Un["CJK Compatibility Forms"](e)||Un["Small Form Variants"](e)||Un["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function qn(e){return e>=1424&&e<=2303||Un["Arabic Presentation Forms-A"](e)||Un["Arabic Presentation Forms-B"](e)}function Gn(e,t){return!(!t&&qn(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Un.Khmer(e))}function Zn(e){for(var t=0,n=e;t<n.length;t+=1)if(qn(n[t].charCodeAt(0)))return!0;return!1}var Yn=null,Xn="unavailable",Kn=null,Jn=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Xn="error"),Yn&&Yn(e)};function Qn(){er.fire(new ke("pluginStateChange",{pluginStatus:Xn,pluginURL:Kn}))}var er=new Ce,ir=function(){return Xn},nr=function(){if("deferred"!==Xn||!Kn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Xn="loading",Qn(),Kn&&ye({url:Kn},(function(e){e?Jn(e):(Xn="loaded",Qn())}))},rr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Xn||null!=rr.applyArabicShaping},isLoading:function(){return"loading"===Xn},setState:function(e){Xn=e.pluginStatus,Kn=e.pluginURL},isParsed:function(){return null!=rr.applyArabicShaping&&null!=rr.processBidirectionalText&&null!=rr.processStyledBidirectionalText},getPluginURL:function(){return Kn}},or=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vn,this.transition={})};or.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Gn(r[n].charCodeAt(0),t))return!1;return!0}(e,rr.isLoaded())},or.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},or.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var ar=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Ri(e))return new Gi(e,t);if(Ui(e)){var n=qi(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=Ke.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification.default:t,e.specification)};ar.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ar.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var sr=function(e){this.property=e,this.value=new ar(e,void 0)};sr.prototype.transitioned=function(e,t){return new ur(this.property,this.value,t,d({},e.transition,this.transition),e.now)},sr.prototype.untransitioned=function(){return new ur(this.property,this.value,null,{},0)};var li=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};li.prototype.getValue=function(e){return _(this._values[e].value.value)},li.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new sr(this._values[e].property)),this._values[e].value=new ar(this._values[e].property,null===t?void 0:_(t))},li.prototype.getTransition=function(e){return _(this._values[e].transition)},li.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new sr(this._values[e].property)),this._values[e].transition=_(t)||void 0},li.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e[r+"-transition"]=a)}return e},li.prototype.transitioned=function(e,t){for(var n=new lr(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n},li.prototype.untransitioned=function(){for(var e=new lr(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var ur=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};ur.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}return i};var lr=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};lr.prototype.possiblyEvaluate=function(e,t,n){for(var r=new fr(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r},lr.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var cr=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};cr.prototype.getValue=function(e){return _(this._values[e].value)},cr.prototype.setValue=function(e,t){this._values[e]=new ar(this._values[e].property,null===t?void 0:_(t))},cr.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},cr.prototype.possiblyEvaluate=function(e,t,n){for(var r=new fr(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r};var dr=function(e,t,n){this.property=e,this.value=t,this.parameters=n};dr.prototype.isConstant=function(){return"constant"===this.value.kind},dr.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},dr.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var fr=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};fr.prototype.get=function(e){return this._values[e]};var pr=function(e){this.specification=e};pr.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},pr.prototype.interpolate=function(e,t,n){var r=Ht[this.specification.type];return r?r(e,t,n):e};var vr=function(e,t){this.specification=e,this.overrides=t};vr.prototype.possiblyEvaluate=function(e,t,n,r){return new dr(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},vr.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new dr(this,{kind:"constant",value:void 0},e.parameters);var r=Ht[this.specification.type];return r?new dr(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},vr.prototype.evaluate=function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)};var mr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new dr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new dr(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new dr(this,{kind:"constant",value:s},t)}return new dr(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,a){if("source"===e.kind){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(vr),gr=function(e){this.specification=e};gr.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new or(Math.floor(t.zoom-1),t)),e.expression.evaluate(new or(Math.floor(t.zoom),t)),e.expression.evaluate(new or(Math.floor(t.zoom+1),t)),t)}},gr.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},gr.prototype.interpolate=function(e){return e};var yr=function(e){this.specification=e};yr.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},yr.prototype.interpolate=function(){return!1};var xr=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new ar(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new sr(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};zn("DataDrivenProperty",vr),zn("DataConstantProperty",pr),zn("CrossFadedDataDrivenProperty",mr),zn("CrossFadedProperty",gr),zn("ColorRampProperty",yr);var _r=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new cr(n.layout)),n.paint)){for(var r in this._transitionablePaint=new li(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new fr(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Mn,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(En,"layers."+this.id+".paint."+e,e,t,n))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Pn(this,e.call(Cn,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof dr&&Ai(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ce),wr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},kr=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Sr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Cr(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=wr[e.type].BYTES_PER_ELEMENT,a=n=Tr(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:Tr(n,Math.max(r,t)),alignment:t}}function Tr(e,t){return Math.ceil(e/t)*t}Sr.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Sr.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Sr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Sr.prototype.clear=function(){this.length=0},Sr.prototype.resize=function(e){this.reserve(e),this.length=e},Sr.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Sr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Er=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Sr);Er.prototype.bytesPerElement=4,zn("StructArrayLayout2i4",Er);var Mr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e},t}(Sr);Mr.prototype.bytesPerElement=8,zn("StructArrayLayout4i8",Mr);var Pr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Sr);Pr.prototype.bytesPerElement=12,zn("StructArrayLayout2i4i12",Pr);var Ar=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,e},t}(Sr);Ar.prototype.bytesPerElement=8,zn("StructArrayLayout2i4ub8",Ar);var Or=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Sr);Or.prototype.bytesPerElement=8,zn("StructArrayLayout2f8",Or);var Ir=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,r,i,a,o,s,u,l)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,p){var c=10*e;return this.uint16[c+0]=t,this.uint16[c+1]=n,this.uint16[c+2]=r,this.uint16[c+3]=i,this.uint16[c+4]=a,this.uint16[c+5]=o,this.uint16[c+6]=s,this.uint16[c+7]=u,this.uint16[c+8]=l,this.uint16[c+9]=p,e},t}(Sr);Ir.prototype.bytesPerElement=20,zn("StructArrayLayout10ui20",Ir);var Dr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,p,c){var d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,r,i,a,o,s,u,l,p,c)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,p,c,d){var f=12*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=u,this.int16[f+8]=l,this.int16[f+9]=p,this.int16[f+10]=c,this.int16[f+11]=d,e},t}(Sr);Dr.prototype.bytesPerElement=24,zn("StructArrayLayout4i4ui4i24",Dr);var Rr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Sr);Rr.prototype.bytesPerElement=12,zn("StructArrayLayout3f12",Rr);var zr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(Sr);zr.prototype.bytesPerElement=4,zn("StructArrayLayout1ul4",zr);var Lr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s,u)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l){var p=10*e,c=5*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.int16[p+4]=a,this.int16[p+5]=o,this.uint32[c+3]=s,this.uint16[p+8]=u,this.uint16[p+9]=l,e},t}(Sr);Lr.prototype.bytesPerElement=20,zn("StructArrayLayout6i1ul2ui20",Lr);var jr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Sr);jr.prototype.bytesPerElement=12,zn("StructArrayLayout2i2i2i12",jr);var Fr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e},t}(Sr);Fr.prototype.bytesPerElement=16,zn("StructArrayLayout2f1f2i16",Fr);var Nr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e},t}(Sr);Nr.prototype.bytesPerElement=12,zn("StructArrayLayout2ub2f12",Nr);var Br=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Sr);Br.prototype.bytesPerElement=6,zn("StructArrayLayout3ui6",Br);var Vr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m,y){var g=24*e,x=12*e,b=48*e;return this.int16[g+0]=t,this.int16[g+1]=n,this.uint16[g+2]=r,this.uint16[g+3]=i,this.uint32[x+2]=a,this.uint32[x+3]=o,this.uint32[x+4]=s,this.uint16[g+10]=u,this.uint16[g+11]=l,this.uint16[g+12]=p,this.float32[x+7]=c,this.float32[x+8]=d,this.uint8[b+36]=f,this.uint8[b+37]=h,this.uint8[b+38]=v,this.uint32[x+10]=m,this.int16[g+22]=y,e},t}(Sr);Vr.prototype.bytesPerElement=48,zn("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vr);var Ur=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m,y,g,x,b,_,w,k,S,C,T,E){var M=this.length;return this.resize(M+1),this.emplace(M,e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m,y,g,x,b,_,w,k,S,C,T,E)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m,y,g,x,b,_,w,k,S,C,T,E,M){var P=34*e,A=17*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=r,this.int16[P+3]=i,this.int16[P+4]=a,this.int16[P+5]=o,this.int16[P+6]=s,this.int16[P+7]=u,this.uint16[P+8]=l,this.uint16[P+9]=p,this.uint16[P+10]=c,this.uint16[P+11]=d,this.uint16[P+12]=f,this.uint16[P+13]=h,this.uint16[P+14]=v,this.uint16[P+15]=m,this.uint16[P+16]=y,this.uint16[P+17]=g,this.uint16[P+18]=x,this.uint16[P+19]=b,this.uint16[P+20]=_,this.uint16[P+21]=w,this.uint16[P+22]=k,this.uint32[A+12]=S,this.float32[A+13]=C,this.float32[A+14]=T,this.float32[A+15]=E,this.float32[A+16]=M,e},t}(Sr);Ur.prototype.bytesPerElement=68,zn("StructArrayLayout8i15ui1ul4f68",Ur);var Wr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(Sr);Wr.prototype.bytesPerElement=4,zn("StructArrayLayout1f4",Wr);var Hr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Sr);Hr.prototype.bytesPerElement=6,zn("StructArrayLayout3i6",Hr);var $r=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(Sr);$r.prototype.bytesPerElement=8,zn("StructArrayLayout1ul2ui8",$r);var qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Sr);qr.prototype.bytesPerElement=4,zn("StructArrayLayout2ui4",qr);var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(Sr);Gr.prototype.bytesPerElement=2,zn("StructArrayLayout1ui2",Gr);var Zr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e},t}(Sr);Zr.prototype.bytesPerElement=16,zn("StructArrayLayout4f16",Zr);var Yr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(kr);Yr.prototype.size=20;var Xr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Yr(this,e)},t}(Lr);zn("CollisionBoxArray",Xr);var Kr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(kr);Kr.prototype.size=48;var Jr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Kr(this,e)},t}(Vr);zn("PlacedSymbolArray",Jr);var Qr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(kr);Qr.prototype.size=68;var eo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Qr(this,e)},t}(Ur);zn("SymbolInstanceArray",eo);var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Wr);zn("GlyphOffsetArray",to);var io=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(Hr);zn("SymbolLineVertexArray",io);var no=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(kr);no.prototype.size=8;var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new no(this,e)},t}($r);zn("FeatureIndexArray",ro);var oo=Cr([{name:"a_pos",components:2,type:"Int16"}],4).members,ao=function(e){void 0===e&&(e=[]),this.segments=e};function so(e,t){return 256*(e=p(Math.floor(e),0,255))+p(Math.floor(t),0,255)}ao.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>ao.MAX_VERTEX_ARRAY_LENGTH&&k("Max vertices per segment is "+ao.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>ao.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},ao.prototype.get=function(){return this.segments},ao.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},ao.simpleSegment=function(e,t,n,r){return new ao([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zn("SegmentVector",ao);var uo=Cr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=t((function(e){e.exports=function(e,t){var n,r,i,a,o,s,u,l;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),co=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),fo=lo,ho=co;fo.murmur3=lo,fo.murmur2=ho;var po=function(){this.ids=[],this.positions=[],this.indexed=!1};po.prototype.add=function(e,t,n,r){this.ids.push(mo(e)),this.positions.push(t,n,r)},po.prototype.getPositions=function(e){for(var t=mo(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a},po.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var a=t[r+i>>1],o=r-1,s=i+1;;){do{o++}while(t[o]<a);do{s--}while(t[s]>a);if(o>=s)break;go(t,o,s),go(n,3*o,3*s),go(n,3*o+1,3*s+1),go(n,3*o+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},po.deserialize=function(e){var t=new po;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var vo=Math.pow(2,53)-1;function mo(e){var t=+e;return!isNaN(t)&&t<=vo?t:fo(String(e))}function go(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}zn("FeaturePositionMap",po);var yo=function(e,t){this.gl=e.gl,this.location=t},bo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(yo),xo=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(yo),_o=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(yo),wo=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(yo),ko=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(yo),So=function(e){function t(t,n){e.call(this,t,n),this.current=Ke.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(yo),Co=new Float32Array(16),To=function(e){function t(t,n){e.call(this,t,n),this.current=Co}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(yo);function Eo(e){return[so(255*e.r,255*e.g),so(255*e.b,255*e.a)]}var Mo=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Mo.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Mo.prototype.getBinding=function(e,t,n){return"color"===this.type?new So(e,t):new xo(e,t)};var Po=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Po.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Po.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},Po.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new ko(e,t):new xo(e,t)};var Ao=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Ao.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new or(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)},Ao.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Ao.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=Eo(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Ao.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ao.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Oo=function(e,t,n,r,i,a){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Oo.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.expression.evaluate(new or(this.zoom),t,{},r,[],i),o=this.expression.evaluate(new or(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)},Oo.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,a)},Oo.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=Eo(n),a=Eo(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Oo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Oo.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=p(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Oo.prototype.getBinding=function(e,t,n){return new xo(e,t)};var Io=function(e,t,n,r,i,a){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Io.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Io.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Io.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],a=r[n.mid],o=r[n.max];if(i&&a&&o)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],a.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},Io.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Do=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var a=e.paint.get(i);if(a instanceof dr&&Ai(a.property.specification)){var o=zo(i,e.type),s=a.value,u=a.property.specification.type,l=a.property.useIntegerZoom,p=a.property.specification["property-type"],c="cross-faded"===p||"cross-faded-data-driven"===p;if("constant"===s.kind)this.binders[i]=c?new Po(s.value,o):new Mo(s.value,o,u),r.push("/u_"+i);else if("source"===s.kind||c){var d=Lo(i,u,"source");this.binders[i]=c?new Io(s,u,l,t,d,e.id):new Ao(s,o,u,d),r.push("/a_"+i)}else{var f=Lo(i,u,"composite");this.binders[i]=new Oo(s,o,u,l,t,f),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Do.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Ao||t instanceof Oo?t.maxValue:0},Do.prototype.populatePaintArrays=function(e,t,n,r,i){for(var a in this.binders){var o=this.binders[a];(o instanceof Ao||o instanceof Oo||o instanceof Io)&&o.populatePaintArray(e,t,n,r,i)}},Do.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Po&&r.setConstantPatternPositions(e,t)}},Do.prototype.updatePaintArrays=function(e,t,n,r,i){var a=!1;for(var o in e)for(var s=0,u=t.getPositions(o);s<u.length;s+=1){var l=u[s],p=n.feature(l.index);for(var c in this.binders){var d=this.binders[c];if((d instanceof Ao||d instanceof Oo||d instanceof Io)&&!0===d.expression.isStateDependent){var f=r.paint.get(c);d.expression=f.value,d.updatePaintArray(l.start,l.end,p,e[o],i),a=!0}}}return a},Do.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Mo||n instanceof Po)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Do.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Ao||n instanceof Oo)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Io)for(var i=0;i<uo.members.length;i++)e.push(uo.members[i].name)}return e},Do.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Mo||n instanceof Po||n instanceof Oo)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Do.prototype.getPaintVertexBuffers=function(){return this._buffers},Do.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Mo||i instanceof Po||i instanceof Oo)for(var a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}return n},Do.prototype.setUniforms=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,u=o.property;this.binders[u].setUniform(o.binding,r,n.get(u),s)}},Do.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Io){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Ao||n instanceof Oo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Do.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Ao||n instanceof Oo||n instanceof Io)&&n.upload(e)}this.updatePaintBuffers()},Do.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Ao||t instanceof Oo||t instanceof Io)&&t.destroy()}};var Ro=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var a=i[r];this.programConfigurations[a.id]=new Do(a,t,n)}this.needsUpload=!1,this._featureMap=new po,this._bufferOffset=0};function zo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Lo(e,t,n){var r={color:{source:Or,composite:Zr},number:{source:Wr,composite:Or}},i=function(e){return{"line-pattern":{source:Ir,composite:Ir},"fill-pattern":{source:Ir,composite:Ir},"fill-extrusion-pattern":{source:Ir,composite:Ir}}[e]}(e);return i&&i[n]||r[t][n]}Ro.prototype.populatePaintArrays=function(e,t,n,r,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,i,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},Ro.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,a=n;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}},Ro.prototype.get=function(e){return this.programConfigurations[e]},Ro.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Ro.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},zn("ConstantBinder",Mo),zn("CrossFadedConstantBinder",Po),zn("SourceExpressionBinder",Ao),zn("CrossFadedCompositeBinder",Io),zn("CompositeExpressionBinder",Oo),zn("ProgramConfiguration",Do,{omit:["_buffers"]}),zn("ProgramConfigurationSet",Ro);var jo=Math.pow(2,14)-1,Fo=-jo-1;function No(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<i.length;a++){var o=i[a],s=Math.round(o.x*t),u=Math.round(o.y*t);o.x=p(s,Fo,jo),o.y=p(u,Fo,jo),(s<o.x||s>o.x+1||u<o.y||u>o.y+1)&&k("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Bo(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Vo=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Er,this.indexArray=new Br,this.segments=new ao,this.programConfigurations=new Ro(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Uo(e,t){for(var n=0;n<e.length;n++)if(Ko(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Ko(e,t[r]))return!0;return!!qo(e,t)}function Wo(e,t,n){return!!Ko(e,t)||!!Zo(t,e,n)}function Ho(e,t){if(1===e.length)return Xo(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Ko(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(Xo(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(qo(e,t[o]))return!0;return!1}function $o(e,t,n){if(e.length>1){if(qo(e,t))return!0;for(var r=0;r<t.length;r++)if(Zo(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Zo(e[i],t,n))return!0;return!1}function qo(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(Go(r,i,t[a],t[a+1]))return!0;return!1}function Go(e,t,n,r){return S(e,n,r)!==S(t,n,r)&&S(e,t,n)!==S(e,t,r)}function Zo(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Yo(e,t[i-1],t[i])<r)return!0;return!1}function Yo(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Xo(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,u=(n=e[o]).length-1;s<n.length;u=s++)(r=n[s]).y>t.y!=(i=n[u]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function Ko(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function Jo(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=S(e,t,n[0]);return a!==S(e,t,n[1])||a!==S(e,t,n[2])||a!==S(e,t,n[3])}function Qo(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function ea(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ta(e,t,n,r,a){if(!t[0]&&!t[1])return e;var o=i.convert(t)._mult(a);"viewport"===n&&o._rotate(-r);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(o));return s}Vo.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(var o=0,s=e;o<s.length;o+=1){var u=s[o],l=u.feature,p=u.id,c=u.index,d=u.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,h={type:l.type,id:p,properties:l.properties,geometry:f?No(l):[]};if(this.layers[0]._featureFilter.filter(new or(this.zoom),h,n)){f||(h.geometry=No(l));var v=a?a.evaluate(h,{},n):void 0;i.push({id:p,properties:l.properties,type:l.type,sourceLayerIndex:d,index:c,geometry:h.geometry,patterns:{},sortKey:v})}}a&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],x=g.geometry,b=g.index,_=g.sourceLayerIndex,w=e[b].feature;this.addFeature(g,x,b,n),t.featureIndex.insert(w,x,b,_,this.index)}},Vo.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Vo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vo.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Vo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vo.prototype.addFeature=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1)for(var o=0,s=a[i];o<s.length;o+=1){var u=s[o],l=u.x,p=u.y;if(!(l<0||l>=8192||p<0||p>=8192)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),d=c.vertexLength;Bo(this.layoutVertexArray,l,p,-1,-1),Bo(this.layoutVertexArray,l,p,1,-1),Bo(this.layoutVertexArray,l,p,1,1),Bo(this.layoutVertexArray,l,p,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},zn("CircleBucket",Vo,{omit:["layers"]});var ia=new xr({"circle-sort-key":new vr(Te.layout_circle["circle-sort-key"])}),na={paint:new xr({"circle-radius":new vr(Te.paint_circle["circle-radius"]),"circle-color":new vr(Te.paint_circle["circle-color"]),"circle-blur":new vr(Te.paint_circle["circle-blur"]),"circle-opacity":new vr(Te.paint_circle["circle-opacity"]),"circle-translate":new pr(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new pr(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new pr(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new pr(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vr(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vr(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vr(Te.paint_circle["circle-stroke-opacity"])}),layout:ia},ra="undefined"!=typeof Float32Array?Float32Array:Array;function oa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function aa(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],p=t[7],c=t[8],d=t[9],f=t[10],h=t[11],v=t[12],m=t[13],y=t[14],g=t[15],x=n[0],b=n[1],_=n[2],w=n[3];return e[0]=x*r+b*s+_*c+w*v,e[1]=x*i+b*u+_*d+w*m,e[2]=x*a+b*l+_*f+w*y,e[3]=x*o+b*p+_*h+w*g,e[4]=(x=n[4])*r+(b=n[5])*s+(_=n[6])*c+(w=n[7])*v,e[5]=x*i+b*u+_*d+w*m,e[6]=x*a+b*l+_*f+w*y,e[7]=x*o+b*p+_*h+w*g,e[8]=(x=n[8])*r+(b=n[9])*s+(_=n[10])*c+(w=n[11])*v,e[9]=x*i+b*u+_*d+w*m,e[10]=x*a+b*l+_*f+w*y,e[11]=x*o+b*p+_*h+w*g,e[12]=(x=n[12])*r+(b=n[13])*s+(_=n[14])*c+(w=n[15])*v,e[13]=x*i+b*u+_*d+w*m,e[14]=x*a+b*l+_*f+w*y,e[15]=x*o+b*p+_*h+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var sa,ua=aa;function la(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}sa=new ra(3),ra!=Float32Array&&(sa[0]=0,sa[1]=0,sa[2]=0),function(){var e=new ra(4);ra!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var ca=(function(){var e=new ra(2);ra!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,na)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Vo(e)},t.prototype.queryRadius=function(e){var t=e;return Qo("circle-radius",this,t)+Qo("circle-stroke-width",this,t)+ea(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o,s){for(var u=ta(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),l=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),p="map"===this.paint.get("circle-pitch-alignment"),c=p?u:function(e,t){return e.map((function(e){return da(e,t)}))}(u,s),d=p?l*o:l,f=0,h=r;f<h.length;f+=1)for(var v=0,m=h[f];v<m.length;v+=1){var y=m[v],g=p?y:da(y,s),x=d,b=la([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?x*=b[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(x*=a.cameraToCenterDistance/b[3]),Wo(c,g,x))return!0}return!1},t}(_r));function da(e,t){var n=la([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var fa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Vo);function ha(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function pa(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var a=ha({},{width:r,height:i},n);va(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=a.data}}function va(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*a,p=((r.y+u)*t.width+r.x)*a,c=0;c<i.width*a;c++)s[p+c]=o[l+c];return t}zn("HeatmapBucket",fa,{omit:["layers"]});var ma=function(e,t){ha(this,e,1,t)};ma.prototype.resize=function(e){pa(this,e,1)},ma.prototype.clone=function(){return new ma({width:this.width,height:this.height},new Uint8Array(this.data))},ma.copy=function(e,t,n,r,i){va(e,t,n,r,i,1)};var ga=function(e,t){ha(this,e,4,t)};ga.prototype.resize=function(e){pa(this,e,4)},ga.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},ga.prototype.clone=function(){return new ga({width:this.width,height:this.height},new Uint8Array(this.data))},ga.copy=function(e,t,n,r,i){va(e,t,n,r,i,4)},zn("AlphaImage",ma),zn("RGBAImage",ga);var ya={paint:new xr({"heatmap-radius":new vr(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vr(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new pr(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new yr(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new pr(Te.paint_heatmap["heatmap-opacity"])})};function ba(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new ga({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var p=u/(n-1),c=e.clips[o];a(s,l,c.start*(1-p)+c.end*p)}else for(var d=0,f=0;d<n;d++,f+=4)a(0,f,d/(n-1));return i}var xa=function(e){function t(t){e.call(this,t,ya),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new fa(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=ba({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(_r),_a={paint:new xr({"hillshade-illumination-direction":new pr(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new pr(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new pr(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new pr(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new pr(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new pr(Te.paint_hillshade["hillshade-accent-color"])})},wa=function(e){function t(t){e.call(this,t,_a)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(_r),ka=Cr([{name:"a_pos",components:2,type:"Int16"}],4).members,Sa=Ta,Ca=Ta;function Ta(e,t,n){n=n||2;var r,i,a,o,s,u,l,p=t&&t.length,c=p?t[0]*n:e.length,d=Ea(e,0,c,n,!0),f=[];if(!d||d.next===d.prev)return f;if(p&&(d=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Ea(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Fa(o));for(s.sort(Ra),i=0;i<s.length;i++)za(s[i],n),n=Ma(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var h=n;h<c;h+=n)(s=e[h])<r&&(r=s),(u=e[h+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return Pa(d,f,n,r,i,l),f}function Ea(e,t,n,r,i){var a,o;if(i===Ka(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Za(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Za(a,e[a],e[a+1],o);return o&&Ua(o,o.next)&&(Ya(o),o=o.next),o}function Ma(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ua(r,r.next)&&0!==Va(r.prev,r,r.next))r=r.next;else{if(Ya(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Pa(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=ja(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Oa(e,r,i,a):Aa(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Ya(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Pa(e=Ia(Ma(e),t,n),t,n,r,i,a,2):2===o&&Da(e,t,n,r,i,a):Pa(Ma(e),t,n,r,i,a,1);break}}}function Aa(e){var t=e.prev,n=e,r=e.next;if(Va(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Na(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Va(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Oa(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Va(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=ja(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),p=ja(s,u,t,n,r),c=e.prevZ,d=e.nextZ;c&&c.z>=l&&d&&d.z<=p;){if(c!==e.prev&&c!==e.next&&Na(i.x,i.y,a.x,a.y,o.x,o.y,c.x,c.y)&&Va(c.prev,c,c.next)>=0)return!1;if(c=c.prevZ,d!==e.prev&&d!==e.next&&Na(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Va(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;c&&c.z>=l;){if(c!==e.prev&&c!==e.next&&Na(i.x,i.y,a.x,a.y,o.x,o.y,c.x,c.y)&&Va(c.prev,c,c.next)>=0)return!1;c=c.prevZ}for(;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&Na(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Va(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Ia(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Ua(i,a)&&Wa(i,r,r.next,a)&&qa(i,a)&&qa(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Ya(r),Ya(r.next),r=e=a),r=r.next}while(r!==e);return Ma(r)}function Da(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ba(o,s)){var u=Ga(o,s);return o=Ma(o,o.next),u=Ma(u,u.next),Pa(o,t,n,r,i,a),void Pa(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Ra(e,t){return e.x-t.x}function za(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,p=n.x,c=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=p&&i!==r.x&&Na(a<c?i:o,a,p,c,a<c?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),qa(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&La(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t)){var n=Ga(t,e);Ma(t,t.next),Ma(n,n.next)}}function La(e,t){return Va(e.prev,e,t.prev)<0&&Va(t.next,e,e.next)<0}function ja(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Fa(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Na(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Ba(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Wa(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(qa(e,t)&&qa(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Va(e.prev,e,t.prev)||Va(e,t.prev,t))||Ua(e,t)&&Va(e.prev,e,e.next)>0&&Va(t.prev,t,t.next)>0)}function Va(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ua(e,t){return e.x===t.x&&e.y===t.y}function Wa(e,t,n,r){var i=$a(Va(e,t,n)),a=$a(Va(e,t,r)),o=$a(Va(n,r,e)),s=$a(Va(n,r,t));return i!==a&&o!==s||!(0!==i||!Ha(e,n,t))||!(0!==a||!Ha(e,r,t))||!(0!==o||!Ha(n,e,r))||!(0!==s||!Ha(n,t,r))}function Ha(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function $a(e){return e>0?1:e<0?-1:0}function qa(e,t){return Va(e.prev,e,e.next)<0?Va(e,t,e.next)>=0&&Va(e,e.prev,t)>=0:Va(e,t,e.prev)<0||Va(e,e.next,t)<0}function Ga(e,t){var n=new Xa(e.i,e.x,e.y),r=new Xa(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Za(e,t,n,r){var i=new Xa(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xa(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ka(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function Ja(e,t,n,r,i){!function e(t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),l=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*l*(o-l)/o)*(s-o/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/o+p)),Math.min(i,Math.floor(n+(o-s)*l/o+p)),a)}var c=t[n],d=r,f=i;for(Qa(t,r,n),a(t[i],c)>0&&Qa(t,r,i);d<f;){for(Qa(t,d,f),d++,f--;a(t[d],c)<0;)d++;for(;a(t[f],c)>0;)f--}0===a(t[r],c)?Qa(t,r,f):Qa(t,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(e,t,n||0,r||e.length-1,i||es)}function Qa(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function es(e,t){return e<t?-1:e>t?1:0}function ts(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=C(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var u=0;u<a.length;u++)a[u].length<=t||(Ja(a[u],t,1,a[u].length-1,is),a[u]=a[u].slice(0,t));return a}function is(e,t){return t.area-e.area}function ns(e,t,n){for(var r=n.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function rs(e,t,n,r,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var u=s[o],l=u.paint.get(e+"-pattern").value;if("constant"!==l.kind){var p=l.evaluate({zoom:r-1},n,{},i.availableImages),c=l.evaluate({zoom:r},n,{},i.availableImages),d=l.evaluate({zoom:r+1},n,{},i.availableImages);c=c&&c.name?c.name:c,d=d&&d.name?d.name:d,a[p=p&&p.name?p.name:p]=!0,a[c]=!0,a[d]=!0,n.patterns[u.id]={min:p,mid:c,max:d}}}return n}Ta.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(Ka(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(Ka(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var u=0;for(o=0;o<r.length;o+=3){var l=r[o]*n,p=r[o+1]*n,c=r[o+2]*n;u+=Math.abs((e[l]-e[c])*(e[p+1]-e[l+1])-(e[l]-e[p])*(e[c+1]-e[l+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},Ta.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Sa.default=Ca;var os=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Er,this.indexArray=new Br,this.indexArray2=new qr,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};os.prototype.populate=function(e,t,n){this.hasPattern=ns("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],u=s.feature,l=s.id,p=s.index,c=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f={type:u.type,id:l,properties:u.properties,geometry:d?No(u):[]};if(this.layers[0]._featureFilter.filter(new or(this.zoom),f,n)){d||(f.geometry=No(u));var h=r?r.evaluate(f,{},n,t.availableImages):void 0;i.push({id:l,properties:u.properties,type:u.type,sourceLayerIndex:c,index:p,geometry:f.geometry,patterns:{},sortKey:h})}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,m=i;v<m.length;v+=1){var y=m[v],g=y.geometry,x=y.index,b=y.sourceLayerIndex;if(this.hasPattern){var _=rs("fill",this.layers,y,this.zoom,t);this.patternFeatures.push(_)}else this.addFeature(y,g,x,n,{});t.featureIndex.insert(e[x].feature,g,x,b,this.index)}},os.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},os.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},os.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},os.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ka),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},os.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=ts(t,500);a<o.length;a+=1){for(var s=o[a],u=0,l=0,p=s;l<p.length;l+=1)u+=p[l].length;for(var c=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),d=c.vertexLength,f=[],h=[],v=0,m=s;v<m.length;v+=1){var y=m[v];if(0!==y.length){y!==s[0]&&h.push(f.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),x=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(x+y.length-1,x),f.push(y[0].x),f.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(x+b-1,x+b),f.push(y[b].x),f.push(y[b].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var _=Sa(f,h),w=0;w<_.length;w+=3)this.indexArray.emplaceBack(d+_[w],d+_[w+1],d+_[w+2]);c.vertexLength+=u,c.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},zn("FillBucket",os,{omit:["layers","patternFeatures"]});var as=new xr({"fill-sort-key":new vr(Te.layout_fill["fill-sort-key"])}),ss={paint:new xr({"fill-antialias":new pr(Te.paint_fill["fill-antialias"]),"fill-opacity":new vr(Te.paint_fill["fill-opacity"]),"fill-color":new vr(Te.paint_fill["fill-color"]),"fill-outline-color":new vr(Te.paint_fill["fill-outline-color"]),"fill-translate":new pr(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new pr(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new mr(Te.paint_fill["fill-pattern"])}),layout:as},us=function(e){function t(t){e.call(this,t,ss)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new os(e)},t.prototype.queryRadius=function(){return ea(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o){return Ho(ta(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),r)},t.prototype.isTileClipped=function(){return!0},t}(_r),ls=Cr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,cs=ds;function ds(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(fs,this,t)}function fs(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function hs(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,a=0,o=0,s=0,u=[];e.pos<n;){if(a<=0){var l=e.readVarint();r=7&l,a=l>>3}if(a--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new i(o,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},ds.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var p=e.readVarint();n=7&p,r=p>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<u&&(u=a),a>l&&(l=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,u,s,l]},ds.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,u=this.loadGeometry(),l=ds.types[this.type];function p(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var c=[];for(r=0;r<u.length;r++)c[r]=u[r][0];p(u=c);break;case 2:for(r=0;r<u.length;r++)p(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=hs(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)p(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d};var ps=vs;function vs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ms,this,t),this.length=this._features.length}function ms(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function gs(e,t,n){if(3===e){var r=new ps(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}vs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new cs(this._pbf,t,this.extent,this._keys,this._values)};var ys={VectorTile:function(e,t){this.layers=e.readFields(gs,{},t)},VectorTileFeature:cs,VectorTileLayer:ps},bs=ys.VectorTileFeature.types,xs=Math.pow(2,13);function _s(e,t,n,r,i,a,o,s){e.emplaceBack(t,n,2*Math.floor(r*xs)+o,i*xs*2,a*xs*2,Math.round(s))}var ws=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Pr,this.indexArray=new Br,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function ks(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}ws.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=ns("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.feature,s=a.id,u=a.index,l=a.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,c={type:o.type,id:s,properties:o.properties,geometry:p?No(o):[]};if(this.layers[0]._featureFilter.filter(new or(this.zoom),c,n)){var d={id:s,sourceLayerIndex:l,index:u,geometry:p?c.geometry:No(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(rs("fill-extrusion",this.layers,d,this.zoom,t)):this.addFeature(d,d.geometry,u,n,{}),t.featureIndex.insert(o,d.geometry,u,l,this.index,!0)}}},ws.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},ws.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ws.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ls),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=ts(t,500);a<o.length;a+=1){for(var s=o[a],u=0,l=0,p=s;l<p.length;l+=1)u+=p[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,f=s;d<f.length;d+=1){var h=f[d];if(0!==h.length&&!((I=h).every((function(e){return e.x<0}))||I.every((function(e){return e.x>8192}))||I.every((function(e){return e.y<0}))||I.every((function(e){return e.y>8192}))))for(var v=0,m=0;m<h.length;m++){var y=h[m];if(m>=1){var g=h[m-1];if(!ks(y,g)){c.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var x=y.sub(g)._perp()._unit(),b=g.dist(y);v+b>32768&&(v=0),_s(this.layoutVertexArray,y.x,y.y,x.x,x.y,0,0,v),_s(this.layoutVertexArray,y.x,y.y,x.x,x.y,0,1,v),_s(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,0,v+=b),_s(this.layoutVertexArray,g.x,g.y,x.x,x.y,0,1,v);var _=c.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+u>ao.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===bs[e.type]){for(var w=[],k=[],S=c.vertexLength,C=0,T=s;C<T.length;C+=1){var E=T[C];if(0!==E.length){E!==s[0]&&k.push(w.length/2);for(var M=0;M<E.length;M++){var P=E[M];_s(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),w.push(P.x),w.push(P.y)}}}for(var A=Sa(w,k),O=0;O<A.length;O+=3)this.indexArray.emplaceBack(S+A[O],S+A[O+2],S+A[O+1]);c.primitiveLength+=A.length/3,c.vertexLength+=u}}var I;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},zn("FillExtrusionBucket",ws,{omit:["layers","features"]});var Ss={paint:new xr({"fill-extrusion-opacity":new pr(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vr(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new pr(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new pr(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new mr(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vr(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vr(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new pr(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(e){function t(t){e.call(this,t,Ss)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new ws(e)},t.prototype.queryRadius=function(){return ea(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s,u){var l=ta(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),p=this.paint.get("fill-extrusion-height").evaluate(t,n),c=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,r){for(var a=[],o=0,s=e;o<s.length;o+=1){var u=s[o],l=[u.x,u.y,0,1];la(l,l,t),a.push(new i(l[0]/l[3],l[1]/l[3]))}return a}(l,u),f=function(e,t,n,r){for(var a=[],o=[],s=r[8]*t,u=r[9]*t,l=r[10]*t,p=r[11]*t,c=r[8]*n,d=r[9]*n,f=r[10]*n,h=r[11]*n,v=0,m=e;v<m.length;v+=1){for(var y=[],g=[],x=0,b=m[v];x<b.length;x+=1){var _=b[x],w=_.x,k=_.y,S=r[0]*w+r[4]*k+r[12],C=r[1]*w+r[5]*k+r[13],T=r[2]*w+r[6]*k+r[14],E=r[3]*w+r[7]*k+r[15],M=T+l,P=E+p,A=S+c,O=C+d,I=T+f,D=E+h,R=new i((S+s)/P,(C+u)/P);R.z=M/P,y.push(R);var z=new i(A/D,O/D);z.z=I/D,g.push(z)}a.push(y),o.push(g)}return[a,o]}(r,c,p,u);return function(e,t,n){var r=1/0;Ho(n,t)&&(r=Es(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var u=a[s],l=[u,a[s+1],o[s+1],o[s],u];Uo(n,l)&&(r=Math.min(r,Es(n,l)))}return r!==1/0&&r}(f[0],f[1],d)},t}(_r);function Ts(e,t){return e.x*t.x+e.y*t.y}function Es(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),u=a.sub(i),l=o.sub(i),p=Ts(s,s),c=Ts(s,u),d=Ts(u,u),f=Ts(l,s),h=Ts(l,u),v=p*d-c*c,m=(d*f-c*h)/v,y=(p*h-c*f)/v,g=i.z*(1-m-y)+n.z*m+a.z*y;if(isFinite(g))return g}return 1/0}for(var x=1/0,b=0,_=t;b<_.length;b+=1)x=Math.min(x,_[b].z);return x}var Ms=Cr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ps=Cr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,As=ys.VectorTileFeature.types,Os=Math.cos(Math.PI/180*37.5),Is=Math.pow(2,14)/.5,Ds=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Ar,this.layoutVertexArray2=new Or,this.indexArray=new Br,this.programConfigurations=new Ro(e.layers,e.zoom),this.segments=new ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ds.prototype.populate=function(e,t,n){this.hasPattern=ns("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],u=s.feature,l=s.id,p=s.index,c=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f={type:u.type,id:l,properties:u.properties,geometry:d?No(u):[]};if(this.layers[0]._featureFilter.filter(new or(this.zoom),f,n)){d||(f.geometry=No(u));var h=r?r.evaluate(f,{},n):void 0;i.push({id:l,properties:u.properties,type:u.type,sourceLayerIndex:c,index:p,geometry:f.geometry,patterns:{},sortKey:h})}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var v=0,m=i;v<m.length;v+=1){var y=m[v],g=y.geometry,x=y.index,b=y.sourceLayerIndex;if(this.hasPattern){var _=rs("line",this.layers,y,this.zoom,t);this.patternFeatures.push(_)}else this.addFeature(y,g,x,n,{});t.featureIndex.insert(e[x].feature,g,x,b,this.index)}},Ds.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ds.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Ds.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ds.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ds.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ps)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ms),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ds.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ds.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ds.prototype.addFeature=function(e,t,n,r,i){var a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),u=a.get("line-miter-limit"),l=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var p=0,c=t;p<c.length;p+=1)this.addLine(c[p],e,o,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Ds.prototype.addLine=function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===As[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var p,c=this.overscaling<=16?122880/(512*this.overscaling):0,d=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),f=void 0,h=void 0,v=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[l].sub(p=e[u-2])._unit()._perp());for(var y=l;y<u;y++)if(!(h=y===u-1?s?e[l+1]:void 0:e[y+1])||!e[y].equals(h)){m&&(v=m),p&&(f=p),p=e[y],m=h?h.sub(p)._unit()._perp():v;var g=(v=v||m).add(m);0===g.x&&0===g.y||g._unit();var x=v.x*m.x+v.y*m.y,b=g.x*m.x+g.y*m.y,_=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<Os&&f&&h,S=v.x*m.y-v.y*m.x>0;if(k&&y>l){var C=p.dist(f);if(C>2*c){var T=p.sub(p.sub(f)._mult(c/C)._round());this.updateDistance(f,T),this.addCurrentVertex(T,v,0,0,d),f=T}}var E=f&&h,M=E?n:s?"butt":r;if(E&&"round"===M&&(_<a?M="miter":_<=2&&(M="fakeround")),"miter"===M&&_>i&&(M="bevel"),"bevel"===M&&(_>2&&(M="flipbevel"),_<i&&(M="miter")),f&&this.updateDistance(f,p),"miter"===M)g._mult(_),this.addCurrentVertex(p,g,0,0,d);else if("flipbevel"===M){if(_>100)g=m.mult(-1);else{var P=_*v.add(m).mag()/v.sub(m).mag();g._perp()._mult(P*(S?-1:1))}this.addCurrentVertex(p,g,0,0,d),this.addCurrentVertex(p,g.mult(-1),0,0,d)}else if("bevel"===M||"fakeround"===M){var A=-Math.sqrt(_*_-1),O=S?A:0,I=S?0:A;if(f&&this.addCurrentVertex(p,v,O,I,d),"fakeround"===M)for(var D=Math.round(180*w/Math.PI/20),R=1;R<D;R++){var z=R/D;if(.5!==z){var L=z-.5;z+=z*L*(z-1)*((1.0904+x*(x*(3.55645-1.43519*x)-3.2452))*L*L+(.848013+x*(.215638*x-1.06021)))}var j=m.sub(v)._mult(z)._add(v)._unit()._mult(S?-1:1);this.addHalfVertex(p,j.x,j.y,!1,S,0,d)}h&&this.addCurrentVertex(p,m,-O,-I,d)}else if("butt"===M)this.addCurrentVertex(p,g,0,0,d);else if("square"===M){var F=f?1:-1;this.addCurrentVertex(p,g,F,F,d)}else"round"===M&&(f&&(this.addCurrentVertex(p,v,0,0,d),this.addCurrentVertex(p,v,1,1,d,!0)),h&&(this.addCurrentVertex(p,m,-1,-1,d,!0),this.addCurrentVertex(p,m,0,0,d)));if(k&&y<u-1){var N=p.dist(h);if(N>2*c){var B=p.add(h.sub(p)._mult(c/N)._round());this.updateDistance(p,B),this.addCurrentVertex(B,m,0,0,d),p=B}}}}},Ds.prototype.addCurrentVertex=function(e,t,n,r,i,a){void 0===a&&(a=!1);var o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i),this.distance>Is/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,a))},Ds.prototype.addHalfVertex=function(e,t,n,r,i,a,o){var s=.5*(this.lineClips?this.scaledDistance*(Is-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),i?this.e2=u:this.e1=u},Ds.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ds.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},zn("LineBucket",Ds,{omit:["layers","patternFeatures"]});var Rs=new xr({"line-cap":new pr(Te.layout_line["line-cap"]),"line-join":new vr(Te.layout_line["line-join"]),"line-miter-limit":new pr(Te.layout_line["line-miter-limit"]),"line-round-limit":new pr(Te.layout_line["line-round-limit"]),"line-sort-key":new vr(Te.layout_line["line-sort-key"])}),zs={paint:new xr({"line-opacity":new vr(Te.paint_line["line-opacity"]),"line-color":new vr(Te.paint_line["line-color"]),"line-translate":new pr(Te.paint_line["line-translate"]),"line-translate-anchor":new pr(Te.paint_line["line-translate-anchor"]),"line-width":new vr(Te.paint_line["line-width"]),"line-gap-width":new vr(Te.paint_line["line-gap-width"]),"line-offset":new vr(Te.paint_line["line-offset"]),"line-blur":new vr(Te.paint_line["line-blur"]),"line-dasharray":new gr(Te.paint_line["line-dasharray"]),"line-pattern":new mr(Te.paint_line["line-pattern"]),"line-gradient":new yr(Te.paint_line["line-gradient"])}),layout:Rs},Ls=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new or(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=d({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(vr))(zs.paint.properties["line-width"].specification);Ls.useIntegerZoom=!0;var js=function(e){function t(t){e.call(this,t,zs),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ut,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Ls.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ds(e)},t.prototype.queryRadius=function(e){var t=e,n=Fs(Qo("line-width",this,t),Qo("line-gap-width",this,t)),r=Qo("line-offset",this,t);return n/2+Math.abs(r)+ea(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s){var u=ta(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),l=s/2*Fs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),p=this.paint.get("line-offset").evaluate(t,n);return p&&(r=function(e,t){for(var n=[],r=new i(0,0),a=0;a<e.length;a++){for(var o=e[a],s=[],u=0;u<o.length;u++){var l=o[u],p=o[u+1],c=0===u?r:l.sub(o[u-1])._unit()._perp(),d=u===o.length-1?r:p.sub(l)._unit()._perp(),f=c._add(d)._unit();f._mult(1/(f.x*d.x+f.y*d.y)),s.push(f._mult(t)._add(l))}n.push(s)}return n}(r,p*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(Ko(e,i[a]))return!0;if($o(e,i,n))return!0}return!1}(u,r,l)},t.prototype.isTileClipped=function(){return!0},t}(_r);function Fs(e,t){return t>0?t+2*e:e}var Ns=Cr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Bs=Cr([{name:"a_projected_pos",components:3,type:"Float32"}],4),Vs=(Cr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Cr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Us=(Cr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Cr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Ws=Cr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Hs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),rr.applyArabicShaping&&(e=rr.applyArabicShaping(e)),e}(e.text,t,n)})),e}Cr([{name:"triangle",components:3,type:"Uint16"}]),Cr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Cr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Cr([{type:"Float32",name:"offsetX"}]),Cr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var $s={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},qs=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,p=-7,c=n?i-1:0,d=n?-1:1,f=e[t+c];for(c+=d,a=f&(1<<-p)-1,f>>=-p,p+=s;p>0;a=256*a+e[t+c],c+=d,p-=8);for(o=a&(1<<-p)-1,a>>=-p,p+=r;p>0;o=256*o+e[t+c],c+=d,p-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),a-=l}return(f?-1:1)*o*Math.pow(2,a-r)},Gs=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,p=(1<<l)-1,c=p>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=p):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?d/u:d*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=p?(s=0,o=p):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+f]=255&o,f+=h,o/=256,l-=8);e[n+f-h]|=128*v},Zs=Ys;function Ys(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;var Xs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ks(e){return e.type===Ys.Bytes?e.readVarint()+e.pos:e.pos+1}function Js(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Qs(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function eu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function tu(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function iu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function nu(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function ou(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function su(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function lu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function cu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function du(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function fu(e,t,n){1===e&&n.readMessage(hu,t)}function hu(e,t,n){if(3===e){var r=n.readMessage(pu,{}),i=r.width,a=r.height,o=r.left,s=r.top,u=r.advance;t.push({id:r.id,bitmap:new ma({width:i+6,height:a+6},r.bitmap),metrics:{width:i,height:a,left:o,top:s,advance:u}})}}function pu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function vu(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];t+=a.w*a.h,n=Math.max(n,a.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,l=0,p=e;l<p.length;l+=1)for(var c=p[l],d=o.length-1;d>=0;d--){var f=o[d];if(!(c.w>f.w||c.h>f.h)){if(c.x=f.x,c.y=f.y,u=Math.max(u,c.y+c.h),s=Math.max(s,c.x+c.w),c.w===f.w&&c.h===f.h){var h=o.pop();d<o.length&&(o[d]=h)}else c.h===f.h?(f.x+=c.w,f.w-=c.w):c.w===f.w?(f.y+=c.h,f.h-=c.h):(o.push({x:f.x+c.w,y:f.y,w:f.w-c.w,h:c.h}),f.y+=c.h,f.h-=c.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Ys.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=lu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=du(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=lu(this.buf,this.pos)+4294967296*lu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=lu(this.buf,this.pos)+4294967296*du(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=qs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=qs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return Js(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return Js(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return Js(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return Js(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return Js(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return Js(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Xs?function(e,t,n){return Xs.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,u=e[i],l=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p>n)break;1===p?u<128&&(l=u):2===p?128==(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)<=127&&(l=null):3===p?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((l=(15&u)<<12|(63&a)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===p&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,p=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=p}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ys.Bytes)return e.push(this.readVarint(t));var n=Ks(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSVarint());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ys.Bytes)return e.push(this.readBoolean());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFloat());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ys.Bytes)return e.push(this.readDouble());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed32());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed32());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readFixed64());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ys.Bytes)return e.push(this.readSFixed64());var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ys.Fixed32)this.pos+=4;else{if(t!==Ys.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),cu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),cu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),cu(this.buf,-1&e,this.pos),cu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),cu(this.buf,-1&e,this.pos),cu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Qs(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Gs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Gs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&Qs(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Ys.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,eu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,tu,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,uu,t)},writeBytesField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var mu=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=a,this.content=o,this.version=r},gu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};gu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},gu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},gu.tlbr.get=function(){return this.tl.concat(this.br)},gu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(mu.prototype,gu);var yu=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var a=vu(i),o=new ga({width:a.w||1,height:a.h||1});for(var s in e){var u=e[s],l=n[s].paddedRect;ga.copy(u.data,o,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var p in t){var c=t[p],d=r[p].paddedRect,f=d.x+1,h=d.y+1,v=c.data.width,m=c.data.height;ga.copy(c.data,o,{x:0,y:0},{x:f,y:h},c.data),ga.copy(c.data,o,{x:0,y:m-1},{x:f,y:h-1},{width:v,height:1}),ga.copy(c.data,o,{x:0,y:0},{x:f,y:h+m},{width:v,height:1}),ga.copy(c.data,o,{x:v-1,y:0},{x:f-1,y:h},{width:1,height:m}),ga.copy(c.data,o,{x:0,y:0},{x:f+v,y:h},{width:1,height:m})}this.image=o,this.iconPositions=n,this.patternPositions=r};yu.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new mu(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},yu.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},yu.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},zn("ImagePosition",mu),zn("ImageAtlas",yu);var bu={horizontal:1,vertical:2,horizontalOnly:3},xu=function(){this.scale=1,this.fontStack="",this.imageName=null};xu.forText=function(e,t){var n=new xu;return n.scale=e||1,n.fontStack=t,n},xu.forImage=function(e){var t=new xu;return t.imageName=e,t};var _u=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function wu(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v){var m,y=_u.fromFeature(e,i);c===bu.vertical&&y.verticalizePunctuation();var g=rr.processBidirectionalText,x=rr.processStyledBidirectionalText;if(g&&1===y.sections.length){m=[];for(var b=0,_=g(y.toString(),Pu(y,l,a,t,r,f,h));b<_.length;b+=1){var w=_[b],k=new _u;k.text=w,k.sections=y.sections;for(var S=0;S<w.length;S++)k.sectionIndex.push(0);m.push(k)}}else if(x){m=[];for(var C=0,T=x(y.text,y.sectionIndex,Pu(y,l,a,t,r,f,h));C<T.length;C+=1){var E=T[C],M=new _u;M.text=E[0],M.sectionIndex=E[1],M.sections=y.sections,m.push(M)}}else m=function(e,t){for(var n=[],r=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(y,Pu(y,l,a,t,r,f,h));var P=[],A={positionedLines:P,text:y.toString(),top:p[1],bottom:p[1],left:p[0],right:p[0],writingMode:c,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,a,o,s,u,l,p,c){for(var d=0,f=-17,h=0,v=0,m="right"===s?1:"left"===s?0:.5,y=0,g=0,x=i;g<x.length;g+=1){var b=x[g];b.trim();var _=b.getMaxScale(),w=24*(_-1),k={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=k;var S=k.positionedGlyphs,C=0;if(b.length()){for(var T=0;T<b.length();T++){var E=b.getSection(T),M=b.getSectionIndex(T),P=b.getCharCode(T),A=0,O=null,I=null,D=null,R=24,z=!(u===bu.horizontal||!p&&!Hn(P)||p&&(ku[P]||(W=P,Un.Arabic(W)||Un["Arabic Supplement"](W)||Un["Arabic Extended-A"](W)||Un["Arabic Presentation Forms-A"](W)||Un["Arabic Presentation Forms-B"](W))));if(E.imageName){var L=r[E.imageName];if(!L)continue;D=E.imageName,e.iconsInText=e.iconsInText||!0,I=L.paddedRect;var j=L.displaySize;E.scale=24*E.scale/c,A=w+(24-j[1]*E.scale),R=(O={width:j[0],height:j[1],left:1,top:-3,advance:z?j[1]:j[0]}).advance;var F=z?j[0]*E.scale-24*_:j[1]*E.scale-24*_;F>0&&F>C&&(C=F)}else{var N=n[E.fontStack],B=N&&N[P];if(B&&B.rect)I=B.rect,O=B.metrics;else{var V=t[E.fontStack],q=V&&V[P];if(!q)continue;O=q.metrics}A=24*(_-E.scale)}z?(e.verticalizable=!0,S.push({glyph:P,imageName:D,x:d,y:f+A,vertical:z,scale:E.scale,fontStack:E.fontStack,sectionIndex:M,metrics:O,rect:I}),d+=R*E.scale+l):(S.push({glyph:P,imageName:D,x:d,y:f+A,vertical:z,scale:E.scale,fontStack:E.fontStack,sectionIndex:M,metrics:O,rect:I}),d+=O.advance*E.scale+l)}0!==S.length&&(h=Math.max(d-l,h),Ou(S,0,S.length-1,m,C)),d=0;var U=a*_+C;k.lineOffset=Math.max(C,w),f+=U,v=Math.max(U,v),++y}else f+=a,++y}var W,H=f- -17,$=Au(o),G=$.horizontalAlign,Z=$.verticalAlign;(function(e,t,n,r,i,a,o,s,u){var l,p=(t-n)*i;l=a!==o?-s*r- -17:(-r*u+.5)*o;for(var c=0,d=e;c<d.length;c+=1)for(var f=0,h=d[c].positionedGlyphs;f<h.length;f+=1){var v=h[f];v.x+=p,v.y+=l}})(e.positionedLines,m,G,Z,h,v,a,H,i.length),e.top+=-Z*H,e.bottom=e.top+H,e.left+=-G*h,e.right=e.left+h}(A,t,n,r,m,o,s,u,c,l,d,v),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(P)&&A}_u.fromFeature=function(e,t){for(var n=new _u,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},_u.prototype.length=function(){return this.text.length},_u.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},_u.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},_u.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},_u.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&$n(r)&&!$s[e[n+1]]||i&&$n(i)&&!$s[e[n-1]]||!$s[e[n]]?e[n]:$s[e[n]]}return t}(this.text)},_u.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&ku[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&ku[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},_u.prototype.substring=function(e,t){var n=new _u;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},_u.prototype.toString=function(){return this.text},_u.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},_u.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(xu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},_u.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(xu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):k("Reached maximum number of images 6401")}else k("Can't add FormattedSection with an empty image.")},_u.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var ku={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Su={};function Cu(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*24/a+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function Tu(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Eu(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Mu(e,t,n,r,i,a){for(var o=null,s=Tu(t,n,i,a),u=0,l=r;u<l.length;u+=1){var p=l[u],c=Tu(t-p.x,n,i,a)+p.badness;c<=s&&(o=p,s=c)}return{index:e,x:t,priorBreak:o,badness:s}}function Pu(e,t,n,r,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,u=[],l=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var u=e.getSection(s);o+=Cu(e.getCharCode(s),u,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),p=e.text.indexOf("​")>=0,c=0,d=0;d<e.length();d++){var f=e.getSection(d),h=e.getCharCode(d);if(ku[h]||(c+=Cu(h,f,r,i,t,o)),d<e.length()-1){var v=!((s=h)<11904||!(Un["Bopomofo Extended"](s)||Un.Bopomofo(s)||Un["CJK Compatibility Forms"](s)||Un["CJK Compatibility Ideographs"](s)||Un["CJK Compatibility"](s)||Un["CJK Radicals Supplement"](s)||Un["CJK Strokes"](s)||Un["CJK Symbols and Punctuation"](s)||Un["CJK Unified Ideographs Extension A"](s)||Un["CJK Unified Ideographs"](s)||Un["Enclosed CJK Letters and Months"](s)||Un["Halfwidth and Fullwidth Forms"](s)||Un.Hiragana(s)||Un["Ideographic Description Characters"](s)||Un["Kangxi Radicals"](s)||Un["Katakana Phonetic Extensions"](s)||Un.Katakana(s)||Un["Vertical Forms"](s)||Un["Yi Radicals"](s)||Un["Yi Syllables"](s)));(Su[h]||v||f.imageName)&&u.push(Mu(d+1,c,l,u,Eu(h,e.getCharCode(d+1),v&&p),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Mu(e.length(),c,l,u,0,!0))}function Au(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ou(e,t,n,r,i){if(r||i)for(var a=e[n],o=(e[n].x+a.metrics.advance*a.scale)*r,s=t;s<=n;s++)e[s].x-=o,e[s].y+=i}function Iu(e,t,n,r,i,a){var o,s=e.image;if(s.content){var u=s.content,l=s.pixelRatio||1;o=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var p,c,d,f,h=t.left*a,v=t.right*a;"width"===n||"both"===n?(f=i[0]+h-r[3],c=i[0]+v+r[1]):c=(f=i[0]+(h+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*a,y=t.bottom*a;return"height"===n||"both"===n?(p=i[1]+m-r[0],d=i[1]+y+r[2]):d=(p=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:p,right:c,bottom:d,left:f,collisionPadding:o}}Su[10]=!0,Su[32]=!0,Su[38]=!0,Su[40]=!0,Su[41]=!0,Su[43]=!0,Su[45]=!0,Su[47]=!0,Su[173]=!0,Su[183]=!0,Su[8203]=!0,Su[8208]=!0,Su[8211]=!0,Su[8231]=!0;var Du=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Ru(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new or(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],u=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new or(s)),maxSize:n.evaluate(new or(u)),interpolationType:i}}function zu(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Wt(i/128,n.upperSize/128,t.uSizeT):r}function Lu(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=i?p(ni.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Wt(e.minSize,e.maxSize,a):n=a}return{uSizeT:n,uSize:r}}zn("Anchor",Du);var ju=Object.freeze({__proto__:null,getSizeData:Ru,evaluateSizeForFeature:zu,evaluateSizeForZoom:Lu,SIZE_PACK_FACTOR:128});function Fu(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var u=[],l=0;s<n/2;){var p=e[o],c=e[o+1];if(!c)return!1;var d=e[o-1].angleTo(p)-p.angleTo(c);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;o++,s+=p.dist(c)}return!0}function Nu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Bu(e,t,n){return e?.6*t*n:0}function Vu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Uu(e,t,n,r,i,a){for(var o=Bu(n,i,a),s=Vu(n,r)*a,u=0,l=Nu(e)/2,p=0;p<e.length-1;p++){var c=e[p],d=e[p+1],f=c.dist(d);if(u+f>l){var h=(l-u)/f,v=Wt(c.x,d.x,h),m=Wt(c.y,d.y,h),y=new Du(v,m,d.angleTo(c),p);return y._round(),!o||Fu(e,y,s,o,t)?y:void 0}u+=f}}function Wu(e,t,n,r,i,a,o,s,u){var l=Bu(r,a,o),p=Vu(r,i),c=p*o,d=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-c<t/4&&(t=c+t/4),function e(t,n,r,i,a,o,s,u,l){for(var p=o/2,c=Nu(t),d=0,f=n-r,h=[],v=0;v<t.length-1;v++){for(var m=t[v],y=t[v+1],g=m.dist(y),x=y.angleTo(m);f+r<d+g;){var b=((f+=r)-d)/g,_=Wt(m.x,y.x,b),w=Wt(m.y,y.y,b);if(_>=0&&_<l&&w>=0&&w<l&&f-p>=0&&f+p<=c){var k=new Du(_,w,x,v);k._round(),i&&!Fu(t,k,o,i,a)||h.push(k)}}d+=g}return u||h.length||s||(h=e(t,d/2,r,i,a,o,s,!0,l)),h}(e,d?t/2*s%t:(p/2+2*a)*o*s%t,t,l,n,c,d,!1,u)}function Hu(e,t,n,r,a){for(var o=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,p=0;p<u.length-1;p++){var c=u[p],d=u[p+1];c.x<t&&d.x<t||(c.x<t?c=new i(t,c.y+(t-c.x)/(d.x-c.x)*(d.y-c.y))._round():d.x<t&&(d=new i(t,c.y+(t-c.x)/(d.x-c.x)*(d.y-c.y))._round()),c.y<n&&d.y<n||(c.y<n?c=new i(c.x+(n-c.y)/(d.y-c.y)*(d.x-c.x),n)._round():d.y<n&&(d=new i(c.x+(n-c.y)/(d.y-c.y)*(d.x-c.x),n)._round()),c.x>=r&&d.x>=r||(c.x>=r?c=new i(r,c.y+(r-c.x)/(d.x-c.x)*(d.y-c.y))._round():d.x>=r&&(d=new i(r,c.y+(r-c.x)/(d.x-c.x)*(d.y-c.y))._round()),c.y>=a&&d.y>=a||(c.y>=a?c=new i(c.x+(a-c.y)/(d.y-c.y)*(d.x-c.x),a)._round():d.y>=a&&(d=new i(c.x+(a-c.y)/(d.y-c.y)*(d.x-c.x),a)._round()),l&&c.equals(l[l.length-1])||o.push(l=[c]),l.push(d)))))}return o}function $u(e,t,n,r){var a=[],o=e.image,s=o.pixelRatio,u=o.paddedRect.w-2,l=o.paddedRect.h-2,p=e.right-e.left,c=e.bottom-e.top,d=o.stretchX||[[0,u]],f=o.stretchY||[[0,l]],h=function(e,t){return e+t[1]-t[0]},v=d.reduce(h,0),m=f.reduce(h,0),y=u-v,g=l-m,x=0,b=v,_=0,w=m,k=0,S=y,C=0,T=g;if(o.content&&r){var E=o.content;x=qu(d,0,E[0]),_=qu(f,0,E[1]),b=qu(d,E[0],E[2]),w=qu(f,E[1],E[3]),k=E[0]-x,C=E[1]-_,S=E[2]-E[0]-b,T=E[3]-E[1]-w}var M=function(r,a,u,l){var d=Zu(r.stretch-x,b,p,e.left),f=Yu(r.fixed-k,S,r.stretch,v),h=Zu(a.stretch-_,w,c,e.top),y=Yu(a.fixed-C,T,a.stretch,m),g=Zu(u.stretch-x,b,p,e.left),E=Yu(u.fixed-k,S,u.stretch,v),M=Zu(l.stretch-_,w,c,e.top),P=Yu(l.fixed-C,T,l.stretch,m),A=new i(d,h),O=new i(g,h),I=new i(g,M),D=new i(d,M),R=new i(f/s,y/s),z=new i(E/s,P/s),L=t*Math.PI/180;if(L){var j=Math.sin(L),F=Math.cos(L),N=[F,-j,j,F];A._matMult(N),O._matMult(N),D._matMult(N),I._matMult(N)}var B=r.stretch+r.fixed,V=a.stretch+a.fixed;return{tl:A,tr:O,bl:D,br:I,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+V,w:u.stretch+u.fixed-B,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:z,minFontScaleX:S/s/p,minFontScaleY:T/s/c,isSDF:n}};if(r&&(o.stretchX||o.stretchY))for(var P=Gu(d,y,v),A=Gu(f,g,m),O=0;O<P.length-1;O++)for(var I=P[O],D=P[O+1],R=0;R<A.length-1;R++)a.push(M(I,A[R],D,A[R+1]));else a.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return a}function qu(e,t,n){for(var r=0,i=0,a=e;i<a.length;i+=1){var o=a[i];r+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}return r}function Gu(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],u=o[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return r.push({fixed:t+1,stretch:n}),r}function Zu(e,t,n,r){return e/t*n+r}function Yu(e,t,n,r){return e-t*n/r}var Xu=function(e,t,n,r,a,o,s,u,l,p){if(this.boxStartIndex=e.length,l){var c=o.top,d=o.bottom,f=o.collisionPadding;f&&(c-=f[1],d+=f[3]);var h=d-c;h>0&&(h=Math.max(10,h),this.circleDiameter=h)}else{var v=o.top*s-u,m=o.bottom*s+u,y=o.left*s-u,g=o.right*s+u,x=o.collisionPadding;if(x&&(y-=x[0]*s,v-=x[1]*s,g+=x[2]*s,m+=x[3]*s),p){var b=new i(y,v),_=new i(g,v),w=new i(y,m),k=new i(g,m),S=p*Math.PI/180;b._rotate(S),_._rotate(S),w._rotate(S),k._rotate(S),y=Math.min(b.x,_.x,w.x,k.x),g=Math.max(b.x,_.x,w.x,k.x),v=Math.min(b.y,_.y,w.y,k.y),m=Math.max(b.y,_.y,w.y,k.y)}e.emplaceBack(t.x,t.y,y,v,g,m,n,r,a)}this.boxEndIndex=e.length},Ku=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=Ju),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function Ju(e,t){return e<t?-1:e>t?1:0}function Qu(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,a=1/0,o=-1/0,s=-1/0,u=e[0],l=0;l<u.length;l++){var p=u[l];(!l||p.x<r)&&(r=p.x),(!l||p.y<a)&&(a=p.y),(!l||p.x>o)&&(o=p.x),(!l||p.y>s)&&(s=p.y)}var c=Math.min(o-r,s-a),d=c/2,f=new Ku([],el);if(0===c)return new i(r,a);for(var h=r;h<o;h+=c)for(var v=a;v<s;v+=c)f.push(new tl(h+d,v+d,d,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var u=i[a],l=i[s],p=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*p,r+=(u.y+l.y)*p,t+=3*p}return new tl(n/t,r/t,0,e)}(e),y=f.length;f.length;){var g=f.pop();(g.d>m.d||!m.d)&&(m=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-m.d<=t||(f.push(new tl(g.p.x-(d=g.h/2),g.p.y-d,d,e)),f.push(new tl(g.p.x+d,g.p.y-d,d,e)),f.push(new tl(g.p.x-d,g.p.y+d,d,e)),f.push(new tl(g.p.x+d,g.p.y+d,d,e)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+m.d)),m.p}function el(e,t){return t.max-e.max}function tl(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,u=s-1;o<s;u=o++){var l=a[o],p=a[u];l.y>e.y!=p.y>e.y&&e.x<(p.x-l.x)*(e.y-l.y)/(p.y-l.y)+l.x&&(n=!n),r=Math.min(r,Yo(e,l,p))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}Ku.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ku.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},Ku.prototype.peek=function(){return this.data[0]},Ku.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},Ku.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i};var il=Number.POSITIVE_INFINITY;function nl(e,t){return t[1]!==il?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function rl(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function al(e,t,n,r,a,o,s,u,l,p,c,d,f,h,v){var m=function(e,t,n,r,a,o,s,u){for(var l=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,p=[],c=0,d=t.positionedLines;c<d.length;c+=1)for(var f=d[c],h=0,v=f.positionedGlyphs;h<v.length;h+=1){var m=v[h];if(m.rect){var y=m.rect||{},g=4,x=!0,b=1,_=0,w=(a||u)&&m.vertical,k=m.metrics.advance*m.scale/2;if(u&&t.verticalizable&&(_=f.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var S=s[m.imageName];x=S.sdf,g=1/(b=S.pixelRatio)}var C=a?[m.x+k,m.y]:[0,0],T=a?[0,0]:[m.x+k+n[0],m.y+n[1]-_],E=[0,0];w&&(E=T,T=[0,0]);var M=(m.metrics.left-g)*m.scale-k+T[0],P=(-m.metrics.top-g)*m.scale+T[1],A=M+y.w*m.scale/b,O=P+y.h*m.scale/b,I=new i(M,P),D=new i(A,P),R=new i(M,O),z=new i(A,O);if(w){var L=new i(-k,k- -17),j=-Math.PI/2,F=12-k,N=new i(22-F,-(m.imageName?F:0)),B=new(Function.prototype.bind.apply(i,[null].concat(E)));I._rotateAround(j,L)._add(N)._add(B),D._rotateAround(j,L)._add(N)._add(B),R._rotateAround(j,L)._add(N)._add(B),z._rotateAround(j,L)._add(N)._add(B)}if(l){var V=Math.sin(l),q=Math.cos(l),U=[q,-V,V,q];I._matMult(U),D._matMult(U),R._matMult(U),z._matMult(U)}var W=new i(0,0),H=new i(0,0);p.push({tl:I,tr:D,bl:R,br:z,tex:y,writingMode:t.writingMode,glyphOffset:C,sectionIndex:m.sectionIndex,isSDF:x,pixelOffsetTL:W,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return p}(0,n,u,a,o,s,r,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*a.layout.get("text-size").evaluate(s,{})])[0]>32640&&k(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*h.compositeTextSizes[0].evaluate(s,{},v),128*h.compositeTextSizes[1].evaluate(s,{},v)])[0]>32640||g[1]>32640)&&k(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,g,u,o,s,p,t,l.lineStartIndex,l.lineLength,f,v);for(var x=0,b=c;x<b.length;x+=1)d[b[x]]=e.text.placedSymbolArray.length-1;return 4*m.length}function ol(e){for(var t in e)return e[t];return null}function sl(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var ul=ys.VectorTileFeature.types,ll=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function cl(e,t,n,r,i,a,o,s,u,l,p,c,d){var f=s?Math.min(32640,Math.round(s[0])):0,h=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(f<<1)+(u?1:0),h,16*l,16*p,256*c,256*d)}function fl(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function hl(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Zn(n[t].text))return!0;return!1}var pl=function(e){this.layoutVertexArray=new Dr,this.indexArray=new Br,this.programConfigurations=e,this.segments=new ao,this.dynamicLayoutVertexArray=new Rr,this.opacityVertexArray=new zr,this.placedSymbolArray=new Jr};pl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},pl.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ns.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Bs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ll,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},pl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zn("SymbolBuffers",pl);var vl=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ao,this.collisionVertexArray=new Nr};vl.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Vs.members,!0)},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zn("CollisionBuffers",vl);var dl=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=oa([]),this.placementViewportMatrix=oa([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ru(this.zoom,t["text-size"]),this.iconSizeData=Ru(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return bu[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};dl.prototype.createArrays=function(){this.text=new pl(new Ro(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new pl(new Ro(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new to,this.lineVertexArray=new io,this.symbolInstances=new eo},dl.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||r)&&i){var o=$s[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},dl.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,a=i.get("text-font"),o=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==o.value.kind||o.value.value instanceof et&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,p=i.get("symbol-sort-key");if(this.features=[],u||l){for(var c=t.iconDependencies,d=t.glyphDependencies,f=t.availableImages,h=new or(this.zoom),v=0,m=e;v<m.length;v+=1){var y=m[v],g=y.feature,x=y.id,b=y.index,_=y.sourceLayerIndex,w=r._featureFilter.needGeometry,k={type:g.type,id:x,properties:g.properties,geometry:w?No(g):[]};if(r._featureFilter.filter(h,k,n)){w||(k.geometry=No(g));var S=void 0;if(u){var C=r.getValueAndResolveTokens("text-field",k,n,f),T=et.factory(C);hl(T)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ir()||this.hasRTLText&&rr.isParsed())&&(S=Hs(T,r,k))}var E=void 0;if(l){var M=r.getValueAndResolveTokens("icon-image",k,n,f);E=M instanceof tt?M:tt.fromString(M)}if(S||E){var P=this.sortFeaturesByKey?p.evaluate(k,{},n):void 0,A={id:x,text:S,icon:E,index:b,sourceLayerIndex:_,geometry:No(g),properties:g.properties,type:ul[g.type],sortKey:P};if(this.features.push(A),E&&(c[E.name]=!0),S){var O=a.evaluate(k,{},n).join(","),I="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bu.vertical)>=0;for(var D=0,R=S.sections;D<R.length;D+=1){var z=R[D];if(z.image)c[z.image.name]=!0;else{var L=Wn(S.toString()),j=z.fontStack||O,F=d[j]=d[j]||{};this.calculateGlyphDependencies(z.text,F,I,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var l=0;l<e.length;l++){var p=e[l],c=p.geometry,d=p.text?p.text.toString():null;if(d){var f=u(d,c),h=u(d,c,!0);if(f in n&&h in t&&n[f]!==t[h]){var v=s(f,h,c),m=o(f,h,r[v].geometry);delete t[f],delete n[h],n[u(d,r[m].geometry,!0)]=m,r[v].geometry=null}else f in n?o(f,h,c):h in t?s(f,h,c):(a(l),t[f]=i-1,n[h]=i-1)}else a(l)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},dl.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},dl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},dl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},dl.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},dl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},dl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},dl.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=a[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},dl.prototype.addSymbols=function(e,t,n,r,i,a,o,s,u,l,p,c){for(var d=e.indexArray,f=e.layoutVertexArray,h=e.segments.prepareSegment(4*t.length,f,d,a.sortKey),v=this.glyphOffsetArray.length,m=h.vertexLength,y=this.allowVerticalPlacement&&o===bu.vertical?Math.PI/2:0,g=a.text&&a.text.sections,x=0;x<t.length;x++){var b=t[x],_=b.tl,w=b.tr,k=b.bl,S=b.br,C=b.tex,T=b.pixelOffsetTL,E=b.pixelOffsetBR,M=b.minFontScaleX,P=b.minFontScaleY,A=b.glyphOffset,O=b.isSDF,I=b.sectionIndex,D=h.vertexLength,R=A[1];cl(f,s.x,s.y,_.x,R+_.y,C.x,C.y,n,O,T.x,T.y,M,P),cl(f,s.x,s.y,w.x,R+w.y,C.x+C.w,C.y,n,O,E.x,T.y,M,P),cl(f,s.x,s.y,k.x,R+k.y,C.x,C.y+C.h,n,O,T.x,E.y,M,P),cl(f,s.x,s.y,S.x,R+S.y,C.x+C.w,C.y+C.h,n,O,E.x,E.y,M,P),fl(e.dynamicLayoutVertexArray,s,y),d.emplaceBack(D,D+1,D+2),d.emplaceBack(D+1,D+2,D+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),x!==t.length-1&&I===t[x+1].sectionIndex||e.programConfigurations.populatePaintArrays(f.length,a,a.index,{},c,g&&g[I])}e.placedSymbolArray.emplaceBack(s.x,s.y,v,this.glyphOffsetArray.length-v,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,p)},dl.prototype._addCollisionDebugVertex=function(e,t,n,r,i,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(a.x),Math.round(a.y))},dl.prototype.addCollisionDebugVertices=function(e,t,n,r,a,o,s){var u=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),l=u.vertexLength,p=a.layoutVertexArray,c=a.collisionVertexArray,d=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(p,c,o,d,f,new i(e,t)),this._addCollisionDebugVertex(p,c,o,d,f,new i(n,t)),this._addCollisionDebugVertex(p,c,o,d,f,new i(n,r)),this._addCollisionDebugVertex(p,c,o,d,f,new i(e,r)),u.vertexLength+=4;var h=a.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),u.primitiveLength+=4},dl.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n)}},dl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new vl(jr,Us.members,qr),this.iconCollisionBox=new vl(jr,Us.members,qr);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},dl.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,a,o,s,u){for(var l={},p=t;p<n;p++){var c=e.get(p);l.textBox={x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,anchorPointX:c.anchorPointX,anchorPointY:c.anchorPointY},l.textFeatureIndex=c.featureIndex;break}for(var d=r;d<i;d++){var f=e.get(d);l.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.verticalTextFeatureIndex=f.featureIndex;break}for(var h=a;h<o;h++){var v=e.get(h);l.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},l.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<u;m++){var y=e.get(m);l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}return l},dl.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},dl.prototype.hasTextData=function(){return this.text.segments.get().length>0},dl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},dl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},dl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},dl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},dl.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},dl.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a},dl.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},dl.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zn("SymbolBucket",dl,{omit:["layers","collisionBoxArray","features","compareText"]}),dl.MAX_GLYPHS=65535,dl.addDynamicAttributes=fl;var ml=new xr({"symbol-placement":new pr(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new pr(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new pr(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vr(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new pr(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new pr(Te.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new pr(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new pr(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new pr(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new vr(Te.layout_symbol["icon-size"]),"icon-text-fit":new pr(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new pr(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new vr(Te.layout_symbol["icon-image"]),"icon-rotate":new vr(Te.layout_symbol["icon-rotate"]),"icon-padding":new pr(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new pr(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new vr(Te.layout_symbol["icon-offset"]),"icon-anchor":new vr(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new pr(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new pr(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new pr(Te.layout_symbol["text-rotation-alignment"]),"text-field":new vr(Te.layout_symbol["text-field"]),"text-font":new vr(Te.layout_symbol["text-font"]),"text-size":new vr(Te.layout_symbol["text-size"]),"text-max-width":new vr(Te.layout_symbol["text-max-width"]),"text-line-height":new pr(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new vr(Te.layout_symbol["text-letter-spacing"]),"text-justify":new vr(Te.layout_symbol["text-justify"]),"text-radial-offset":new vr(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new pr(Te.layout_symbol["text-variable-anchor"]),"text-anchor":new vr(Te.layout_symbol["text-anchor"]),"text-max-angle":new pr(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new pr(Te.layout_symbol["text-writing-mode"]),"text-rotate":new vr(Te.layout_symbol["text-rotate"]),"text-padding":new pr(Te.layout_symbol["text-padding"]),"text-keep-upright":new pr(Te.layout_symbol["text-keep-upright"]),"text-transform":new vr(Te.layout_symbol["text-transform"]),"text-offset":new vr(Te.layout_symbol["text-offset"]),"text-allow-overlap":new pr(Te.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new pr(Te.layout_symbol["text-ignore-placement"]),"text-optional":new pr(Te.layout_symbol["text-optional"])}),gl={paint:new xr({"icon-opacity":new vr(Te.paint_symbol["icon-opacity"]),"icon-color":new vr(Te.paint_symbol["icon-color"]),"icon-halo-color":new vr(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new vr(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vr(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new pr(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new pr(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new vr(Te.paint_symbol["text-opacity"]),"text-color":new vr(Te.paint_symbol["text-color"],{runtimeType:Fe,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new vr(Te.paint_symbol["text-halo-color"]),"text-halo-width":new vr(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new vr(Te.paint_symbol["text-halo-blur"]),"text-translate":new pr(Te.paint_symbol["text-translate"]),"text-translate-anchor":new pr(Te.paint_symbol["text-translate-anchor"])}),layout:ml},yl=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Re,this.defaultValue=e};yl.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},yl.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){return null},zn("FormatSectionOverride",yl,{omit:["defaultValue"]});var bl=function(e){function t(t){e.call(this,t,gl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],a=0,o=r;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||Ui(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new dl(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=gl.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,a=this.paint.get(r),o=new yl(a),s=new Vi(o,a.property.specification);i="constant"===a.value.kind||"source"===a.value.kind?new Hi("source",s):new $i("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[r]=new dr(a.property,i,a.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=gl.paint.properties[t],i=!1,a=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof et)a(n.value.value.sections);else if("source"===n.value.kind){var o=function(e){i||(e instanceof st&&ot(e.value)===Ue?a(e.value.sections):e instanceof ft?a(e.sections):e.eachChild(o))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i},t}(_r),xl={paint:new xr({"background-color":new pr(Te.paint_background["background-color"]),"background-pattern":new gr(Te.paint_background["background-pattern"]),"background-opacity":new pr(Te.paint_background["background-opacity"])})},_l=function(e){function t(t){e.call(this,t,xl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(_r),wl={paint:new xr({"raster-opacity":new pr(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new pr(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new pr(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new pr(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new pr(Te.paint_raster["raster-saturation"]),"raster-contrast":new pr(Te.paint_raster["raster-contrast"]),"raster-resampling":new pr(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new pr(Te.paint_raster["raster-fade-duration"])})},kl=function(e){function t(t){e.call(this,t,wl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(_r),Sl=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(_r),Cl={circle:ca,heatmap:xa,hillshade:wa,fill:us,"fill-extrusion":Cs,line:js,symbol:bl,background:_l,raster:kl},Tl=o.HTMLImageElement,El=o.HTMLCanvasElement,Ml=o.HTMLVideoElement,Pl=o.ImageData,Al=o.ImageBitmap,Ol=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Ol.prototype.update=function(e,t,n){var r=e.width,i=e.height,a=!(this.size&&this.size[0]===r&&this.size[1]===i||n),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[r,i],e instanceof Tl||e instanceof El||e instanceof Ml||e instanceof Pl||Al&&e instanceof Al?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},l=u.x,p=u.y;e instanceof Tl||e instanceof El||e instanceof Ml||e instanceof Pl||Al&&e instanceof Al?s.texSubImage2D(s.TEXTURE_2D,0,l,p,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,p,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ol.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Ol.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ol.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Il=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};Il.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},Il.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Dl=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Il(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=T()?e:o};function Rl(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Dl.prototype.send=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=P(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Nn(t,s)},s),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:a.mapId})}}},Dl.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else T()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Dl.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Dl.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Bn(t.error)):r(null,Bn(t.data)))}else{var i=!1,a=P(this.globalScope)?void 0:[],o=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Nn(t):null,data:Nn(r,a)},a)}:function(e){i=!0},s=null,u=Bn(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,o);else if(this.parent.getWorkerSource){var l=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,l[0],u.source)[l[1]](u,o)}else o(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Dl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var zl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};zl.prototype.setNorthEast=function(e){return this._ne=e instanceof Ll?new Ll(e.lng,e.lat):Ll.convert(e),this},zl.prototype.setSouthWest=function(e){return this._sw=e instanceof Ll?new Ll(e.lng,e.lat):Ll.convert(e),this},zl.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Ll)t=e,n=e;else{if(!(e instanceof zl))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(zl.convert(e)):this.extend(Ll.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Ll(t.lng,t.lat),this._ne=new Ll(n.lng,n.lat)),this},zl.prototype.getCenter=function(){return new Ll((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zl.prototype.getSouthWest=function(){return this._sw},zl.prototype.getNorthEast=function(){return this._ne},zl.prototype.getNorthWest=function(){return new Ll(this.getWest(),this.getNorth())},zl.prototype.getSouthEast=function(){return new Ll(this.getEast(),this.getSouth())},zl.prototype.getWest=function(){return this._sw.lng},zl.prototype.getSouth=function(){return this._sw.lat},zl.prototype.getEast=function(){return this._ne.lng},zl.prototype.getNorth=function(){return this._ne.lat},zl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zl.prototype.contains=function(e){var t=Ll.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},zl.convert=function(e){return!e||e instanceof zl?e:new zl(e)};var Ll=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ll.prototype.wrap=function(){return new Ll(c(this.lng,-180,180),this.lat)},Ll.prototype.toArray=function(){return[this.lng,this.lat]},Ll.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ll.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Ll.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new zl(new Ll(this.lng-n,this.lat-t),new Ll(this.lng+n,this.lat+t))},Ll.convert=function(e){if(e instanceof Ll)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Ll(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Ll(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var jl=2*Math.PI*6371008.8;function Fl(e){return jl*Math.cos(e*Math.PI/180)}function Nl(e){return(180+e)/360}function Bl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Vl(e,t){return e/Fl(t)}function Ul(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Wl=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};Wl.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Ll.convert(e);return new Wl(Nl(n.lng),Bl(n.lat),Vl(t,n.lat))},Wl.prototype.toLngLat=function(){return new Ll(360*this.x-180,Ul(this.y))},Wl.prototype.toAltitude=function(){return this.z*Fl(Ul(this.y))},Wl.prototype.meterInMercatorCoordinateUnits=function(){return 1/jl*(e=Ul(this.y),1/Math.cos(e*Math.PI/180));var e};var Hl=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Gl(0,e,e,t,n)};Hl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Hl.prototype.url=function(e,t){var n,r,i,a,o,s=(r=this.y,i=this.z,a=Rl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),o=Rl(256*(n+1),256*(r+1),i),a[0]+","+a[1]+","+o[0]+","+o[1]),u=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Hl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Hl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var $l=function(e,t){this.wrap=e,this.canonical=t,this.key=Gl(e,t.z,t.z,t.x,t.y)},ql=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Hl(n,+r,+i),this.key=Gl(t,e,n,r,i)};function Gl(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var a=1<<n;return(a*a*e+a*i+r).toString(36)+n.toString(36)+t.toString(36)}ql.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},ql.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new ql(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ql(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},ql.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Gl(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Gl(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},ql.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},ql.prototype.children=function(e){if(this.overscaledZ>=e)return[new ql(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new ql(t,this.wrap,t,n,r),new ql(t,this.wrap,t,n+1,r),new ql(t,this.wrap,t,n,r+1),new ql(t,this.wrap,t,n+1,r+1)]},ql.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},ql.prototype.wrapped=function(){return new ql(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ql.prototype.unwrapTo=function(e){return new ql(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},ql.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ql.prototype.toUnwrapped=function(){return new $l(this.wrap,this.canonical)},ql.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ql.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Wl(e.x-this.wrap,e.y))},zn("CanonicalTileID",Hl),zn("OverscaledTileID",ql,{omit:["posMatrix"]});var Zl=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return k('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Zl.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Zl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Zl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Zl.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Zl.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Zl.prototype.getPixels=function(){return new ga({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Zl.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,u=-n*this.dim,l=a;l<o;l++)for(var p=r;p<i;p++)this.data[this._idx(p,l)]=e.data[this._idx(p+s,l+u)]},zn("DEMData",Zl);var Yl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Yl.prototype.encode=function(e){return this._stringToNumber[e]},Yl.prototype.decode=function(e){return this._numberToString[e]};var Xl=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},Kl={geometry:{configurable:!0}};Kl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Kl.geometry.set=function(e){this._geometry=e},Xl.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Xl.prototype,Kl);var Jl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Jl.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},d(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]},Jl.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},Jl.prototype.getState=function(e,t){var n=String(t),r=d({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete r[a]}return r},Jl.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Jl.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),d(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var u in this.state[o])s[u]={},this.state[o][u]={};else for(var l in this.deletedStates[o]){if(null===this.deletedStates[o][l])this.state[o][l]={};else for(var p=0,c=Object.keys(this.deletedStates[o][l]);p<c.length;p+=1)delete this.state[o][l][c[p]];s[l]=this.state[o][l]}n[o]=n[o]||{},d(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in e)e[f].setFeatureState(n,t)};var Ql=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new An(8192,16,0),this.grid3D=new An(8192,16,0),this.featureIndexArray=new ro,this.promoteId=t};function ec(e,t,n,r,i){return x(e,(function(e,a){var o=t instanceof fr?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function tc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function rp(e,t){return t-e}Ql.prototype.insert=function(e,t,n,r,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=a?this.grid3D:this.grid,u=0;u<t.length;u++){for(var l=t[u],p=[1/0,1/0,-1/0,-1/0],c=0;c<l.length;c++){var d=l[c];p[0]=Math.min(p[0],d.x),p[1]=Math.min(p[1],d.y),p[2]=Math.max(p[2],d.x),p[3]=Math.max(p[3],d.y)}p[0]<8192&&p[1]<8192&&p[2]>=0&&p[3]>=0&&s.insert(o,p[0],p[1],p[2],p[3])}},Ql.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new ys.VectorTile(new Zs(this.rawTileData)).layers,this.sourceLayerCoder=new Yl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ql.prototype.query=function(e,t,n,r){var a=this;this.loadVTLayers();for(var o=e.params||{},s=8192/e.tileSize/e.scale,u=nn(o.filter),l=e.queryGeometry,p=e.queryPadding*s,c=tc(l),d=this.grid.query(c.minX-p,c.minY-p,c.maxX+p,c.maxY+p),f=tc(e.cameraQueryGeometry),h=0,v=this.grid3D.query(f.minX-p,f.minY-p,f.maxX+p,f.maxY+p,(function(t,n,r,a){return function(e,t,n,r,a){for(var o=0,s=e;o<s.length;o+=1){var u=s[o];if(t<=u.x&&n<=u.y&&r>=u.x&&a>=u.y)return!0}var l=[new i(t,n),new i(t,a),new i(r,a),new i(r,n)];if(e.length>2)for(var p=0,c=l;p<c.length;p+=1)if(Ko(e,c[p]))return!0;for(var d=0;d<e.length-1;d++)if(Jo(e[d],e[d+1],l))return!0;return!1}(e.cameraQueryGeometry,t-p,n-p,r+p,a+p)}));h<v.length;h+=1)d.push(v[h]);d.sort(rp);for(var m,g={},y=function(i){var p=d[i];if(p!==m){m=p;var c=a.featureIndexArray.get(p),f=null;a.loadMatchingFeature(g,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,u,o.layers,o.availableImages,t,n,r,(function(t,n,r){return f||(f=No(t)),n.queryIntersectsFeature(l,t,r,f,a.z,e.transform,s,e.pixelPosMatrix)}))}},b=0;b<d.length;b++)y(b);return g},Ql.prototype.loadMatchingFeature=function(e,t,n,r,i,a,o,s,u,l,p){var c=this.bucketLayerIDs[t];if(!a||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(a,c)){var d=this.sourceLayerCoder.decode(n),f=this.vtLayers[d].feature(r);if(i.filter(new or(this.tileID.overscaledZ),f))for(var h=this.getId(f,d),v=0;v<c.length;v++){var m=c[v];if(!(a&&a.indexOf(m)<0)){var y=s[m];if(y){var g={};void 0!==h&&l&&(g=l.getState(y.sourceLayer||"_geojsonTileLayer",h));var x=u[m];x.paint=ec(x.paint,y.paint,f,g,o),x.layout=ec(x.layout,y.layout,f,g,o);var b=!p||p(f,y,g);if(b){var _=new Xl(f,this.z,this.x,this.y,h);_.layer=x;var w=e[m];void 0===w&&(w=e[m]=[]),w.push({featureIndex:r,feature:_,intersectionZ:b})}}}}}},Ql.prototype.lookupSymbolFeatures=function(e,t,n,r,i,a,o,s){var u={};this.loadVTLayers();for(var l=nn(i),p=0,c=e;p<c.length;p+=1)this.loadMatchingFeature(u,n,r,c[p],l,a,o,s,t);return u},Ql.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},Ql.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},zn("FeatureIndex",Ql,{omit:["rawTileData","sourceLayerCoder"]});var ic=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ic.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<F.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ic.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ic.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=a[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=r;o<s.length;o+=1)n[s[o].id]=e}},i=0,a=e;i<a.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof dl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof dl&&o.hasRTLText){this.hasRTLText=!0,rr.isLoading()||rr.isLoaded()||"deferred"!==ir()||nr();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Xr},ic.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ic.prototype.getBucket=function(e){return this.buckets[e.id]},ic.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ol(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ol(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},ic.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ic.prototype.queryRenderedFeatures=function(e,t,n,r,i,a,o,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:o,queryPadding:this.queryPadding*u},e,t,n):{}},ic.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[i];if(a)for(var o=nn(t&&t.filter),s=this.tileID.canonical,u=s.z,l=s.x,p=s.y,c={z:u,x:l,y:p},d=0;d<a.length;d++){var f=a.feature(d);if(o.filter(new or(this.tileID.overscaledZ),f)){var h=n.getId(f,i),v=new Xl(f,u,l,p,h);v.tile=c,e.push(v)}}}},ic.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ic.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ic.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=E(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ic.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ic.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=n[a],s=e[a];if(o&&s&&0!==Object.keys(s).length){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},ic.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ic.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<F.now()},ic.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ic.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=F.now()+e},ic.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},ic.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var a=0,o=t;a<o.length;a+=1)if(i[o[a]])return!0}return!1};var nc=o.performance,rc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},nc.mark(this._marks.start)};rc.prototype.finish=function(){nc.mark(this._marks.end);var e=nc.getEntriesByName(this._marks.measure);return 0===e.length&&(nc.measure(this._marks.measure,this._marks.start,this._marks.end),e=nc.getEntriesByName(this._marks.measure),nc.clearMarks(this._marks.start),nc.clearMarks(this._marks.end),nc.clearMeasures(this._marks.measure)),e},e.Actor=Dl,e.AlphaImage=ma,e.CanonicalTileID=Hl,e.CollisionBoxArray=Xr,e.Color=Ke,e.DEMData=Zl,e.DataConstantProperty=pr,e.DictionaryCoder=Yl,e.EXTENT=8192,e.ErrorEvent=Se,e.EvaluationParameters=or,e.Event=ke,e.Evented=Ce,e.FeatureIndex=Ql,e.FillBucket=os,e.FillExtrusionBucket=ws,e.ImageAtlas=yu,e.ImagePosition=mu,e.LineBucket=Ds,e.LngLat=Ll,e.LngLatBounds=zl,e.MercatorCoordinate=Wl,e.ONE_EM=24,e.OverscaledTileID=ql,e.Point=i,e.Point$1=i,e.Properties=xr,e.Protobuf=Zs,e.RGBAImage=ga,e.RequestManager=H,e.RequestPerformance=rc,e.ResourceType=he,e.SegmentVector=ao,e.SourceFeatureState=Jl,e.StructArrayLayout1ui2=Gr,e.StructArrayLayout2f1f2i16=Fr,e.StructArrayLayout2i4=Er,e.StructArrayLayout3ui6=Br,e.StructArrayLayout4i8=Mr,e.SymbolBucket=dl,e.Texture=Ol,e.Tile=ic,e.Transitionable=li,e.Uniform1f=xo,e.Uniform1i=bo,e.Uniform2f=_o,e.Uniform3f=wo,e.Uniform4f=ko,e.UniformColor=So,e.UniformMatrix4f=To,e.UnwrappedTileID=$l,e.ValidationError=Ee,e.WritingMode=bu,e.ZoomHistory=Vn,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=fl,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)}))}))},e.bezier=u,e.bindAll=y,e.browser=F,e.cacheEntryPossiblyAdded=function(e){++de>se&&(e.getActor().send("enforceCacheSizeLimit",ae),de=0)},e.clamp=p,e.clearTileCache=function(e){var t=o.caches.delete("mapbox-tiles");e&&t.catch(e).then((function(){return e()}))},e.clipLine=Hu,e.clone=function(e){var t=new ra(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=_,e.clone$2=function(e){var t=new ra(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=Ws,e.config=N,e.create=function(){var e=new ra(16);return ra!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new ra(9);return ra!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new ra(4);return ra!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Wi,e.createLayout=Cr,e.createStyleLayer=function(e){return"custom"===e.type?new Sl(e):new Cl[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2];return e[0]=i*u-a*s,e[1]=a*o-r*u,e[2]=r*s-i*o,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=l,e.emitValidationErrors=Pn,e.endsWith=g,e.enforceCacheSizeLimit=function(e){ue(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=zu,e.evaluateSizeForZoom=Lu,e.evaluateVariableOffset=nl,e.evented=er,e.extend=d,e.featureFilter=nn,e.filterObject=b,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Au,e.getAnchorJustification=rl,e.getArrayBuffer=ye,e.getImage=xe,e.getJSON=function(e,t){return ge(d(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ir,e.getReferrer=me,e.getVideo=function(e,t){var n,r,i=o.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var a=0;a<e.length;a++){var s=o.document.createElement("source");n=e[a],r=void 0,(r=o.document.createElement("a")).href=n,(r.protocol!==o.document.location.protocol||r.host!==o.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[a],i.appendChild(s)}return{cancel:function(){}}},e.identity=oa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],p=t[8],c=t[9],d=t[10],f=t[11],h=t[12],v=t[13],m=t[14],y=t[15],g=n*s-r*o,x=n*u-i*o,b=n*l-a*o,_=r*u-i*s,w=r*l-a*s,k=i*l-a*u,S=p*v-c*h,C=p*m-d*h,T=p*y-f*h,E=c*m-d*v,M=c*y-f*v,P=d*y-f*m,A=g*P-x*M+b*E+_*T-w*C+k*S;return A?(e[0]=(s*P-u*M+l*E)*(A=1/A),e[1]=(i*M-r*P-a*E)*A,e[2]=(v*k-m*w+y*_)*A,e[3]=(d*w-c*k-f*_)*A,e[4]=(u*T-o*P-l*C)*A,e[5]=(n*P-i*T+a*C)*A,e[6]=(m*b-h*k-y*x)*A,e[7]=(p*k-d*b+f*x)*A,e[8]=(o*M-s*T+l*S)*A,e[9]=(r*T-n*M-a*S)*A,e[10]=(h*w-v*b+y*g)*A,e[11]=(c*b-p*w-f*g)*A,e[12]=(s*C-o*E-u*S)*A,e[13]=(n*E-r*C+i*S)*A,e[14]=(v*x-h*_-m*g)*A,e[15]=(p*_-c*x+d*g)*A,e):null},e.isChar=Un,e.isMapboxURL=$,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=ge,e.mapObject=x,e.mercatorXfromLng=Nl,e.mercatorYfromLat=Bl,e.mercatorZfromAltitude=Vl,e.mul=ua,e.multiply=aa,e.mvt=ys,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e},e.number=Wt,e.offscreenCanvasSupported=fe,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},e.parseGlyphPBF=function(e){return new Zs(e).readFields(fu,[])},e.pbf=Zs,e.performSymbolLayout=function(e,t,n,r,i,a,o){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,c=p.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new or(p.minZoom),o),u["text-size"].possiblyEvaluate(new or(c),o)]}if("composite"===e.iconSizeData.kind){var d=e.iconSizeData,f=d.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new or(d.minZoom),o),u["icon-size"].possiblyEvaluate(new or(f),o)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new or(e.zoom+1),o),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new or(e.zoom+1),o),l.textMaxSize=u["text-size"].possiblyEvaluate(new or(18));for(var h=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var a=b[x],u=s.get("text-font").evaluate(a,{},o).join(","),p=y.evaluate(a,{},o),c=l.layoutTextSize.evaluate(a,{},o),d=l.layoutIconSize.evaluate(a,{},o),f={horizontal:{},vertical:void 0},g=a.text,_=[0,0];if(g){var w=g.toString(),S=24*s.get("text-letter-spacing").evaluate(a,{},o),C=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),Un.Arabic(r)||Un["Arabic Supplement"](r)||Un["Arabic Extended-A"](r)||Un["Arabic Presentation Forms-A"](r)||Un["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?S:0,T=s.get("text-anchor").evaluate(a,{},o),E=s.get("text-variable-anchor");if(!E){var M=s.get("text-radial-offset").evaluate(a,{},o);_=M?nl(T,[24*M,il]):s.get("text-offset").evaluate(a,{},o).map((function(e){return 24*e}))}var P=v?"center":s.get("text-justify").evaluate(a,{},o),A=s.get("symbol-placement"),O="point"===A?24*s.get("text-max-width").evaluate(a,{},o):0,I=function(){e.allowVerticalPlacement&&Wn(w)&&(f.vertical=wu(g,t,n,i,u,O,h,T,"left",C,_,bu.vertical,!0,A,c,p))};if(!v&&E){for(var D="auto"===P?E.map((function(e){return rl(e)})):[P],R=!1,z=0;z<D.length;z++){var L=D[z];if(!f.horizontal[L])if(R)f.horizontal[L]=f.horizontal[0];else{var j=wu(g,t,n,i,u,O,h,"center",L,C,_,bu.horizontal,!1,A,c,p);j&&(f.horizontal[L]=j,R=1===j.positionedLines.length)}}I()}else{"auto"===P&&(P=rl(T));var F=wu(g,t,n,i,u,O,h,T,P,C,_,bu.horizontal,!1,A,c,p);F&&(f.horizontal[P]=F),I(),Wn(w)&&v&&m&&(f.vertical=wu(g,t,n,i,u,O,h,T,P,C,_,bu.vertical,!1,A,c,p))}}var N=void 0,B=!1;if(a.icon&&a.icon.name){var V=r[a.icon.name];V&&(N=function(e,t,n){var r=Au(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,a=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:a,bottom:a+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[a.icon.name],s.get("icon-offset").evaluate(a,{},o),s.get("icon-anchor").evaluate(a,{},o)),B=V.sdf,void 0===e.sdfIcons?e.sdfIcons=V.sdf:e.sdfIcons!==V.sdf&&k("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(V.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var q=ol(f.horizontal)||f.vertical;e.iconsInText=!!q&&q.iconsInText,(q||N)&&function(e,t,n,r,i,a,o,s,u,l,p){var c=a.textMaxSize.evaluate(t,{});void 0===c&&(c=o);var d,f=e.layers[0].layout,h=f.get("icon-offset").evaluate(t,{},p),v=ol(n.horizontal),m=o/24,y=e.tilePixelRatio*m,g=e.tilePixelRatio*c/24,x=e.tilePixelRatio*s,b=e.tilePixelRatio*f.get("symbol-spacing"),_=f.get("text-padding")*e.tilePixelRatio,w=f.get("icon-padding")*e.tilePixelRatio,S=f.get("text-max-angle")/180*Math.PI,C="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),T="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),E=f.get("symbol-placement"),M=b/2,P=f.get("icon-text-fit");r&&"none"!==P&&(e.allowVerticalPlacement&&n.vertical&&(d=Iu(r,n.vertical,P,f.get("icon-text-fit-padding"),h,m)),v&&(r=Iu(r,v,P,f.get("icon-text-fit-padding"),h,m)));var A=function(s,c){c.x<0||c.x>=8192||c.y<0||c.y>=8192||function(e,t,n,r,i,a,o,s,u,l,p,c,d,f,h,v,m,y,g,x,b,_,w,S,C){var T,E,M,P,A,O=e.addToLineVertexArray(t,n),I=0,D=0,R=0,z=0,L=-1,j=-1,F={},N=fo(""),B=0,V=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(T=s.layout.get("text-offset").evaluate(b,{},S).map((function(e){return 24*e})))[0],V=T[1]):(B=24*s.layout.get("text-radial-offset").evaluate(b,{},S),V=il),e.allowVerticalPlacement&&r.vertical){var q=s.layout.get("text-rotate").evaluate(b,{},S)+90;P=new Xu(u,t,l,p,c,r.vertical,d,f,h,q),o&&(A=new Xu(u,t,l,p,c,o,m,y,h,q))}if(i){var U=s.layout.get("icon-rotate").evaluate(b,{}),W="none"!==s.layout.get("icon-text-fit"),H=$u(i,U,w,W),$=o?$u(o,U,w,W):void 0;M=new Xu(u,t,l,p,c,i,m,y,!1,U),I=4*H.length;var G=e.iconSizeData,Z=null;"source"===G.kind?(Z=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&k(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===G.kind&&((Z=[128*_.compositeIconSizes[0].evaluate(b,{},S),128*_.compositeIconSizes[1].evaluate(b,{},S)])[0]>32640||Z[1]>32640)&&k(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,H,Z,x,g,b,!1,t,O.lineStartIndex,O.lineLength,-1,S),L=e.icon.placedSymbolArray.length-1,$&&(D=4*$.length,e.addSymbols(e.icon,$,Z,x,g,b,bu.vertical,t,O.lineStartIndex,O.lineLength,-1,S),j=e.icon.placedSymbolArray.length-1)}for(var Y in r.horizontal){var X=r.horizontal[Y];if(!E){N=fo(X.text);var K=s.layout.get("text-rotate").evaluate(b,{},S);E=new Xu(u,t,l,p,c,X,d,f,h,K)}var J=1===X.positionedLines.length;if(R+=al(e,t,X,a,s,h,b,v,O,r.vertical?bu.horizontal:bu.horizontalOnly,J?Object.keys(r.horizontal):[Y],F,L,_,S),J)break}r.vertical&&(z+=al(e,t,r.vertical,a,s,h,b,v,O,bu.vertical,["vertical"],F,j,_,S));var Q=E?E.boxStartIndex:e.collisionBoxArray.length,ee=E?E.boxEndIndex:e.collisionBoxArray.length,te=P?P.boxStartIndex:e.collisionBoxArray.length,rt=P?P.boxEndIndex:e.collisionBoxArray.length,ie=M?M.boxStartIndex:e.collisionBoxArray.length,ne=M?M.boxEndIndex:e.collisionBoxArray.length,re=A?A.boxStartIndex:e.collisionBoxArray.length,oe=A?A.boxEndIndex:e.collisionBoxArray.length,ae=-1,se=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};ae=se(E,ae),ae=se(P,ae),ae=se(M,ae);var ue=(ae=se(A,ae))>-1?1:0;ue&&(ae*=C/24),e.glyphOffsetArray.length>=dl.MAX_GLYPHS&&k("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,L,j,N,Q,ee,te,rt,ie,ne,re,oe,l,R,z,I,D,ue,0,d,B,V,ae)}(e,c,s,n,r,i,d,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,_,C,u,x,w,T,h,t,a,l,p,o)};if("line"===E)for(var O=0,I=Hu(t.geometry,0,0,8192,8192);O<I.length;O+=1)for(var D=I[O],R=0,z=Wu(D,b,S,n.vertical||v,r,24,g,e.overscaling,8192);R<z.length;R+=1){var L=z[R];v&&sl(e,v.text,M,L)||A(D,L)}else if("line-center"===E)for(var j=0,F=t.geometry;j<F.length;j+=1){var N=F[j];if(N.length>1){var B=Uu(N,S,n.vertical||v,r,24,g);B&&A(N,B)}}else if("Polygon"===t.type)for(var V=0,q=ts(t.geometry,0);V<q.length;V+=1){var U=q[V],W=Qu(U,16);A(U[0],new Du(W.x,W.y,0))}else if("LineString"===t.type)for(var H=0,$=t.geometry;H<$.length;H+=1){var G=$[H];A(G,new Du(G[0].x,G[0].y,0))}else if("Point"===t.type)for(var Z=0,Y=t.geometry;Z<Y.length;Z+=1)for(var X=0,K=Y[Z];X<K.length;X+=1){var J=K[X];A([J],new Du(J.x,J.y,0))}}(e,a,f,N,r,l,c,d,_,B,o)},x=0,b=e.features;x<b.length;x+=1)g();a&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=rr,e.polygonIntersectsPolygon=Uo,e.postMapLoadEvent=oe,e.postTurnstileEvent=ne,e.potpack=vu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=zn,e.registerForPluginStateChange=function(e){return e({pluginStatus:Xn,pluginURL:Kn}),er.on("pluginStateChange",e),e},e.renderColorRamp=ba,e.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],p=t[9],c=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+p*r,e[6]=s*i+c*r,e[7]=u*i+d*r,e[8]=l*i-a*r,e[9]=p*i-o*r,e[10]=c*i-s*r,e[11]=d*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],p=t[5],c=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+p*r,e[2]=s*i+c*r,e[3]=u*i+d*r,e[4]=l*i-a*r,e[5]=p*i-o*r,e[6]=c*i-s*r,e[7]=d*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){ae=e,se=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===Xn||"loading"===Xn||"loaded"===Xn)throw new Error("setRTLTextPlugin cannot be called multiple times.");Kn=F.resolveURL(e),Xn="deferred",Yn=t,Qn(),n||nr()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Te,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=ju,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=la,e.translate=function(e,t,n){var r,i,a,o,s,u,l,p,c,d,f,h,v=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],p=t[7],c=t[8],d=t[9],f=t[10],h=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=p,e[8]=c,e[9]=d,e[10]=f,e[11]=h,e[12]=r*v+s*m+c*y+t[12],e[13]=i*v+u*m+d*y+t[13],e[14]=a*v+l*m+f*y+t[14],e[15]=o*v+p*m+h*y+t[15]),e},e.triggerPluginCompletionEvent=Jn,e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Tn,e.validateStyle=Cn,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=ys,e.version="1.12.0",e.warnOnce=k,e.webpSupported=B,e.window=o,e.wrap=c})),r(0,(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var i="[",r=0,o=e;r<o.length;r+=1)i+=t(o[r])+",";return i+"]"}for(var s=Object.keys(e).sort(),a="{",l=0;l<s.length;l++)a+=JSON.stringify(s[l])+":"+t(e[s[l]])+",";return a+"}"}function n(n){for(var i="",r=0,o=e.refProperties;r<o.length;r+=1)i+="/"+t(n[o[r]]);return i}var i=function(e){this.keyCache={},e&&this.replace(e)};i.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},i.prototype.update=function(t,i){for(var r=this,o=0,s=t;o<s.length;o+=1){var a=s[o];this._layerConfigs[a.id]=a;var l=this._layers[a.id]=e.createStyleLayer(a);l._featureFilter=e.featureFilter(l.filter),this.keyCache[a.id]&&delete this.keyCache[a.id]}for(var u=0,c=i;u<c.length;u+=1){var d=c[u];delete this.keyCache[d],delete this._layerConfigs[d],delete this._layers[d]}this.familiesBySource={};for(var p=0,f=function(e,t){for(var i={},r=0;r<e.length;r++){var o=t&&t[e[r].id]||n(e[r]);t&&(t[e[r].id]=o);var s=i[o];s||(s=i[o]=[]),s.push(e[r])}var a=[];for(var l in i)a.push(i[l]);return a}(e.values(this._layerConfigs),this.keyCache);p<f.length;p+=1){var h=f[p].map((function(e){return r._layers[e.id]})),g=h[0];if("none"!==g.visibility){var v=g.source||"",m=this.familiesBySource[v];m||(m=this.familiesBySource[v]={});var y=g.sourceLayer||"_geojsonTileLayer",x=m[y];x||(x=m[y]=[]),x.push(h)}}};var r=function(t){var n={},i=[];for(var r in t){var o=t[r],s=n[r]={};for(var a in o){var l=o[+a];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};i.push(u),s[a]={rect:u,metrics:l.metrics}}}}var c=e.potpack(i),d=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var p in t){var f=t[p];for(var h in f){var g=f[+h];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var v=n[p][h].rect;e.AlphaImage.copy(g.bitmap,d,{x:0,y:0},{x:v.x+1,y:v.y+1},g.bitmap)}}}this.image=d,this.positions=n};e.register("GlyphAtlas",r);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function s(t,n,i){for(var r=new e.EvaluationParameters(n),o=0,s=t;o<s.length;o+=1)s[o].recalculate(r,i)}function a(t,n){var i=e.getArrayBuffer(t.request,(function(t,i,r,o){t?n(t):i&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(i)),rawData:i,cacheControl:r,expires:o})}));return function(){i.cancel(),n()}}o.prototype.parse=function(t,n,i,o,a){var l=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var u=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var d,p,f,h,g={},v={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},m=n.familiesBySource[this.source];for(var y in m){var x=t.layers[y];if(x){1===x.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=u.encode(y),w=[],k=0;k<x.length;k++){var S=x.feature(k),b=c.getId(S,y);w.push({feature:S,id:b,index:k,sourceLayerIndex:_})}for(var C=0,T=m[y];C<T.length;C+=1){var E=T[C],M=E[0];M.minzoom&&this.zoom<Math.floor(M.minzoom)||M.maxzoom&&this.zoom>=M.maxzoom||"none"!==M.visibility&&(s(E,this.zoom,i),(g[M.id]=M.createBucket({index:c.bucketLayerIDs.length,layers:E,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(w,v,this.tileID.canonical),c.bucketLayerIDs.push(E.map((function(e){return e.id}))))}}}var P=e.mapObject(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(P).length?o.send("getGlyphs",{uid:this.uid,stacks:P},(function(e,t){d||(d=e,p=t,I.call(l))})):p={};var A=Object.keys(v.iconDependencies);A.length?o.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){d||(d=e,f=t,I.call(l))})):f={};var O=Object.keys(v.patternDependencies);function I(){if(d)return a(d);if(p&&f&&h){var t=new r(p),n=new e.ImageAtlas(f,h);for(var o in g){var l=g[o];l instanceof e.SymbolBucket?(s(l.layers,this.zoom,i),e.performSymbolLayout(l,p,t.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&&(l instanceof e.LineBucket||l instanceof e.FillBucket||l instanceof e.FillExtrusionBucket)&&(s(l.layers,this.zoom,i),l.addFeatures(v,this.tileID.canonical,n.patternPositions))}this.status="done",a(null,{buckets:e.values(g).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){d||(d=e,h=t,I.call(l))})):h={},I.call(this)};var l=function(e,t,n,i){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=i||a,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,n){var i=this,r=t.uid;this.loading||(this.loading={});var s=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),a=this.loading[r]=new o(t);a.abort=this.loadVectorData(t,(function(t,o){if(delete i.loading[r],t||!o)return a.status="done",i.loaded[r]=a,n(t);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(s){var d=s.finish();d&&(c.resourceTiming=JSON.parse(JSON.stringify(d)))}a.vectorTile=o.vectorTile,a.parse(o.vectorTile,i.layerIndex,i.availableImages,i.actor,(function(t,i){if(t||!i)return n(t);n(null,e.extend({rawTileData:l.slice(0)},i,u,c))})),i.loaded=i.loaded||{},i.loaded[r]=a}))},l.prototype.reloadTile=function(e,t){var n=this,i=this.loaded,r=e.uid,o=this;if(i&&i[r]){var s=i[r];s.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,i){var r=s.reloadCallback;r&&(delete s.reloadCallback,s.parse(s.vectorTile,o.layerIndex,n.availableImages,o.actor,r)),t(e,i)};"parsing"===s.status?s.reloadCallback=a:"done"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}},l.prototype.abortTile=function(e,t){var n=this.loading,i=e.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),t()},l.prototype.removeTile=function(e,t){var n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()};var u=e.window.ImageBitmap,c=function(){this.loaded={}};function d(e,t){if(0!==e.length){p(e[0],t);for(var n=1;n<e.length;n++)p(e[n],!t)}}function p(e,t){for(var n=0,i=0,r=e.length,o=r-1;i<r;o=i++)n+=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]);n>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var i=t.uid,r=t.encoding,o=t.rawImageData,s=u&&o instanceof u?this.getImageData(o):o,a=new e.DEMData(i,s,r);this.loaded=this.loaded||{},this.loaded[i]=a,n(null,a)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var f=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,h=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};h.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var r=i[n];t.push([new e.Point$1(r[0],r[1])])}return t}for(var o=[],s=0,a=this._feature.geometry;s<a.length;s+=1){for(var l=[],u=0,c=a[s];u<c.length;u+=1){var d=c[u];l.push(new e.Point$1(d[0],d[1]))}o.push(l)}return o},h.prototype.toGeoJSON=function(e,t,n){return f.call(this,e,t,n)};var g=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};g.prototype.feature=function(e){return new h(this._features[e])};var v=e.vectorTile.VectorTileFeature,m=y;function y(e,t){this.options=t||{},this.features=e,this.length=e.length}function x(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}y.prototype.feature=function(e){return new x(this.features[e],this.options.extent)},x.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var i=t[n],r=[],o=0;o<i.length;o++)r.push(new e.Point$1(i[o][0],i[o][1]));this.geometry.push(r)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var l=s[a];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},x.prototype.toGeoJSON=v.prototype.toGeoJSON;var _=k,w=m;function k(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(t,n),n.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,b,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,P,o[n])}function b(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,C,e),t.writeVarintField(3,n.type),t.writeMessage(4,M,n)}function C(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,s=e.valuecache;for(var a in n.properties){var l=o[a];void 0===l&&(i.push(a),o[a]=l=i.length-1),t.writeVarint(l);var u=n.properties[a],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var d=c+":"+u,p=s[d];void 0===p&&(r.push(u),s[d]=p=r.length-1),t.writeVarint(p)}}function T(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function M(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,s=n.length,a=0;a<s;a++){var l=n[a],u=1;1===i&&(u=l.length),t.writeVarint(T(1,u));for(var c=3===i?l.length-1:l.length,d=0;d<c;d++){1===d&&1!==i&&t.writeVarint(T(2,c-1));var p=l[d].x-r,f=l[d].y-o;t.writeVarint(E(p)),t.writeVarint(E(f)),r+=p,o+=f}3===i&&t.writeVarint(T(7,1))}}function P(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function A(e,t,n,i){O(e,n,i),O(t,2*n,2*i),O(t,2*n+1,2*i+1)}function O(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function I(e,t,n,i){var r=e-n,o=t-i;return r*r+o*o}_.fromVectorTileJs=k,_.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new m(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return k({layers:n})},_.GeoJSONWrapper=w;var D=function(e){return e[0]},R=function(e){return e[1]},z=function(e,t,n,i,r){void 0===t&&(t=D),void 0===n&&(n=R),void 0===i&&(i=64),void 0===r&&(r=Float64Array),this.nodeSize=i,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(e.length),a=this.coords=new r(2*e.length),l=0;l<e.length;l++)s[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);!function e(t,n,i,r,o,s){if(!(o-r<=i)){var a=r+o>>1;!function e(t,n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);e(t,n,i,Math.max(r,Math.floor(i-l*c/a+d)),Math.min(o,Math.floor(i+(a-l)*c/a+d)),s)}var p=n[2*i+s],f=r,h=o;for(A(t,n,r,i),n[2*o+s]>p&&A(t,n,r,o);f<h;){for(A(t,n,f,h),f++,h--;n[2*f+s]<p;)f++;for(;n[2*h+s]>p;)h--}n[2*r+s]===p?A(t,n,r,h):A(t,n,++h,o),h<=i&&(r=h+1),i<=h&&(o=h-1)}}(t,n,a,r,o,s%2),e(t,n,i,r,a-1,s+1),e(t,n,i,a+1,o,s+1)}}(s,a,i,0,s.length-1,0)};z.prototype.range=function(e,t,n,i){return function(e,t,n,i,r,o,s){for(var a,l,u=[0,e.length-1,0],c=[];u.length;){var d=u.pop(),p=u.pop(),f=u.pop();if(p-f<=s)for(var h=f;h<=p;h++)l=t[2*h+1],(a=t[2*h])>=n&&a<=r&&l>=i&&l<=o&&c.push(e[h]);else{var g=Math.floor((f+p)/2);l=t[2*g+1],(a=t[2*g])>=n&&a<=r&&l>=i&&l<=o&&c.push(e[g]);var v=(d+1)%2;(0===d?n<=a:i<=l)&&(u.push(f),u.push(g-1),u.push(v)),(0===d?r>=a:o>=l)&&(u.push(g+1),u.push(p),u.push(v))}}return c}(this.ids,this.coords,e,t,n,i,this.nodeSize)},z.prototype.within=function(e,t,n){return function(e,t,n,i,r,o){for(var s=[0,e.length-1,0],a=[],l=r*r;s.length;){var u=s.pop(),c=s.pop(),d=s.pop();if(c-d<=o)for(var p=d;p<=c;p++)I(t[2*p],t[2*p+1],n,i)<=l&&a.push(e[p]);else{var f=Math.floor((d+c)/2),h=t[2*f],g=t[2*f+1];I(h,g,n,i)<=l&&a.push(e[f]);var v=(u+1)%2;(0===u?n-r<=h:i-r<=g)&&(s.push(d),s.push(f-1),s.push(v)),(0===u?n+r>=h:i+r>=g)&&(s.push(f+1),s.push(c),s.push(v))}}return a}(this.ids,this.coords,e,t,n,this.nodeSize)};var L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},j=function(e){this.options=H(Object.create(L),e),this.trees=new Array(this.options.maxZoom+1)};function F(e,t,n,i,r){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function N(e,t){var n=e.geometry.coordinates,i=n[1];return{x:U(n[0]),y:W(i),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:V(e),geometry:{type:"Point",coordinates:[(i=e.x,360*(i-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,i}function V(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return H(H({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function U(e){return e/360+.5}function W(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function H(e,t){for(var n in t)e[n]=t[n];return e}function $(e){return e.x}function G(e){return e.y}function Z(e,t,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var l=((e-n)*s+(t-i)*a)/(s*s+a*a);l>1?(n=r,i=o):l>0&&(n+=s*l,i+=a*l)}return(s=e-n)*s+(a=t-i)*a}function q(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Y(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)Y(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)Y(e,t[i][r])}(r),r}function Y(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function X(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,s=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),a=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)K(r,a);else if("MultiPoint"===o)for(var u=0;u<r.length;u++)K(r[u],a);else if("LineString"===o)J(r,a,s,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<r.length;u++)J(r[u],a=[],s,!1),e.push(q(l,"LineString",a,t.properties));return}Q(r,a,s,!1)}else if("Polygon"===o)Q(r,a,s,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)X(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<r.length;u++){var c=[];Q(r[u],c,s,!0),a.push(c)}}e.push(q(l,o,a,t.properties))}}function K(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function J(e,t,n,i){for(var r,o,s=0,a=0;a<e.length;a++){var l=ee(e[a][0]),u=te(e[a][1]);t.push(l),t.push(u),t.push(0),a>0&&(s+=i?(r*u-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(u-o,2))),r=l,o=u}var c=t.length-3;t[2]=1,function e(t,n,i,r){for(var o,s=r,a=i-n>>1,l=i-n,u=t[n],c=t[n+1],d=t[i],p=t[i+1],f=n+3;f<i;f+=3){var h=Z(t[f],t[f+1],u,c,d,p);if(h>s)o=f,s=h;else if(h===s){var g=Math.abs(f-a);g<l&&(o=f,l=g)}}s>r&&(o-n>3&&e(t,n,o,r),t[o+2]=s,i-o>3&&e(t,o,i,r))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(s),t.start=0,t.end=t.size}function Q(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];J(e[r],o,n,i),t.push(o)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ie(e,t,n,i,r,o,s,a){if(i/=t,o>=(n/=t)&&s<i)return e;if(s<n||o>=i)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],d=c.geometry,p=c.type,f=0===r?c.minX:c.minY,h=0===r?c.maxX:c.maxY;if(f>=n&&h<i)l.push(c);else if(!(h<n||f>=i)){var g=[];if("Point"===p||"MultiPoint"===p)ne(d,g,n,i,r);else if("LineString"===p)re(d,g,n,i,r,!1,a.lineMetrics);else if("MultiLineString"===p)ae(d,g,n,i,r,!1);else if("Polygon"===p)ae(d,g,n,i,r,!0);else if("MultiPolygon"===p)for(var v=0;v<d.length;v++){var m=[];ae(d[v],m,n,i,r,!0),m.length&&g.push(m)}if(g.length){if(a.lineMetrics&&"LineString"===p){for(v=0;v<g.length;v++)l.push(q(c.id,p,g[v],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===g.length?"Point":"MultiPoint"),l.push(q(c.id,p,g,c.tags))}}}return l.length?l:null}function ne(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var s=e[o+r];s>=n&&s<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function re(e,t,n,i,r,o,s){for(var a,l,u=oe(e),c=0===r?ue:le,d=e.start,p=0;p<e.length-3;p+=3){var f=e[p],h=e[p+1],g=e[p+2],v=e[p+3],m=e[p+4],y=0===r?f:h,x=0===r?v:m,_=!1;s&&(a=Math.sqrt(Math.pow(f-v,2)+Math.pow(h-m,2))),y<n?x>n&&(l=c(u,f,h,v,m,n),s&&(u.start=d+a*l)):y>i?x<i&&(l=c(u,f,h,v,m,i),s&&(u.start=d+a*l)):se(u,f,h,g),x<n&&y>=n&&(l=c(u,f,h,v,m,n),_=!0),x>i&&y<=i&&(l=c(u,f,h,v,m,i),_=!0),!o&&_&&(s&&(u.end=d+a*l),t.push(u),u=oe(e)),s&&(d+=a)}var w=e.length-3;f=e[w],h=e[w+1],g=e[w+2],(y=0===r?f:h)>=n&&y<=i&&se(u,f,h,g),w=u.length-3,o&&w>=3&&(u[w]!==u[0]||u[w+1]!==u[1])&&se(u,u[0],u[1],u[2]),u.length&&t.push(u)}function oe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,n,i,r,o){for(var s=0;s<e.length;s++)re(e[s],t,n,i,r,o,!1)}function se(e,t,n,i){e.push(t),e.push(n),e.push(i)}function ue(e,t,n,i,r,o){var s=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*s),e.push(1),s}function le(e,t,n,i,r,o){var s=(o-n)/(r-n);return e.push(t+(i-t)*s),e.push(o),e.push(1),s}function ce(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],s=o.type;if("Point"===s||"MultiPoint"===s||"LineString"===s)r=de(o.geometry,t);else if("MultiLineString"===s||"Polygon"===s){r=[];for(var a=0;a<o.geometry.length;a++)r.push(de(o.geometry[a],t))}else if("MultiPolygon"===s)for(r=[],a=0;a<o.geometry.length;a++){for(var l=[],u=0;u<o.geometry[a].length;u++)l.push(de(o.geometry[a][u],t));r.push(l)}n.push(q(o.id,s,r,o.tags))}return n}function de(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function fe(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,s=e.x,a=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(i=0;i<u.length;i+=2)l.geometry.push(he(u[i],u[i+1],t,o,s,a));else for(i=0;i<u.length;i++){var d=[];for(r=0;r<u[i].length;r+=2)d.push(he(u[i][r],u[i][r+1],t,o,s,a));l.geometry.push(d)}}return e.transformed=!0,e}function he(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function pe(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){s.numFeatures++,ve(s,e[a],o,r);var l=e[a].minX,u=e[a].minY,c=e[a].maxX,d=e[a].maxY;l<s.minX&&(s.minX=l),u<s.minY&&(s.minY=u),c>s.maxX&&(s.maxX=c),d>s.maxY&&(s.maxY=d)}return s}function ve(e,t,n,i){var r=t.geometry,o=t.type,s=[];if("Point"===o||"MultiPoint"===o)for(var a=0;a<r.length;a+=3)s.push(r[a]),s.push(r[a+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)me(s,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(a=0;a<r.length;a++)me(s,r[a],e,n,"Polygon"===o,0===a);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var u=r[l];for(a=0;a<u.length;a++)me(s,u[a],e,n,!0,0===a)}if(s.length){var c=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var d in c={},t.tags)c[d]=t.tags[d];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var p={geometry:s,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(p.id=t.id),e.features.push(p)}}function me(e,t,n,i,r,o){var s=i*i;if(i>0&&t.size<(r?s:i))n.numPoints+=t.length/3;else{for(var a=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>s)&&(n.numSimplified++,a.push(t[l]),a.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var s=e[i],a=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=s,e[r-1-i]=a}}(a,o),e.push(a)}}function ge(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)X(n,e.features[i],t,i);else X(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(e,t){var n=t.buffer/t.extent,i=e,r=ie(e,1,-1-n,n,0,-1,2,t),o=ie(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=ie(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=ce(r,1).concat(i)),o&&(i=i.concat(ce(o,-1)))),i}(i,t)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ye(e,t,n){return 32*((1<<e)*n+t)+e}function be(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return t(null,null);var r=new g(i.features),o=_(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}j.prototype.load=function(e){var t=this.options,n=t.log,i=t.minZoom,r=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var s="prepare "+e.length+" points";n&&console.time(s),this.points=e;for(var a=[],l=0;l<e.length;l++)e[l].geometry&&a.push(N(e[l],l));this.trees[r+1]=new z(a,$,G,o,Float32Array),n&&console.timeEnd(s);for(var u=r;u>=i;u--){var c=+Date.now();a=this._cluster(a,u),this.trees[u]=new z(a,$,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,a.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},j.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var s=this.getClusters([n,i,180,o],t),a=this.getClusters([-180,i,r,o],t);return s.concat(a)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,d=l.range(U(n),W(o),U(r),W(i));c<d.length;c+=1){var p=l.points[d[c]];u.push(p.numPoints?B(p):this.points[p.index])}return u},j.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var o=r.points[t];if(!o)throw new Error(i);for(var s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=[],l=0,u=r.within(o.x,o.y,s);l<u.length;l+=1){var c=r.points[u[l]];c.parentId===e&&a.push(c.numPoints?B(c):this.points[c.index])}if(0===a.length)throw new Error(i);return a},j.prototype.getLeaves=function(e,t,n){var i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i},j.prototype.getTile=function(e,t,n){var i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),o=this.options,s=o.radius/o.extent,a=(n-s)/r,l=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,a,(t+1+s)/r,l),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,a,1,l),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,a,s/r,l),i.points,-1,n,r,u),u.features.length?u:null},j.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},j.prototype._appendLeaves=function(e,t,n,i,r){for(var o=0,s=this.getChildren(t);o<s.length;o+=1){var a=s[o],l=a.properties;if(l&&l.cluster?r+l.point_count<=i?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,n,i,r):r<i?r++:e.push(a),e.length===n)break}return r},j.prototype._addTileFeatures=function(e,t,n,i,r,o){for(var s=0,a=e;s<a.length;s+=1){var l=t[a[s]],u=l.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(l.x*r-n)),Math.round(this.options.extent*(l.y*r-i))]],tags:u?V(l):this.points[l.index].properties},d=void 0;u?d=l.id:this.options.generateId?d=l.index:this.points[l.index].id&&(d=this.points[l.index].id),void 0!==d&&(c.id=d),o.features.push(c)}},j.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},j.prototype._cluster=function(e,t){for(var n=[],i=this.options,r=i.reduce,o=i.minPoints,s=i.radius/(i.extent*Math.pow(2,t)),a=0;a<e.length;a++){var l=e[a];if(!(l.zoom<=t)){l.zoom=t;for(var u=this.trees[t+1],c=u.within(l.x,l.y,s),d=l.numPoints||1,p=d,f=0,h=c;f<h.length;f+=1){var g=u.points[h[f]];g.zoom>t&&(p+=g.numPoints||1)}if(p>=o){for(var v=l.x*d,m=l.y*d,y=r&&d>1?this._map(l,!0):null,x=(a<<5)+(t+1)+this.points.length,_=0,w=c;_<w.length;_+=1){var k=u.points[w[_]];if(!(k.zoom<=t)){k.zoom=t;var S=k.numPoints||1;v+=k.x*S,m+=k.y*S,k.parentId=x,r&&(y||(y=this._map(l,!0)),r(y,this._map(k)))}}l.parentId=x,n.push(F(v/p,m/p,x,p,y))}else if(n.push(l),p>1)for(var b=0,C=c;b<C.length;b+=1){var T=u.points[C[b]];T.zoom<=t||(T.zoom=t,n.push(T))}}}return n},j.prototype._getOriginId=function(e){return e-this.points.length>>5},j.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},j.prototype._map=function(e,t){if(e.numPoints)return t?H({},e.properties):e.properties;var n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?H({},i):i},ge.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ge.prototype.splitTile=function(e,t,n,i,r,o,s){for(var a=[e,t,n,i],l=this.options,u=l.debug;a.length;){i=a.pop(),n=a.pop(),t=a.pop(),e=a.pop();var c=1<<t,d=ye(t,n,i),p=this.tiles[d];if(!p&&(u>1&&console.time("creation"),p=this.tiles[d]=pe(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=e,r){if(t===l.maxZoom||t===r)continue;var h=1<<r-t;if(n!==Math.floor(o/h)||i!==Math.floor(s/h))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){u>1&&console.time("clipping");var g,v,m,y,x,_,w=.5*l.buffer/l.extent,k=.5-w,S=.5+w,b=1+w;g=v=m=y=null,x=ie(e,c,n-w,n+S,0,p.minX,p.maxX,l),_=ie(e,c,n+k,n+b,0,p.minX,p.maxX,l),e=null,x&&(g=ie(x,c,i-w,i+S,1,p.minY,p.maxY,l),v=ie(x,c,i+k,i+b,1,p.minY,p.maxY,l),x=null),_&&(m=ie(_,c,i-w,i+S,1,p.minY,p.maxY,l),y=ie(_,c,i+k,i+b,1,p.minY,p.maxY,l),_=null),u>1&&console.timeEnd("clipping"),a.push(g||[],t+1,2*n,2*i),a.push(v||[],t+1,2*n,2*i+1),a.push(m||[],t+1,2*n+1,2*i),a.push(y||[],t+1,2*n+1,2*i+1)}}},ge.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var s=1<<e,a=ye(e,t=(t%s+s)%s,n);if(this.tiles[a])return fe(this.tiles[a],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,d=n;!l&&u>0;)u--,c=Math.floor(c/2),d=Math.floor(d/2),l=this.tiles[ye(u,c,d)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,d),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,d,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[a]?fe(this.tiles[a],r):null):null};var xe=function(t){function n(e,n,i,r){t.call(this,e,n,i,be),r&&(this.loadGeoJSON=r)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new e.RequestPerformance(i.request);this.loadGeoJSON(i,(function(o,s){if(o||!s)return n(o);if("object"!=typeof s)return n(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)d(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)d(t.coordinates[i],n);return t}(s,!0);try{if(i.filter){var a=e.createExpression(i.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===a.result)throw new Error(a.value.map((function(e){return e.key+": "+e.message})).join(", "));var l=s.features.filter((function(e){return a.value.evaluate({zoom:0},e)}));s={type:"FeatureCollection",features:l}}t._geoJSONIndex=i.cluster?new j(function(t){var n=t.superclusterOptions,i=t.clusterProperties;if(!i||!n)return n;for(var r={},o={},s={accumulated:null,zoom:0},a={properties:null},l=Object.keys(i),u=0,c=l;u<c.length;u+=1){var d=c[u],p=i[d],f=p[0],h=e.createExpression(p[1]),g=e.createExpression("string"==typeof f?[f,["accumulated"],["get",d]]:f);r[d]=h.value,o[d]=g.value}return n.map=function(e){a.properties=e;for(var t={},n=0,i=l;n<i.length;n+=1){var o=i[n];t[o]=r[o].evaluate(s,a)}return t},n.reduce=function(e,t){a.properties=t;for(var n=0,i=l;n<i.length;n+=1){var r=i[n];s.accumulated=e[r],e[r]=o[r].evaluate(s,a)}},n}(i)).load(s.features):function(e,t){return new ge(e,t)}(s,i.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var u={};if(r){var c=r.finish();c&&(u.resourceTiming={},u.resourceTiming[i.source]=JSON.parse(JSON.stringify(c)))}n(null,u)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var i=this.loaded;return i&&i[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(l),_e=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:xe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return _e.prototype.setReferrer=function(e,t){this.referrer=t},_e.prototype.setImages=function(e,t,n){for(var i in this.availableImages[e]=t,this.workerSources[e]){var r=this.workerSources[e][i];for(var o in r)r[o].availableImages=t}n()},_e.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},_e.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},_e.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},_e.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},_e.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},_e.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},_e.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},_e.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},_e.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}},_e.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},_e.prototype.syncRTLPluginState=function(t,n,i){try{e.plugin.setState(n);var r=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=r){this.self.importScripts(r);var o=e.plugin.isParsed();i(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+r),o)}}catch(e){i(e.toString())}},_e.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},_e.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t},_e.prototype.getWorkerSource=function(e,t,n){var i=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,r){i.actor.send(t,n,r,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},_e.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},_e.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new _e(self)),_e})),r(0,(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!i(e)}function i(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===n[i=e&&e.failIfMajorPerformanceCaveat]&&(n[i]=function(e){var i=function(e){var i=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,i.probablySupportsContext?i.probablySupportsContext("webgl",n)||i.probablySupportsContext("experimental-webgl",n):i.supportsContext?i.supportsContext("webgl",n)||i.supportsContext("experimental-webgl",n):i.getContext("webgl",n)||i.getContext("experimental-webgl",n)}(e);if(!i)return!1;var n=i.createShader(i.VERTEX_SHADER);return!(!n||i.isContextLost())&&(i.shaderSource(n,"void main() {}"),i.compileShader(n),!0===i.getShaderParameter(n,i.COMPILE_STATUS))}(i)),n[i]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var i}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=i);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),i={create:function(t,i,n){var r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),n&&n.appendChild(r),r},createNS:function(t,i){return e.window.document.createElementNS(t,i)}},n=e.window.document&&e.window.document.documentElement.style;function r(e){if(!n)return e[0];for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var a,o=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){n&&o&&(a=n[o],n[o]="none")},i.enableDrag=function(){n&&o&&(n[o]=a)};var s=r(["transform","WebkitTransform"]);i.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var c=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",c,c),e.window.removeEventListener("test",c,c)}catch(e){l=!1}i.addEventListener=function(e,t,i,n){void 0===n&&(n={}),e.addEventListener(t,i,"passive"in n&&l?n:n.capture)},i.removeEventListener=function(e,t,i,n){void 0===n&&(n={}),e.removeEventListener(t,i,"passive"in n&&l?n:n.capture)};var u=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",u,!0)};function d(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}i.suppressClick=function(){e.window.addEventListener("click",u,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",u,!0)}),0)},i.mousePos=function(t,i){var n=t.getBoundingClientRect();return new e.Point(i.clientX-n.left-t.clientLeft,i.clientY-n.top-t.clientTop)},i.touchPos=function(t,i){for(var n=t.getBoundingClientRect(),r=[],a=0;a<i.length;a++)r.push(new e.Point(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return r},i.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},i.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function i(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.isLoaded=function(){return this.loaded},i.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,i=this.requestors;t<i.length;t+=1){var n=i[t];this._notify(n.ids,n.callback)}this.requestors=[]}},i.prototype.getImage=function(e){return this.images[e]},i.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},i.prototype._validate=function(t,i){var n=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),n=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),n=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),n=!1),n},i.prototype._validateStretch=function(e,t){if(!e)return!0;for(var i=0,n=0,r=e;n<r.length;n+=1){var a=r[n];if(a[0]<i||a[1]<a[0]||t<a[1])return!1;i=a[1]}return!0},i.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},i.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},i.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},i.prototype.listImages=function(){return Object.keys(this.images)},i.prototype.getImages=function(e,t){var i=!0;if(!this.isLoaded())for(var n=0,r=e;n<r.length;n+=1)this.images[r[n]]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t})},i.prototype._notify=function(t,i){for(var n={},r=0,a=t;r<a.length;r+=1){var o=a[r];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?n[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}i(null,n)},i.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},i.prototype.getPattern=function(t){var i=this.patterns[t],n=this.getImage(t);if(!n)return null;if(i&&i.position.version===n.version)return i.position;if(i)i.position.version=n.version;else{var r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},a=new e.ImagePosition(r,n);this.patterns[t]={bin:r,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},i.prototype.bind=function(t){var i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)},i.prototype._updatePatternAtlas=function(){var t=[];for(var i in this.patterns)t.push(this.patterns[i].bin);var n=e.potpack(t),r=n.w,a=n.h,o=this.atlasImage;for(var s in o.resize({width:r||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,c=l.x+1,u=l.y+1,d=this.images[s].data,p=d.width,f=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:u},{width:p,height:f}),e.RGBAImage.copy(d,o,{x:0,y:f-1},{x:c,y:u-1},{width:p,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c,y:u+f},{width:p,height:1}),e.RGBAImage.copy(d,o,{x:p-1,y:0},{x:c-1,y:u},{width:1,height:f}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:c+p,y:u},{width:1,height:f})}this.dirty=!0},i.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},i.prototype.dispatchRenderCallbacks=function(e){for(var t=0,i=e;t<i.length;t+=1){var n=i[t];if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var r=this.images[n];d(r)&&this.updateImage(n,r)}}},i}(e.Evented),f=m,h=m,v=1e20;function m(e,t,i,n,r,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=a||"normal",this.radius=i||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function g(e,t,i,n,r,a,o){for(var s=0;s<t;s++){for(var l=0;l<i;l++)n[l]=e[l*t+s];for(y(n,r,a,o,i),l=0;l<i;l++)e[l*t+s]=r[l]}for(l=0;l<i;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(y(n,r,a,o,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(r[s])}}function y(e,t,i,n,r){i[0]=0,n[0]=-v,n[1]=+v;for(var a=1,o=0;a<r;a++){for(var s=(e[a]+a*a-(e[i[o]]+i[o]*i[o]))/(2*a-2*i[o]);s<=n[o];)o--,s=(e[a]+a*a-(e[i[o]]+i[o]*i[o]))/(2*a-2*i[o]);i[++o]=a,n[o]=s,n[o+1]=+v}for(a=0,o=0;a<r;a++){for(;n[o+1]<a;)o++;t[a]=(a-i[o])*(a-i[o])+e[i[o]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var r=t.data[4*n+3]/255;this.gridOuter[n]=1===r?0:0===r?v:Math.pow(Math.max(0,.5-r),2),this.gridInner[n]=1===r?v:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(g(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),g(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++)i[n]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[n]-this.gridInner[n])/this.radius+this.cutoff))));return i},f.default=h;var x=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};x.prototype.setURL=function(e){this.url=e},x.prototype.getGlyphs=function(t,i){var n=this,r=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1)r.push({stack:a,id:s[o]});e.asyncAll(r,(function(e,t){var i=e.stack,r=e.id,a=n.entries[i];a||(a=n.entries[i]={glyphs:{},requests:{},ranges:{}});var o=a.glyphs[r];if(void 0===o){if(o=n._tinySDF(a,i,r))return a.glyphs[r]=o,void t(null,{stack:i,id:r,glyph:o});var s=Math.floor(r/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(a.ranges[s])t(null,{stack:i,id:r,glyph:o});else{var l=a.requests[s];l||(l=a.requests[s]=[],x.loadGlyphRange(i,s,n.url,n.requestManager,(function(e,t){if(t){for(var i in t)n._doesCharSupportLocalGlyph(+i)||(a.glyphs[+i]=t[+i]);a.ranges[s]=!0}for(var r=0,o=l;r<o.length;r+=1)(0,o[r])(e,t);delete a.requests[s]}))),l.push((function(e,n){e?t(e):n&&t(null,{stack:i,id:r,glyph:n[r]||null})}))}}else t(null,{stack:i,id:r,glyph:o})}),(function(e,t){if(e)i(e);else if(t){for(var n={},r=0,a=t;r<a.length;r+=1){var o=a[r],s=o.stack,l=o.id,c=o.glyph;(n[s]||(n[s]={}))[l]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}i(null,n)}}))},x.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},x.prototype._tinySDF=function(t,i,n){var r=this.localIdeographFontFamily;if(r&&this._doesCharSupportLocalGlyph(n)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(i)?o="900":/medium/i.test(i)?o="500":/light/i.test(i)&&(o="200"),a=t.tinySDF=new x.TinySDF(24,3,8,.25,r,o)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},x.loadGlyphRange=function(t,i,n,r,a){var o=256*i,s=o+255,l=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,i){if(t)a(t);else if(i){for(var n={},r=0,o=e.parseGlyphPBF(i);r<o.length;r+=1){var s=o[r];n[s.id]=s}a(null,n)}}))},x.TinySDF=f;var _=function(){this.specification=e.styleSpec.light.position};_.prototype.possiblyEvaluate=function(t,i){return e.sphericalToCartesian(t.expression.evaluate(i))},_.prototype.interpolate=function(t,i,n){return{x:e.number(t.x,i.x,n),y:e.number(t.y,i.y,n),z:e.number(t.z,i.z,n)}};var b=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new _,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function i(i){t.call(this),this._transitionable=new e.Transitionable(b),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.getLight=function(){return this._transitionable.serialize()},i.prototype.setLight=function(t,i){if(void 0===i&&(i={}),!this._validate(e.validateLight,t,i))for(var n in t){var r=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),r):this._transitionable.setValue(n,r)}},i.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},i.prototype.hasTransition=function(){return this._transitioning.hasTransition()},i.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},i.prototype._validate=function(t,i,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},i}(e.Evented),k=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(e,t){var i=e.join(",")+String(t);return this.dashEntry[i]||(this.dashEntry[i]=this.addDash(e,t)),this.dashEntry[i]},k.prototype.getDashRanges=function(e,t,i){var n=[],r=e.length%2==1?-e[e.length-1]*i:0,a=e[0]*i,o=!0;n.push({left:r,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){var c=e[l];n.push({left:r=s*i,right:a=(s+=c)*i,isDash:o=!o,zeroLength:0===c})}return n},k.prototype.addRoundDash=function(e,t,i){for(var n=t/2,r=-i;r<=i;r++)for(var a=this.width*(this.nextRow+i+r),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var c=Math.abs(l-s.left),u=Math.abs(l-s.right),d=Math.min(c,u),p=void 0,f=r/i*(n+1);if(s.isDash){var h=n-Math.abs(f);p=Math.sqrt(d*d+h*h)}else p=n-Math.sqrt(d*d+f*f);this.data[a+l]=Math.max(0,Math.min(255,p+128))}},k.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var i=e[t],n=e[t+1];i.zeroLength?e.splice(t,1):n&&n.isDash===i.isDash&&(n.left=i.left,e.splice(t,1))}var r=e[0],a=e[e.length-1];r.isDash===a.isDash&&(r.left=a.left-this.width,a.right=r.right+this.width);for(var o=this.width*this.nextRow,s=0,l=e[s],c=0;c<this.width;c++){c/l.right>1&&(l=e[++s]);var u=Math.abs(c-l.left),d=Math.abs(c-l.right),p=Math.min(u,d);this.data[o+c]=Math.max(0,Math.min(255,(l.isDash?p:-p)+128))}},k.prototype.addDash=function(t,i){var n=i?7:0,r=2*n+1;if(this.nextRow+r>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(0!==a){var s=this.width/a,l=this.getDashRanges(t,this.width,s);i?this.addRoundDash(l,s,n):this.addRegularDash(l)}var c={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=r,this.dirty=!0,c},k.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var S=function t(i,n){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var r=this.workerPool.acquire(this.id),a=0;a<r.length;a++){var o=new t.Actor(r[a],n,this.id);o.name="Worker "+a,this.actors.push(o)}};function C(t,i,n){var r=function(r,a){if(r)return n(r);if(a){var o=e.pick(e.extend(a,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=i.canonicalizeTileset(o,t.url),n(null,o)}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url),e.ResourceType.Source),r):e.browser.frame((function(){return r(null,t)}))}S.prototype.broadcast=function(t,i,n){e.asyncAll(this.actors,(function(e,n){e.send(t,i,n)}),n=n||function(){})},S.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},S.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},S.Actor=e.Actor;var T=function(t,i,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=n||24};T.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},T.prototype.contains=function(t){var i=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=n&&t.x<a&&t.y>=r&&t.y<o};var E=function(t){function i(i,n,r,a){if(t.call(this),this.id=i,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(i,n){t._tileJSONRequest=null,t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},i.prototype.onAdd=function(e){this.map=e,this.load()},i.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},i.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},i.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return e.extend({},this._options)},i.prototype.loadTile=function(t,i){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(n,r){return delete t.request,t.aborted?i(null):n&&404!==n.status?i(n):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=i:t.request=t.actor.send("reloadTile",r,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",r,a.bind(this)))},i.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},i.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},i.prototype.hasTransition=function(){return!1},i}(e.Evented),M=function(t){function i(i,n,r,a){t.call(this),this.id=i,this.dispatcher=r,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(i,n){t._tileJSONRequest=null,t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new T(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.onAdd=function(e){this.map=e,this.load()},i.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},i.prototype.serialize=function(){return e.extend({},this._options)},i.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},i.prototype.loadTile=function(t,i){var n=this,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),(function(r,a){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(r)t.state="errored",i(r);else if(a){n.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=n.map.painter.context,s=o.gl;t.texture=n.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),i(null)}}))},i.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},i.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},i.prototype.hasTransition=function(){return!1},i}(e.Evented),P=function(t){function i(i,n,r,a){t.call(this,i,n,r,a),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},i.prototype.loadTile=function(t,i){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(e,n){e&&(t.state="errored",i(e)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",i(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,a){if(delete t.request,t.aborted)t.state="unloaded",i(null);else if(n)t.state="errored",i(n);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?a:e.browser.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,r.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},i.prototype._getNeighboringTiles=function(t){var i=t.canonical,n=Math.pow(2,i.z),r=(i.x-1+n)%n,a=0===i.x?t.wrap-1:t.wrap,o=(i.x+1+n)%n,s=i.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,o,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,o,i.y-1).key]={backfilled:!1}),i.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,a,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,o,i.y+1).key]={backfilled:!1}),l},i.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},i}(M),A=function(t){function i(i,n,r,a){t.call(this),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=r.getActor(),this.setEventedParent(a),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(i){if(i)t.fire(new e.ErrorEvent(i));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}}))},i.prototype.onAdd=function(e){this.map=e,this.load()},i.prototype.setData=function(t){var i=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)i.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};i._collectResourceTiming&&i._resourceTiming&&i._resourceTiming.length>0&&(n.resourceTiming=i._resourceTiming,i._resourceTiming=[]),i.fire(new e.Event("data",n))}})),this},i.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},i.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},i.prototype.getClusterLeaves=function(e,t,i,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:i},n),this},i.prototype._updateWorkerData=function(t){var i=this;this._loaded=!1;var n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.browser.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this.actor.send(this.type+".loadData",n,(function(e,r){i._removed||r&&r.abandoned||(i._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[i.id]&&(i._resourceTiming=r.resourceTiming[i.id].slice(0)),i.actor.send(i.type+".coalesce",{source:n.source},null),t(e))}))},i.prototype.loaded=function(){return this._loaded},i.prototype.loadTile=function(t,i){var n=this,r=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(r,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(a,n.map.painter,"reloadTile"===r),i(null))}))},i.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},i.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},i.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},i.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},i.prototype.hasTransition=function(){return!1},i}(e.Evented),O=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(t){function i(e,i,n,r){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=i}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(t,i){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(r,a){n._loaded=!0,r?n.fire(new e.ErrorEvent(r)):a&&(n.image=a,t&&(n.coordinates=t),i&&i(),n._finishLoading())}))},i.prototype.loaded=function(){return this._loaded},i.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},i.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},i.prototype.onAdd=function(e){this.map=e,this.load()},i.prototype.setCoordinates=function(t){var i=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var i=1/0,n=1/0,r=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var l=s[o];i=Math.min(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.x),a=Math.max(a,l.y)}var c=Math.max(r-i,a-n),u=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),d=Math.pow(2,u);return new e.CanonicalTileID(u,Math.floor((i+r)/2*d),Math.floor((n+a)/2*d))}(n),this.minzoom=this.maxzoom=this.tileID.z;var r=n.map((function(e){return i.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},i.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,i=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},i.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},i.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return!1},i}(e.Evented),D=function(t){function i(e,i,n,r){t.call(this,e,i,n,r),this.roundZoom=!0,this.type="video",this.options=i}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(){var t=this;this._loaded=!1;var i=this.options;this.urls=[];for(var n=0,r=i.urls;n<r.length;n+=1)this.urls.push(this.map._requestManager.transformRequest(r[n],e.ResourceType.Source).url);e.getVideo(this.urls,(function(i,n){t._loaded=!0,i?t.fire(new e.ErrorEvent(i)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},i.prototype.pause=function(){this.video&&this.video.pause()},i.prototype.play=function(){this.video&&this.video.play()},i.prototype.seek=function(t){if(this.video){var i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+i.start(0)+" and "+i.end(0)+"-second mark."))):this.video.currentTime=t}},i.prototype.getVideo=function(){return this.video},i.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},i.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,i=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this.video&&!this.video.paused},i}(I),R=function(t){function i(i,n,r,a){t.call(this,i,n,r,a),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+i,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+i,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+i,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+i,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+i,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},i.prototype.getCanvas=function(){return this.canvas},i.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},i.prototype.onRemove=function(){this.pause()},i.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,n=i.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[r];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},i.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},i.prototype.hasTransition=function(){return this._playing},i.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var i=t[e];if(isNaN(i)||i<=0)return!0}return!1},i}(I),z={vector:E,raster:M,"raster-dem":P,geojson:A,video:D,image:I,canvas:R};function L(t,i){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(i.toUnwrapped()))}function j(e,t,i,n,r,a){var o=function(e,t,i){if(e)for(var n=0,r=e;n<r.length;n+=1){var a=t[r[n]];if(a&&a.source===i&&"fill-extrusion"===a.type)return!0}else for(var o in t){var s=t[o];if(s.source===i&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,t,e.id),s=a.maxPitchScaleFactor(),l=e.tilesIn(n,s,o);l.sort(F);for(var c=[],u=0,d=l;u<d.length;u+=1){var p=d[u];c.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,i,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,r,a,s,L(e.transform,p.tileID))})}var f=function(e){for(var t={},i={},n=0,r=e;n<r.length;n+=1){var a=r[n],o=a.queryResults,s=a.wrappedTileID,l=i[s]=i[s]||{};for(var c in o)for(var u=o[c],d=l[c]=l[c]||{},p=t[c]=t[c]||[],f=0,h=u;f<h.length;f+=1){var v=h[f];d[v.featureIndex]||(d[v.featureIndex]=!0,p.push(v))}}return t}(c);for(var h in f)f[h].forEach((function(t){var i=t.feature,n=e.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=n}));return f}function F(e,t){var i=e.tileID,n=t.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}var N=function(e,t){this.max=e,this.onRemove=t,this.reset()};N.prototype.reset=function(){for(var e in this.data)for(var t=0,i=this.data[e];t<i.length;t+=1){var n=i[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},N.prototype.add=function(e,t,i){var n=this,r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var a={value:t,timeout:void 0};if(void 0!==i&&(a.timeout=setTimeout((function(){n.remove(e,a)}),i)),this.data[r].push(a),this.order.push(r),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},N.prototype.has=function(e){return e.wrapped().key in this.data},N.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},N.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},N.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},N.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},N.prototype.remove=function(e,t){if(!this.has(e))return this;var i=e.wrapped().key,n=void 0===t?0:this.data[i].indexOf(t),r=this.data[i][n];return this.data[i].splice(n,1),r.timeout&&clearTimeout(r.timeout),0===this.data[i].length&&delete this.data[i],this.onRemove(r.value),this.order.splice(this.order.indexOf(i),1),this},N.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},N.prototype.filter=function(e){var t=[];for(var i in this.data)for(var n=0,r=this.data[i];n<r.length;n+=1){var a=r[n];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var l=s[o];this.remove(l.value.tileID,l)}};var B=function(e,t,i){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},q=function(e,t,i,n){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};q.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},q.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},q.prototype.enableAttributes=function(e,t){for(var i=0;i<this.attributes.length;i++){var n=t.attributes[this.attributes[i].name];void 0!==n&&e.enableVertexAttribArray(n)}},q.prototype.setVertexAttribPointers=function(e,t,i){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],a=t.attributes[r.name];void 0!==a&&e.vertexAttribPointer(a,r.components,e[V[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0))}},q.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};U.prototype.get=function(){return this.current},U.prototype.set=function(e){},U.prototype.getDefault=function(){return this.default},U.prototype.setDefault=function(){this.set(this.default)};var W=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.getDefault=function(){return e.Color.transparent},i.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},i}(U),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(U),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(U),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(U),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(U),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(U),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(U),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(U),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(U),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(U),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(U),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(U),ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(U),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(U),rt=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.getDefault=function(){return e.Color.transparent},i.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},i}(U),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(U),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(U),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(U),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(U),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(U),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(U),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(U),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(U),dt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(U),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(U),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(U),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(U),ve=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(U),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(U),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(U),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(U),be=function(e){function t(t,i){e.call(this,t),this.context=t,this.parent=i}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(U),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(be),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(be),we=function(e,t,i,n){this.context=e,this.width=t,this.height=i;var r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new xe(e,r),n&&(this.depthAttachment=new _e(e,r))};we.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var i=this.depthAttachment.get();i&&e.deleteRenderbuffer(i)}e.deleteFramebuffer(this.framebuffer)};var ke=function(e,t,i){this.func=e,this.mask=t,this.range=i};ke.ReadOnly=!1,ke.ReadWrite=!0,ke.disabled=new ke(519,ke.ReadOnly,[0,1]);var Se=function(e,t,i,n,r,a){this.test=e,this.ref=t,this.mask=i,this.fail=n,this.depthFail=r,this.pass=a};Se.disabled=new Se({func:519,mask:0},0,0,7680,7680,7680);var Ce=function(e,t,i){this.blendFunction=e,this.blendColor=t,this.mask=i};Ce.disabled=new Ce(Ce.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Ce.unblended=new Ce(Ce.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ce.alphaBlended=new Ce([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Te=function(e,t,i){this.enable=e,this.mode=t,this.frontFace=i};Te.disabled=new Te(!1,1029,2305),Te.backCCW=new Te(!0,1029,2305);var Ee=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new H(this),this.clearStencil=new $(this),this.colorMask=new G(this),this.depthMask=new Z(this),this.stencilMask=new Y(this),this.stencilFunc=new X(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ie(this),this.blendFunc=new ne(this),this.blendColor=new rt(this),this.blendEquation=new re(this),this.cullFace=new oe(this),this.cullFaceSide=new ae(this),this.frontFace=new se(this),this.program=new ue(this),this.activeTexture=new le(this),this.viewport=new ce(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new dt(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new he(this),this.bindElementBuffer=new pe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ve(this),this.pixelStoreUnpack=new me(this),this.pixelStoreUnpackPremultiplyAlpha=new ge(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Ee.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ee.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ee.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Ee.prototype.createVertexBuffer=function(e,t,i){return new q(this,e,t,i)},Ee.prototype.createRenderbuffer=function(e,t,i){var n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r},Ee.prototype.createFramebuffer=function(e,t,i){return new we(this,e,t,i)},Ee.prototype.clear=function(e){var t=e.color,i=e.depth,n=this.gl,r=0;t&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(r)},Ee.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ee.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ee.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ee.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ce.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ee.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Me=function(t){function i(i,n,r){var a=this;t.call(this),this.id=i,this.dispatcher=r,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),this.on("error",(function(){a._sourceErrored=!0})),this._source=function(t,i,n,r){var a=new z[i.type](t,i,n,r);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a}(i,n,r,this),this._tiles={},this._cache=new N(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},i.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},i.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},i.prototype.getSource=function(){return this._source},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},i.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},i.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},i.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},i.prototype.serialize=function(){return this._source.serialize()},i.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var i=this._tiles[t];i.upload(e),i.prepare(this.map.style.imageManager)}},i.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},i.prototype.getRenderableIds=function(t){var i=this,n=[];for(var r in this._tiles)this._isIdRenderable(r,t)&&n.push(this._tiles[r]);return t?n.sort((function(t,n){var r=t.tileID,a=n.tileID,o=new e.Point(r.canonical.x,r.canonical.y)._rotate(i.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(i.transform.angle);return r.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},i.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},i.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},i.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},i.prototype._reloadTile=function(e,t){var i=this._tiles[e];i&&("loading"!==i.state&&(i.state=t),this._loadTile(i,this._tileLoaded.bind(this,i,e,t)))},i.prototype._tileLoaded=function(t,i,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new e.ErrorEvent(r,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(i,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},i.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),i=0;i<t.length;i++){var n=t[i];if(e.neighboringTiles&&e.neighboringTiles[n]){var r=this.getTileByID(n);a(e,r),a(r,e)}}function a(e,t){e.needsHillshadePrepare=!0;var i=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,i,n),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},i.prototype.getTile=function(e){return this.getTileByID(e.key)},i.prototype.getTileByID=function(e){return this._tiles[e]},i.prototype._retainLoadedChildren=function(e,t,i,n){for(var r in this._tiles){var a=this._tiles[r];if(!(n[r]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>i)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[o.key]=o;break}}}},i.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var i=this._loadedParentTiles[e.key];return i&&i.tileID.overscaledZ>=t?i:null}for(var n=e.overscaledZ-1;n>=t;n--){var r=e.scaledTo(n),a=this._getLoadedTile(r);if(a)return a}},i.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},i.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,i=Math.ceil(e.height/this._source.tileSize)+1,n=Math.floor(t*i*5),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},i.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var i={};for(var n in this._tiles){var r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}for(var a in this._tiles=i,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}},i.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter((function(e){return n._source.hasTile(e)})))):r=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-i.maxOverzooming,this._source.minzoom),s=Math.max(a+i.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,a);if(Ae(this._source.type)){for(var c={},u={},d=0,p=Object.keys(l);d<p.length;d+=1){var f=p[d],h=l[f],v=this._tiles[f];if(v&&!(v.fadeEndTime&&v.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(h,o);m&&(this._addTile(m.tileID),c[m.tileID.key]=m.tileID),u[f]=h}}for(var g in this._retainLoadedChildren(u,a,s,l),c)l[g]||(this._coveredTiles[g]=!0,l[g]=c[g])}for(var y in l)this._tiles[y].clearFadeHold();for(var x=0,_=e.keysDifference(this._tiles,l);x<_.length;x+=1){var b=_[x],w=this._tiles[b];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(b)}this._updateLoadedParentTileCache()}},i.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},i.prototype._updateRetainedTiles=function(e,t){for(var n={},r={},a=Math.max(t-i.maxOverzooming,this._source.minzoom),o=Math.max(t+i.maxUnderzooming,this._source.minzoom),s={},l=0,c=e;l<c.length;l+=1){var u=c[l],d=this._addTile(u);n[u.key]=u,d.hasData()||t<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,t,o,n);for(var p=0,f=e;p<f.length;p+=1){var h=f[p],v=this._tiles[h.key];if(!v.hasData()){if(t+1>this._source.maxzoom){var m=h.children(this._source.maxzoom)[0],g=this.getTile(m);if(g&&g.hasData()){n[m.key]=m;continue}}else{var y=h.children(this._source.maxzoom);if(n[y[0].key]&&n[y[1].key]&&n[y[2].key]&&n[y[3].key])continue}for(var x=v.wasRequested(),_=h.overscaledZ-1;_>=a;--_){var b=h.scaledTo(_);if(r[b.key])break;if(r[b.key]=!0,!(v=this.getTile(b))&&x&&(v=this._addTile(b)),v&&(n[b.key]=b,x=v.wasRequested(),v.hasData()))break}}}return n},i.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],i=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){i=this._loadedParentTiles[n.key];break}t.push(n.key);var r=n.scaledTo(n.overscaledZ-1);if(i=this._getLoadedTile(r))break;n=r}for(var a=0,o=t;a<o.length;a+=1)this._loadedParentTiles[o[a]]=i}},i.prototype._addTile=function(t){var i=this._tiles[t.key];if(i)return i;(i=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,i),i.tileID=t,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,i)));var n=Boolean(i);return n||(i=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(i,this._tileLoaded.bind(this,i,t.key,i.state))),i?(i.uses++,this._tiles[t.key]=i,n||this._source.fire(new e.Event("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null},i.prototype._setTileReloadTimer=function(e,t){var i=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){i._reloadTile(e,"expired"),delete i._timers[e]}),n))},i.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},i.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},i.prototype.tilesIn=function(t,i,n){var r=this,a=[],o=this.transform;if(!o)return a;for(var s=n?o.getCameraQueryGeometry(t):t,l=t.map((function(e){return o.pointCoordinate(e)})),c=s.map((function(e){return o.pointCoordinate(e)})),u=this.getIds(),d=1/0,p=1/0,f=-1/0,h=-1/0,v=0,m=c;v<m.length;v+=1){var g=m[v];d=Math.min(d,g.x),p=Math.min(p,g.y),f=Math.max(f,g.x),h=Math.max(h,g.y)}for(var y=function(t){var n=r._tiles[u[t]];if(!n.holdingForFade()){var s=n.tileID,v=Math.pow(2,o.zoom-n.tileID.overscaledZ),m=i*n.queryPadding*e.EXTENT/n.tileSize/v,g=[s.getTilePoint(new e.MercatorCoordinate(d,p)),s.getTilePoint(new e.MercatorCoordinate(f,h))];if(g[0].x-m<e.EXTENT&&g[0].y-m<e.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){var y=l.map((function(e){return s.getTilePoint(e)})),x=c.map((function(e){return s.getTilePoint(e)}));a.push({tile:n,tileID:s,queryGeometry:y,cameraQueryGeometry:x,scale:v})}}},x=0;x<u.length;x++)y(x);return a},i.prototype.getVisibleCoordinates=function(e){for(var t=this,i=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),n=0,r=i;n<r.length;n+=1){var a=r[n];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return i},i.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ae(this._source.type))for(var t in this._tiles){var i=this._tiles[t];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=e.browser.now())return!0}return!1},i.prototype.setFeatureState=function(e,t,i){this._state.updateState(e=e||"_geojsonTileLayer",t,i)},i.prototype.removeFeatureState=function(e,t,i){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,i)},i.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},i.prototype.setDependencies=function(e,t,i){var n=this._tiles[e];n&&n.setDependencies(t,i)},i.prototype.reloadTilesForDependencies=function(e,t){for(var i in this._tiles)this._tiles[i].hasDependency(e,t)&&this._reloadTile(i,"reloading");this._cache.filter((function(i){return!i.hasDependency(e,t)}))},i}(e.Evented);function Pe(e,t){var i=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-i||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ae(e){return"raster"===e||"image"===e||"video"===e}function Oe(){return new e.window.Worker(Zr.workerUrl)}Me.maxOverzooming=10,Me.maxUnderzooming=3;var Ie="mapboxgl_preloaded_worker_pool",De=function(){this.active={}};De.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<De.workerCount;)this.workers.push(new Oe);return this.active[e]=!0,this.workers.slice()},De.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},De.prototype.isPreloaded=function(){return!!this.active[Ie]},De.prototype.numActive=function(){return Object.keys(this.active).length};var Re,ze=Math.floor(e.browser.hardwareConcurrency/2);function Le(){return Re||(Re=new De),Re}function je(t,i){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return e.refProperties.forEach((function(e){e in i&&(n[e]=i[e])})),n}function Fe(e){e=e.slice();for(var t=Object.create(null),i=0;i<e.length;i++)t[e[i].id]=e[i];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=je(e[n],t[e[n].ref]));return e}De.workerCount=Math.max(Math.min(ze,6),1);var Ne={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Be(e,t,i){i.push({command:Ne.addSource,args:[e,t[e]]})}function Ve(e,t,i){t.push({command:Ne.removeSource,args:[e]}),i[e]=!0}function Ue(e,t,i,n){Ve(e,i,n),Be(e,t,i)}function We(t,i,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[n][r],i[n][r]))return!1;for(r in i[n])if(i[n].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[n][r],i[n][r]))return!1;return!0}function He(t,i,n,r,a,o){var s;for(s in i=i||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],i[s])||n.push({command:o,args:[r,s,i[s],a]}));for(s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],i[s])||n.push({command:o,args:[r,s,i[s],a]}))}function $e(e){return e.id}function qe(e,t){return e[t.id]=t,e}var Ge=function(e,t){this.reset(e,t)};Ge.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var i=1;i<this.points.length;i++)this._distances[i]=this._distances[i-1]+this.points[i].dist(this.points[i-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Ge.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var i=1,n=this._distances[i],r=t*this.paddedLength+this.padding;n<r&&i<this._distances.length;)n=this._distances[++i];var a=i-1,o=this._distances[a],s=n-o,l=s>0?(r-o)/s:0;return this.points[a].mult(1-l).add(this.points[i].mult(l))};var Ze=function(e,t,i){var n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(var a=0;a<this.xCellCount*this.yCellCount;a++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Ye(t,i,n,r,a){var o=e.create();return i?(e.scale(o,o,[1/a,1/a,1]),n||e.rotateZ(o,o,r.angle)):e.multiply(o,r.labelPlaneMatrix,t),o}function Xe(t,i,n,r,a){if(i){var o=e.clone(t);return e.scale(o,o,[a,a,1]),n||e.rotateZ(o,o,-r.angle),o}return r.glCoordMatrix}function Ke(t,i){var n=[t.x,t.y,0,1];lt(n,n,i);var r=n[3];return{point:new e.Point(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function Je(e,t){return.5+e/t*.5}function Qe(e,t){var i=e[0]/e[3],n=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&n>=-t[1]&&n<=t[1]}function et(t,i,n,r,a,o,s,l){var c=r?t.textSizeData:t.iconSizeData,u=e.evaluateSizeForZoom(c,n.transform.zoom),d=[256/n.width*2+1,256/n.height*2+1],p=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var f=t.lineVertexArray,h=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,v=n.transform.width/n.transform.height,m=!1,g=0;g<h.length;g++){var y=h.get(g);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!m)ut(y.numGlyphs,p);else{m=!1;var x=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(x,x,i),Qe(x,d)){var _=Je(n.transform.cameraToCenterDistance,x[3]),b=e.evaluateSizeForFeature(c,u,y),w=s?b/_:b*_,k=new e.Point(y.anchorX,y.anchorY),S=Ke(k,a).point,C={},T=nt(y,w,!1,l,i,a,o,t.glyphOffsetArray,f,p,S,k,C,v);m=T.useVertical,(T.notEnoughRoom||m||T.needsFlipping&&nt(y,w,!0,l,i,a,o,t.glyphOffsetArray,f,p,S,k,C,v).notEnoughRoom)&&ut(y.numGlyphs,p)}else ut(y.numGlyphs,p)}}r?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function tt(e,t,i,n,r,a,o,s,l,c,u){var d=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,h=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(d-1),m=at(e*h,i,n,r,a,o,s.segment,p,f,l,c,u);if(!m)return null;var g=at(e*v,i,n,r,a,o,s.segment,p,f,l,c,u);return g?{first:m,last:g}:null}function it(t,i,n,r){return t===e.WritingMode.horizontal&&Math.abs(n.y-i.y)>Math.abs(n.x-i.x)*r?{useVertical:!0}:(t===e.WritingMode.vertical?i.y<n.y:i.x>n.x)?{needsFlipping:!0}:null}function nt(t,i,n,r,a,o,s,l,c,u,d,p,f,h){var v,m=i/24,g=t.lineOffsetX*m,y=t.lineOffsetY*m;if(t.numGlyphs>1){var x=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,b=t.lineStartIndex+t.lineLength,w=tt(m,l,g,y,n,d,p,t,c,o,f);if(!w)return{notEnoughRoom:!0};var k=Ke(w.first.point,s).point,S=Ke(w.last.point,s).point;if(r&&!n){var C=it(t.writingMode,k,S,h);if(C)return C}v=[w.first];for(var T=t.glyphStartIndex+1;T<x-1;T++)v.push(at(m*l.getoffsetX(T),g,y,n,d,p,t.segment,_,b,c,o,f));v.push(w.last)}else{if(r&&!n){var E=Ke(p,a).point,M=t.lineStartIndex+t.segment+1,P=new e.Point(c.getx(M),c.gety(M)),A=Ke(P,a),O=A.signedDistanceFromCamera>0?A.point:ot(p,P,E,1,a),I=it(t.writingMode,E,O,h);if(I)return I}var D=at(m*l.getoffsetX(t.glyphStartIndex),g,y,n,d,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,o,f);if(!D)return{notEnoughRoom:!0};v=[D]}for(var R=0,z=v;R<z.length;R+=1){var L=z[R];e.addDynamicAttributes(u,L.point,L.angle)}return{}}function ot(e,t,i,n,r){var a=Ke(e.add(e.sub(t)._unit()),r).point,o=i.sub(a);return i.add(o._mult(n/o.mag()))}function at(t,i,n,r,a,o,s,l,c,u,d,p){var f=r?t-i:t+i,h=f>0?1:-1,v=0;r&&(h*=-1,v=Math.PI),h<0&&(v+=Math.PI);for(var m=h>0?l+s:l+s+1,g=a,y=a,x=0,_=0,b=Math.abs(f),w=[];x+_<=b;){if((m+=h)<l||m>=c)return null;if(y=g,w.push(g),void 0===(g=p[m])){var k=new e.Point(u.getx(m),u.gety(m)),S=Ke(k,d);if(S.signedDistanceFromCamera>0)g=p[m]=S.point;else{var C=m-h;g=ot(0===x?o:new e.Point(u.getx(C),u.gety(C)),k,y,b-x+1,d)}}x+=_,_=y.dist(g)}var T=(b-x)/_,E=g.sub(y),M=E.mult(T)._add(y);M._add(E._unit()._perp()._mult(n*h));var P=v+Math.atan2(g.y-y.y,g.x-y.x);return w.push(M),{point:M,angle:P,path:w}}Ze.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ze.prototype.insert=function(e,t,i,n,r){this._forEachCell(t,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},Ze.prototype.insertCircle=function(e,t,i,n){this._forEachCell(t-n,i-n,t+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(n)},Ze.prototype._insertBoxCell=function(e,t,i,n,r,a){this.boxCells[r].push(a)},Ze.prototype._insertCircleCell=function(e,t,i,n,r,a){this.circleCells[r].push(a)},Ze.prototype._query=function(e,t,i,n,r,a){if(i<0||e>this.width||n<0||t>this.height)return!r&&[];var o=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=n){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],u=this.circles[3*l+1],d=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:c-d,y1:u-d,x2:c+d,y2:u+d})}return a?o.filter(a):o}return this._forEachCell(e,t,i,n,this._queryCell,o,{hitTest:r,seenUids:{box:{},circle:{}}},a),r?o.length>0:o},Ze.prototype._queryCircle=function(e,t,i,n,r){var a=e-i,o=e+i,s=t-i,l=t+i;if(o<0||a>this.width||l<0||s>this.height)return!n&&[];var c=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,c,{hitTest:n,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),n?c.length>0:c},Ze.prototype.query=function(e,t,i,n,r){return this._query(e,t,i,n,!1,r)},Ze.prototype.hitTest=function(e,t,i,n,r){return this._query(e,t,i,n,!0,r)},Ze.prototype.hitTestCircle=function(e,t,i,n){return this._queryCircle(e,t,i,!0,n)},Ze.prototype._queryCell=function(e,t,i,n,r,a,o,s){var l=o.seenUids,c=this.boxCells[r];if(null!==c)for(var u=this.bboxes,d=0,p=c;d<p.length;d+=1){var f=p[d];if(!l.box[f]){l.box[f]=!0;var h=4*f;if(e<=u[h+2]&&t<=u[h+3]&&i>=u[h+0]&&n>=u[h+1]&&(!s||s(this.boxKeys[f]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[f],x1:u[h],y1:u[h+1],x2:u[h+2],y2:u[h+3]})}}}var v=this.circleCells[r];if(null!==v)for(var m=this.circles,g=0,y=v;g<y.length;g+=1){var x=y[g];if(!l.circle[x]){l.circle[x]=!0;var _=3*x;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],e,t,i,n)&&(!s||s(this.circleKeys[x]))){if(o.hitTest)return a.push(!0),!0;var b=m[_],w=m[_+1],k=m[_+2];a.push({key:this.circleKeys[x],x1:b-k,y1:w-k,x2:b+k,y2:w+k})}}}},Ze.prototype._queryCellCircle=function(e,t,i,n,r,a,o,s){var l=o.circle,c=o.seenUids,u=this.boxCells[r];if(null!==u)for(var d=this.bboxes,p=0,f=u;p<f.length;p+=1){var h=f[p];if(!c.box[h]){c.box[h]=!0;var v=4*h;if(this._circleAndRectCollide(l.x,l.y,l.radius,d[v+0],d[v+1],d[v+2],d[v+3])&&(!s||s(this.boxKeys[h])))return a.push(!0),!0}}var m=this.circleCells[r];if(null!==m)for(var g=this.circles,y=0,x=m;y<x.length;y+=1){var _=x[y];if(!c.circle[_]){c.circle[_]=!0;var b=3*_;if(this._circlesCollide(g[b],g[b+1],g[b+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[_])))return a.push(!0),!0}}},Ze.prototype._forEachCell=function(e,t,i,n,r,a,o,s){for(var l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(i),d=this._convertToYCellCoord(n),p=l;p<=u;p++)for(var f=c;f<=d;f++)if(r.call(this,e,t,i,n,this.xCellCount*f+p,a,o,s))return},Ze.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ze.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ze.prototype._circlesCollide=function(e,t,i,n,r,a){var o=n-e,s=r-t,l=i+a;return l*l>o*o+s*s},Ze.prototype._circleAndRectCollide=function(e,t,i,n,r,a,o){var s=(a-n)/2,l=Math.abs(e-(n+s));if(l>s+i)return!1;var c=(o-r)/2,u=Math.abs(t-(r+c));if(u>c+i)return!1;if(l<=s||u<=c)return!0;var d=l-s,p=u-c;return d*d+p*p<=i*i};var st=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ut(e,t){for(var i=0;i<e;i++){var n=t.length;t.resize(n+4),t.float32.set(st,3*n)}}function lt(e,t,i){var n=t[0],r=t[1];return e[0]=i[0]*n+i[4]*r+i[12],e[1]=i[1]*n+i[5]*r+i[13],e[3]=i[3]*n+i[7]*r+i[15],e}var ct=function(e,t,i){void 0===t&&(t=new Ze(e.width+200,e.height+200,25)),void 0===i&&(i=new Ze(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ft(t,i,n){return i*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}ct.prototype.placeCollisionBox=function(e,t,i,n,r){var a=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),o=i*a.perspectiveRatio,s=e.x1*o+a.point.x,l=e.y1*o+a.point.y,c=e.x2*o+a.point.x,u=e.y2*o+a.point.y;return!this.isInsideGrid(s,l,c,u)||!t&&this.grid.hitTest(s,l,c,u,r)?{box:[],offscreen:!1}:{box:[s,l,c,u],offscreen:this.isOffscreen(s,l,c,u)}},ct.prototype.placeCollisionCircles=function(t,i,n,r,a,o,s,l,c,u,d,p,f){var h=[],v=new e.Point(i.anchorX,i.anchorY),m=Ke(v,o),g=Je(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),y=(u?a/g:a*g)/e.ONE_EM,x=Ke(v,s).point,_=tt(y,r,i.lineOffsetX*y,i.lineOffsetY*y,!1,x,v,i,n,s,{}),b=!1,w=!1,k=!0;if(_){for(var S=.5*p*g+f,C=new e.Point(-100,-100),T=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),E=new Ge,M=_.first,P=_.last,A=[],O=M.path.length-1;O>=1;O--)A.push(M.path[O]);for(var I=1;I<P.path.length;I++)A.push(P.path[I]);var D=2.5*S;if(l){var R=A.map((function(e){return Ke(e,l)}));A=R.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:R.map((function(e){return e.point}))}var z=[];if(A.length>0){for(var L=A[0].clone(),j=A[0].clone(),F=1;F<A.length;F++)L.x=Math.min(L.x,A[F].x),L.y=Math.min(L.y,A[F].y),j.x=Math.max(j.x,A[F].x),j.y=Math.max(j.y,A[F].y);z=L.x>=C.x&&j.x<=T.x&&L.y>=C.y&&j.y<=T.y?[A]:j.x<C.x||L.x>T.x||j.y<C.y||L.y>T.y?[]:e.clipLine([A],C.x,C.y,T.x,T.y)}for(var N=0,B=z;N<B.length;N+=1){var V;E.reset(B[N],.25*S),V=E.length<=.5*S?1:Math.ceil(E.paddedLength/D)+1;for(var q=0;q<V;q++){var U=q/Math.max(V-1,1),W=E.lerp(U),H=W.x+100,$=W.y+100;h.push(H,$,S,0);var G=H-S,Z=$-S,Y=H+S,X=$+S;if(k=k&&this.isOffscreen(G,Z,Y,X),w=w||this.isInsideGrid(G,Z,Y,X),!t&&this.grid.hitTestCircle(H,$,S,d)&&(b=!0,!c))return{circles:[],offscreen:!1,collisionDetected:b}}}}return{circles:!c&&b||!w?[]:h,offscreen:k,collisionDetected:b}},ct.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var i=[],n=1/0,r=1/0,a=-1/0,o=-1/0,s=0,l=t;s<l.length;s+=1){var c=l[s],u=new e.Point(c.x+100,c.y+100);n=Math.min(n,u.x),r=Math.min(r,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y),i.push(u)}for(var d={},p={},f=0,h=this.grid.query(n,r,a,o).concat(this.ignoredGrid.query(n,r,a,o));f<h.length;f+=1){var v=h[f],m=v.key;if(void 0===d[m.bucketInstanceId]&&(d[m.bucketInstanceId]={}),!d[m.bucketInstanceId][m.featureIndex]){var g=[new e.Point(v.x1,v.y1),new e.Point(v.x2,v.y1),new e.Point(v.x2,v.y2),new e.Point(v.x1,v.y2)];e.polygonIntersectsPolygon(i,g)&&(d[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},ct.prototype.insertCollisionBox=function(e,t,i,n,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:n,collisionGroupID:r},e[0],e[1],e[2],e[3])},ct.prototype.insertCollisionCircles=function(e,t,i,n,r){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:i,featureIndex:n,collisionGroupID:r},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},ct.prototype.projectAndGetPerspectiveRatio=function(t,i,n){var r=[i,n,0,1];return lt(r,r,t),{point:new e.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},ct.prototype.isOffscreen=function(e,t,i,n){return i<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},ct.prototype.isInsideGrid=function(e,t,i,n){return i>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary},ct.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var ht=function(e,t,i,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&i?1:0,this.placed=i};ht.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pt=function(e,t,i,n,r){this.text=new ht(e?e.text:null,t,i,r),this.icon=new ht(e?e.icon:null,t,n,r)};pt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var vt=function(e,t,i){this.text=e,this.icon=t,this.skipFade=i},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},gt=function(e,t,i,n,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=n,this.tileID=r},yt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,i,n,r,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*i,l=-(o.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,r);return new e.Point(s+c[0]*a,l+c[1]*a)}function xt(t,i,n,r,a,o){var s=t.x1,l=t.x2,c=t.y1,u=t.y2,d=t.anchorPointX,p=t.anchorPointY,f=new e.Point(i,n);return r&&f._rotate(a?o:-o),{x1:s+f.x,y1:c+f.y,x2:l+f.x,y2:u+f.y,anchorPointX:d,anchorPointY:p}}yt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var _t=function(e,t,i,n){this.transform=e.clone(),this.collisionIndex=new ct(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new yt(i),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,i,n,r){e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0),e.emplaceBack(t?1:0,i?1:0,n||0,r||0)}_t.prototype.getBucketParts=function(t,i,n,r){var a=n.getBucket(i),o=n.latestFeatureIndex;if(a&&o&&i.id===a.layerIds[0]){var s=n.collisionBoxArray,l=a.layers[0].layout,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),f="map"===l.get("text-rotation-alignment"),h=ft(n,1,this.transform.zoom),v=Ye(d,p,f,this.transform,h),m=null;if(p){var g=Xe(d,p,f,this.transform,h);m=e.multiply([],this.transform.labelPlaneMatrix,g)}this.retainedQueryData[a.bucketInstanceId]=new gt(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,n.tileID);var y={bucket:a,layout:l,posMatrix:d,textLabelPlaneMatrix:v,labelToScreenMatrix:m,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(r)for(var x=0,_=a.sortKeyRanges;x<_.length;x+=1){var b=_[x];t.push({sortKey:b.sortKey,symbolInstanceStart:b.symbolInstanceStart,symbolInstanceEnd:b.symbolInstanceEnd,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:y})}},_t.prototype.attemptAnchorPlacement=function(e,t,i,n,r,a,o,s,l,c,u,d,p,f,h){var v,m=[d.textOffset0,d.textOffset1],g=bt(e,i,n,m,r),y=this.collisionIndex.placeCollisionBox(xt(t,g.x,g.y,a,o,this.transform.angle),u,s,l,c.predicate);if(!h||0!==this.collisionIndex.placeCollisionBox(xt(h,g.x,g.y,a,o,this.transform.angle),u,s,l,c.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(v=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:m,width:i,height:n,anchor:e,textBoxScale:r,prevAnchor:v},this.markUsedJustification(p,e,d,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,d),this.placedOrientations[d.crossTileID]=f),{shift:g,placedGlyphBoxes:y}):void 0},_t.prototype.placeLayerBucketPart=function(t,i,n){var r=this,a=t.parameters,o=a.bucket,s=a.layout,l=a.posMatrix,c=a.textLabelPlaneMatrix,u=a.labelToScreenMatrix,d=a.textPixelRatio,p=a.holdingForFade,f=a.collisionBoxArray,h=a.partiallyEvaluatedTextSize,v=a.collisionGroup,m=s.get("text-optional"),g=s.get("icon-optional"),y=s.get("text-allow-overlap"),x=s.get("icon-allow-overlap"),_="map"===s.get("text-rotation-alignment"),b="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),S=y&&(x||!o.hasIconData()||g),C=x&&(y||!o.hasTextData()||m);!o.collisionArrays&&f&&o.deserializeCollisionBoxes(f);var T=function(t,a){if(!i[t.crossTileID])if(p)r.placements[t.crossTileID]=new vt(!1,!1,!1);else{var f,k=!1,T=!1,E=!0,M=null,P={box:null,offscreen:null},A={box:null,offscreen:null},O=null,I=null,D=0,R=0,z=0;a.textFeatureIndex?D=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(D=t.featureIndex),a.verticalTextFeatureIndex&&(R=a.verticalTextFeatureIndex);var L=a.textBox;if(L){var j=function(i){var n=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!i&&r.prevPlacement){var a=r.prevPlacement.placedOrientations[t.crossTileID];a&&(r.placedOrientations[t.crossTileID]=a,r.markUsedOrientation(o,n=a,t))}return n},F=function(i,n){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var r=0,s=o.writingModes;r<s.length&&(s[r]===e.WritingMode.vertical?(P=n(),A=P):P=i(),!(P&&P.box&&P.box.length));r+=1);else P=i()};if(s.get("text-variable-anchor")){var N=s.get("text-variable-anchor");if(r.prevPlacement&&r.prevPlacement.variableOffsets[t.crossTileID]){var B=r.prevPlacement.variableOffsets[t.crossTileID];N.indexOf(B.anchor)>0&&(N=N.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var V=function(e,i,n){for(var a=e.x2-e.x1,s=e.y2-e.y1,c=t.textBoxScale,u=w&&!x?i:null,p={box:[],offscreen:!1},f=y?2*N.length:N.length,h=0;h<f;++h){var m=r.attemptAnchorPlacement(N[h%N.length],e,a,s,c,_,b,d,l,v,h>=N.length,t,o,n,u);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){k=!0,M=m.shift;break}}return p};F((function(){return V(L,a.iconBox,e.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return o.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&t.numVerticalGlyphVertices>0&&i?V(i,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),P&&(k=P.box,E=P.offscreen);var q=j(P&&P.box);if(!k&&r.prevPlacement){var U=r.prevPlacement.variableOffsets[t.crossTileID];U&&(r.variableOffsets[t.crossTileID]=U,r.markUsedJustification(o,U.anchor,t,q))}}else{var W=function(e,i){var n=r.collisionIndex.placeCollisionBox(e,y,d,l,v.predicate);return n&&n.box&&n.box.length&&(r.markUsedOrientation(o,i,t),r.placedOrientations[t.crossTileID]=i),n};F((function(){return W(L,e.WritingMode.horizontal)}),(function(){var i=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i?W(i,e.WritingMode.vertical):{box:null,offscreen:null}})),j(P&&P.box&&P.box.length)}}if(k=(f=P)&&f.box&&f.box.length>0,E=f&&f.offscreen,t.useRuntimeCollisionCircles){var H=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),$=e.evaluateSizeForFeature(o.textSizeData,h,H),G=s.get("text-padding");O=r.collisionIndex.placeCollisionCircles(y,H,o.lineVertexArray,o.glyphOffsetArray,$,l,c,u,n,b,v.predicate,t.collisionCircleDiameter,G),k=y||O.circles.length>0&&!O.collisionDetected,E=E&&O.offscreen}if(a.iconFeatureIndex&&(z=a.iconFeatureIndex),a.iconBox){var Z=function(e){var t=w&&M?xt(e,M.x,M.y,_,b,r.transform.angle):e;return r.collisionIndex.placeCollisionBox(t,x,d,l,v.predicate)};T=A&&A.box&&A.box.length&&a.verticalIconBox?(I=Z(a.verticalIconBox)).box.length>0:(I=Z(a.iconBox)).box.length>0,E=E&&I.offscreen}var Y=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,X=g||0===t.numIconVertices;if(Y||X?X?Y||(T=T&&k):k=T&&k:T=k=T&&k,k&&f&&f.box&&r.collisionIndex.insertCollisionBox(f.box,s.get("text-ignore-placement"),o.bucketInstanceId,A&&A.box&&R?R:D,v.ID),T&&I&&r.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),o.bucketInstanceId,z,v.ID),O&&(k&&r.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),o.bucketInstanceId,D,v.ID),n)){var K=o.bucketInstanceId,J=r.collisionCircleArrays[K];void 0===J&&(J=r.collisionCircleArrays[K]=new mt);for(var Q=0;Q<O.circles.length;Q+=4)J.circles.push(O.circles[Q+0]),J.circles.push(O.circles[Q+1]),J.circles.push(O.circles[Q+2]),J.circles.push(O.collisionDetected?1:0)}r.placements[t.crossTileID]=new vt(k||S,T||C,E||o.justReloaded),i[t.crossTileID]=!0}};if(k)for(var E=o.getSortedSymbolIndexes(this.transform.angle),M=E.length-1;M>=0;--M){var P=E[M];T(o.symbolInstances.get(P),o.collisionArrays[P])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)T(o.symbolInstances.get(A),o.collisionArrays[A]);if(n&&o.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[o.bucketInstanceId];e.invert(O.invProjMatrix,l),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},_t.prototype.markUsedJustification=function(t,i,n,r){var a;a=r===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(i)];for(var o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];o<s.length;o+=1){var l=s[o];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=a>=0&&l!==a?0:n.crossTileID)}},_t.prototype.markUsedOrientation=function(t,i,n){for(var r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,a=i===e.WritingMode.vertical?i:0,o=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];o<s.length;o+=1)t.text.placedSymbolArray.get(s[o]).placedOrientation=r;n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=a)},_t.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],c=r[s];c?(this.opacities[s]=new pt(c,n,l.text,l.icon),i=i||l.text!==c.text.placed||l.icon!==c.icon.placed):(this.opacities[s]=new pt(null,n,l.text,l.icon,l.skipFade),i=i||l.text||l.icon)}for(var u in r){var d=r[u];if(!this.opacities[u]){var p=new pt(d,n,!1,!1);p.isHidden()||(this.opacities[u]=p,i=i||d.text.placed||d.icon.placed)}}for(var f in a)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=a[f]);for(var h in o)this.placedOrientations[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.placedOrientations[h]=o[h]);i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},_t.prototype.updateLayerOpacities=function(e,t){for(var i={},n=0,r=t;n<r.length;n+=1){var a=r[n],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,i,a.collisionBoxArray)}},_t.prototype.updateBucketOpacities=function(t,i,n){var r=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new pt(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),l=a.get("icon-allow-overlap"),c=a.get("text-variable-anchor"),u="map"===a.get("text-rotation-alignment"),d="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),f=new pt(null,0,s&&(l||!t.hasIconData()||a.get("icon-optional")),l&&(s||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var h=function(e,t,i){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(i)},v=function(n){var a=t.symbolInstances.get(n),s=a.numHorizontalGlyphVertices,l=a.numVerticalGlyphVertices,v=a.crossTileID,m=r.opacities[v];i[v]?m=o:m||(r.opacities[v]=m=f),i[v]=!0;var g=a.numIconVertices>0,y=r.placedOrientations[a.crossTileID],x=y===e.WritingMode.vertical,_=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(s>0||l>0){var b=At(m.text);h(t.text,s,x?Ot:b),h(t.text,l,_?Ot:b);var w=m.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||x?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=w||_?1:0);var k=r.variableOffsets[a.crossTileID];k&&r.markUsedJustification(t,k.anchor,a,y);var S=r.placedOrientations[a.crossTileID];S&&(r.markUsedJustification(t,"left",a,S),r.markUsedOrientation(t,S,a))}if(g){var C=At(m.icon),T=!(p&&a.verticalPlacedIconSymbolIndex&&x);a.placedIconSymbolIndex>=0&&(h(t.icon,a.numIconVertices,T?C:Ot),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=m.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(h(t.icon,a.numVerticalIconVertices,T?Ot:C),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var E=t.collisionArrays[n];if(E){var M=new e.Point(0,0);if(E.textBox||E.verticalTextBox){var P=!0;if(c){var A=r.variableOffsets[v];A?(M=bt(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),u&&M._rotate(d?r.transform.angle:-r.transform.angle)):P=!1}E.textBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||x,M.x,M.y),E.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!P||_,M.x,M.y)}var O=Boolean(!_&&E.verticalIconBox);E.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,O,p?M.x:0,p?M.y:0),E.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!O,p?M.x:0,p?M.y:0)}}},m=0;m<t.symbolInstances.length;m++)v(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var g=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=g.invProjMatrix,t.placementViewportMatrix=g.viewportMatrix,t.collisionCircleArray=g.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},_t.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},_t.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},_t.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},_t.prototype.stillRecent=function(e,t){var i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e},_t.prototype.setStale=function(){this.stale=!0};var kt=Math.pow(2,25),St=Math.pow(2,24),Ct=Math.pow(2,17),Tt=Math.pow(2,16),Et=Math.pow(2,9),Mt=Math.pow(2,8),Pt=Math.pow(2,1);function At(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*kt+t*St+i*Ct+t*Tt+i*Et+t*Mt+i*Pt+t}var Ot=0,It=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};It.prototype.continuePlacement=function(e,t,i,n,r){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,i),this._currentPartIndex++,r())return!0;return!1};var Dt=function(e,t,i,n,r,a,o){this.placement=new _t(e,r,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};Dt.prototype.isDone=function(){return this._done},Dt.prototype.continuePlacement=function(t,i,n){for(var r=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=i[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new It(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Dt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Rt=512/e.EXTENT/2,zt=function(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var n=0;n<t.length;n++){var r=t.get(n),a=r.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}};zt.prototype.getScaledCoordinates=function(t,i){var n=Rt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return{x:Math.floor((i.canonical.x*e.EXTENT+t.anchorX)*n),y:Math.floor((i.canonical.y*e.EXTENT+t.anchorY)*n)}},zt.prototype.findMatches=function(e,t,i){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),r=0;r<e.length;r++){var a=e.get(r);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),l=0,c=o;l<c.length;l+=1){var u=c[l];if(Math.abs(u.coord.x-s.x)<=n&&Math.abs(u.coord.y-s.y)<=n&&!i[u.crossTileID]){i[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}}};var Lt=function(){this.maxCrossTileID=0};Lt.prototype.generate=function(){return++this.maxCrossTileID};var jt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};jt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var i in this.indexes){var n=this.indexes[i],r={};for(var a in n){var o=n[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),r[o.tileID.key]=o}this.indexes[i]=r}this.lng=e},jt.prototype.addBucket=function(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var r=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,r)}else{var c=o[e.scaledTo(Number(a)).key];c&&c.findMatches(t.symbolInstances,e,r)}}for(var u=0;u<t.symbolInstances.length;u++){var d=t.symbolInstances.get(u);d.crossTileID||(d.crossTileID=i.generate(),r[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new zt(e,t.symbolInstances,t.bucketInstanceId),!0},jt.prototype.removeBucketCrossTileIDs=function(e,t){for(var i in t.indexedSymbolInstances)for(var n=0,r=t.indexedSymbolInstances[i];n<r.length;n+=1)delete this.usedCrossTileIDs[e][r[n].crossTileID]},jt.prototype.removeStaleBuckets=function(e){var t=!1;for(var i in this.indexes){var n=this.indexes[i];for(var r in n)e[n[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,n[r]),delete n[r],t=!0)}return t};var Ft=function(){this.layerIndexes={},this.crossTileIDs=new Lt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ft.prototype.addLayer=function(e,t,i){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new jt);var r=!1,a={};n.handleWrapJump(i);for(var o=0,s=t;o<s.length;o+=1){var l=s[o],c=l.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,c,this.crossTileIDs)&&(r=!0),a[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(a)&&(r=!0),r},Ft.prototype.pruneUnusedLayers=function(e){var t={};for(var i in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[i]||delete this.layerIndexes[i]};var Nt=function(t,i){return e.emitValidationErrors(t,i&&i.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ne,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Vt=e.pick(Ne,["setCenter","setZoom","setBearing","setPitch"]),Ut=function(){var t={},i=e.styleSpec.$version;for(var n in e.styleSpec.$root){var r,a=e.styleSpec.$root[n];a.required&&null!=(r="version"===n?i:"array"===a.type?[]:{})&&(t[n]=r)}return t}(),Wt=function(t){function i(n,r){var a=this;void 0===r&&(r={}),t.call(this),this.map=n,this.dispatcher=new S(Le(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new x(n._requestManager,r.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new Ft,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=i.registerForPluginStateChange((function(t){o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,i){if(e.triggerPluginCompletionEvent(t),i&&i.every((function(e){return e})))for(var n in o.sourceCaches)o.sourceCaches[n].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=a.sourceCaches[e.sourceId];if(t){var i=t.getSource();if(i&&i.vectorLayerIds)for(var n in a._layers){var r=a._layers[n];r.source===i.id&&a._validateLayer(r)}}}}))}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.loadURL=function(t,i){var n=this;void 0===i&&(i={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,i){n._request=null,t?n.fire(new e.ErrorEvent(t)):i&&n._load(i,r)}))},i.prototype.loadJSON=function(t,i){var n=this;void 0===i&&(i={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){n._request=null,n._load(t,!1!==i.validate)}))},i.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Ut,!1)},i.prototype._load=function(t,i){if(!i||!Nt(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(n,t.sources[n],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var r=Fe(this.stylesheet.layers);this._order=r.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var a=0,o=r;a<o.length;a+=1){var s=o[a];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},i.prototype._loadSprite=function(t){var i=this;this._spriteRequest=function(t,i,n){var r,a,o,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,r=t,u())})),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){c=null,o||(o=e,a=t,u())}));function u(){if(o)n(o);else if(r&&a){var t=e.browser.getImageData(a),i={};for(var s in r){var l=r[s],c=l.width,u=l.height,d=l.x,p=l.y,f=l.sdf,h=l.pixelRatio,v=l.stretchX,m=l.stretchY,g=l.content,y=new e.RGBAImage({width:c,height:u});e.RGBAImage.copy(t,y,{x:d,y:p},{x:0,y:0},{width:c,height:u}),i[s]={data:y,pixelRatio:h,sdf:f,stretchX:v,stretchY:m,content:g}}n(null,i)}}return{cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(function(t,n){if(i._spriteRequest=null,t)i.fire(new e.ErrorEvent(t));else if(n)for(var r in n)i.imageManager.addImage(r,n[r]);i.imageManager.setLoaded(!0),i._availableImages=i.imageManager.listImages(),i.dispatcher.broadcast("setImages",i._availableImages),i.fire(new e.Event("data",{dataType:"style"}))}))},i.prototype._validateLayer=function(t){var i=this.sourceCaches[t.source];if(i){var n=t.sourceLayer;if(n){var r=i.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(e){for(var t=[],i=0,n=e;i<n.length;i+=1){var r=this._layers[n[i]];"custom"!==r.type&&t.push(r.serialize())}return t},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(t){if(this._loaded){var i=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var a in(n.length||r.length)&&this._updateWorkerLayers(n,r),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var c=0,u=this._order;c<u.length;c+=1){var d=this._layers[u[c]];d.recalculate(t,this._availableImages),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,i&&this.fire(new e.Event("data",{dataType:"style"}))}},i.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},i.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},i.prototype.setState=function(t){var i=this;if(this._checkLoaded(),Nt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Fe(t.layers);var n=function(t,i){if(!t)return[{command:Ne.setStyle,args:[i]}];var n=[];try{if(!e.deepEqual(t.version,i.version))return[{command:Ne.setStyle,args:[i]}];e.deepEqual(t.center,i.center)||n.push({command:Ne.setCenter,args:[i.center]}),e.deepEqual(t.zoom,i.zoom)||n.push({command:Ne.setZoom,args:[i.zoom]}),e.deepEqual(t.bearing,i.bearing)||n.push({command:Ne.setBearing,args:[i.bearing]}),e.deepEqual(t.pitch,i.pitch)||n.push({command:Ne.setPitch,args:[i.pitch]}),e.deepEqual(t.sprite,i.sprite)||n.push({command:Ne.setSprite,args:[i.sprite]}),e.deepEqual(t.glyphs,i.glyphs)||n.push({command:Ne.setGlyphs,args:[i.glyphs]}),e.deepEqual(t.transition,i.transition)||n.push({command:Ne.setTransition,args:[i.transition]}),e.deepEqual(t.light,i.light)||n.push({command:Ne.setLight,args:[i.light]});var r={},a=[];!function(t,i,n,r){var a;for(a in i=i||{},t=t||{})t.hasOwnProperty(a)&&(i.hasOwnProperty(a)||Ve(a,n,r));for(a in i)i.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],i[a])||("geojson"===t[a].type&&"geojson"===i[a].type&&We(t,i,a)?n.push({command:Ne.setGeoJSONSourceData,args:[a,i[a].data]}):Ue(a,i,n,r)):Be(a,i,n))}(t.sources,i.sources,a,r);var o=[];t.layers&&t.layers.forEach((function(e){r[e.source]?n.push({command:Ne.removeLayer,args:[e.id]}):o.push(e)})),n=n.concat(a),function(t,i,n){i=i||[];var r,a,o,s,l,c,u,d=(t=t||[]).map($e),p=i.map($e),f=t.reduce(qe,{}),h=i.reduce(qe,{}),v=d.slice(),m=Object.create(null);for(r=0,a=0;r<d.length;r++)h.hasOwnProperty(o=d[r])?a++:(n.push({command:Ne.removeLayer,args:[o]}),v.splice(v.indexOf(o,a),1));for(r=0,a=0;r<p.length;r++)v[v.length-1-r]!==(o=p[p.length-1-r])&&(f.hasOwnProperty(o)?(n.push({command:Ne.removeLayer,args:[o]}),v.splice(v.lastIndexOf(o,v.length-a),1)):a++,n.push({command:Ne.addLayer,args:[h[o],c=v[v.length-r]]}),v.splice(v.length-r,0,o),m[o]=!0);for(r=0;r<p.length;r++)if(s=f[o=p[r]],l=h[o],!m[o]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(u in He(s.layout,l.layout,n,o,null,Ne.setLayoutProperty),He(s.paint,l.paint,n,o,null,Ne.setPaintProperty),e.deepEqual(s.filter,l.filter)||n.push({command:Ne.setFilter,args:[o,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||n.push({command:Ne.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?He(s[u],l[u],n,o,u.slice(6),Ne.setPaintProperty):e.deepEqual(s[u],l[u])||n.push({command:Ne.setLayerProperty,args:[o,u,l[u]]}));for(u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?He(s[u],l[u],n,o,u.slice(6),Ne.setPaintProperty):e.deepEqual(s[u],l[u])||n.push({command:Ne.setLayerProperty,args:[o,u,l[u]]}))}else n.push({command:Ne.removeLayer,args:[o]}),c=v[v.lastIndexOf(o)+1],n.push({command:Ne.addLayer,args:[l,c]})}(o,i.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:Ne.setStyle,args:[i]}]}return n}(this.serialize(),t).filter((function(e){return!(e.command in Vt)}));if(0===n.length)return!1;var r=n.filter((function(e){return!(e.command in Bt)}));if(r.length>0)throw new Error("Unimplemented: "+r.map((function(e){return e.command})).join(", ")+".");return n.forEach((function(e){"setTransition"!==e.command&&i[e.command].apply(i,e.args)})),this.stylesheet=t,!0},i.prototype.addImage=function(t,i){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,i),this._afterImageUpdated(t)},i.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},i.prototype.getImage=function(e){return this.imageManager.getImage(e)},i.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},i.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(t,i,n){var r=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!i.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(i).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,i,null,n))){this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);var a=this.sourceCaches[t]=new Me(t,i,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:r.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var i in this._layers)if(this._layers[i].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+i+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},i.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},i.prototype.addLayer=function(t,i,n){void 0===n&&(n={}),this._checkLoaded();var r=t.id;if(this.getLayer(r))this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else{var a;if("custom"===t.type){if(Nt(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateStyle.layer,"layers."+r,t,{arrayIndex:-1},n))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[a.id]=a.serialize()}var o=i?this._order.indexOf(i):this._order.length;if(i&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.')));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=a,this._removedLayers[r]&&a.source&&"custom"!==a.type){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},i.prototype.moveLayer=function(t,i){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==i){var n=this._order.indexOf(t);this._order.splice(n,1);var r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" does not exist on this map.'))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(t){this._checkLoaded();var i=this._layers[t];if(i){i.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(e){return this._layers[e]},i.prototype.hasLayer=function(e){return e in this._layers},i.prototype.setLayerZoomRange=function(t,i,n){this._checkLoaded();var r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===n||(null!=i&&(r.minzoom=i),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(t,i,n){void 0===n&&(n={}),this._checkLoaded();var r=this.getLayer(t);if(r){if(!e.deepEqual(r.filter,i))return null==i?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(e.validateStyle.filter,"layers."+r.id+".filter",i,null,n)||(r.filter=e.clone$1(i),this._updateLayer(r)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},i.prototype.setLayoutProperty=function(t,i,n,r){void 0===r&&(r={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(i),n)||(a.setLayoutProperty(i,n,r),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,i){var n=this.getLayer(t);if(n)return n.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},i.prototype.setPaintProperty=function(t,i,n,r){void 0===r&&(r={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(i),n)||(a.setPaintProperty(i,n,r)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},i.prototype.setFeatureState=function(t,i){this._checkLoaded();var n=t.source,r=t.sourceLayer,a=this.sourceCaches[n];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&r?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||r?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(r,t.id,i)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.removeFeatureState=function(t,i){this._checkLoaded();var n=t.source,r=this.sourceCaches[n];if(void 0!==r){var a=r.getSource().type,o="vector"===a?t.sourceLayer:void 0;"vector"!==a||o?i&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(o,t.id,i):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(t){this._checkLoaded();var i=t.source,n=t.sourceLayer,r=this.sourceCaches[i];if(void 0!==r){if("vector"!==r.getSource().type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),r.getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},i.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},i.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,i=function(e){return"fill-extrusion"===t._layers[e].type},n={},r=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(i(o)){n[o]=a;for(var s=0,l=e;s<l.length;s+=1){var c=l[s][o];if(c)for(var u=0,d=c;u<d.length;u+=1)r.push(d[u])}}}r.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],f=this._order.length-1;f>=0;f--){var h=this._order[f];if(i(h))for(var v=r.length-1;v>=0;v--){var m=r[v].feature;if(n[m.layer.id]<f)break;p.push(m),r.pop()}else for(var g=0,y=e;g<y.length;g+=1){var x=y[g][h];if(x)for(var _=0,b=x;_<b.length;_+=1)p.push(b[_].feature)}}return p},i.prototype.queryRenderedFeatures=function(t,i,n){i&&i.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",i.filter,null,i);var r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=i.layers;a<o.length;a+=1){var s=o[a],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];r[l.source]=!0}}var c=[];for(var u in i.availableImages=this._availableImages,this.sourceCaches)i.layers&&!r[u]||c.push(j(this.sourceCaches[u],this._layers,this._serializedLayers,t,i,n));return this.placement&&c.push(function(e,t,i,n,r,a,o){for(var s={},l=a.queryRenderedSymbols(n),c=[],u=0,d=Object.keys(l).map(Number);u<d.length;u+=1)c.push(o[d[u]]);c.sort(F);for(var p=function(){var i=h[f],n=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(var a in n){var o=s[a]=s[a]||[],c=n[a];c.sort((function(e,t){var n=i.featureSortOrder;if(n){var r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex}));for(var u=0,d=c;u<d.length;u+=1)o.push(d[u])}},f=0,h=c;f<h.length;f+=1)p();var v=function(t){s[t].forEach((function(n){var r=n.feature,a=i[e[t].source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=a}))};for(var m in s)v(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},i.prototype.querySourceFeatures=function(t,i){i&&i.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",i.filter,null,i);var n=this.sourceCaches[t];return n?function(e,t){for(var i=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],r={},a=0;a<i.length;a++){var o=i[a],s=o.tileID.canonical.key;r[s]||(r[s]=!0,o.querySourceFeatures(n,t))}return n}(n,i):[]},i.prototype.addSourceType=function(e,t,n){return i.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(i.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(t,i){void 0===i&&(i={}),this._checkLoaded();var n=this.light.getLight(),r=!1;for(var a in t)if(!e.deepEqual(t[a],n[a])){r=!0;break}if(r){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,i),this.light.updateTransitions(o)}},i.prototype._validate=function(t,i,n,r,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&Nt(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:n,styleSpec:e.styleSpec},r)))},i.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var i in this.sourceCaches)this.sourceCaches[i].clearTiles(),this.sourceCaches[i].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},i.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},i.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},i.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},i.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},i.prototype._updatePlacement=function(t,i,n,r,a){void 0===a&&(a=!1);for(var o=!1,s=!1,l={},c=0,u=this._order;c<u.length;c+=1){var d=this._layers[u[c]];if("symbol"===d.type){if(!l[d.source]){var p=this.sourceCaches[d.source];l[d.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(d,l[d.source],t.center.lng);o=o||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Dt(t,this._order,a,i,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var h=0,v=this._order;h<v.length;h+=1){var m=this._layers[v[h]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,l[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},i.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},i.prototype.getImages=function(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();var n=this.sourceCaches[t.source];n&&n.setDependencies(t.tileID.key,t.type,t.icons)},i.prototype.getGlyphs=function(e,t,i){this.glyphManager.getGlyphs(t.stacks,i)},i.prototype.getResource=function(t,i,n){return e.makeRequest(i,n)},i}(e.Evented);Wt.getSourceType=function(e){return z[e]},Wt.setSourceType=function(e,t){z[e]=t},Wt.registerForPluginStateChange=e.registerForPluginStateChange;var Ht=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),$t=gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),qt=gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Gt=gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Zt=gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Yt=gi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Kt=gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Jt=gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qt=gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),ei=gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ti=gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),ii=gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ni=gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ri=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),oi=gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),ai=gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),si=gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),li=gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),ui=gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ci=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),di=gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fi=gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),hi=gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),pi=gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),vi=gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),mi=gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gi(e,t){var i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute ([\w]+) ([\w]+)/g),r=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(r):r,s={};return{fragmentSource:e=e.replace(i,(function(e,t,i,n,r){return s[r]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+i+" "+n+" "+r+";\n#else\nuniform "+i+" "+n+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+i+" "+n+" "+r+" = u_"+r+";\n#endif\n"})),vertexSource:t=t.replace(i,(function(e,t,i,n,r){var a="float"===n?"vec2":"vec4",o=r.match(/color/)?"color":a;return s[r]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+i+" "+a+" a_"+r+";\nvarying "+i+" "+n+" "+r+";\n#else\nuniform "+i+" "+n+" u_"+r+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = a_"+r+";\n#else\n    "+i+" "+n+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+o+"(a_"+r+", u_"+r+"_t);\n#else\n    "+i+" "+n+" "+r+" = u_"+r+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+i+" "+a+" a_"+r+";\n#else\nuniform "+i+" "+n+" u_"+r+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+i+" "+n+" "+r+" = a_"+r+";\n#else\n    "+i+" "+n+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+i+" "+n+" "+r+" = unpack_mix_"+o+"(a_"+r+", u_"+r+"_t);\n#else\n    "+i+" "+n+" "+r+" = u_"+r+";\n#endif\n"})),staticAttributes:n,staticUniforms:o}}var yi=Object.freeze({__proto__:null,prelude:$t,background:qt,backgroundPattern:Gt,circle:Zt,clippingMask:Yt,heatmap:Xt,heatmapTexture:Kt,collisionBox:Jt,collisionCircle:Qt,debug:ei,fill:ti,fillOutline:ii,fillOutlinePattern:ni,fillPattern:ri,fillExtrusion:oi,fillExtrusionPattern:ai,hillshadePrepare:si,hillshade:li,line:ui,lineGradient:ci,linePattern:di,lineSDF:fi,raster:hi,symbolIcon:pi,symbolSDF:vi,symbolTextAndIcon:mi}),bi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xi(e){for(var t=[],i=0;i<e.length;i++)if(null!==e[i]){var n=e[i].split(" ");t.push(n.pop())}return t}bi.prototype.bind=function(e,t,i,n,r,a,o,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,c=0;!l&&c<n.length;c++)this.boundPaintVertexBuffers[c]!==n[c]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===i&&!l&&this.boundIndexBuffer===r&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind()):this.freshBind(t,i,n,r,a,o,s)},bi.prototype.freshBind=function(e,t,i,n,r,a,o){var s,l=e.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=c.currentNumAttributes||0;for(var d=l;d<s;d++)u.disableVertexAttribArray(d)}t.enableAttributes(u,e);for(var p=0,f=i;p<f.length;p+=1)f[p].enableAttributes(u,e);a&&a.enableAttributes(u,e),o&&o.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,r);for(var h=0,v=i;h<v.length;h+=1){var m=v[h];m.bind(),m.setVertexAttribPointers(u,e,r)}a&&(a.bind(),a.setVertexAttribPointers(u,e,r)),n&&n.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,e,r)),c.currentNumAttributes=l},bi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _i=function(e,t,i,n,r,a){var o=e.gl;this.program=o.createProgram();for(var s=xi(i.staticAttributes),l=n?n.getBinderAttributes():[],c=s.concat(l),u=i.staticUniforms?xi(i.staticUniforms):[],d=n?n.getBinderUniforms():[],p=[],f=0,h=u.concat(d);f<h.length;f+=1){var v=h[f];p.indexOf(v)<0&&p.push(v)}var m=n?n.defines():[];a&&m.push("#define OVERDRAW_INSPECTOR;");var g=m.concat($t.fragmentSource,i.fragmentSource).join("\n"),y=m.concat($t.vertexSource,i.vertexSource).join("\n"),x=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(x,g),o.compileShader(x),o.attachShader(this.program,x);var _=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(_,y),o.compileShader(_),o.attachShader(this.program,_),this.attributes={};var b={};this.numAttributes=c.length;for(var w=0;w<this.numAttributes;w++)c[w]&&(o.bindAttribLocation(this.program,w,c[w]),this.attributes[c[w]]=w);o.linkProgram(this.program),o.deleteShader(_),o.deleteShader(x);for(var k=0;k<p.length;k++){var S=p[k];if(S&&!b[S]){var C=o.getUniformLocation(this.program,S);C&&(b[S]=C)}}this.fixedUniforms=r(e,b),this.binderUniforms=n?n.getUniforms(e,b):[]}}};function wi(e,t,i){var n=1/ft(i,1,t.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,t.transform.tileZoom)/r,o=a*(i.tileID.canonical.x+i.tileID.wrap*r),s=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}_i.prototype.draw=function(e,t,i,n,r,a,o,s,l,c,u,d,p,f,h,v){var m,g=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(n),e.setColorMode(r),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[y].set(o[y]);f&&f.setUniforms(e,this.binderUniforms,d,{zoom:p});for(var x=(m={},m[g.LINES]=2,m[g.TRIANGLES]=3,m[g.LINE_STRIP]=1,m)[t],_=0,b=u.get();_<b.length;_+=1){var w=b[_],k=w.vaos||(w.vaos={});(k[s]||(k[s]=new bi)).bind(e,this,l,f?f.getPaintVertexBuffers():[],c,w.vertexOffset,h,v),g.drawElements(t,w.primitiveLength*x,g.UNSIGNED_SHORT,w.primitiveOffset*x*2)}}};var ki=function(t,i,n,r){var a=i.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],l=e.create$1();"viewport"===a.properties.get("anchor")&&e.fromRotation(l,-i.transform.angle),e.transformMat3(s,s,l);var c=a.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+n,u_opacity:r}},Si=function(t,i,n,r,a,o,s){return e.extend(ki(t,i,n,r),wi(o,i,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},Ci=function(e){return{u_matrix:e}},Ti=function(t,i,n,r){return e.extend(Ci(t),wi(n,i,r))},Ei=function(e,t){return{u_matrix:e,u_world:t}},Mi=function(t,i,n,r,a){return e.extend(Ti(t,i,n,r),{u_world:a})},Pi=function(t,i,n,r){var a,o,s=t.transform;if("map"===r.paint.get("circle-pitch-alignment")){var l=ft(n,1,s.zoom);a=!0,o=[l,l]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(i.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},Ai=function(e,t,i){var n=ft(i,1,t.zoom),r=Math.pow(2,t.zoom-i.tileID.overscaledZ),a=i.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*r),t.pixelsToGLUnits[1]/(n*r)],u_overscale_factor:a}},Oi=function(e,t,i){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:i.cameraToCenterDistance,u_viewport_size:[i.width,i.height]}},Ii=function(e,t,i){return void 0===i&&(i=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}},Di=function(e){return{u_matrix:e}},Ri=function(e,t,i,n){return{u_matrix:e,u_extrude_scale:ft(t,1,i),u_intensity:n}},zi=function(t,i,n){var r=t.transform;return{u_matrix:Bi(t,i,n),u_ratio:1/ft(i,1,r.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Li=function(t,i,n,r){return e.extend(zi(t,i,n),{u_image:0,u_image_height:r})},ji=function(t,i,n,r){var a=t.transform,o=Ni(i,a);return{u_matrix:Bi(t,i,n),u_texsize:i.imageAtlasTexture.size,u_ratio:1/ft(i,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Fi=function(t,i,n,r,a){var o=t.lineAtlas,s=Ni(i,t.transform),l="round"===n.layout.get("line-cap"),c=o.getDash(r.from,l),u=o.getDash(r.to,l),d=c.width*a.fromScale,p=u.width*a.toScale;return e.extend(zi(t,i,n),{u_patternscale_a:[s/d,-c.height/2],u_patternscale_b:[s/p,-u.height/2],u_sdfgamma:o.width/(256*Math.min(d,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:u.y,u_mix:a.t})};function Ni(e,t){return 1/ft(e,1,t.tileZoom)}function Bi(e,t,i){return e.translatePosMatrix(t.tileID.posMatrix,t,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}var Vi=function(e,t,i,n,r){return{u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(o=r.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Ui(r.paint.get("raster-hue-rotate"))};var a,o};function Ui(e){e*=Math.PI/180;var t=Math.sin(e),i=Math.cos(e);return[(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}var Wi,Hi=function(e,t,i,n,r,a,o,s,l,c){var u=r.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:c,u_texture:0}},$i=function(t,i,n,r,a,o,s,l,c,u,d){var p=a.transform;return e.extend(Hi(t,i,n,r,a,o,s,l,c,u),{u_gamma_scale:r?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+d})},qi=function(t,i,n,r,a,o,s,l,c,u){return e.extend($i(t,i,n,r,a,o,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1})},Gi=function(e,t,i){return{u_matrix:e,u_opacity:t,u_color:i}},Zi=function(t,i,n,r,a,o){return e.extend(function(e,t,i,n){var r=i.imageManager.getPattern(e.from.toString()),a=i.imageManager.getPattern(e.to.toString()),o=i.imageManager.getPixelSize(),s=o.width,l=o.height,c=Math.pow(2,n.tileID.overscaledZ),u=n.tileSize*Math.pow(2,i.transform.tileZoom)/c,d=u*(n.tileID.canonical.x+n.tileID.wrap*c),p=u*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ft(n,1,i.transform.tileZoom),u_pixel_coord_upper:[d>>16,p>>16],u_pixel_coord_lower:[65535&d,65535&p]}}(r,o,n,a),{u_matrix:t,u_opacity:i})},Yi={fillExtrusion:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_opacity:new e.Uniform1f(t,i.u_opacity)}},fillExtrusionPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_lightpos:new e.Uniform3f(t,i.u_lightpos),u_lightintensity:new e.Uniform1f(t,i.u_lightintensity),u_lightcolor:new e.Uniform3f(t,i.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,i.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,i.u_height_factor),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade),u_opacity:new e.Uniform1f(t,i.u_opacity)}},fill:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},fillPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},fillOutline:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world)}},fillOutlinePattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world),u_image:new e.Uniform1i(t,i.u_image),u_texsize:new e.Uniform2f(t,i.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},circle:function(t,i){return{u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,i.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,i.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},collisionBox:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,i.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,i.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,i.u_overscale_factor)}},collisionCircle:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,i.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,i.u_viewport_size)}},debug:function(t,i){return{u_color:new e.UniformColor(t,i.u_color),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_overlay:new e.Uniform1i(t,i.u_overlay),u_overlay_scale:new e.Uniform1f(t,i.u_overlay_scale)}},clippingMask:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},heatmap:function(t,i){return{u_extrude_scale:new e.Uniform1f(t,i.u_extrude_scale),u_intensity:new e.Uniform1f(t,i.u_intensity),u_matrix:new e.UniformMatrix4f(t,i.u_matrix)}},heatmapTexture:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_world:new e.Uniform2f(t,i.u_world),u_image:new e.Uniform1i(t,i.u_image),u_color_ramp:new e.Uniform1i(t,i.u_color_ramp),u_opacity:new e.Uniform1f(t,i.u_opacity)}},hillshade:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_latrange:new e.Uniform2f(t,i.u_latrange),u_light:new e.Uniform2f(t,i.u_light),u_shadow:new e.UniformColor(t,i.u_shadow),u_highlight:new e.UniformColor(t,i.u_highlight),u_accent:new e.UniformColor(t,i.u_accent)}},hillshadePrepare:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_image:new e.Uniform1i(t,i.u_image),u_dimension:new e.Uniform2f(t,i.u_dimension),u_zoom:new e.Uniform1f(t,i.u_zoom),u_unpack:new e.Uniform4f(t,i.u_unpack)}},line:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels)}},lineGradient:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_image:new e.Uniform1i(t,i.u_image),u_image_height:new e.Uniform1f(t,i.u_image_height)}},linePattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_texsize:new e.Uniform2f(t,i.u_texsize),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_image:new e.Uniform1i(t,i.u_image),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_scale:new e.Uniform3f(t,i.u_scale),u_fade:new e.Uniform1f(t,i.u_fade)}},lineSDF:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_ratio:new e.Uniform1f(t,i.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,i.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,i.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,i.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,i.u_sdfgamma),u_image:new e.Uniform1i(t,i.u_image),u_tex_y_a:new e.Uniform1f(t,i.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,i.u_tex_y_b),u_mix:new e.Uniform1f(t,i.u_mix)}},raster:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_tl_parent:new e.Uniform2f(t,i.u_tl_parent),u_scale_parent:new e.Uniform1f(t,i.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,i.u_buffer_scale),u_fade_t:new e.Uniform1f(t,i.u_fade_t),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image0:new e.Uniform1i(t,i.u_image0),u_image1:new e.Uniform1i(t,i.u_image1),u_brightness_low:new e.Uniform1f(t,i.u_brightness_low),u_brightness_high:new e.Uniform1f(t,i.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,i.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,i.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,i.u_spin_weights)}},symbolIcon:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texture:new e.Uniform1i(t,i.u_texture)}},symbolSDF:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texture:new e.Uniform1i(t,i.u_texture),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}},symbolTextAndIcon:function(t,i){return{u_is_size_zoom_constant:new e.Uniform1i(t,i.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,i.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,i.u_size_t),u_size:new e.Uniform1f(t,i.u_size),u_camera_to_center_distance:new e.Uniform1f(t,i.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,i.u_pitch),u_rotate_symbol:new e.Uniform1i(t,i.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,i.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,i.u_fade_change),u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,i.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,i.u_coord_matrix),u_is_text:new e.Uniform1i(t,i.u_is_text),u_pitch_with_map:new e.Uniform1i(t,i.u_pitch_with_map),u_texsize:new e.Uniform2f(t,i.u_texsize),u_texsize_icon:new e.Uniform2f(t,i.u_texsize_icon),u_texture:new e.Uniform1i(t,i.u_texture),u_texture_icon:new e.Uniform1i(t,i.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,i.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,i.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,i.u_is_halo)}},background:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_color:new e.UniformColor(t,i.u_color)}},backgroundPattern:function(t,i){return{u_matrix:new e.UniformMatrix4f(t,i.u_matrix),u_opacity:new e.Uniform1f(t,i.u_opacity),u_image:new e.Uniform1i(t,i.u_image),u_pattern_tl_a:new e.Uniform2f(t,i.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,i.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,i.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,i.u_pattern_br_b),u_texsize:new e.Uniform2f(t,i.u_texsize),u_mix:new e.Uniform1f(t,i.u_mix),u_pattern_size_a:new e.Uniform2f(t,i.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,i.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,i.u_scale_a),u_scale_b:new e.Uniform1f(t,i.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,i.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,i.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,i.u_tile_units_to_pixels)}}};function Xi(t,i,n,r,a,o,s){for(var l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[],p=0,f=0,h=0;h<r.length;h++){var v=r[h],m=i.getTile(v),g=m.getBucket(n);if(g){var y=v.posMatrix;0===a[0]&&0===a[1]||(y=t.translatePosMatrix(v.posMatrix,m,a,o));var x=s?g.textCollisionBox:g.iconCollisionBox,_=g.collisionCircleArray;if(_.length>0){var b=e.create(),w=y;e.mul(b,g.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(b,b,g.placementViewportMatrix),d.push({circleArray:_,circleOffset:f,transform:w,invTransform:b}),f=p+=_.length/4}x&&u.draw(l,c.LINES,ke.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,Ai(y,t.transform,m),n.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,t.transform.zoom,null,null,x.collisionVertexBuffer)}}if(s&&d.length){var k=t.useProgram("collisionCircle"),S=new e.StructArrayLayout2f1f2i16;S.resize(4*p),S._trim();for(var C=0,T=0,E=d;T<E.length;T+=1)for(var M=E[T],P=0;P<M.circleArray.length/4;P++){var A=4*P,O=M.circleArray[A+0],I=M.circleArray[A+1],D=M.circleArray[A+2],R=M.circleArray[A+3];S.emplace(C++,O,I,D,R,0),S.emplace(C++,O,I,D,R,1),S.emplace(C++,O,I,D,R,2),S.emplace(C++,O,I,D,R,3)}(!Wi||Wi.length<2*p)&&(Wi=function(t){var i=2*t,n=new e.StructArrayLayout3ui6;n.resize(i),n._trim();for(var r=0;r<i;r++){var a=6*r;n.uint16[a+0]=4*r+0,n.uint16[a+1]=4*r+1,n.uint16[a+2]=4*r+2,n.uint16[a+3]=4*r+2,n.uint16[a+4]=4*r+3,n.uint16[a+5]=4*r+0}return n}(p));for(var z=l.createIndexBuffer(Wi,!0),L=l.createVertexBuffer(S,e.collisionCircleLayout.members,!0),j=0,F=d;j<F.length;j+=1){var N=F[j],B=Oi(N.transform,N.invTransform,t.transform);k.draw(l,c.TRIANGLES,ke.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,B,n.id,L,z,e.SegmentVector.simpleSegment(0,2*N.circleOffset,N.circleArray.length,N.circleArray.length/2),null,t.transform.zoom,null,null,null)}L.destroy(),z.destroy()}}var Ki=e.identity(new Float32Array(16));function Ji(t,i,n,r,a,o){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*i,c=-(s.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,r);return new e.Point((l/a+u[0])*o,(c/a+u[1])*o)}function Qi(t,i,n,r,a,o,s,l,c,u,d){var p=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,h=t.icon.dynamicLayoutVertexArray,v={};f.clear();for(var m=0;m<p.length;m++){var g=p.get(m),y=g.hidden||!g.crossTileID||t.allowVerticalPlacement&&!g.placedOrientation?null:r[g.crossTileID];if(y){var x=new e.Point(g.anchorX,g.anchorY),_=Ke(x,n?l:s),b=Je(o.cameraToCenterDistance,_.signedDistanceFromCamera),w=a.evaluateSizeForFeature(t.textSizeData,u,g)*b/e.ONE_EM;n&&(w*=t.tilePixelRatio/c);for(var k=Ji(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,w),S=n?Ke(x.add(k),s).point:_.point.add(i?k.rotate(-o.angle):k),C=t.allowVerticalPlacement&&g.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,T=0;T<g.numGlyphs;T++)e.addDynamicAttributes(f,S,C);d&&g.associatedIconIndex>=0&&(v[g.associatedIconIndex]={shiftedAnchor:S,angle:C})}else ut(g.numGlyphs,f)}if(d){h.clear();for(var E=t.icon.placedSymbolArray,M=0;M<E.length;M++){var P=E.get(M);if(P.hidden)ut(P.numGlyphs,h);else{var A=v[M];if(A)for(var O=0;O<P.numGlyphs;O++)e.addDynamicAttributes(h,A.shiftedAnchor,A.angle);else ut(P.numGlyphs,h)}}t.icon.dynamicLayoutVertexBuffer.updateData(h)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function en(e,t,i){return i.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function tn(t,i,n,r,a,o,s,l,c,u,d,p){for(var f=t.context,h=f.gl,v=t.transform,m="map"===l,g="map"===c,y=m&&"point"!==n.layout.get("symbol-placement"),x=m&&!g&&!y,_=void 0!==n.layout.get("symbol-sort-key").constantOr(1),b=t.depthModeForSublayer(0,ke.ReadOnly),w=n.layout.get("text-variable-anchor"),k=[],S=0,C=r;S<C.length;S+=1){var T=C[S],E=i.getTile(T),M=E.getBucket(n);if(M){var P=a?M.text:M.icon;if(P&&P.segments.get().length){var A=P.programConfigurations.get(n.id),O=a||M.sdfIcons,I=a?M.textSizeData:M.iconSizeData,D=g||0!==v.pitch,R=t.useProgram(en(O,a,M),A),z=e.evaluateSizeForZoom(I,v.zoom),L=void 0,j=[0,0],F=void 0,N=void 0,B=null,V=void 0;if(a)F=E.glyphAtlasTexture,N=h.LINEAR,L=E.glyphAtlasTexture.size,M.iconsInText&&(j=E.imageAtlasTexture.size,B=E.imageAtlasTexture,V=D||t.options.rotating||t.options.zooming||"composite"===I.kind||"camera"===I.kind?h.LINEAR:h.NEAREST);else{var q=1!==n.layout.get("icon-size").constantOr(0)||M.iconsNeedLinear;F=E.imageAtlasTexture,N=O||t.options.rotating||t.options.zooming||q||D?h.LINEAR:h.NEAREST,L=E.imageAtlasTexture.size}var U=ft(E,1,t.transform.zoom),W=Ye(T.posMatrix,g,m,t.transform,U),H=Xe(T.posMatrix,g,m,t.transform,U),$=w&&M.hasTextData(),G="none"!==n.layout.get("icon-text-fit")&&$&&M.hasIconData();y&&et(M,T.posMatrix,t,a,W,H,g,u);var Z=t.translatePosMatrix(T.posMatrix,E,o,s),Y=y||a&&w||G?Ki:W,X=t.translatePosMatrix(H,E,o,s,!0),K=O&&0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),J={program:R,buffers:P,uniformValues:O?M.iconsInText?qi(I.kind,z,x,g,t,Z,Y,X,L,j):$i(I.kind,z,x,g,t,Z,Y,X,a,L,!0):Hi(I.kind,z,x,g,t,Z,Y,X,a,L),atlasTexture:F,atlasTextureIcon:B,atlasInterpolation:N,atlasInterpolationIcon:V,isSDF:O,hasHalo:K};if(_)for(var Q=0,ee=P.segments.get();Q<ee.length;Q+=1){var te=ee[Q];k.push({segments:new e.SegmentVector([te]),sortKey:te.sortKey,state:J})}else k.push({segments:P.segments,sortKey:0,state:J})}}}_&&k.sort((function(e,t){return e.sortKey-t.sortKey}));for(var ie=0,ne=k;ie<ne.length;ie+=1){var rt=ne[ie],re=rt.state;if(f.activeTexture.set(h.TEXTURE0),re.atlasTexture.bind(re.atlasInterpolation,h.CLAMP_TO_EDGE),re.atlasTextureIcon&&(f.activeTexture.set(h.TEXTURE1),re.atlasTextureIcon&&re.atlasTextureIcon.bind(re.atlasInterpolationIcon,h.CLAMP_TO_EDGE)),re.isSDF){var oe=re.uniformValues;re.hasHalo&&(oe.u_is_halo=1,nn(re.buffers,rt.segments,n,t,re.program,b,d,p,oe)),oe.u_is_halo=0}nn(re.buffers,rt.segments,n,t,re.program,b,d,p,re.uniformValues)}}function nn(e,t,i,n,r,a,o,s,l){var c=n.context;r.draw(c,c.gl.TRIANGLES,a,o,s,Te.disabled,l,i.id,e.layoutVertexBuffer,e.indexBuffer,t,i.paint,n.transform.zoom,e.programConfigurations.get(i.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function rn(e,t,i,n,r,a,o){var s,l,c,u,d,p=e.context.gl,f=i.paint.get("fill-pattern"),h=f&&f.constantOr(1),v=i.getCrossfadeParameters();o?(l=h&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(l=h?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,g=n;m<g.length;m+=1){var y=g[m],x=t.getTile(y);if(!h||x.patternsLoaded()){var _=x.getBucket(i);if(_){var b=_.programConfigurations.get(i.id),w=e.useProgram(l,b);h&&(e.context.activeTexture.set(p.TEXTURE0),x.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),b.updatePaintBuffers(v));var k=f.constantOr(null);if(k&&x.imageAtlas){var S=x.imageAtlas,C=S.patternPositions[k.to.toString()],T=S.patternPositions[k.from.toString()];C&&T&&b.setConstantPatternPositions(C,T)}var E=e.translatePosMatrix(y.posMatrix,x,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(o){u=_.indexBuffer2,d=_.segments2;var M=[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===l&&h?Mi(E,e,v,x,M):Ei(E,M)}else u=_.indexBuffer,d=_.segments,c=h?Ti(E,e,v,x):Ci(E);w.draw(e.context,s,r,e.stencilModeForClipping(y),a,Te.disabled,c,i.id,_.layoutVertexBuffer,u,d,i.paint,e.transform.zoom,b)}}}}function on(e,t,i,n,r,a,o){for(var s=e.context,l=s.gl,c=i.paint.get("fill-extrusion-pattern"),u=c.constantOr(1),d=i.getCrossfadeParameters(),p=i.paint.get("fill-extrusion-opacity"),f=0,h=n;f<h.length;f+=1){var v=h[f],m=t.getTile(v),g=m.getBucket(i);if(g){var y=g.programConfigurations.get(i.id),x=e.useProgram(u?"fillExtrusionPattern":"fillExtrusion",y);u&&(e.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d));var _=c.constantOr(null);if(_&&m.imageAtlas){var b=m.imageAtlas,w=b.patternPositions[_.to.toString()],k=b.patternPositions[_.from.toString()];w&&k&&y.setConstantPatternPositions(w,k)}var S=e.translatePosMatrix(v.posMatrix,m,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),C=i.paint.get("fill-extrusion-vertical-gradient"),T=u?Si(S,e,C,p,v,d,m):ki(S,e,C,p);x.draw(s,s.gl.TRIANGLES,r,a,o,Te.backCCW,T,i.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,i.paint,e.transform.zoom,y)}}}function an(t,i,n,r,a,o){var s=t.context,l=s.gl,c=i.fbo;if(c){var u=t.useProgram("hillshade");s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get());var d=function(t,i,n){var r=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,c,u,d=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(i.tileID.toUnwrapped(),d),u_image:0,u_latrange:(l=i.tileID,c=Math.pow(2,l.canonical.z),u=l.canonical.y,[new e.MercatorCoordinate(0,u/c).toLngLat().lat,new e.MercatorCoordinate(0,(u+1)/c).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:a,u_accent:o}}(t,i,n);u.draw(s,l.TRIANGLES,r,a,o,Te.disabled,d,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sn(t,i,n,r,a,o){var s=t.context,l=s.gl,c=i.dem;if(c&&c.data){var u=c.dim,d=c.stride,p=c.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(d),i.demTexture){var f=i.demTexture;f.update(p,{premultiply:!1}),f.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else i.demTexture=new e.Texture(s,p,l.RGBA,{premultiply:!1}),i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);var h=i.fbo;if(!h){var v=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);v.bind(l.LINEAR,l.CLAMP_TO_EDGE),(h=i.fbo=s.createFramebuffer(u,u,!0)).colorAttachment.set(v.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,a,o,Te.disabled,function(t,i){var n=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:i.getUnpackVector()}}(i.tileID,c),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function un(t,i,n,r,a){var o=r.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),l=(s-t.timeAdded)/o,c=i?(s-i.timeAdded)/o:-1,u=n.getSource(),d=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),p=!i||Math.abs(i.tileID.overscaledZ-d)>Math.abs(t.tileID.overscaledZ-d),f=p&&t.refreshedUponExpiration?1:e.clamp(p?l:1-c,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var ln=new e.Color(1,0,0,1),cn=new e.Color(0,1,0,1),dn=new e.Color(0,0,1,1),fn=new e.Color(1,0,1,1),hn=new e.Color(0,1,1,1);function pn(e,t,i,n){mn(e,0,t+i/2,e.transform.width,i,n)}function vn(e,t,i,n){mn(e,t-i/2,0,i,e.transform.height,n)}function mn(t,i,n,r,a,o){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.browser.devicePixelRatio,n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}function gn(t,i,n){var r=t.context,a=r.gl,o=n.posMatrix,s=t.useProgram("debug"),l=ke.disabled,c=Se.disabled,u=t.colorModeForRenderPass();r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(r,a.LINE_STRIP,l,c,u,Te.disabled,Ii(o,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var d=i.getTileByID(n.key).latestRawTileData,p=Math.floor((d&&d.byteLength||0)/1024),f=i.getTile(n).tileSize,h=512/Math.min(f,512)*(n.overscaledZ/t.transform.zoom)*.5,v=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(v+=" => "+n.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var i=e.debugOverlayCanvas,n=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,i.width,i.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,v+" "+p+"kb"),s.draw(r,a.TRIANGLES,l,c,Ce.alphaBlended,Te.disabled,Ii(o,e.Color.transparent,h),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var yn={symbol:function(t,i,n,r,a){if("translucent"===t.renderPass){var o=Se.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,i,n,r,a,o,s){for(var l=i.transform,c="map"===a,u="map"===o,d=0,p=t;d<p.length;d+=1){var f=p[d],h=r.getTile(f),v=h.getBucket(n);if(v&&v.text&&v.text.segments.get().length){var m=e.evaluateSizeForZoom(v.textSizeData,l.zoom),g=ft(h,1,i.transform.zoom),y=Ye(f.posMatrix,u,c,i.transform,g),x="none"!==n.layout.get("icon-text-fit")&&v.hasIconData();if(m){var _=Math.pow(2,l.zoom-h.tileID.overscaledZ);Qi(v,c,u,s,e.symbolSize,l,y,f.posMatrix,_,m,x)}}}}(r,t,n,i,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),a),0!==n.paint.get("icon-opacity").constantOr(1)&&tn(t,i,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,s),0!==n.paint.get("text-opacity").constantOr(1)&&tn(t,i,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,s),i.map.showCollisionBoxes&&(Xi(t,i,n,r,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),Xi(t,i,n,r,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,i,n,r){if("translucent"===t.renderPass){var a=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var c=t.context,u=c.gl,d=t.depthModeForSublayer(0,ke.ReadOnly),p=Se.disabled,f=t.colorModeForRenderPass(),h=[],v=0;v<r.length;v++){var m=r[v],g=i.getTile(m),y=g.getBucket(n);if(y){var x=y.programConfigurations.get(n.id),_={programConfiguration:x,program:t.useProgram("circle",x),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Pi(t,m,g,n)};if(l)for(var b=0,w=y.segments.get();b<w.length;b+=1){var k=w[b];h.push({segments:new e.SegmentVector([k]),sortKey:k.sortKey,state:_})}else h.push({segments:y.segments,sortKey:0,state:_})}}l&&h.sort((function(e,t){return e.sortKey-t.sortKey}));for(var S=0,C=h;S<C.length;S+=1){var T=C[S],E=T.state;E.program.draw(c,u.TRIANGLES,d,p,f,Te.disabled,E.uniformValues,n.id,E.layoutVertexBuffer,E.indexBuffer,T.segments,n.paint,t.transform.zoom,E.programConfiguration)}}}},heatmap:function(t,i,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=Se.disabled,l=new Ce([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{var a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,i,n){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t.width/4,t.height/4,0,r.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i)}(e,t,a,r)}}(a,t,n),a.clear({color:e.Color.transparent});for(var c=0;c<r.length;c++){var u=r[c];if(!i.hasRenderableParent(u)){var d=i.getTile(u),p=d.getBucket(n);if(p){var f=p.programConfigurations.get(n.id);t.useProgram("heatmap",f).draw(a,o.TRIANGLES,ke.disabled,s,l,Te.disabled,Ri(u.posMatrix,d,t.transform.zoom,n.paint.get("heatmap-intensity")),n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,n.paint,t.transform.zoom,f)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){var n=t.context,r=n.gl,a=i.heatmapFbo;if(a){n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);var o=i.colorRampTexture;o||(o=i.colorRampTexture=new e.Texture(n,i.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,r.TRIANGLES,ke.disabled,Se.disabled,t.colorModeForRenderPass(),Te.disabled,function(t,i,n,r){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:i.paint.get("heatmap-opacity")}}(t,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom)}}(t,n))},line:function(t,i,n,r){if("translucent"===t.renderPass){var a=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1))for(var s=t.depthModeForSublayer(0,ke.ReadOnly),l=t.colorModeForRenderPass(),c=n.paint.get("line-dasharray"),u=n.paint.get("line-pattern"),d=u.constantOr(1),p=n.paint.get("line-gradient"),f=n.getCrossfadeParameters(),h=d?"linePattern":c?"lineSDF":p?"lineGradient":"line",v=t.context,m=v.gl,g=!0,y=0,x=r;y<x.length;y+=1){var _=x[y],b=i.getTile(_);if(!d||b.patternsLoaded()){var w=b.getBucket(n);if(w){var k=w.programConfigurations.get(n.id),S=t.context.program.get(),C=t.useProgram(h,k),T=g||C.program!==S,E=u.constantOr(null);if(E&&b.imageAtlas){var M=b.imageAtlas,P=M.patternPositions[E.to.toString()],A=M.patternPositions[E.from.toString()];P&&A&&k.setConstantPatternPositions(P,A)}var O=d?ji(t,b,n,f):c?Fi(t,b,n,c,f):p?Li(t,b,n,w.lineClipsArray.length):zi(t,b,n);if(d)v.activeTexture.set(m.TEXTURE0),b.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),k.updatePaintBuffers(f);else if(c&&(T||t.lineAtlas.dirty))v.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(v);else if(p){var I=w.gradients[n.id],D=I.texture;if(n.gradientVersion!==I.version){var R=256;if(n.stepInterpolant){var z=i.getSource().maxzoom,L=_.canonical.z===z?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;R=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*L),256,v.maxTextureSize)}I.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:R,image:I.gradient||void 0,clips:w.lineClipsArray}),I.texture?I.texture.update(I.gradient):I.texture=new e.Texture(v,I.gradient,m.RGBA),I.version=n.gradientVersion,D=I.texture}v.activeTexture.set(m.TEXTURE0),D.bind(n.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}C.draw(v,m.TRIANGLES,s,t.stencilModeForClipping(_),l,Te.disabled,O,n.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,n.paint,t.transform.zoom,k,w.layoutVertexBuffer2),g=!1}}}}},fill:function(t,i,n,r){var a=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){var u=t.depthModeForSublayer(1,"opaque"===t.renderPass?ke.ReadWrite:ke.ReadOnly);rn(t,i,n,r,u,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var d=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,ke.ReadOnly);rn(t,i,n,r,d,s,!0)}}},"fill-extrusion":function(e,t,i,n){var r=i.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===e.renderPass){var a=new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D);if(1!==r||i.paint.get("fill-extrusion-pattern").constantOr(1))on(e,t,i,n,a,Se.disabled,Ce.disabled),on(e,t,i,n,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();on(e,t,i,n,a,Se.disabled,o)}}},hillshade:function(e,t,i,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var r=e.context,a=e.depthModeForSublayer(0,ke.ReadOnly),o=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(n):[{},n],l=s[0],c=0,u=s[1];c<u.length;c+=1){var d=u[c],p=t.getTile(d);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sn(e,p,i,a,Se.disabled,o):"translucent"===e.renderPass&&an(e,p,i,a,l[d.overscaledZ],o)}r.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,i,n){if("translucent"===e.renderPass&&0!==i.paint.get("raster-opacity")&&n.length)for(var r=e.context,a=r.gl,o=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),c=o instanceof I?[{},n]:e.stencilConfigForOverlap(n),u=c[0],d=c[1],p=d[d.length-1].overscaledZ,f=!e.options.moving,h=0,v=d;h<v.length;h+=1){var m=v[h],g=e.depthModeForSublayer(m.overscaledZ-p,1===i.paint.get("raster-opacity")?ke.ReadWrite:ke.ReadOnly,a.LESS),y=t.getTile(m),x=e.transform.calculatePosMatrix(m.toUnwrapped(),f);y.registerFadeDuration(i.paint.get("raster-fade-duration"));var _=t.findLoadedParent(m,0),b=un(y,_,t,i,e.transform),w=void 0,k=void 0,S="nearest"===i.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;r.activeTexture.set(a.TEXTURE0),y.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(a.TEXTURE1),_?(_.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,_.tileID.overscaledZ-y.tileID.overscaledZ),k=[y.tileID.canonical.x*w%1,y.tileID.canonical.y*w%1]):y.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var C=Vi(x,k||[0,0],w||1,b,i);o instanceof I?s.draw(r,a.TRIANGLES,g,Se.disabled,l,Te.disabled,C,i.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(r,a.TRIANGLES,g,u[m.overscaledZ],l,Te.disabled,C,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,i){var n=i.paint.get("background-color"),r=i.paint.get("background-opacity");if(0!==r){var a=e.context,o=a.gl,s=e.transform,l=s.tileSize,c=i.paint.get("background-pattern");if(!e.isPatternMissing(c)){var u=!c&&1===n.a&&1===r&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===u){var d=Se.disabled,p=e.depthModeForSublayer(0,"opaque"===u?ke.ReadWrite:ke.ReadOnly),f=e.colorModeForRenderPass(),h=e.useProgram(c?"backgroundPattern":"background"),v=s.coveringTiles({tileSize:l});c&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var m=i.getCrossfadeParameters(),g=0,y=v;g<y.length;g+=1){var x=y[g],_=e.transform.calculatePosMatrix(x.toUnwrapped()),b=c?Zi(_,r,e,c,{tileID:x,tileSize:l},m):Gi(_,r,n);h.draw(a,o.TRIANGLES,p,d,f,Te.disabled,b,i.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,i){for(var n=0;n<i.length;n++)gn(e,t,i[n])},custom:function(e,t,i){var n=e.context,r=i.implementation;if("offscreen"===e.renderPass){var a=r.prerender;a&&(e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),a.call(r,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(Se.disabled);var o="3d"===r.renderingMode?new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ke.ReadOnly);n.setDepthMode(o),r.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},bn=function(e,t){this.context=new Ee(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Me.maxUnderzooming+Me.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ft,this.gpuTimers={}};bn.prototype.resize=function(t,i){if(this.width=t*e.browser.devicePixelRatio,this.height=i*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var n=0,r=this.style._order;n<r.length;n+=1)this.style._layers[r[n]].resize()},bn.prototype.setup=function(){var t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,Ht.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Ht.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var r=new e.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(e.EXTENT,0,e.EXTENT,0),r.emplaceBack(0,e.EXTENT,0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(r,O.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,Ht.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var l=this.context.gl;this.stencilClearMode=new Se({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},bn.prototype.clearStencil=function(){var t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var n=e.create();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[i.drawingBufferWidth,i.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,i.TRIANGLES,ke.disabled,this.stencilClearMode,Ce.disabled,Te.disabled,Di(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},bn.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var i=this.context,n=i.gl;this.nextStencilID+t.length>256&&this.clearStencil(),i.setColorMode(Ce.disabled),i.setDepthMode(ke.disabled);var r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;r.draw(i,n.TRIANGLES,ke.disabled,new Se({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE),Ce.disabled,Te.disabled,Di(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},bn.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Se({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Se({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},bn.prototype.stencilConfigForOverlap=function(e){var t,i=this.context.gl,n=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),r=n[n.length-1].overscaledZ,a=n[0].overscaledZ-r+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+r]=new Se({func:i.GEQUAL,mask:255},s+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=a,[o,n]}return[(t={},t[r]=Se.disabled,t),n]},bn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Ce([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ce.unblended:Ce.alphaBlended},bn.prototype.depthModeForSublayer=function(e,t,i){if(!this.opaquePassEnabledForLayer())return ke.disabled;var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ke(i||this.context.gl.LEQUAL,t,[n,n])},bn.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},bn.prototype.render=function(t,i){var n=this;this.style=t,this.options=i,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var r=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l,c,u={},d={},p={};for(var f in a){var h=a[f];u[f]=h.getVisibleCoordinates(),d[f]=u[f].slice().reverse(),p[f]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var v=0;v<r.length;v++)if(this.style._layers[r[v]].is3D()){this.opaquePassCutoff=v;break}this.renderPass="offscreen";for(var m=0,g=r;m<g.length;m+=1){var y=this.style._layers[g[m]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var x=d[y.source];("custom"===y.type||x.length)&&this.renderLayer(this,a[y.source],y,x)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[r[this.currentLayer]],b=a[_.source],w=u[_.source];this._renderTileClippingMasks(_,w),this.renderLayer(this,b,_,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var k=this.style._layers[r[this.currentLayer]],S=a[k.source],C=("symbol"===k.type?p:d)[k.source];this._renderTileClippingMasks(k,u[k.source]),this.renderLayer(this,S,k,C)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(n.transform.zoom)&&(e.source!==(c&&c.id)&&(c=n.style.sourceCaches[e.source]),(!l||l.getSource().maxzoom<c.getSource().maxzoom)&&(l=c))})),l&&yn.debug(this,l,l.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;pn(e,e.transform.height-(t.top||0),3,ln),pn(e,t.bottom||0,3,cn),vn(e,t.left||0,3,dn),vn(e,e.transform.width-(t.right||0),3,fn);var i=e.transform.centerPoint;!function(e,t,i,n){mn(e,t-1,i-10,2,20,n),mn(e,t-10,i-1,20,2,n)}(e,i.x,e.transform.height-i.y,hn)}(this),this.context.setDefault()},bn.prototype.renderLayer=function(e,t,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||"custom"===i.type||n.length)&&(this.id=i.id,this.gpuTimingStart(i),yn[i.type](e,t,i,n,this.style.placement.variableOffsets),this.gpuTimingEnd())},bn.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query)}},bn.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},bn.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},bn.prototype.queryGpuTimers=function(e){var t={};for(var i in e){var n=e[i],r=this.context.extTimerQuery,a=r.getQueryObjectEXT(n.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(n.query),t[i]=a}return t},bn.prototype.translatePosMatrix=function(t,i,n,r,a){if(!n[0]&&!n[1])return t;var o=a?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var c=[a?n[0]:ft(i,n[0],this.transform.zoom),a?n[1]:ft(i,n[1],this.transform.zoom),0],u=new Float32Array(16);return e.translate(u,t,c),u},bn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},bn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},bn.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return!t||!i},bn.prototype.useProgram=function(e,t){this.cache=this.cache||{};var i=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new _i(this.context,e,yi[e],t,Yi[e],this._showOverdrawInspector)),this.cache[i]},bn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},bn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},bn.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},bn.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var xn=function(e,t){this.points=e,this.planes=t};xn.fromInvProjectionMatrix=function(t,i,n){var r=Math.pow(2,n),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(i){return e.transformMat4([],i,t)})).map((function(t){return e.scale$1([],t,1/t[3]/i*r)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var i=e.sub([],a[t[0]],a[t[1]]),n=e.sub([],a[t[2]],a[t[1]]),r=e.normalize([],e.cross([],i,n)),o=-e.dot(r,a[t[1]]);return r.concat(o)}));return new xn(a,o)};var _n=function(t,i){this.min=t,this.max=i,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};_n.prototype.quadrant=function(t){for(var i=[t%2==0,t<2],n=e.clone$2(this.min),r=e.clone$2(this.max),a=0;a<i.length;a++)n[a]=i[a]?this.min[a]:this.center[a],r[a]=i[a]?this.center[a]:this.max[a];return r[2]=this.max[2],new _n(n,r)},_n.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},_n.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},_n.prototype.intersects=function(t){for(var i=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],n=!0,r=0;r<t.planes.length;r++){for(var a=t.planes[r],o=0,s=0;s<i.length;s++)o+=e.dot$1(a,i[s])>=0;if(0===o)return 0;o!==i.length&&(n=!1)}if(n)return 2;for(var l=0;l<3;l++){for(var c=Number.MAX_VALUE,u=-Number.MAX_VALUE,d=0;d<t.points.length;d++){var p=t.points[d][l]-this.min[l];c=Math.min(c,p),u=Math.max(u,p)}if(u<0||c>this.max[l]-this.min[l])return 0}return 1};var wn=function(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=i,this.right=n};wn.prototype.interpolate=function(t,i,n){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,n)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,n)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,n)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,n)),this},wn.prototype.getCenter=function(t,i){var n=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.Point(n,r)},wn.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wn.prototype.clone=function(){return new wn(this.top,this.bottom,this.left,this.right)},wn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var kn=function(t,i,n,r,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==n?0:n,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Sn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};kn.prototype.clone=function(){var e=new kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Sn.minZoom.get=function(){return this._minZoom},Sn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Sn.maxZoom.get=function(){return this._maxZoom},Sn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Sn.minPitch.get=function(){return this._minPitch},Sn.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Sn.maxPitch.get=function(){return this._maxPitch},Sn.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Sn.renderWorldCopies.get=function(){return this._renderWorldCopies},Sn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Sn.worldSize.get=function(){return this.tileSize*this.scale},Sn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Sn.size.get=function(){return new e.Point(this.width,this.height)},Sn.bearing.get=function(){return-this.angle/Math.PI*180},Sn.bearing.set=function(t){var i=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Sn.pitch.get=function(){return this._pitch/Math.PI*180},Sn.pitch.set=function(t){var i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices())},Sn.fov.get=function(){return this._fov/Math.PI*180},Sn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Sn.zoom.get=function(){return this._zoom},Sn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Sn.center.get=function(){return this._center},Sn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Sn.padding.get=function(){return this._edgeInsets.toJSON()},Sn.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Sn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},kn.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},kn.prototype.interpolatePadding=function(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices()},kn.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},kn.prototype.getVisibleUnwrappedCoordinates=function(t){var i=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),r=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,r.x,a.x,o.x)),l=Math.floor(Math.max(n.x,r.x,a.x,o.x)),c=s-1;c<=l+1;c++)0!==c&&i.push(new e.UnwrappedTileID(c,t));return i},kn.prototype.coveringTiles=function(t){var i=this.coveringZoomLevel(t),n=i;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);var r=e.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,i),o=[a*r.x,a*r.y,0],s=xn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i),l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=i);var c=function(e){return{aabb:new _n([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},u=[],d=[],p=i,f=t.reparseOverscaled?n:i;if(this._renderWorldCopies)for(var h=1;h<=3;h++)u.push(c(-h)),u.push(c(h));for(u.push(c(0));u.length>0;){var v=u.pop(),m=v.x,g=v.y,y=v.fullyVisible;if(!y){var x=v.aabb.intersects(s);if(0===x)continue;y=2===x}var _=v.aabb.distanceX(o),b=v.aabb.distanceY(o),w=Math.max(Math.abs(_),Math.abs(b));if(v.zoom===p||w>3+(1<<p-v.zoom)-2&&v.zoom>=l)d.push({tileID:new e.OverscaledTileID(v.zoom===p?f:v.zoom,v.wrap,v.zoom,m,g),distanceSq:e.sqrLen([o[0]-.5-m,o[1]-.5-g])});else for(var k=0;k<4;k++){var S=(m<<1)+k%2,C=(g<<1)+(k>>1);u.push({aabb:v.aabb.quadrant(k),zoom:v.zoom+1,x:S,y:C,wrap:v.wrap,fullyVisible:y})}}return d.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},kn.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Sn.unmodified.get=function(){return this._unmodified},kn.prototype.zoomScale=function(e){return Math.pow(2,e)},kn.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},kn.prototype.project=function(t){var i=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(i)*this.worldSize)},kn.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Sn.point.get=function(){return this.project(this.center)},kn.prototype.setLocationAtPoint=function(t,i){var n=this.pointCoordinate(i),r=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(n.x-r.x),a.y-(n.y-r.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},kn.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},kn.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},kn.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},kn.prototype.coordinateLocation=function(e){return e.toLngLat()},kn.prototype.pointCoordinate=function(t){var i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(i,i,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var r=i[3],a=n[3],o=i[1]/r,s=n[1]/a,l=i[2]/r,c=n[2]/a,u=l===c?0:(0-l)/(c-l);return new e.MercatorCoordinate(e.number(i[0]/r,n[0]/a,u)/this.worldSize,e.number(o,s,u)/this.worldSize)},kn.prototype.coordinatePoint=function(t){var i=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(i,i,this.pixelMatrix),new e.Point(i[0]/i[3],i[1]/i[3])},kn.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},kn.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},kn.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},kn.prototype.calculatePosMatrix=function(t,i){void 0===i&&(i=!1);var n=t.key,r=i?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*o,a.y*o,0]),e.scale(l,l,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(l,i?this.alignedProjMatrix:this.projMatrix,l),r[n]=new Float32Array(l),r[n]},kn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},kn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,i,n,r,a=-90,o=90,s=-180,l=180,c=this.size,u=this._unmodified;if(this.latRange){var d=this.latRange;a=e.mercatorYfromLat(d[1])*this.worldSize,t=(o=e.mercatorYfromLat(d[0])*this.worldSize)-a<c.y?c.y/(o-a):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,i=(l=e.mercatorXfromLng(p[1])*this.worldSize)-s<c.x?c.x/(l-s):0}var f=this.point,h=Math.max(i||0,t||0);if(h)return this.center=this.unproject(new e.Point(i?(l+s)/2:f.x,t?(o+a)/2:f.y)),this.zoom+=this.scaleZoom(h),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var v=f.y,m=c.y/2;v-m<a&&(r=a+m),v+m>o&&(r=o-m)}if(this.lngRange){var g=f.x,y=c.x/2;g-y<s&&(n=s+y),g+y>l&&(n=l-y)}void 0===n&&void 0===r||(this.center=this.unproject(new e.Point(void 0!==n?n:f.x,void 0!==r?r:f.y))),this._unmodified=u,this._constraining=!1}},kn.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var i=Math.PI/2+this._pitch,n=this._fov*(.5+t.y/this.height),r=Math.sin(n)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-i-n,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),c=this.height/50,u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,c,l),u[8]=2*-t.x/this.width,u[9]=2*t.y/this.height,e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-o,-s,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=u,this.invProjMatrix=e.invert([],this.projMatrix);var d=this.width%2/2,p=this.height%2/2,f=Math.cos(this.angle),h=Math.sin(this.angle),v=o-Math.round(o)+f*d+h*p,m=s-Math.round(s)+f*p+h*d,g=new Float64Array(u);if(e.translate(g,g,[v>.5?v-1:v,m>.5?m-1:m,0]),this.alignedProjMatrix=g,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(u=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}},kn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),i=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(i,i,this.pixelMatrix)[3]/this.cameraToCenterDistance},kn.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},kn.prototype.getCameraQueryGeometry=function(t){var i=this.getCameraPoint();if(1===t.length)return[t[0],i];for(var n=i.x,r=i.y,a=i.x,o=i.y,s=0,l=t;s<l.length;s+=1){var c=l[s];n=Math.min(n,c.x),r=Math.min(r,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y)}return[new e.Point(n,r),new e.Point(a,r),new e.Point(a,o),new e.Point(n,o),new e.Point(n,r)]},Object.defineProperties(kn.prototype,Sn);var Cn=function(t){var i,n,r,a;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(i=this._updateHashUnthrottled.bind(this),n=!1,r=null,a=function(){r=null,n&&(i(),r=setTimeout(a,300),n=!1)},function(){return n=!0,r||a(),r})};Cn.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Cn.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Cn.prototype.getHashString=function(t){var i=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,r),o=Math.round(i.lng*a)/a,s=Math.round(i.lat*a)/a,l=this._map.getBearing(),c=this._map.getPitch(),u="";if(u+=t?"/"+o+"/"+s+"/"+n:n+"/"+s+"/"+o,(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),this._hashName){var d=this._hashName,p=!1,f=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===d?(p=!0,t+"="+u):e})).filter((function(e){return e}));return p||f.push(d+"="+u),"#"+f.join("&")}return"#"+u},Cn.prototype._getCurrentHash=function(){var t,i=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===i._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")},Cn.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},Cn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var Tn={linearity:.3,easing:e.bezier(0,0,.3,1)},En=e.extend({deceleration:2500,maxSpeed:1400},Tn),Mn=e.extend({deceleration:20,maxSpeed:1400},Tn),Pn=e.extend({deceleration:1e3,maxSpeed:360},Tn),An=e.extend({deceleration:1e3,maxSpeed:90},Tn),On=function(e){this._map=e,this.clear()};function In(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Dn(t,i,n){var r=n.maxSpeed,a=n.linearity,o=n.deceleration,s=e.clamp(t*a/(i/1e3),-r,r),l=Math.abs(s)/(o*a);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}On.prototype.clear=function(){this._inertiaBuffer=[]},On.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},On.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,i=e.browser.now();t.length>0&&i-t[0].time>160;)t.shift()},On.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var i={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},n=0,r=this._inertiaBuffer;n<r.length;n+=1){var a=r[n].settings;i.zoom+=a.zoomDelta||0,i.bearing+=a.bearingDelta||0,i.pitch+=a.pitchDelta||0,a.panDelta&&i.pan._add(a.panDelta),a.around&&(i.around=a.around),a.pinchAround&&(i.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(i.pan.mag()){var l=Dn(i.pan.mag(),o,e.extend({},En,t||{}));s.offset=i.pan.mult(l.amount/i.pan.mag()),s.center=this._map.transform.center,In(s,l)}if(i.zoom){var c=Dn(i.zoom,o,Mn);s.zoom=this._map.transform.zoom+c.amount,In(s,c)}if(i.bearing){var u=Dn(i.bearing,o,Pn);s.bearing=this._map.transform.bearing+e.clamp(u.amount,-179,179),In(s,u)}if(i.pitch){var d=Dn(i.pitch,o,An);s.pitch=this._map.transform.pitch+d.amount,In(s,d)}if(s.zoom||s.bearing){var p=void 0===i.pinchAround?i.around:i.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var Rn=function(t){function n(n,r,a,o){void 0===o&&(o={});var s=i.mousePos(r.getCanvasContainer(),a),l=r.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:a},o)),this._defaultPrevented=!1,this.target=r}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,r),n}(e.Event),zn=function(t){function n(n,r,a){var o="touchend"===n?a.changedTouches:a.touches,s=i.touchPos(r.getCanvasContainer(),o),l=s.map((function(e){return r.unproject(e)})),c=s.reduce((function(e,t,i,n){return e.add(t.div(n.length))}),new e.Point(0,0)),u=r.unproject(c);t.call(this,n,{points:s,point:c,lngLats:l,lngLat:u,originalEvent:a}),this._defaultPrevented=!1}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,r),n}(e.Event),Ln=function(e){function t(t,i,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var i={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,i),t}(e.Event),jn=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};jn.prototype.reset=function(){delete this._mousedownPos},jn.prototype.wheel=function(e){return this._firePreventable(new Ln(e.type,this._map,e))},jn.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new Rn(e.type,this._map,e))},jn.prototype.mouseup=function(e){this._map.fire(new Rn(e.type,this._map,e))},jn.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new Rn(e.type,this._map,e))},jn.prototype.dblclick=function(e){return this._firePreventable(new Rn(e.type,this._map,e))},jn.prototype.mouseover=function(e){this._map.fire(new Rn(e.type,this._map,e))},jn.prototype.mouseout=function(e){this._map.fire(new Rn(e.type,this._map,e))},jn.prototype.touchstart=function(e){return this._firePreventable(new zn(e.type,this._map,e))},jn.prototype.touchmove=function(e){this._map.fire(new zn(e.type,this._map,e))},jn.prototype.touchend=function(e){this._map.fire(new zn(e.type,this._map,e))},jn.prototype.touchcancel=function(e){this._map.fire(new zn(e.type,this._map,e))},jn.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},jn.prototype.isEnabled=function(){return!0},jn.prototype.isActive=function(){return!1},jn.prototype.enable=function(){},jn.prototype.disable=function(){};var Fn=function(e){this._map=e};Fn.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fn.prototype.mousemove=function(e){this._map.fire(new Rn(e.type,this._map,e))},Fn.prototype.mousedown=function(){this._delayContextMenu=!0},Fn.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Rn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fn.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new Rn(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Fn.prototype.isEnabled=function(){return!0},Fn.prototype.isActive=function(){return!1},Fn.prototype.enable=function(){},Fn.prototype.disable=function(){};var Nn=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Bn(e,t){for(var i={},n=0;n<e.length;n++)i[e[n].identifier]=t[n];return i}Nn.prototype.isEnabled=function(){return!!this._enabled},Nn.prototype.isActive=function(){return!!this._active},Nn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Nn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Nn.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(i.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},Nn.prototype.mousemoveWindow=function(e,t){if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=n,this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(r.x,n.x),o=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);i.setTransform(this._box,"translate("+a+"px,"+s+"px)"),this._box.style.width=o-a+"px",this._box.style.height=l-s+"px"}}},Nn.prototype.mouseupWindow=function(t,n){var r=this;if(this._active&&0===t.button){var a=this._startPos,o=n;if(this.reset(),i.suppressClick(),a.x!==o.x||a.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(a,o,r._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},Nn.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},Nn.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos},Nn.prototype._fireEvent=function(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))};var Vn=function(e){this.reset(),this.numTouches=e.numTouches};Vn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Vn.prototype.touchstart=function(t,i,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){for(var i=new e.Point(0,0),n=0,r=t;n<r.length;n+=1)i._add(r[n]);return i.div(t.length)}(i),this.touches=Bn(n,i)))},Vn.prototype.touchmove=function(e,t,i){if(!this.aborted&&this.centroid){var n=Bn(i,t);for(var r in this.touches){var a=n[r];(!a||a.dist(this.touches[r])>30)&&(this.aborted=!0)}}},Vn.prototype.touchend=function(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}};var Un=function(e){this.singleTap=new Vn(e),this.numTaps=e.numTaps,this.reset()};Un.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Un.prototype.touchstart=function(e,t,i){this.singleTap.touchstart(e,t,i)},Un.prototype.touchmove=function(e,t,i){this.singleTap.touchmove(e,t,i)},Un.prototype.touchend=function(e,t,i){var n=this.singleTap.touchend(e,t,i);if(n){var r=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(n)<30;if(r&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}};var Wn=function(){this._zoomIn=new Un({numTouches:1,numTaps:2}),this._zoomOut=new Un({numTouches:2,numTaps:1}),this.reset()};Wn.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Wn.prototype.touchstart=function(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i)},Wn.prototype.touchmove=function(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i)},Wn.prototype.touchend=function(e,t,i){var n=this,r=this._zoomIn.touchend(e,t,i),a=this._zoomOut.touchend(e,t,i);return r?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0},Wn.prototype.touchcancel=function(){this.reset()},Wn.prototype.enable=function(){this._enabled=!0},Wn.prototype.disable=function(){this._enabled=!1,this.reset()},Wn.prototype.isEnabled=function(){return this._enabled},Wn.prototype.isActive=function(){return this._active};var Hn={0:1,2:2},$n=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};$n.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},$n.prototype._correctButton=function(e,t){return!1},$n.prototype._move=function(e,t){return{}},$n.prototype.mousedown=function(e,t){if(!this._lastPoint){var n=i.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}},$n.prototype.mousemoveWindow=function(e,t){var i=this._lastPoint;if(i)if(e.preventDefault(),function(e,t){var i=Hn[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)},$n.prototype.mouseupWindow=function(e){this._lastPoint&&i.mouseButton(e)===this._eventButton&&(this._moved&&i.suppressClick(),this.reset())},$n.prototype.enable=function(){this._enabled=!0},$n.prototype.disable=function(){this._enabled=!1,this.reset()},$n.prototype.isEnabled=function(){return this._enabled},$n.prototype.isActive=function(){return this._active};var qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,i){e.prototype.mousedown.call(this,t,i),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}($n),Gn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}},t.prototype.contextmenu=function(e){e.preventDefault()},t}($n),Zn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}},t.prototype.contextmenu=function(e){e.preventDefault()},t}($n),Yn=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Yn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Yn.prototype.touchstart=function(e,t,i){return this._calculateTransform(e,t,i)},Yn.prototype.touchmove=function(e,t,i){if(this._active&&!(i.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,i)},Yn.prototype.touchend=function(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset()},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype._calculateTransform=function(t,i,n){n.length>0&&(this._active=!0);var r=Bn(n,i),a=new e.Point(0,0),o=new e.Point(0,0),s=0;for(var l in r){var c=r[l],u=this._touches[l];u&&(a._add(c),o._add(c.sub(u)),s++,r[l]=c)}if(this._touches=r,!(s<this._minTouches)&&o.mag()){var d=o.div(s);if(this._sum._add(d),!(this._sum.mag()<this._clickTolerance))return{around:a.div(s),panDelta:d}}},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var Xn=function(){this.reset()};function Kn(e,t,i){for(var n=0;n<e.length;n++)if(e[n].identifier===i)return t[n]}function Jn(e,t){return Math.log(e/t)/Math.LN2}Xn.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Xn.prototype._start=function(e){},Xn.prototype._move=function(e,t,i){return{}},Xn.prototype.touchstart=function(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]))},Xn.prototype.touchmove=function(e,t,i){if(this._firstTwoTouches){e.preventDefault();var n=this._firstTwoTouches,r=n[1],a=Kn(i,t,n[0]),o=Kn(i,t,r);if(a&&o){var s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}}},Xn.prototype.touchend=function(e,t,n){if(this._firstTwoTouches){var r=this._firstTwoTouches,a=r[1],o=Kn(n,t,r[0]),s=Kn(n,t,a);o&&s||(this._active&&i.suppressClick(),this.reset())}},Xn.prototype.touchcancel=function(){this.reset()},Xn.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Xn.prototype.disable=function(){this._enabled=!1,this.reset()},Xn.prototype.isEnabled=function(){return this._enabled},Xn.prototype.isActive=function(){return this._active};var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Jn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jn(this._distance,i),pinchAround:t}},t}(Xn);function tr(e,t){return 180*e.angleWith(t)/Math.PI}var er=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var i=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,i),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,i=tr(e,this._startVector);return Math.abs(i)<t},t}(Xn);function ir(e){return Math.abs(e.y)>Math.abs(e.x)}var nr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ir(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,i){var n=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(n,r,i.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(n.y+r.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,i){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,r=t.mag()>=2;if(n||r){if(!n||!r)return void 0===this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return ir(e)&&ir(t)&&a}},t}(Xn),rr={panStep:100,bearingStep:15,pitchStep:10},or=function(){var e=rr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep};function ar(e){return e*(2-e)}or.prototype.reset=function(){this._active=!1},or.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=0,n=0,r=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:i=1;break;case 189:case 109:case 173:i=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ar,zoom:i?Math.round(l)+i*(e.shiftKey?2:1):l,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+r*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},or.prototype.enable=function(){this._enabled=!0},or.prototype.disable=function(){this._enabled=!1,this.reset()},or.prototype.isEnabled=function(){return this._enabled},or.prototype.isActive=function(){return this._active};var sr=function(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};sr.prototype.setZoomRate=function(e){this._defaultZoomRate=e},sr.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(t){if(this.isEnabled()){var i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==i&&i%4.000244140625==0?this._type="wheel":0!==i&&Math.abs(i)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault()}},sr.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},sr.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=i.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var i=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,r=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==r&&(r=1/r);var a="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(a*r))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:i.zoom,l=this._startZoom,c=this._easing,u=!1;if("wheel"===this._type&&l&&c){var d=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=c(d);o=e.number(l,s,p),d<1?this._frameId||(this._frameId=!0):u=!0}else o=s,u=!0;return this._active=!0,u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!u,zoomDelta:o-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(t){var i=e.ease;if(this._prevEase){var n=this._prevEase,r=(e.browser.now()-n.start)/n.duration,a=n.easing(r+.01)-n.easing(r),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);i=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:i},i},sr.prototype.reset=function(){this._active=!1};var ur=function(e,t){this._clickZoom=e,this._tapZoom=t};ur.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ur.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ur.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ur.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var lr=function(){this.reset()};lr.prototype.reset=function(){this._active=!1},lr.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(i){i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e})}}},lr.prototype.enable=function(){this._enabled=!0},lr.prototype.disable=function(){this._enabled=!1,this.reset()},lr.prototype.isEnabled=function(){return this._enabled},lr.prototype.isActive=function(){return this._active};var cr=function(){this._tap=new Un({numTouches:1,numTaps:1}),this.reset()};cr.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},cr.prototype.touchstart=function(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i))},cr.prototype.touchmove=function(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;var n=t[0],r=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i)},cr.prototype.touchend=function(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp)},cr.prototype.touchcancel=function(){this.reset()},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var hr=function(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i};hr.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var dr=function(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i};dr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},dr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},dr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},dr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var fr=function(e,t,i,n){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0};fr.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},fr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},fr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},fr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},fr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var pr=function(e){return e.zoom||e.drag||e.pitch||e.rotate},vr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var gr=function(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new On(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[e.window,"blur",void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],l=s[0];i.addEventListener(l,s[1],l===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};gr.prototype.destroy=function(){for(var t=0,n=this._listeners;t<n.length;t+=1){var r=n[t],a=r[0];i.removeEventListener(a,r[1],a===e.window.document?this.handleWindowEvent:this.handleEvent,r[2])}},gr.prototype._addDefaultHandlers=function(e){var t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new jn(t,e));var n=t.boxZoom=new Nn(t,e);this._add("boxZoom",n);var r=new Wn,a=new lr;t.doubleClickZoom=new ur(a,r),this._add("tapZoom",r),this._add("clickZoom",a);var o=new cr;this._add("tapDragZoom",o);var s=t.touchPitch=new nr;this._add("touchPitch",s);var l=new Gn(e),c=new Zn(e);t.dragRotate=new dr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);var u=new qn(e),d=new Yn(e);t.dragPan=new hr(i,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);var p=new er,f=new Qn;t.touchZoomRotate=new fr(i,f,p,o),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var h=t.scrollZoom=new sr(t,this);this._add("scrollZoom",h,["mousePan"]);var v=t.keyboard=new or;this._add("keyboard",v),this._add("blockableMapEvent",new Fn(t));for(var m=0,g=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<g.length;m+=1){var y=g[m];e.interactive&&e[y]&&t[y].enable(e[y])}},gr.prototype._add=function(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t},gr.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,i=this._handlers;t<i.length;t+=1)i[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},gr.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},gr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},gr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},gr.prototype.isMoving=function(){return Boolean(pr(this._eventsInProgress))||this.isZooming()},gr.prototype._blockedByActive=function(e,t,i){for(var n in e)if(n!==i&&(!t||t.indexOf(n)<0))return!0;return!1},gr.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},gr.prototype._getMapTouches=function(e){for(var t=[],i=0,n=e;i<n.length;i+=1){var r=n[i];this._el.contains(r.target)&&t.push(r)}return t},gr.prototype.handleEvent=function(e,t){if("blur"!==e.type){this._updatingCamera=!0;for(var n="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},a={},o={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?i.touchPos(this._el,s):i.mousePos(this._el,e),c=0,u=this._handlers;c<u.length;c+=1){var d=u[c],p=d.handlerName,f=d.handler,h=d.allowed;if(f.isEnabled()){var v=void 0;this._blockedByActive(o,h,p)?f.reset():f[t||e.type]&&(v=f[t||e.type](e,l,s),this.mergeHandlerResult(r,a,v,p,n),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||f.isActive())&&(o[p]=f)}}var m={};for(var g in this._previousActiveHandlers)o[g]||(m[g]=n);this._previousActiveHandlers=o,(Object.keys(m).length||mr(r))&&(this._changes.push([r,a,m]),this._triggerRenderFrame()),(Object.keys(o).length||mr(r))&&this._map._stop(!0),this._updatingCamera=!1;var y=r.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))}else this.stop(!0)},gr.prototype.mergeHandlerResult=function(t,i,n,r,a){if(n){e.extend(t,n);var o={handlerName:r,originalEvent:n.originalEvent||a};void 0!==n.zoomDelta&&(i.zoom=o),void 0!==n.panDelta&&(i.drag=o),void 0!==n.pitchDelta&&(i.pitch=o),void 0!==n.bearingDelta&&(i.rotate=o)}},gr.prototype._applyChanges=function(){for(var t={},i={},n={},r=0,a=this._changes;r<a.length;r+=1){var o=a[r],s=o[0],l=o[1],c=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(i,l),e.extend(n,c)}this._updateMapTransform(t,i,n),this._changes=[]},gr.prototype._updateMapTransform=function(e,t,i){var n=this._map,r=n.transform;if(!mr(e))return this._fireEvents(t,i,!0);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,l=e.pitchDelta,c=e.around,u=e.pinchAround;void 0!==u&&(c=u),n._stop(!0),c=c||n.transform.centerPoint;var d=r.pointLocation(a?c.sub(a):c);s&&(r.bearing+=s),l&&(r.pitch+=l),o&&(r.zoom+=o),r.setLocationAtPoint(d,c),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,i,!0)},gr.prototype._fireEvents=function(t,i,n){var r=this,a=pr(this._eventsInProgress),o=pr(t),s={};for(var l in t)this._eventsInProgress[l]||(s[l+"start"]=t[l].originalEvent),this._eventsInProgress[l]=t[l];for(var c in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(c,s[c]);for(var u in o&&this._fireEvent("move",o.originalEvent),t)this._fireEvent(u,t[u].originalEvent);var d,p={};for(var f in this._eventsInProgress){var h=this._eventsInProgress[f],v=h.handlerName,m=h.originalEvent;this._handlersById[v].isActive()||(delete this._eventsInProgress[f],p[f+"end"]=d=i[v]||m)}for(var g in p)this._fireEvent(g,p[g]);var y=pr(this._eventsInProgress);if(n&&(a||o)&&!y){this._updatingCamera=!0;var x=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_=function(e){return 0!==e&&-r._bearingSnap<e&&e<r._bearingSnap};x?(_(x.bearing||this._map.getBearing())&&(x.bearing=0),this._map.easeTo(x,{originalEvent:d})):(this._map.fire(new e.Event("moveend",{originalEvent:d})),_(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},gr.prototype._fireEvent=function(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}))},gr.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new vr("renderFrame",{timeStamp:t})),e._applyChanges()}))},gr.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var yr=function(t){function i(i,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i,i.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},i.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},i.prototype.panBy=function(t,i,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),n)},i.prototype.panTo=function(t,i,n){return this.easeTo(e.extend({center:t},i),n)},i.prototype.getZoom=function(){return this.transform.zoom},i.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},i.prototype.zoomTo=function(t,i,n){return this.easeTo(e.extend({zoom:t},i),n)},i.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},i.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},i.prototype.getBearing=function(){return this.transform.bearing},i.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},i.prototype.getPadding=function(){return this.transform.padding},i.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},i.prototype.rotateTo=function(t,i,n){return this.easeTo(e.extend({bearing:t},i),n)},i.prototype.resetNorth=function(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this},i.prototype.resetNorthPitch=function(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this},i.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},i.prototype.getPitch=function(){return this.transform.pitch},i.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},i.prototype.cameraForBounds=function(t,i){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,i)},i.prototype._cameraForBoxAndBearing=function(t,i,n,r){var a={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var o=r.padding;r.padding={top:o,bottom:o,right:o,left:o}}r.padding=e.extend(a,r.padding);var s=this.transform,l=s.padding,c=s.project(e.LngLat.convert(t)),u=s.project(e.LngLat.convert(i)),d=c.rotate(-n*Math.PI/180),p=u.rotate(-n*Math.PI/180),f=new e.Point(Math.max(d.x,p.x),Math.max(d.y,p.y)),h=new e.Point(Math.min(d.x,p.x),Math.min(d.y,p.y)),v=f.sub(h),m=(s.width-(l.left+l.right+r.padding.left+r.padding.right))/v.x,g=(s.height-(l.top+l.bottom+r.padding.top+r.padding.bottom))/v.y;if(!(g<0||m<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(m,g)),r.maxZoom),x=e.Point.convert(r.offset),_=new e.Point(x.x+(r.padding.left-r.padding.right)/2,x.y+(r.padding.top-r.padding.bottom)/2).mult(s.scale/s.zoomScale(y));return{center:s.unproject(c.add(u).div(2).sub(_)),zoom:y,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},i.prototype.fitBounds=function(e,t,i){return this._fitInternal(this.cameraForBounds(e,t),t,i)},i.prototype.fitScreenCoordinates=function(t,i,n,r,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(i)),n,r),r,a)},i.prototype._fitInternal=function(t,i,n){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,n):this.flyTo(i,n)):this},i.prototype.jumpTo=function(t,i){this.stop();var n=this.transform,r=!1,a=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(a=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),this.fire(new e.Event("movestart",i)).fire(new e.Event("move",i)),r&&this.fire(new e.Event("zoomstart",i)).fire(new e.Event("zoom",i)).fire(new e.Event("zoomend",i)),a&&this.fire(new e.Event("rotatestart",i)).fire(new e.Event("rotate",i)).fire(new e.Event("rotateend",i)),o&&this.fire(new e.Event("pitchstart",i)).fire(new e.Event("pitch",i)).fire(new e.Event("pitchend",i)),this.fire(new e.Event("moveend",i))},i.prototype.easeTo=function(t,i){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var r=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),l=this.getPadding(),c="zoom"in t?+t.zoom:a,u="bearing"in t?this._normalizeBearing(t.bearing,o):o,d="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:r.padding,f=e.Point.convert(t.offset),h=r.centerPoint.add(f),v=r.pointLocation(h),m=e.LngLat.convert(t.center||v);this._normalizeCenter(m);var g,y,x=r.project(v),_=r.project(m).sub(x),b=r.zoomScale(c-a);t.around&&(g=e.LngLat.convert(t.around),y=r.locationPoint(g));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||c!==a,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||d!==s,this._padding=!r.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,w),this._ease((function(t){if(n._zooming&&(r.zoom=e.number(a,c,t)),n._rotating&&(r.bearing=e.number(o,u,t)),n._pitching&&(r.pitch=e.number(s,d,t)),n._padding&&(r.interpolatePadding(l,p,t),h=r.centerPoint.add(f)),g)r.setLocationAtPoint(g,y);else{var v=r.zoomScale(r.zoom-a),m=c>a?Math.min(2,b):Math.max(.5,b),w=Math.pow(m,1-t),k=r.unproject(x.add(_.mult(t*w)).mult(v));r.setLocationAtPoint(r.renderWorldCopies?k.wrap():k,h)}n._fireMoveEvents(i)}),(function(e){n._afterEase(i,e)}),t),this},i.prototype._prepareEase=function(t,i,n){void 0===n&&(n={}),this._moving=!0,i||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))},i.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},i.prototype._afterEase=function(t,i){if(!this._easeId||!i||this._easeId!==i){delete this._easeId;var n=this._zooming,r=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},i.prototype.flyTo=function(t,i){var n=this;if(!t.essential&&e.browser.prefersReducedMotion){var r=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),c=this.getPadding(),u="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,d="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:l,f="padding"in t?t.padding:a.padding,h=a.zoomScale(u-o),v=e.Point.convert(t.offset),m=a.centerPoint.add(v),g=a.pointLocation(m),y=e.LngLat.convert(t.center||g);this._normalizeCenter(y);var x=a.project(g),_=a.project(y).sub(x),b=t.curve,w=Math.max(a.width,a.height),k=w/h,S=_.mag();if("minZoom"in t){var C=e.clamp(Math.min(t.minZoom,o,u),a.minZoom,a.maxZoom),T=w/a.zoomScale(C-o);b=Math.sqrt(T/S*2)}var E=b*b;function M(e){var t=(k*k-w*w+(e?-1:1)*E*E*S*S)/(2*(e?k:w)*E*S);return Math.log(Math.sqrt(t*t+1)-t)}function P(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}var O=M(0),I=function(e){return A(O)/A(O+b*e)},D=function(e){return w*((A(O)*(P(t=O+b*e)/A(t))-P(O))/E)/S;var t},R=(M(1)-O)/b;if(Math.abs(S)<1e-6||!isFinite(R)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,i);var z=k<w?-1:1;R=Math.abs(Math.log(k/w))/b,D=function(){return 0},I=function(e){return Math.exp(z*b*e)}}return t.duration="duration"in t?+t.duration:1e3*R/("screenSpeed"in t?+t.screenSpeed/b:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==d,this._pitching=p!==l,this._padding=!a.isPaddingEqual(f),this._prepareEase(i,!1),this._ease((function(t){var r=t*R,h=1/I(r);a.zoom=1===t?u:o+a.scaleZoom(h),n._rotating&&(a.bearing=e.number(s,d,t)),n._pitching&&(a.pitch=e.number(l,p,t)),n._padding&&(a.interpolatePadding(c,f,t),m=a.centerPoint.add(v));var g=1===t?y:a.unproject(x.add(_.mult(D(r))).mult(h));a.setLocationAtPoint(a.renderWorldCopies?g.wrap():g,m),n._fireMoveEvents(i)}),(function(){return n._afterEase(i)}),t),this},i.prototype.isEasing=function(){return!!this._easeFrameId},i.prototype.stop=function(){return this._stop()},i.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var i=this._onEaseEnd;delete this._onEaseEnd,i.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this},i.prototype._ease=function(t,i,n){!1===n.animate||0===n.duration?(t(1),i()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},i.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},i.prototype._normalizeBearing=function(t,i){t=e.wrap(t,-180,180);var n=Math.abs(t-i);return Math.abs(t-360-i)<n&&(t-=360),Math.abs(t+360-i)<n&&(t+=360),t},i.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0}},i}(e.Evented),xr=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};xr.prototype.getDefaultPosition=function(){return"bottom-right"},xr.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=i.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},xr.prototype.onRemove=function(){i.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},xr.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var i=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=i.reduce((function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<i.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow"}},xr.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},xr.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var i=this._map.style.sourceCaches;for(var n in i){var r=i[n];if(r.used){var a=r.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,i){for(var n=i+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},xr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var _r=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};_r.prototype.onAdd=function(e){this._map=e,this._container=i.create("div","mapboxgl-ctrl");var t=i.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},_r.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},_r.prototype.getDefaultPosition=function(){return"bottom-left"},_r.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},_r.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},_r.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var br=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};br.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},br.prototype.remove=function(e){for(var t=this._currentlyRunning,i=0,n=t?this._queue.concat(t):this._queue;i<n.length;i+=1){var r=n[i];if(r.id===e)return void(r.cancelled=!0)}},br.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var i=0,n=t;i<n.length;i+=1){var r=n[i];if(!r.cancelled&&(r.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},br.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wr={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},kr=e.window.HTMLImageElement,Sr=e.window.HTMLElement,Cr=e.window.ImageBitmap,Tr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Er=function(n){function r(t){var i=this;if(null!=(t=e.extend({},Tr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var r=new kn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(n.call(this,r,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new br,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wr,t.locale),this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Sr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return i._update(!1)})),this.on("moveend",(function(){return i._update(!1)})),this.on("zoom",(function(){return i._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new gr(this,t),this._hash=t.hash&&new Cn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new xr({customAttribution:t.customAttribution})),this.addControl(new _r,t.logoPosition),this.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),this.on("data",(function(t){i._update("style"===t.dataType),i.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){i.fire(new e.Event(t.dataType+"dataloading",t))}))}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(t,i){if(void 0===i&&t.getDefaultPosition&&(i=t.getDefaultPosition()),void 0===i&&(i="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var r=this._controlPositions[i];return-1!==i.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},r.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this},r.prototype.resize=function(t){var i=this._containerDimensions(),n=i[0],r=i[1];this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r);var a=!this._moving;return a&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},r.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},r.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},r.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(e,t,i){var n,r=this;if("mouseenter"===e||"mouseover"===e){var a=!1;return{layer:t,listener:i,delegates:{mousemove:function(n){var o=r.getLayer(t)?r.queryRenderedFeatures(n.point,{layers:[t]}):[];o.length?a||(a=!0,i.call(r,new Rn(e,r,n.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:i,delegates:{mousemove:function(n){(r.getLayer(t)?r.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,i.call(r,new Rn(e,r,n.originalEvent)))},mouseout:function(t){o&&(o=!1,i.call(r,new Rn(e,r,t.originalEvent)))}}}}return{layer:t,listener:i,delegates:(n={},n[e]=function(e){var n=r.getLayer(t)?r.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,i.call(r,e),delete e.features)},n)}},r.prototype.on=function(e,t,i){if(void 0===i)return n.prototype.on.call(this,e,t);var r=this._createDelegatedListener(e,t,i);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(a,r.delegates[a]);return this},r.prototype.once=function(e,t,i){if(void 0===i)return n.prototype.once.call(this,e,t);var r=this._createDelegatedListener(e,t,i);for(var a in r.delegates)this.once(a,r.delegates[a]);return this},r.prototype.off=function(e,t,i){var r=this;return void 0===i?n.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(n){for(var a=n[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===i){for(var l in s.delegates)r.off(l,s.delegates[l]);return a.splice(o,1),r}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(t,i){if(!this.style)return[];var n;if(void 0!==i||void 0===t||t instanceof e.Point||Array.isArray(t)||(i=t,t=void 0),i=i||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])n=[e.Point.convert(t)];else{var r=e.Point.convert(t[0]),a=e.Point.convert(t[1]);n=[r,new e.Point(a.x,r.y),a,new e.Point(r.x,a.y),r]}return this.style.queryRenderedFeatures(n,i,this.transform)},r.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},r.prototype.setStyle=function(t,i){return!1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(t,i))},r.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},r.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Wt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Wt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(t,i){var n=this;if("string"==typeof t){var r=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(r,e.ResourceType.Style);e.getJSON(a,(function(t,r){t?n.fire(new e.ErrorEvent(t)):r&&n._updateDiff(r,i)}))}else"object"==typeof t&&this._updateDiff(t,i)},r.prototype._updateDiff=function(t,i){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,i)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},r.prototype.isSourceLoaded=function(t){var i=this.style&&this.style.sourceCaches[t];if(void 0!==i)return i.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},r.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var i=e[t]._tiles;for(var n in i){var r=i[n];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},r.prototype.addSourceType=function(e,t,i){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i)},r.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},r.prototype.getSource=function(e){return this.style.getSource(e)},r.prototype.addImage=function(t,i,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var a=n.sdf;void 0===a&&(a=!1);var o=n.stretchX,s=n.stretchY,l=n.content;if(this._lazyInitEmptyStyle(),i instanceof kr||Cr&&i instanceof Cr){var c=e.browser.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:c.width,height:c.height},c.data),pixelRatio:r,stretchX:o,stretchY:s,content:l,sdf:a,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var u=i;this.style.addImage(t,{data:new e.RGBAImage({width:i.width,height:i.height},new Uint8Array(i.data)),pixelRatio:r,stretchX:o,stretchY:s,content:l,sdf:a,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}},r.prototype.updateImage=function(t,i){var n=this.style.getImage(t);if(!n)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=i instanceof kr||Cr&&i instanceof Cr?e.browser.getImageData(i):i,a=r.width,o=r.height,s=r.data;return void 0===a||void 0===o?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==n.data.width||o!==n.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(n.data.replace(s,!(i instanceof kr||Cr&&i instanceof Cr)),void this.style.updateImage(t,n))},r.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(e){this.style.removeImage(e)},r.prototype.loadImage=function(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),i)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},r.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},r.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},r.prototype.getLayer=function(e){return this.style.getLayer(e)},r.prototype.setLayerZoomRange=function(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)},r.prototype.setFilter=function(e,t,i){return void 0===i&&(i={}),this.style.setFilter(e,t,i),this._update(!0)},r.prototype.getFilter=function(e){return this.style.getFilter(e)},r.prototype.setPaintProperty=function(e,t,i,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,i,n),this._update(!0)},r.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},r.prototype.setLayoutProperty=function(e,t,i,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,i,n),this._update(!0)},r.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},r.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},r.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},r.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=i.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=i.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=i.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=i.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){a[e]=i.create("div","mapboxgl-ctrl-"+e,r)}))},r.prototype._resizeCanvas=function(t,i){var n=e.browser.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*i,this._canvas.style.width=t+"px",this._canvas.style.height=i+"px"},r.prototype._setupPainter=function(){var i=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",i)||this._canvas.getContext("experimental-webgl",i);n?(this.painter=new bn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},r.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},r.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},r.prototype._render=function(t){var i,n=this,r=0,a=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(i=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),r=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,l=e.browser.now();this.style.zoomHistory.update(s,l);var c=new e.EvaluationParameters(s,{now:l,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=c.crossFadingFactor();1===u&&u===this._crossFadingFactor||(o=!0,this._crossFadingFactor=u),this.style.update(c)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var d=e.browser.now()-r;a.endQueryEXT(a.TIME_ELAPSED_EXT,i),setTimeout((function(){var t=a.getQueryObjectEXT(i,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(i),n.fire(new e.Event("gpu-timing-frame",{cpuTime:d,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(p);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,i=this._controls;t<i.length;t+=1)i[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Mr(this._canvasContainer),Mr(this._controlContainer),Mr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},r.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},r.prototype._setCacheLimits=function(t,i){e.setCacheLimits(t,i)},a.version.get=function(){return e.version},Object.defineProperties(r.prototype,a),r}(yr);function Mr(e){e.parentNode&&e.parentNode.removeChild(e)}var Pr={showCompass:!0,showZoom:!0,visualizePitch:!1},Ar=function(t){var n=this;this.options=e.extend({},Pr,t),this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return n._map.zoomIn({},{originalEvent:e})})),i.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return n._map.zoomOut({},{originalEvent:e})})),i.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){n.options.visualizePitch?n._map.resetNorthPitch({},{originalEvent:e}):n._map.resetNorth({},{originalEvent:e})})),this._compassIcon=i.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ar.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.disabled=e===this._map.getMaxZoom(),this._zoomOutButton.disabled=e===this._map.getMinZoom()},Ar.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Ar.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Or(this._map,this._compass,this.options.visualizePitch)),this._container},Ar.prototype.onRemove=function(){i.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ar.prototype._createButton=function(e,t){var n=i.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n},Ar.prototype._setButtonTitle=function(e,t){var i=this._map._getUIString("NavigationControl."+t);e.title=i,e.setAttribute("aria-label",i)};var Or=function(t,n,r){void 0===r&&(r=!1),this._clickTolerance=10,this.element=n,this.mouseRotate=new Gn({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,r&&(this.mousePitch=new Zn({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),i.addEventListener(n,"mousedown",this.mousedown),i.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),i.addEventListener(n,"touchmove",this.touchmove),i.addEventListener(n,"touchend",this.touchend),i.addEventListener(n,"touchcancel",this.reset)};function Ir(t,i,n){if(t=new e.LngLat(t.lng,t.lat),i){var r=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(i);n.locationPoint(r).distSqr(i)<o?t=r:n.locationPoint(a).distSqr(i)<o&&(t=a)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Or.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),i.disableDrag()},Or.prototype.move=function(e,t){var i=this.map,n=this.mouseRotate.mousemoveWindow(e,t);if(n&&n.bearingDelta&&i.setBearing(i.getBearing()+n.bearingDelta),this.mousePitch){var r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&i.setPitch(i.getPitch()+r.pitchDelta)}},Or.prototype.off=function(){var e=this.element;i.removeEventListener(e,"mousedown",this.mousedown),i.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),i.removeEventListener(e,"touchmove",this.touchmove),i.removeEventListener(e,"touchend",this.touchend),i.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Or.prototype.offTemp=function(){i.enableDrag(),i.removeEventListener(e.window,"mousemove",this.mousemove),i.removeEventListener(e.window,"mouseup",this.mouseup)},Or.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),i.mousePos(this.element,t)),i.addEventListener(e.window,"mousemove",this.mousemove),i.addEventListener(e.window,"mouseup",this.mouseup)},Or.prototype.mousemove=function(e){this.move(e,i.mousePos(this.element,e))},Or.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Or.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=i.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Or.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=i.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Or.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Or.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Dr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rr(e,t,i){var n=e.classList;for(var r in Dr)n.remove("mapboxgl-"+i+"-anchor-"+r);n.add("mapboxgl-"+i+"-anchor-"+t)}var zr,Lr=function(t){function n(n,r){var a=this;if(t.call(this),(n instanceof e.window.HTMLElement||r)&&(n=e.extend({element:n},r)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&"auto"!==n.pitchAlignment?n.pitchAlignment:this._rotationAlignment,n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div"),this._element.setAttribute("aria-label","Map marker");var o=i.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");var l=i.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill-rule","nonzero");var c=i.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var u=0,d=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<d.length;u+=1){var p=d[u],f=i.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",p.rx),f.setAttributeNS(null,"ry",p.ry),c.appendChild(f)}var h=i.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var v=i.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(v);var m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=i.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=i.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var x=i.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=i.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=i.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),x.appendChild(_),x.appendChild(b),l.appendChild(c),l.appendChild(h),l.appendChild(m),l.appendChild(y),l.appendChild(x),o.appendChild(l),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),this._element.addEventListener("focus",(function(){var e=a._map.getContainer();e.scrollTop=0,e.scrollLeft=0})),Rr(this._element,this._anchor,"marker"),this._popup=null}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},n.prototype._onKeyPress=function(e){var t=e.code,i=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==i&&13!==i||this.togglePopup()},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ir(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),i.setTransform(this._element,Dr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+n+" "+t)}},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},n.prototype.getRotation=function(){return this._rotation},n.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},n.prototype.getRotationAlignment=function(){return this._rotationAlignment},n.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},n.prototype.getPitchAlignment=function(){return this._pitchAlignment},n}(e.Evented),jr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fr=0,Nr=!1,Br=function(t){function n(i){t.call(this),this.options=e.extend({},jr,i),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==zr?n(zr):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){n(zr="denied"!==e.state)})):n(zr=!!e.window.navigator.geolocation),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),i.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fr=0,Nr=!1},n.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),i=e.coords;return t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())},n.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},n.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},n.prototype._updateCamera=function(t){var i=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=this._map.getBearing(),a=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(n),a,{geolocateSource:!0})},n.prototype._updateMarker=function(t){if(t){var i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},n.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),i=this._map.unproject([1,e]),n=t.distanceTo(i),r=Math.ceil(2*this._accuracy/n);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"},n.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},n.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Nr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=i.create("button","mapboxgl-ctrl-geolocate",this._container),i.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Lr(this._dotElement),this._circleElement=i.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Lr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fr--,Nr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fr>1?(t={maximumAge:6e5,timeout:0},Nr=!0):(t=this.options.positionOptions,Nr=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),Vr={maxWidth:100,unit:"metric"},Ur=function(t){this.options=e.extend({},Vr,t),e.bindAll(["_onMove","setUnit"],this)};function Wr(e,t,i){var n=i&&i.maxWidth||100,r=e._container.clientHeight/2,a=e.unproject([0,r]),o=e.unproject([n,r]),s=a.distanceTo(o);if(i&&"imperial"===i.unit){var l=3.2808*s;l>5280?Hr(t,n,l/5280,e._getUIString("ScaleControl.Miles")):Hr(t,n,l,e._getUIString("ScaleControl.Feet"))}else i&&"nautical"===i.unit?Hr(t,n,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Hr(t,n,s/1e3,e._getUIString("ScaleControl.Kilometers")):Hr(t,n,s,e._getUIString("ScaleControl.Meters"))}function Hr(e,t,i,n){var r,a,o,s=(r=i,(a=Math.pow(10,(""+Math.floor(r)).length-1))*(o=(o=r/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o)));e.style.width=t*(s/i)+"px",e.innerHTML=s+"&nbsp;"+n}Ur.prototype.getDefaultPosition=function(){return"bottom-left"},Ur.prototype._onMove=function(){Wr(this._map,this._container,this.options)},Ur.prototype.onAdd=function(e){return this._map=e,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ur.prototype.onRemove=function(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ur.prototype.setUnit=function(e){this.options.unit=e,Wr(this._map,this._container,this.options)};var $r=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};$r.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},$r.prototype.onRemove=function(){i.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$r.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},$r.prototype._setupUI=function(){var t=this._fullscreenButton=i.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);i.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$r.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},$r.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},$r.prototype._isFullscreen=function(){return this._fullscreen},$r.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},$r.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var qr={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Gr=function(t){function n(i){t.call(this),this.options=e.extend(Object.create(qr),i),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},n.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},n.prototype.getElement=function(){return this._container},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var i,n=e.window.document.createDocumentFragment(),r=e.window.document.createElement("body");for(r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return this.setDOMContent(n)},n.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},n.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},n.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},n.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},n.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},n.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},n.prototype._createContent=function(){this._content&&i.remove(this._content),this._content=i.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=i.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},n.prototype._onMouseUp=function(e){this._update(e.point)},n.prototype._onMouseMove=function(e){this._update(e.point)},n.prototype._onDrag=function(e){this._update(e.point)},n.prototype._update=function(t){var n=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=i.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=i.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return n._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ir(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var r=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),a=this.options.anchor,o=function t(i){if(i){if("number"==typeof i){var n=Math.round(Math.sqrt(.5*Math.pow(i,2)));return{center:new e.Point(0,0),top:new e.Point(0,i),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-i),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(i,0),right:new e.Point(-i,0)}}if(i instanceof e.Point||Array.isArray(i)){var r=e.Point.convert(i);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:e.Point.convert(i.center||[0,0]),top:e.Point.convert(i.top||[0,0]),"top-left":e.Point.convert(i["top-left"]||[0,0]),"top-right":e.Point.convert(i["top-right"]||[0,0]),bottom:e.Point.convert(i.bottom||[0,0]),"bottom-left":e.Point.convert(i["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(i["bottom-right"]||[0,0]),left:e.Point.convert(i.left||[0,0]),right:e.Point.convert(i.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!a){var s,l=this._container.offsetWidth,c=this._container.offsetHeight;s=r.y+o.bottom.y<c?["top"]:r.y>this._map.transform.height-c?["bottom"]:[],r.x<l/2?s.push("left"):r.x>this._map.transform.width-l/2&&s.push("right"),a=0===s.length?"bottom":s.join("-")}var u=r.add(o[a]).round();i.setTransform(this._container,Dr[a]+" translate("+u.x+"px,"+u.y+"px)"),Rr(this._container,a,"popup")}},n.prototype._onClose=function(){this.remove()},n}(e.Evented),Zr={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Er,NavigationControl:Ar,GeolocateControl:Br,AttributionControl:xr,ScaleControl:Ur,FullscreenControl:$r,Popup:Gr,Marker:Lr,Style:Wt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Le().acquire(Ie)},clearPrewarmedResources:function(){var e=Re;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Ie),Re=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return De.workerCount},set workerCount(e){De.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Zr})),n}()},,,function(e,t){function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=n,n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var n,r,o,l,i;for(void 0===t&&(t=1e-6),o=e,i=0;i<8;i++){if(l=this.sampleCurveX(o)-e,Math.abs(l)<t)return o;var c=this.sampleCurveDerivativeX(o);if(Math.abs(c)<1e-6)break;o-=l/c}if((o=e)<(n=0))return n;if(o>(r=1))return r;for(;n<r;){if(l=this.sampleCurveX(o),Math.abs(l-e)<t)return o;e>l?n=o:r=o,o=.5*(r-n)+n}return o},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},function(e,t,n){var r=n(553),o=n(26);e.exports=function(e,t,n){var l=!0,c=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(l="leading"in n?!!n.leading:l,c="trailing"in n?!!n.trailing:c),r(e,t,{leading:l,maxWait:t,trailing:c})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),o=n.n(r),l=n(155),c=n.n(l),d=n(324),f=n(325);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function m(data,e){var t=[],n={};if(data.features=data.features.filter((function(e){var t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0})),c()(data,!0),0===data.features.length)return{dataArray:[],featureKeys:n};return f.flattenEach(data,(function(e,n){var r=Object(d.getCoords)(e),o=n,l=v(v({},e.properties),{},{coordinates:r,_id:o});t.push(l)})),{dataArray:t,featureKeys:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&r.isNumber(t[0])&&r.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,o=e.features;r<o.length;r++){var l=o[r];if(!l||"Feature"!==l.type||!l.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!l.geometry||l.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+l.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84);function o(e,t,n){if(null!==e)for(var r,l,c,d,f,h,v,m,y=0,x=0,_=e.type,w="FeatureCollection"===_,k="Feature"===_,S=w?e.features.length:1,C=0;C<S;C++){f=(m=!!(v=w?e.features[C].geometry:k?e.geometry:e)&&"GeometryCollection"===v.type)?v.geometries.length:1;for(var T=0;T<f;T++){var E=0,M=0;if(null!==(d=m?v.geometries[T]:v)){h=d.coordinates;var P=d.type;switch(y=!n||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(h,x,C,E,M))return!1;x++,E++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===t(h[r],x,C,E,M))return!1;x++,"MultiPoint"===P&&E++}"LineString"===P&&E++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(l=0;l<h[r].length-y;l++){if(!1===t(h[r][l],x,C,E,M))return!1;x++}"MultiLineString"===P&&E++,"Polygon"===P&&M++}"Polygon"===P&&E++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(M=0,l=0;l<h[r].length;l++){for(c=0;c<h[r][l].length-y;c++){if(!1===t(h[r][l][c],x,C,E,M))return!1;x++}M++}E++}break;case"GeometryCollection":for(r=0;r<d.geometries.length;r++)if(!1===o(d.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(e,t){var i;switch(e.type){case"FeatureCollection":for(i=0;i<e.features.length&&!1!==t(e.features[i].properties,i);i++);break;case"Feature":t(e.properties,0)}}function c(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var i=0;i<e.features.length&&!1!==t(e.features[i],i);i++);}function d(e,t){var i,n,g,r,o,l,c,d,f,h,v=0,m="FeatureCollection"===e.type,y="Feature"===e.type,x=m?e.features.length:1;for(i=0;i<x;i++){for(l=m?e.features[i].geometry:y?e.geometry:e,d=m?e.features[i].properties:y?e.properties:{},f=m?e.features[i].bbox:y?e.bbox:void 0,h=m?e.features[i].id:y?e.id:void 0,o=(c=!!l&&"GeometryCollection"===l.type)?l.geometries.length:1,g=0;g<o;g++)if(null!==(r=c?l.geometries[g]:l))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(r,v,d,f,h))return!1;break;case"GeometryCollection":for(n=0;n<r.geometries.length;n++)if(!1===t(r.geometries[n],v,d,f,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,v,d,f,h))return!1;v++}}function f(e,t){d(e,(function(e,n,o,l,c){var d,f=null===e?null:e.type;switch(f){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,o,{bbox:l,id:c}),n,0)&&void 0}switch(f){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon"}for(var h=0;h<e.coordinates.length;h++){var v={type:d,coordinates:e.coordinates[h]};if(!1===t(r.feature(v,o),n,h))return!1}}))}function h(e,t){f(e,(function(e,n,l){var c=0;if(e.geometry){var d=e.geometry.type;if("Point"!==d&&"MultiPoint"!==d){var f,h=0,v=0,m=0;return!1!==o(e,(function(o,d,y,x,_){if(void 0===f||n>h||x>v||_>m)return f=o,h=n,v=x,m=_,void(c=0);var w=r.lineString([f,o],e.properties);if(!1===t(w,n,l,_,c))return!1;c++,f=o}))&&void 0}}}))}function v(e,t){if(!e)throw new Error("geojson is required");f(e,(function(e,n,o){if(null!==e.geometry){var l=e.geometry.type,c=e.geometry.coordinates;switch(l){case"LineString":if(!1===t(e,n,o,0,0))return!1;break;case"Polygon":for(var d=0;d<c.length;d++)if(!1===t(r.lineString(c[d],e.properties),n,o,d))return!1}}}))}t.coordEach=o,t.coordReduce=function(e,t,n,r){var l=n;return o(e,(function(e,r,o,c,d){l=0===r&&void 0===n?e:t(l,e,r,o,c,d)}),r),l},t.propEach=l,t.propReduce=function(e,t,n){var r=n;return l(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.featureEach=c,t.featureReduce=function(e,t,n){var r=n;return c(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r},t.coordAll=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.geomEach=d,t.geomReduce=function(e,t,n){var r=n;return d(e,(function(e,o,l,c,d){r=0===o&&void 0===n?e:t(r,e,o,l,c,d)})),r},t.flattenEach=f,t.flattenReduce=function(e,t,n){var r=n;return f(e,(function(e,o,l){r=0===o&&0===l&&void 0===n?e:t(r,e,o,l)})),r},t.segmentEach=h,t.segmentReduce=function(e,t,n){var r=n,o=!1;return h(e,(function(e,l,c,d,f){r=!1===o&&void 0===n?e:t(r,e,l,c,d,f),o=!0})),r},t.lineEach=v,t.lineReduce=function(e,t,n){var r=n;return v(e,(function(e,o,l,c){r=0===o&&void 0===n?e:t(r,e,o,l,c)})),r},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,l=t.multiFeatureIndex||0,c=t.geometryIndex||0,d=t.segmentIndex||0,f=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),f=f||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":f=f||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=h.length+d-1),r.lineString([h[d],h[d+1]],f,t);case"Polygon":return c<0&&(c=h.length+c),d<0&&(d=h[c].length+d-1),r.lineString([h[c][d],h[c][d+1]],f,t);case"MultiLineString":return l<0&&(l=h.length+l),d<0&&(d=h[l].length+d-1),r.lineString([h[l][d],h[l][d+1]],f,t);case"MultiPolygon":return l<0&&(l=h.length+l),c<0&&(c=h[l].length+c),d<0&&(d=h[l][c].length-d-1),r.lineString([h[l][c][d],h[l][c][d+1]],f,t)}throw new Error("geojson is invalid")},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,o=t.featureIndex||0,l=t.multiFeatureIndex||0,c=t.geometryIndex||0,d=t.coordIndex||0,f=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),f=f||e.features[o].properties,n=e.features[o].geometry;break;case"Feature":f=f||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var h=n.coordinates;switch(n.type){case"Point":return r.point(h,f,t);case"MultiPoint":return l<0&&(l=h.length+l),r.point(h[l],f,t);case"LineString":return d<0&&(d=h.length+d),r.point(h[d],f,t);case"Polygon":return c<0&&(c=h.length+c),d<0&&(d=h[c].length+d),r.point(h[c][d],f,t);case"MultiLineString":return l<0&&(l=h.length+l),d<0&&(d=h[l].length+d),r.point(h[l][d],f,t);case"MultiPolygon":return l<0&&(l=h.length+l),c<0&&(c=h[l].length+c),d<0&&(d=h[l][c].length-d),r.point(h[l][c][d],f,t)}throw new Error("geojson is invalid")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return image}));var r=n(7);function image(data,e){var t=e.extent;return{images:new Promise((function(e){!function(data,e){var t=data,n=[];if("string"==typeof t)Object(r.r)({url:t},(function(t,img){n.push(img),e(n)}));else{var o=t.length,l=0;t.forEach((function(t){Object(r.r)({url:t},(function(t,img){l++,n.push(img),l===o&&e(n)}))}))}}(data,(function(t){e(t)}))})),_id:1,dataArray:[{_id:0,coordinates:[[t[0],t[1]],[t[2],t[3]]]}]}}},function(e,t,n){"use strict";function r(data,e){var t=e.extent,n=e.width,r=e.height,o=e.min,l=e.max;return{_id:1,dataArray:[{_id:1,data:Array.from(data),width:n,height:r,min:o,max:l,coordinates:[[t[0],t[1]],[t[2],t[3]]]}]}}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(557);e.exports=function(e){return r(e,5)}},function(e,t,n){"use strict";function filter(data,e){var t=e.callback;return t&&(data.dataArray=data.dataArray.filter(t)),data}n.d(t,"a",(function(){return filter}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(7);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function c(data,option){var e=data.dataArray,t=option.size,n=void 0===t?10:t,l=n/(2*Math.PI*6378e3)*(256<<20)/2,c=function(e,t){var n,r,l=1/0,c=-1/0,d=o(e);try{for(d.s();!(r=d.n()).done;){var f=r.value;n=f.coordinates[1],Number.isFinite(n)&&(l=n<l?n:l,c=n>c?n:c)}}catch(e){d.e(e)}finally{d.f()}var h=(v=t,m=(l+c)/2,_=v,y=_/6378e3*(180/Math.PI),x=function(e,t){return t/6378e3*(180/Math.PI)/Math.cos(e*Math.PI/180)}(m,v),{yOffset:y,xOffset:x});var v,m,y,x,_;if(h.xOffset<=0||h.yOffset<=0)return{gridHash:{},gridOffset:h};var w,k={},S=o(e);try{for(S.s();!(w=S.n()).done;){var C=w.value,T=C.coordinates[1],E=C.coordinates[0];if(Number.isFinite(T)&&Number.isFinite(E)){var M=Math.floor((T+90)/h.yOffset),P=Math.floor((E+180)/h.xOffset),A="".concat(M,"-").concat(P);k[A]=k[A]||{count:0,points:[]},k[A].count+=1,k[A].points.push(C)}}}catch(e){S.e(e)}finally{S.f()}return{gridHash:k,gridOffset:h}}(e,n);return{yOffset:l,xOffset:l,radius:l,type:"grid",dataArray:function(e,t,option){return Object.keys(e).reduce((function(n,o,i){var l=o.split("-"),c=parseInt(l[0],10),d=parseInt(l[1],10),f={};if(option.field&&option.method){var h=r.d.getColumn(e[o].points,option.field);f[option.method]=r.d.statMap[option.method](h)}return Object.assign(f,{_id:i,coordinates:Object(r.e)([t.xOffset*(d+.5)-180,t.yOffset*(c+.5)-90]),rawData:e[o].points,count:e[o].count}),n.push(f),n}),[])}(c.gridHash,c.gridOffset,option)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),o=n.n(r);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function d(e,t){var n=t.sourceField,r=t.targetField,data=t.data,o={};return data.forEach((function(element){o[element[n]]=element})),e.dataArray=e.dataArray.map((function(e){var t=e[r];return c(c({},e),o[t])})),e}},function(e,t,n){"use strict";function map(data,e){var t=e.callback;return t&&(data.dataArray=data.dataArray.map(t)),data}n.d(t,"a",(function(){return map}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)((0,c.default)(e)&&e.length>=1,"Must merge at least 1 JSON schema."),o.default.apply(void 0,[{}].concat(function(e){if(Array.isArray(e)){for(var i=0,t=Array(e.length);i<e.length;i++)t[i]=e[i];return t}return Array.from(e)}(e),[function(e,t,n){if(!(0,l.default)(e)){if("required"===n)return(0,d.default)(e.concat(t));if((0,f.default)(e)){if(!(0,f.default)(t))throw new Error('Failed to merge schemas because "'+n+'" has different values.')}else r.default.deepEqual(e,t,'Failed to merge schemas because "'+n+'" has different values: '+JSON.stringify(e)+" and "+JSON.stringify(t)+".")}}]))};var r=h(n(580)),o=h(n(585)),l=h(n(586)),c=h(n(587)),d=h(n(588)),f=h(n(589));function h(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},,function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r={},o={};function l(e){return new Function("d","return {"+e.map((function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'})).join(",")+"}")}function c(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function d(e,t){var s=e+"",n=s.length;return n<t?new Array(t-n+1).join(0)+s:s}function f(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),l=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+d(-t,6):t>9999?"+"+d(t,6):d(t,4))+"-"+d(e.getUTCMonth()+1,2)+"-"+d(e.getUTCDate(),2)+(l?"T"+d(n,2)+":"+d(r,2)+":"+d(o,2)+"."+d(l,3)+"Z":o?"T"+d(n,2)+":"+d(r,2)+":"+d(o,2)+"Z":r||n?"T"+d(n,2)+":"+d(r,2)+"Z":"")}var h=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function d(text,e){var t,l=[],c=text.length,d=0,f=0,h=c<=0,v=!1;function m(){if(h)return o;if(v)return v=!1,r;var i,e,t=d;if(34===text.charCodeAt(t)){for(;d++<c&&34!==text.charCodeAt(d)||34===text.charCodeAt(++d););return(i=d)>=c?h=!0:10===(e=text.charCodeAt(d++))?v=!0:13===e&&(v=!0,10===text.charCodeAt(d)&&++d),text.slice(t+1,i-1).replace(/""/g,'"')}for(;d<c;){if(10===(e=text.charCodeAt(i=d++)))v=!0;else if(13===e)v=!0,10===text.charCodeAt(d)&&++d;else if(e!==n)continue;return text.slice(t,i)}return h=!0,text.slice(t,c)}for(10===text.charCodeAt(c-1)&&--c,13===text.charCodeAt(c-1)&&--c;(t=m())!==o;){for(var y=[];t!==r&&t!==o;)y.push(t),t=m();e&&null==(y=e(y,f++))||l.push(y)}return l}function h(t,n){return t.map((function(t){return n.map((function(e){return m(t[e])})).join(e)}))}function v(t){return t.map(m).join(e)}function m(e){return null==e?"":e instanceof Date?f(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(text,e){var t,n,r=d(text,(function(r,i){if(t)return t(r,i-1);n=r,t=e?function(e,t){var object=l(e);return function(n,i){return t(object(n),i,e)}}(r,e):l(r)}));return r.columns=n||[],r},parseRows:d,format:function(t,n){return null==n&&(n=c(t)),[n.map(m).join(e)].concat(h(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=c(e)),h(e,t).join("\n")},formatRows:function(e){return e.map(v).join("\n")},formatRow:v,formatValue:m}}(","),v=h.parse,m=(h.parseRows,h.format,h.formatBody,h.formatRows,h.formatRow,h.formatValue,n(154));function y(data,e){var t=v(data);return Object(m.a)(t,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(3),o=n.n(r),l=n(2),c=n.n(l),d=n(1),f=n.n(d),h=n(8),v=n.n(h),m=n(9),y=n.n(m),x=n(4),_=n.n(x),w=n(156),k=n.n(w),S=n(68),C=n.n(S),T=n(328),E=n.n(T),M=n(36),P=n(7),A=n(27),O=n(104),I=n(157);function D(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,i=1;i<e.length;i++)t=n+1*e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+1*r}var R={min:function(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],i=1;i<e.length;i++)e[i]<t&&(t=e[i]);return t},max:function(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],i=1;i<e.length;i++)e[i]>t&&(t=e[i]);return t},mean:function(e){if(0===e.length)throw new Error("mean requires at least one data point");return D(e)/e.length},sum:D};function z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?z(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):z(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_()(e);if(t){var o=_()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y()(this,n)}}var F=function(e){v()(n,e);var t=j(n);function n(data,e){var r;return c()(this,n),(r=t.call(this)).data=void 0,r.extent=void 0,r.hooks={init:new M.c},r.parser={type:"geojson"},r.transforms=[],r.cluster=!1,r.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},r.originData=void 0,r.rawData=void 0,r.clusterIndex=void 0,r.originData=data,r.initCfg(e),r.hooks.init.tap("parser",(function(){r.excuteParser()})),r.hooks.init.tap("cluster",(function(){r.initCluster()})),r.hooks.init.tap("transform",(function(){r.executeTrans()})),r.init(),r}return f()(n,[{key:"setData",value:function(data,e){this.rawData=data,this.originData=data,this.initCfg(e),this.init(),this.emit("update")}},{key:"getClusters",value:function(e){return this.clusterIndex.getClusters(this.extent,e)}},{key:"getClustersLeaves",value:function(e){return this.clusterIndex.getLeaves(e,1/0)}},{key:"updateClusterData",value:function(e){var t=this,n=this.clusterOptions,r=n.method,o=void 0===r?"sum":r,l=n.field,c=Object(P.y)(Object(P.i)(this.extent),2),data=this.clusterIndex.getClusters(c[0].concat(c[1]),Math.floor(e));this.clusterOptions.zoom=e,data.forEach((function(p){p.id||(p.properties.point_count=1)})),(l||C()(o))&&(data=data.map((function(e){var n=e.id;if(n){var r,c=t.clusterIndex.getLeaves(n,1/0).map((function(e){return e.properties}));if(k()(o)&&l){var d=function(data,e){return data.map((function(t){return 1*t[e]}))}(c,l);r=R[o](d)}C()(o)&&(r=o(c)),e.properties.stat=r}else e.properties.point_count=1;return e}))),this.data=Object(O.getParser)("geojson")({type:"FeatureCollection",features:data}),this.executeTrans()}},{key:"getFeatureById",value:function(e){var t=this.parser.type;if("geojson"!==(void 0===t?"geojson":t)||this.cluster)return e<this.data.dataArray.length?this.data.dataArray[e]:"null";var n=e<this.originData.features.length?this.originData.features[e]:"null",r=E()(n);if(0!==this.transforms.length){var o=this.data.dataArray.find((function(t){return t._id===e}));r.properties=o}return r}},{key:"getFeatureId",value:function(e,t){var n=this.data.dataArray.find((function(t){return t[e]===name}));return null==n?void 0:n._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"initCfg",value:function(e){e&&(e.parser&&(this.parser=e.parser),e.transforms&&(this.transforms=e.transforms),this.cluster=e.cluster||!1,e.clusterOptions&&(this.cluster=!0,this.clusterOptions=L(L({},this.clusterOptions),e.clusterOptions)))}},{key:"excuteParser",value:function(){var e=this.parser,t=e.type||"geojson",n=Object(O.getParser)(t);this.data=n(this.originData,e),this.extent=Object(P.o)(this.data.dataArray)}},{key:"executeTrans",value:function(){var e=this;this.transforms.forEach((function(t){var n=t.type,data=Object(O.getTransform)(n)(e.data,t);Object.assign(e.data,data)}))}},{key:"initCluster",value:function(){if(this.cluster){var e=this.clusterOptions||{};this.clusterIndex=Object(I.a)(this.data,e)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),n}(A.EventEmitter)},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(3),o=n.n(r),l=n(24),c=n.n(l),d=n(7),f=Math.PI/3,h=[0,f,2*f,3*f,4*f,5*f];function v(e){return e[0]}function m(e){return e[1]}function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){o()(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function _(data,option){var e=data.dataArray,t=option.size,n=void 0===t?10:t,r=option.method,l=void 0===r?"sum":r,y=n/(2*Math.PI*6378e3)*(256<<20)/2,_=e.map((function(e){var t=Object(d.e)(e.coordinates),n=c()(t,2),r=n[0],o=n[1];return x(x({},e),{},{coordinates:[r,o]})}));return{dataArray:function(){var e,t,n,r=0,o=0,l=1,c=1,d=v,y=m;function x(e){var i,r={},o=[],l=e.length;for(i=0;i<l;++i)if(!isNaN(f=+d.call(null,c=e[i],i,e))&&!isNaN(h=+y.call(null,c,i,e))){var c,f,h,v=Math.round(h/=n),m=Math.round(f=f/t-(1&v)/2),x=h-v;if(3*Math.abs(x)>1){var _=f-m,w=m+(f<m?-1:1)/2,k=v+(h<v?-1:1),S=f-w,C=h-k;_*_+x*x>S*S+C*C&&(m=w+(1&v?1:-1)/2,v=k)}var T=m+"-"+v,E=r[T];E?E.push(c):(o.push(E=r[T]=[c]),E.x=(m+(1&v)/2)*t,E.y=v*n)}return o}function _(e){var t=0,n=0;return h.map((function(r){var o=Math.sin(r)*e,l=-Math.cos(r)*e,c=o-t,d=l-n;return t=o,n=l,[c,d]}))}return x.hexagon=function(t){return"m"+_(null==t?e:+t).join("l")+"z"},x.centers=function(){for(var d=[],f=Math.round(o/n),i=Math.round(r/t),h=f*n;h<c+e;h+=n,++f)for(var v=i*t+(1&f)*t/2;v<l+t/2;v+=t)d.push([v,h]);return d},x.mesh=function(){var t=_(e).slice(0,4).join("l");return x.centers().map((function(p){return"M"+p+"m"+t})).join("")},x.x=function(e){return arguments.length?(d=e,x):d},x.y=function(e){return arguments.length?(y=e,x):y},x.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(f),n=1.5*e,x):e},x.size=function(e){return arguments.length?(r=o=0,l=+e[0],c=+e[1],x):[l-r,c-o]},x.extent=function(e){return arguments.length?(r=+e[0][0],o=+e[0][1],l=+e[1][0],c=+e[1][1],x):[[r,o],[l,c]]},x.radius(1)}().radius(y).x((function(e){return e.coordinates[0]})).y((function(e){return e.coordinates[1]}))(_).map((function(e,t){var n;if(option.field&&l){var r=d.d.getColumn(e,option.field);e[l]=d.d.statMap[l](r)}return n={},o()(n,option.method,e[l]),o()(n,"count",e.length),o()(n,"rawData",e),o()(n,"coordinates",[e.x,e.y]),o()(n,"_id",t),n})),radius:y,xOffset:y,yOffset:y,type:"hexagon"}}},,,,,,,,,,,function(e,t,n){(function(e){e.installComponents=function(component,e){const t="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(t.components=component.exports.options.components),t.components=t.components||{},e)t.components[i]=t.components[i]||e[i];t.functional&&function(component,e){if(component.exports._functionalComponents)return;component.exports._functionalComponents=!0;const t=component.exports.render;component.exports.render=function(n,r){return t(n,Object.assign({},r,{_c:function(t,a,b){return r._c(e[t]||t,a,b)}}))}}(component,t.components)}}).call(this,n(41))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var content=n(382);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(128).default)("764d35d8",content,!0,{sourceMap:!1})},function(e,t,n){var r=n(127),o=n(383),l=n(384),c=n(385),d=n(386),f=n(387);t=r(!1);var h=o(l),v=o(c),m=o(d),y=o(f,{hash:"#Ionicons"});t.push([e.i,'.ivu-load-loop{animation:ani-load-loop 1s linear infinite}@keyframes ani-load-loop{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.input-group-error-append,.input-group-error-prepend{background-color:#fff;border:1px solid #ed4014}.input-group-error-append .ivu-select-selection,.input-group-error-prepend .ivu-select-selection{background-color:inherit;border:1px solid transparent}.input-group-error-prepend{border-right:0}.input-group-error-append{border-left:0}/*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto;resize:vertical}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}*{-webkit-tap-highlight-color:transparent}*,:after,:before{box-sizing:border-box}body{font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif;font-size:14px;line-height:1.5;color:#515a6e;background-color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,blockquote,body,button,dd,details,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,input,legend,li,menu,nav,ol,p,section,td,textarea,th,ul{margin:0;padding:0}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}input::-ms-clear,input::-ms-reveal{display:none}a{color:#2d8cf0;background:0 0;text-decoration:none;outline:0;cursor:pointer;transition:color .2s ease}a:hover{color:#57a3f3}a:active{color:#2b85e4}a:active,a:hover{outline:0;text-decoration:none}a[disabled]{color:#ccc;cursor:not-allowed;pointer-events:none}code,kbd,pre,samp{font-family:Consolas,Menlo,Courier,monospace}@font-face{font-family:Ionicons;src:url('+h+') format("woff2"),url('+v+') format("woff"),url('+m+') format("truetype"),url('+y+') format("svg");font-weight:400;font-style:normal}.ivu-icon{display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;text-rendering:optimizeLegibility;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:-.125em;text-align:center}.ivu-icon-ios-add-circle-outline:before{content:"\\f100"}.ivu-icon-ios-add-circle:before{content:"\\f101"}.ivu-icon-ios-add:before{content:"\\f102"}.ivu-icon-ios-alarm-outline:before{content:"\\f103"}.ivu-icon-ios-alarm:before{content:"\\f104"}.ivu-icon-ios-albums-outline:before{content:"\\f105"}.ivu-icon-ios-albums:before{content:"\\f106"}.ivu-icon-ios-alert-outline:before{content:"\\f107"}.ivu-icon-ios-alert:before{content:"\\f108"}.ivu-icon-ios-american-football-outline:before{content:"\\f109"}.ivu-icon-ios-american-football:before{content:"\\f10a"}.ivu-icon-ios-analytics-outline:before{content:"\\f10b"}.ivu-icon-ios-analytics:before{content:"\\f10c"}.ivu-icon-ios-aperture-outline:before{content:"\\f10d"}.ivu-icon-ios-aperture:before{content:"\\f10e"}.ivu-icon-ios-apps-outline:before{content:"\\f10f"}.ivu-icon-ios-apps:before{content:"\\f110"}.ivu-icon-ios-appstore-outline:before{content:"\\f111"}.ivu-icon-ios-appstore:before{content:"\\f112"}.ivu-icon-ios-archive-outline:before{content:"\\f113"}.ivu-icon-ios-archive:before{content:"\\f114"}.ivu-icon-ios-arrow-back:before{content:"\\f115"}.ivu-icon-ios-arrow-down:before{content:"\\f116"}.ivu-icon-ios-arrow-dropdown-circle:before{content:"\\f117"}.ivu-icon-ios-arrow-dropdown:before{content:"\\f118"}.ivu-icon-ios-arrow-dropleft-circle:before{content:"\\f119"}.ivu-icon-ios-arrow-dropleft:before{content:"\\f11a"}.ivu-icon-ios-arrow-dropright-circle:before{content:"\\f11b"}.ivu-icon-ios-arrow-dropright:before{content:"\\f11c"}.ivu-icon-ios-arrow-dropup-circle:before{content:"\\f11d"}.ivu-icon-ios-arrow-dropup:before{content:"\\f11e"}.ivu-icon-ios-arrow-forward:before{content:"\\f11f"}.ivu-icon-ios-arrow-round-back:before{content:"\\f120"}.ivu-icon-ios-arrow-round-down:before{content:"\\f121"}.ivu-icon-ios-arrow-round-forward:before{content:"\\f122"}.ivu-icon-ios-arrow-round-up:before{content:"\\f123"}.ivu-icon-ios-arrow-up:before{content:"\\f124"}.ivu-icon-ios-at-outline:before{content:"\\f125"}.ivu-icon-ios-at:before{content:"\\f126"}.ivu-icon-ios-attach:before{content:"\\f127"}.ivu-icon-ios-backspace-outline:before{content:"\\f128"}.ivu-icon-ios-backspace:before{content:"\\f129"}.ivu-icon-ios-barcode-outline:before{content:"\\f12a"}.ivu-icon-ios-barcode:before{content:"\\f12b"}.ivu-icon-ios-baseball-outline:before{content:"\\f12c"}.ivu-icon-ios-baseball:before{content:"\\f12d"}.ivu-icon-ios-basket-outline:before{content:"\\f12e"}.ivu-icon-ios-basket:before{content:"\\f12f"}.ivu-icon-ios-basketball-outline:before{content:"\\f130"}.ivu-icon-ios-basketball:before{content:"\\f131"}.ivu-icon-ios-battery-charging:before{content:"\\f132"}.ivu-icon-ios-battery-dead:before{content:"\\f133"}.ivu-icon-ios-battery-full:before{content:"\\f134"}.ivu-icon-ios-beaker-outline:before{content:"\\f135"}.ivu-icon-ios-beaker:before{content:"\\f136"}.ivu-icon-ios-beer-outline:before{content:"\\f137"}.ivu-icon-ios-beer:before{content:"\\f138"}.ivu-icon-ios-bicycle:before{content:"\\f139"}.ivu-icon-ios-bluetooth:before{content:"\\f13a"}.ivu-icon-ios-boat-outline:before{content:"\\f13b"}.ivu-icon-ios-boat:before{content:"\\f13c"}.ivu-icon-ios-body-outline:before{content:"\\f13d"}.ivu-icon-ios-body:before{content:"\\f13e"}.ivu-icon-ios-bonfire-outline:before{content:"\\f13f"}.ivu-icon-ios-bonfire:before{content:"\\f140"}.ivu-icon-ios-book-outline:before{content:"\\f141"}.ivu-icon-ios-book:before{content:"\\f142"}.ivu-icon-ios-bookmark-outline:before{content:"\\f143"}.ivu-icon-ios-bookmark:before{content:"\\f144"}.ivu-icon-ios-bookmarks-outline:before{content:"\\f145"}.ivu-icon-ios-bookmarks:before{content:"\\f146"}.ivu-icon-ios-bowtie-outline:before{content:"\\f147"}.ivu-icon-ios-bowtie:before{content:"\\f148"}.ivu-icon-ios-briefcase-outline:before{content:"\\f149"}.ivu-icon-ios-briefcase:before{content:"\\f14a"}.ivu-icon-ios-browsers-outline:before{content:"\\f14b"}.ivu-icon-ios-browsers:before{content:"\\f14c"}.ivu-icon-ios-brush-outline:before{content:"\\f14d"}.ivu-icon-ios-brush:before{content:"\\f14e"}.ivu-icon-ios-bug-outline:before{content:"\\f14f"}.ivu-icon-ios-bug:before{content:"\\f150"}.ivu-icon-ios-build-outline:before{content:"\\f151"}.ivu-icon-ios-build:before{content:"\\f152"}.ivu-icon-ios-bulb-outline:before{content:"\\f153"}.ivu-icon-ios-bulb:before{content:"\\f154"}.ivu-icon-ios-bus-outline:before{content:"\\f155"}.ivu-icon-ios-bus:before{content:"\\f156"}.ivu-icon-ios-cafe-outline:before{content:"\\f157"}.ivu-icon-ios-cafe:before{content:"\\f158"}.ivu-icon-ios-calculator-outline:before{content:"\\f159"}.ivu-icon-ios-calculator:before{content:"\\f15a"}.ivu-icon-ios-calendar-outline:before{content:"\\f15b"}.ivu-icon-ios-calendar:before{content:"\\f15c"}.ivu-icon-ios-call-outline:before{content:"\\f15d"}.ivu-icon-ios-call:before{content:"\\f15e"}.ivu-icon-ios-camera-outline:before{content:"\\f15f"}.ivu-icon-ios-camera:before{content:"\\f160"}.ivu-icon-ios-car-outline:before{content:"\\f161"}.ivu-icon-ios-car:before{content:"\\f162"}.ivu-icon-ios-card-outline:before{content:"\\f163"}.ivu-icon-ios-card:before{content:"\\f164"}.ivu-icon-ios-cart-outline:before{content:"\\f165"}.ivu-icon-ios-cart:before{content:"\\f166"}.ivu-icon-ios-cash-outline:before{content:"\\f167"}.ivu-icon-ios-cash:before{content:"\\f168"}.ivu-icon-ios-chatboxes-outline:before{content:"\\f169"}.ivu-icon-ios-chatboxes:before{content:"\\f16a"}.ivu-icon-ios-chatbubbles-outline:before{content:"\\f16b"}.ivu-icon-ios-chatbubbles:before{content:"\\f16c"}.ivu-icon-ios-checkbox-outline:before{content:"\\f16d"}.ivu-icon-ios-checkbox:before{content:"\\f16e"}.ivu-icon-ios-checkmark-circle-outline:before{content:"\\f16f"}.ivu-icon-ios-checkmark-circle:before{content:"\\f170"}.ivu-icon-ios-checkmark:before{content:"\\f171"}.ivu-icon-ios-clipboard-outline:before{content:"\\f172"}.ivu-icon-ios-clipboard:before{content:"\\f173"}.ivu-icon-ios-clock-outline:before{content:"\\f174"}.ivu-icon-ios-clock:before{content:"\\f175"}.ivu-icon-ios-close-circle-outline:before{content:"\\f176"}.ivu-icon-ios-close-circle:before{content:"\\f177"}.ivu-icon-ios-close:before{content:"\\f178"}.ivu-icon-ios-closed-captioning-outline:before{content:"\\f179"}.ivu-icon-ios-closed-captioning:before{content:"\\f17a"}.ivu-icon-ios-cloud-circle-outline:before{content:"\\f17b"}.ivu-icon-ios-cloud-circle:before{content:"\\f17c"}.ivu-icon-ios-cloud-done-outline:before{content:"\\f17d"}.ivu-icon-ios-cloud-done:before{content:"\\f17e"}.ivu-icon-ios-cloud-download-outline:before{content:"\\f17f"}.ivu-icon-ios-cloud-download:before{content:"\\f180"}.ivu-icon-ios-cloud-outline:before{content:"\\f181"}.ivu-icon-ios-cloud-upload-outline:before{content:"\\f182"}.ivu-icon-ios-cloud-upload:before{content:"\\f183"}.ivu-icon-ios-cloud:before{content:"\\f184"}.ivu-icon-ios-cloudy-night-outline:before{content:"\\f185"}.ivu-icon-ios-cloudy-night:before{content:"\\f186"}.ivu-icon-ios-cloudy-outline:before{content:"\\f187"}.ivu-icon-ios-cloudy:before{content:"\\f188"}.ivu-icon-ios-code-download:before{content:"\\f189"}.ivu-icon-ios-code-working:before{content:"\\f18a"}.ivu-icon-ios-code:before{content:"\\f18b"}.ivu-icon-ios-cog-outline:before{content:"\\f18c"}.ivu-icon-ios-cog:before{content:"\\f18d"}.ivu-icon-ios-color-fill-outline:before{content:"\\f18e"}.ivu-icon-ios-color-fill:before{content:"\\f18f"}.ivu-icon-ios-color-filter-outline:before{content:"\\f190"}.ivu-icon-ios-color-filter:before{content:"\\f191"}.ivu-icon-ios-color-palette-outline:before{content:"\\f192"}.ivu-icon-ios-color-palette:before{content:"\\f193"}.ivu-icon-ios-color-wand-outline:before{content:"\\f194"}.ivu-icon-ios-color-wand:before{content:"\\f195"}.ivu-icon-ios-compass-outline:before{content:"\\f196"}.ivu-icon-ios-compass:before{content:"\\f197"}.ivu-icon-ios-construct-outline:before{content:"\\f198"}.ivu-icon-ios-construct:before{content:"\\f199"}.ivu-icon-ios-contact-outline:before{content:"\\f19a"}.ivu-icon-ios-contact:before{content:"\\f19b"}.ivu-icon-ios-contacts-outline:before{content:"\\f19c"}.ivu-icon-ios-contacts:before{content:"\\f19d"}.ivu-icon-ios-contract:before{content:"\\f19e"}.ivu-icon-ios-contrast:before{content:"\\f19f"}.ivu-icon-ios-copy-outline:before{content:"\\f1a0"}.ivu-icon-ios-copy:before{content:"\\f1a1"}.ivu-icon-ios-create-outline:before{content:"\\f1a2"}.ivu-icon-ios-create:before{content:"\\f1a3"}.ivu-icon-ios-crop-outline:before{content:"\\f1a4"}.ivu-icon-ios-crop:before{content:"\\f1a5"}.ivu-icon-ios-cube-outline:before{content:"\\f1a6"}.ivu-icon-ios-cube:before{content:"\\f1a7"}.ivu-icon-ios-cut-outline:before{content:"\\f1a8"}.ivu-icon-ios-cut:before{content:"\\f1a9"}.ivu-icon-ios-desktop-outline:before{content:"\\f1aa"}.ivu-icon-ios-desktop:before{content:"\\f1ab"}.ivu-icon-ios-disc-outline:before{content:"\\f1ac"}.ivu-icon-ios-disc:before{content:"\\f1ad"}.ivu-icon-ios-document-outline:before{content:"\\f1ae"}.ivu-icon-ios-document:before{content:"\\f1af"}.ivu-icon-ios-done-all:before{content:"\\f1b0"}.ivu-icon-ios-download-outline:before{content:"\\f1b1"}.ivu-icon-ios-download:before{content:"\\f1b2"}.ivu-icon-ios-easel-outline:before{content:"\\f1b3"}.ivu-icon-ios-easel:before{content:"\\f1b4"}.ivu-icon-ios-egg-outline:before{content:"\\f1b5"}.ivu-icon-ios-egg:before{content:"\\f1b6"}.ivu-icon-ios-exit-outline:before{content:"\\f1b7"}.ivu-icon-ios-exit:before{content:"\\f1b8"}.ivu-icon-ios-expand:before{content:"\\f1b9"}.ivu-icon-ios-eye-off-outline:before{content:"\\f1ba"}.ivu-icon-ios-eye-off:before{content:"\\f1bb"}.ivu-icon-ios-eye-outline:before{content:"\\f1bc"}.ivu-icon-ios-eye:before{content:"\\f1bd"}.ivu-icon-ios-fastforward-outline:before{content:"\\f1be"}.ivu-icon-ios-fastforward:before{content:"\\f1bf"}.ivu-icon-ios-female:before{content:"\\f1c0"}.ivu-icon-ios-filing-outline:before{content:"\\f1c1"}.ivu-icon-ios-filing:before{content:"\\f1c2"}.ivu-icon-ios-film-outline:before{content:"\\f1c3"}.ivu-icon-ios-film:before{content:"\\f1c4"}.ivu-icon-ios-finger-print:before{content:"\\f1c5"}.ivu-icon-ios-flag-outline:before{content:"\\f1c6"}.ivu-icon-ios-flag:before{content:"\\f1c7"}.ivu-icon-ios-flame-outline:before{content:"\\f1c8"}.ivu-icon-ios-flame:before{content:"\\f1c9"}.ivu-icon-ios-flash-outline:before{content:"\\f1ca"}.ivu-icon-ios-flash:before{content:"\\f1cb"}.ivu-icon-ios-flask-outline:before{content:"\\f1cc"}.ivu-icon-ios-flask:before{content:"\\f1cd"}.ivu-icon-ios-flower-outline:before{content:"\\f1ce"}.ivu-icon-ios-flower:before{content:"\\f1cf"}.ivu-icon-ios-folder-open-outline:before{content:"\\f1d0"}.ivu-icon-ios-folder-open:before{content:"\\f1d1"}.ivu-icon-ios-folder-outline:before{content:"\\f1d2"}.ivu-icon-ios-folder:before{content:"\\f1d3"}.ivu-icon-ios-football-outline:before{content:"\\f1d4"}.ivu-icon-ios-football:before{content:"\\f1d5"}.ivu-icon-ios-funnel-outline:before{content:"\\f1d6"}.ivu-icon-ios-funnel:before{content:"\\f1d7"}.ivu-icon-ios-game-controller-a-outline:before{content:"\\f1d8"}.ivu-icon-ios-game-controller-a:before{content:"\\f1d9"}.ivu-icon-ios-game-controller-b-outline:before{content:"\\f1da"}.ivu-icon-ios-game-controller-b:before{content:"\\f1db"}.ivu-icon-ios-git-branch:before{content:"\\f1dc"}.ivu-icon-ios-git-commit:before{content:"\\f1dd"}.ivu-icon-ios-git-compare:before{content:"\\f1de"}.ivu-icon-ios-git-merge:before{content:"\\f1df"}.ivu-icon-ios-git-network:before{content:"\\f1e0"}.ivu-icon-ios-git-pull-request:before{content:"\\f1e1"}.ivu-icon-ios-glasses-outline:before{content:"\\f1e2"}.ivu-icon-ios-glasses:before{content:"\\f1e3"}.ivu-icon-ios-globe-outline:before{content:"\\f1e4"}.ivu-icon-ios-globe:before{content:"\\f1e5"}.ivu-icon-ios-grid-outline:before{content:"\\f1e6"}.ivu-icon-ios-grid:before{content:"\\f1e7"}.ivu-icon-ios-hammer-outline:before{content:"\\f1e8"}.ivu-icon-ios-hammer:before{content:"\\f1e9"}.ivu-icon-ios-hand-outline:before{content:"\\f1ea"}.ivu-icon-ios-hand:before{content:"\\f1eb"}.ivu-icon-ios-happy-outline:before{content:"\\f1ec"}.ivu-icon-ios-happy:before{content:"\\f1ed"}.ivu-icon-ios-headset-outline:before{content:"\\f1ee"}.ivu-icon-ios-headset:before{content:"\\f1ef"}.ivu-icon-ios-heart-outline:before{content:"\\f1f0"}.ivu-icon-ios-heart:before{content:"\\f1f1"}.ivu-icon-ios-help-buoy-outline:before{content:"\\f1f2"}.ivu-icon-ios-help-buoy:before{content:"\\f1f3"}.ivu-icon-ios-help-circle-outline:before{content:"\\f1f4"}.ivu-icon-ios-help-circle:before{content:"\\f1f5"}.ivu-icon-ios-help:before{content:"\\f1f6"}.ivu-icon-ios-home-outline:before{content:"\\f1f7"}.ivu-icon-ios-home:before{content:"\\f1f8"}.ivu-icon-ios-ice-cream-outline:before{content:"\\f1f9"}.ivu-icon-ios-ice-cream:before{content:"\\f1fa"}.ivu-icon-ios-image-outline:before{content:"\\f1fb"}.ivu-icon-ios-image:before{content:"\\f1fc"}.ivu-icon-ios-images-outline:before{content:"\\f1fd"}.ivu-icon-ios-images:before{content:"\\f1fe"}.ivu-icon-ios-infinite-outline:before{content:"\\f1ff"}.ivu-icon-ios-infinite:before{content:"\\f200"}.ivu-icon-ios-information-circle-outline:before{content:"\\f201"}.ivu-icon-ios-information-circle:before{content:"\\f202"}.ivu-icon-ios-information:before{content:"\\f203"}.ivu-icon-ios-ionic-outline:before{content:"\\f204"}.ivu-icon-ios-ionic:before{content:"\\f205"}.ivu-icon-ios-ionitron-outline:before{content:"\\f206"}.ivu-icon-ios-ionitron:before{content:"\\f207"}.ivu-icon-ios-jet-outline:before{content:"\\f208"}.ivu-icon-ios-jet:before{content:"\\f209"}.ivu-icon-ios-key-outline:before{content:"\\f20a"}.ivu-icon-ios-key:before{content:"\\f20b"}.ivu-icon-ios-keypad-outline:before{content:"\\f20c"}.ivu-icon-ios-keypad:before{content:"\\f20d"}.ivu-icon-ios-laptop:before{content:"\\f20e"}.ivu-icon-ios-leaf-outline:before{content:"\\f20f"}.ivu-icon-ios-leaf:before{content:"\\f210"}.ivu-icon-ios-link-outline:before{content:"\\f211"}.ivu-icon-ios-link:before{content:"\\f212"}.ivu-icon-ios-list-box-outline:before{content:"\\f213"}.ivu-icon-ios-list-box:before{content:"\\f214"}.ivu-icon-ios-list:before{content:"\\f215"}.ivu-icon-ios-locate-outline:before{content:"\\f216"}.ivu-icon-ios-locate:before{content:"\\f217"}.ivu-icon-ios-lock-outline:before{content:"\\f218"}.ivu-icon-ios-lock:before{content:"\\f219"}.ivu-icon-ios-log-in:before{content:"\\f21a"}.ivu-icon-ios-log-out:before{content:"\\f21b"}.ivu-icon-ios-magnet-outline:before{content:"\\f21c"}.ivu-icon-ios-magnet:before{content:"\\f21d"}.ivu-icon-ios-mail-open-outline:before{content:"\\f21e"}.ivu-icon-ios-mail-open:before{content:"\\f21f"}.ivu-icon-ios-mail-outline:before{content:"\\f220"}.ivu-icon-ios-mail:before{content:"\\f221"}.ivu-icon-ios-male:before{content:"\\f222"}.ivu-icon-ios-man-outline:before{content:"\\f223"}.ivu-icon-ios-man:before{content:"\\f224"}.ivu-icon-ios-map-outline:before{content:"\\f225"}.ivu-icon-ios-map:before{content:"\\f226"}.ivu-icon-ios-medal-outline:before{content:"\\f227"}.ivu-icon-ios-medal:before{content:"\\f228"}.ivu-icon-ios-medical-outline:before{content:"\\f229"}.ivu-icon-ios-medical:before{content:"\\f22a"}.ivu-icon-ios-medkit-outline:before{content:"\\f22b"}.ivu-icon-ios-medkit:before{content:"\\f22c"}.ivu-icon-ios-megaphone-outline:before{content:"\\f22d"}.ivu-icon-ios-megaphone:before{content:"\\f22e"}.ivu-icon-ios-menu-outline:before{content:"\\f22f"}.ivu-icon-ios-menu:before{content:"\\f230"}.ivu-icon-ios-mic-off-outline:before{content:"\\f231"}.ivu-icon-ios-mic-off:before{content:"\\f232"}.ivu-icon-ios-mic-outline:before{content:"\\f233"}.ivu-icon-ios-mic:before{content:"\\f234"}.ivu-icon-ios-microphone-outline:before{content:"\\f235"}.ivu-icon-ios-microphone:before{content:"\\f236"}.ivu-icon-ios-moon-outline:before{content:"\\f237"}.ivu-icon-ios-moon:before{content:"\\f238"}.ivu-icon-ios-more-outline:before{content:"\\f239"}.ivu-icon-ios-more:before{content:"\\f23a"}.ivu-icon-ios-move:before{content:"\\f23b"}.ivu-icon-ios-musical-note-outline:before{content:"\\f23c"}.ivu-icon-ios-musical-note:before{content:"\\f23d"}.ivu-icon-ios-musical-notes-outline:before{content:"\\f23e"}.ivu-icon-ios-musical-notes:before{content:"\\f23f"}.ivu-icon-ios-navigate-outline:before{content:"\\f240"}.ivu-icon-ios-navigate:before{content:"\\f241"}.ivu-icon-ios-no-smoking-outline:before{content:"\\f242"}.ivu-icon-ios-no-smoking:before{content:"\\f243"}.ivu-icon-ios-notifications-off-outline:before{content:"\\f244"}.ivu-icon-ios-notifications-off:before{content:"\\f245"}.ivu-icon-ios-notifications-outline:before{content:"\\f246"}.ivu-icon-ios-notifications:before{content:"\\f247"}.ivu-icon-ios-nuclear-outline:before{content:"\\f248"}.ivu-icon-ios-nuclear:before{content:"\\f249"}.ivu-icon-ios-nutrition-outline:before{content:"\\f24a"}.ivu-icon-ios-nutrition:before{content:"\\f24b"}.ivu-icon-ios-open-outline:before{content:"\\f24c"}.ivu-icon-ios-open:before{content:"\\f24d"}.ivu-icon-ios-options-outline:before{content:"\\f24e"}.ivu-icon-ios-options:before{content:"\\f24f"}.ivu-icon-ios-outlet-outline:before{content:"\\f250"}.ivu-icon-ios-outlet:before{content:"\\f251"}.ivu-icon-ios-paper-outline:before{content:"\\f252"}.ivu-icon-ios-paper-plane-outline:before{content:"\\f253"}.ivu-icon-ios-paper-plane:before{content:"\\f254"}.ivu-icon-ios-paper:before{content:"\\f255"}.ivu-icon-ios-partly-sunny-outline:before{content:"\\f256"}.ivu-icon-ios-partly-sunny:before{content:"\\f257"}.ivu-icon-ios-pause-outline:before{content:"\\f258"}.ivu-icon-ios-pause:before{content:"\\f259"}.ivu-icon-ios-paw-outline:before{content:"\\f25a"}.ivu-icon-ios-paw:before{content:"\\f25b"}.ivu-icon-ios-people-outline:before{content:"\\f25c"}.ivu-icon-ios-people:before{content:"\\f25d"}.ivu-icon-ios-person-add-outline:before{content:"\\f25e"}.ivu-icon-ios-person-add:before{content:"\\f25f"}.ivu-icon-ios-person-outline:before{content:"\\f260"}.ivu-icon-ios-person:before{content:"\\f261"}.ivu-icon-ios-phone-landscape:before{content:"\\f262"}.ivu-icon-ios-phone-portrait:before{content:"\\f263"}.ivu-icon-ios-photos-outline:before{content:"\\f264"}.ivu-icon-ios-photos:before{content:"\\f265"}.ivu-icon-ios-pie-outline:before{content:"\\f266"}.ivu-icon-ios-pie:before{content:"\\f267"}.ivu-icon-ios-pin-outline:before{content:"\\f268"}.ivu-icon-ios-pin:before{content:"\\f269"}.ivu-icon-ios-pint-outline:before{content:"\\f26a"}.ivu-icon-ios-pint:before{content:"\\f26b"}.ivu-icon-ios-pizza-outline:before{content:"\\f26c"}.ivu-icon-ios-pizza:before{content:"\\f26d"}.ivu-icon-ios-plane-outline:before{content:"\\f26e"}.ivu-icon-ios-plane:before{content:"\\f26f"}.ivu-icon-ios-planet-outline:before{content:"\\f270"}.ivu-icon-ios-planet:before{content:"\\f271"}.ivu-icon-ios-play-outline:before{content:"\\f272"}.ivu-icon-ios-play:before{content:"\\f273"}.ivu-icon-ios-podium-outline:before{content:"\\f274"}.ivu-icon-ios-podium:before{content:"\\f275"}.ivu-icon-ios-power-outline:before{content:"\\f276"}.ivu-icon-ios-power:before{content:"\\f277"}.ivu-icon-ios-pricetag-outline:before{content:"\\f278"}.ivu-icon-ios-pricetag:before{content:"\\f279"}.ivu-icon-ios-pricetags-outline:before{content:"\\f27a"}.ivu-icon-ios-pricetags:before{content:"\\f27b"}.ivu-icon-ios-print-outline:before{content:"\\f27c"}.ivu-icon-ios-print:before{content:"\\f27d"}.ivu-icon-ios-pulse-outline:before{content:"\\f27e"}.ivu-icon-ios-pulse:before{content:"\\f27f"}.ivu-icon-ios-qr-scanner:before{content:"\\f280"}.ivu-icon-ios-quote-outline:before{content:"\\f281"}.ivu-icon-ios-quote:before{content:"\\f282"}.ivu-icon-ios-radio-button-off:before{content:"\\f283"}.ivu-icon-ios-radio-button-on:before{content:"\\f284"}.ivu-icon-ios-radio-outline:before{content:"\\f285"}.ivu-icon-ios-radio:before{content:"\\f286"}.ivu-icon-ios-rainy-outline:before{content:"\\f287"}.ivu-icon-ios-rainy:before{content:"\\f288"}.ivu-icon-ios-recording-outline:before{content:"\\f289"}.ivu-icon-ios-recording:before{content:"\\f28a"}.ivu-icon-ios-redo-outline:before{content:"\\f28b"}.ivu-icon-ios-redo:before{content:"\\f28c"}.ivu-icon-ios-refresh-circle-outline:before{content:"\\f28d"}.ivu-icon-ios-refresh-circle:before{content:"\\f28e"}.ivu-icon-ios-refresh:before{content:"\\f28f"}.ivu-icon-ios-remove-circle-outline:before{content:"\\f290"}.ivu-icon-ios-remove-circle:before{content:"\\f291"}.ivu-icon-ios-remove:before{content:"\\f292"}.ivu-icon-ios-reorder:before{content:"\\f293"}.ivu-icon-ios-repeat:before{content:"\\f294"}.ivu-icon-ios-resize:before{content:"\\f295"}.ivu-icon-ios-restaurant-outline:before{content:"\\f296"}.ivu-icon-ios-restaurant:before{content:"\\f297"}.ivu-icon-ios-return-left:before{content:"\\f298"}.ivu-icon-ios-return-right:before{content:"\\f299"}.ivu-icon-ios-reverse-camera-outline:before{content:"\\f29a"}.ivu-icon-ios-reverse-camera:before{content:"\\f29b"}.ivu-icon-ios-rewind-outline:before{content:"\\f29c"}.ivu-icon-ios-rewind:before{content:"\\f29d"}.ivu-icon-ios-ribbon-outline:before{content:"\\f29e"}.ivu-icon-ios-ribbon:before{content:"\\f29f"}.ivu-icon-ios-rose-outline:before{content:"\\f2a0"}.ivu-icon-ios-rose:before{content:"\\f2a1"}.ivu-icon-ios-sad-outline:before{content:"\\f2a2"}.ivu-icon-ios-sad:before{content:"\\f2a3"}.ivu-icon-ios-school-outline:before{content:"\\f2a4"}.ivu-icon-ios-school:before{content:"\\f2a5"}.ivu-icon-ios-search-outline:before{content:"\\f2a6"}.ivu-icon-ios-search:before{content:"\\f2a7"}.ivu-icon-ios-send-outline:before{content:"\\f2a8"}.ivu-icon-ios-send:before{content:"\\f2a9"}.ivu-icon-ios-settings-outline:before{content:"\\f2aa"}.ivu-icon-ios-settings:before{content:"\\f2ab"}.ivu-icon-ios-share-alt-outline:before{content:"\\f2ac"}.ivu-icon-ios-share-alt:before{content:"\\f2ad"}.ivu-icon-ios-share-outline:before{content:"\\f2ae"}.ivu-icon-ios-share:before{content:"\\f2af"}.ivu-icon-ios-shirt-outline:before{content:"\\f2b0"}.ivu-icon-ios-shirt:before{content:"\\f2b1"}.ivu-icon-ios-shuffle:before{content:"\\f2b2"}.ivu-icon-ios-skip-backward-outline:before{content:"\\f2b3"}.ivu-icon-ios-skip-backward:before{content:"\\f2b4"}.ivu-icon-ios-skip-forward-outline:before{content:"\\f2b5"}.ivu-icon-ios-skip-forward:before{content:"\\f2b6"}.ivu-icon-ios-snow-outline:before{content:"\\f2b7"}.ivu-icon-ios-snow:before{content:"\\f2b8"}.ivu-icon-ios-speedometer-outline:before{content:"\\f2b9"}.ivu-icon-ios-speedometer:before{content:"\\f2ba"}.ivu-icon-ios-square-outline:before{content:"\\f2bb"}.ivu-icon-ios-square:before{content:"\\f2bc"}.ivu-icon-ios-star-half:before{content:"\\f2bd"}.ivu-icon-ios-star-outline:before{content:"\\f2be"}.ivu-icon-ios-star:before{content:"\\f2bf"}.ivu-icon-ios-stats-outline:before{content:"\\f2c0"}.ivu-icon-ios-stats:before{content:"\\f2c1"}.ivu-icon-ios-stopwatch-outline:before{content:"\\f2c2"}.ivu-icon-ios-stopwatch:before{content:"\\f2c3"}.ivu-icon-ios-subway-outline:before{content:"\\f2c4"}.ivu-icon-ios-subway:before{content:"\\f2c5"}.ivu-icon-ios-sunny-outline:before{content:"\\f2c6"}.ivu-icon-ios-sunny:before{content:"\\f2c7"}.ivu-icon-ios-swap:before{content:"\\f2c8"}.ivu-icon-ios-switch-outline:before{content:"\\f2c9"}.ivu-icon-ios-switch:before{content:"\\f2ca"}.ivu-icon-ios-sync:before{content:"\\f2cb"}.ivu-icon-ios-tablet-landscape:before{content:"\\f2cc"}.ivu-icon-ios-tablet-portrait:before{content:"\\f2cd"}.ivu-icon-ios-tennisball-outline:before{content:"\\f2ce"}.ivu-icon-ios-tennisball:before{content:"\\f2cf"}.ivu-icon-ios-text-outline:before{content:"\\f2d0"}.ivu-icon-ios-text:before{content:"\\f2d1"}.ivu-icon-ios-thermometer-outline:before{content:"\\f2d2"}.ivu-icon-ios-thermometer:before{content:"\\f2d3"}.ivu-icon-ios-thumbs-down-outline:before{content:"\\f2d4"}.ivu-icon-ios-thumbs-down:before{content:"\\f2d5"}.ivu-icon-ios-thumbs-up-outline:before{content:"\\f2d6"}.ivu-icon-ios-thumbs-up:before{content:"\\f2d7"}.ivu-icon-ios-thunderstorm-outline:before{content:"\\f2d8"}.ivu-icon-ios-thunderstorm:before{content:"\\f2d9"}.ivu-icon-ios-time-outline:before{content:"\\f2da"}.ivu-icon-ios-time:before{content:"\\f2db"}.ivu-icon-ios-timer-outline:before{content:"\\f2dc"}.ivu-icon-ios-timer:before{content:"\\f2dd"}.ivu-icon-ios-train-outline:before{content:"\\f2de"}.ivu-icon-ios-train:before{content:"\\f2df"}.ivu-icon-ios-transgender:before{content:"\\f2e0"}.ivu-icon-ios-trash-outline:before{content:"\\f2e1"}.ivu-icon-ios-trash:before{content:"\\f2e2"}.ivu-icon-ios-trending-down:before{content:"\\f2e3"}.ivu-icon-ios-trending-up:before{content:"\\f2e4"}.ivu-icon-ios-trophy-outline:before{content:"\\f2e5"}.ivu-icon-ios-trophy:before{content:"\\f2e6"}.ivu-icon-ios-umbrella-outline:before{content:"\\f2e7"}.ivu-icon-ios-umbrella:before{content:"\\f2e8"}.ivu-icon-ios-undo-outline:before{content:"\\f2e9"}.ivu-icon-ios-undo:before{content:"\\f2ea"}.ivu-icon-ios-unlock-outline:before{content:"\\f2eb"}.ivu-icon-ios-unlock:before{content:"\\f2ec"}.ivu-icon-ios-videocam-outline:before{content:"\\f2ed"}.ivu-icon-ios-videocam:before{content:"\\f2ee"}.ivu-icon-ios-volume-down:before{content:"\\f2ef"}.ivu-icon-ios-volume-mute:before{content:"\\f2f0"}.ivu-icon-ios-volume-off:before{content:"\\f2f1"}.ivu-icon-ios-volume-up:before{content:"\\f2f2"}.ivu-icon-ios-walk:before{content:"\\f2f3"}.ivu-icon-ios-warning-outline:before{content:"\\f2f4"}.ivu-icon-ios-warning:before{content:"\\f2f5"}.ivu-icon-ios-watch:before{content:"\\f2f6"}.ivu-icon-ios-water-outline:before{content:"\\f2f7"}.ivu-icon-ios-water:before{content:"\\f2f8"}.ivu-icon-ios-wifi-outline:before{content:"\\f2f9"}.ivu-icon-ios-wifi:before{content:"\\f2fa"}.ivu-icon-ios-wine-outline:before{content:"\\f2fb"}.ivu-icon-ios-wine:before{content:"\\f2fc"}.ivu-icon-ios-woman-outline:before{content:"\\f2fd"}.ivu-icon-ios-woman:before{content:"\\f2fe"}.ivu-icon-logo-android:before{content:"\\f2ff"}.ivu-icon-logo-angular:before{content:"\\f300"}.ivu-icon-logo-apple:before{content:"\\f301"}.ivu-icon-logo-bitcoin:before{content:"\\f302"}.ivu-icon-logo-buffer:before{content:"\\f303"}.ivu-icon-logo-chrome:before{content:"\\f304"}.ivu-icon-logo-codepen:before{content:"\\f305"}.ivu-icon-logo-css3:before{content:"\\f306"}.ivu-icon-logo-designernews:before{content:"\\f307"}.ivu-icon-logo-dribbble:before{content:"\\f308"}.ivu-icon-logo-dropbox:before{content:"\\f309"}.ivu-icon-logo-euro:before{content:"\\f30a"}.ivu-icon-logo-facebook:before{content:"\\f30b"}.ivu-icon-logo-foursquare:before{content:"\\f30c"}.ivu-icon-logo-freebsd-devil:before{content:"\\f30d"}.ivu-icon-logo-github:before{content:"\\f30e"}.ivu-icon-logo-google:before{content:"\\f30f"}.ivu-icon-logo-googleplus:before{content:"\\f310"}.ivu-icon-logo-hackernews:before{content:"\\f311"}.ivu-icon-logo-html5:before{content:"\\f312"}.ivu-icon-logo-instagram:before{content:"\\f313"}.ivu-icon-logo-javascript:before{content:"\\f314"}.ivu-icon-logo-linkedin:before{content:"\\f315"}.ivu-icon-logo-markdown:before{content:"\\f316"}.ivu-icon-logo-nodejs:before{content:"\\f317"}.ivu-icon-logo-octocat:before{content:"\\f318"}.ivu-icon-logo-pinterest:before{content:"\\f319"}.ivu-icon-logo-playstation:before{content:"\\f31a"}.ivu-icon-logo-python:before{content:"\\f31b"}.ivu-icon-logo-reddit:before{content:"\\f31c"}.ivu-icon-logo-rss:before{content:"\\f31d"}.ivu-icon-logo-sass:before{content:"\\f31e"}.ivu-icon-logo-skype:before{content:"\\f31f"}.ivu-icon-logo-snapchat:before{content:"\\f320"}.ivu-icon-logo-steam:before{content:"\\f321"}.ivu-icon-logo-tumblr:before{content:"\\f322"}.ivu-icon-logo-tux:before{content:"\\f323"}.ivu-icon-logo-twitch:before{content:"\\f324"}.ivu-icon-logo-twitter:before{content:"\\f325"}.ivu-icon-logo-usd:before{content:"\\f326"}.ivu-icon-logo-vimeo:before{content:"\\f327"}.ivu-icon-logo-whatsapp:before{content:"\\f328"}.ivu-icon-logo-windows:before{content:"\\f329"}.ivu-icon-logo-wordpress:before{content:"\\f32a"}.ivu-icon-logo-xbox:before{content:"\\f32b"}.ivu-icon-logo-yahoo:before{content:"\\f32c"}.ivu-icon-logo-yen:before{content:"\\f32d"}.ivu-icon-logo-youtube:before{content:"\\f32e"}.ivu-icon-md-add-circle:before{content:"\\f32f"}.ivu-icon-md-add:before{content:"\\f330"}.ivu-icon-md-alarm:before{content:"\\f331"}.ivu-icon-md-albums:before{content:"\\f332"}.ivu-icon-md-alert:before{content:"\\f333"}.ivu-icon-md-american-football:before{content:"\\f334"}.ivu-icon-md-analytics:before{content:"\\f335"}.ivu-icon-md-aperture:before{content:"\\f336"}.ivu-icon-md-apps:before{content:"\\f337"}.ivu-icon-md-appstore:before{content:"\\f338"}.ivu-icon-md-archive:before{content:"\\f339"}.ivu-icon-md-arrow-back:before{content:"\\f33a"}.ivu-icon-md-arrow-down:before{content:"\\f33b"}.ivu-icon-md-arrow-dropdown-circle:before{content:"\\f33c"}.ivu-icon-md-arrow-dropdown:before{content:"\\f33d"}.ivu-icon-md-arrow-dropleft-circle:before{content:"\\f33e"}.ivu-icon-md-arrow-dropleft:before{content:"\\f33f"}.ivu-icon-md-arrow-dropright-circle:before{content:"\\f340"}.ivu-icon-md-arrow-dropright:before{content:"\\f341"}.ivu-icon-md-arrow-dropup-circle:before{content:"\\f342"}.ivu-icon-md-arrow-dropup:before{content:"\\f343"}.ivu-icon-md-arrow-forward:before{content:"\\f344"}.ivu-icon-md-arrow-round-back:before{content:"\\f345"}.ivu-icon-md-arrow-round-down:before{content:"\\f346"}.ivu-icon-md-arrow-round-forward:before{content:"\\f347"}.ivu-icon-md-arrow-round-up:before{content:"\\f348"}.ivu-icon-md-arrow-up:before{content:"\\f349"}.ivu-icon-md-at:before{content:"\\f34a"}.ivu-icon-md-attach:before{content:"\\f34b"}.ivu-icon-md-backspace:before{content:"\\f34c"}.ivu-icon-md-barcode:before{content:"\\f34d"}.ivu-icon-md-baseball:before{content:"\\f34e"}.ivu-icon-md-basket:before{content:"\\f34f"}.ivu-icon-md-basketball:before{content:"\\f350"}.ivu-icon-md-battery-charging:before{content:"\\f351"}.ivu-icon-md-battery-dead:before{content:"\\f352"}.ivu-icon-md-battery-full:before{content:"\\f353"}.ivu-icon-md-beaker:before{content:"\\f354"}.ivu-icon-md-beer:before{content:"\\f355"}.ivu-icon-md-bicycle:before{content:"\\f356"}.ivu-icon-md-bluetooth:before{content:"\\f357"}.ivu-icon-md-boat:before{content:"\\f358"}.ivu-icon-md-body:before{content:"\\f359"}.ivu-icon-md-bonfire:before{content:"\\f35a"}.ivu-icon-md-book:before{content:"\\f35b"}.ivu-icon-md-bookmark:before{content:"\\f35c"}.ivu-icon-md-bookmarks:before{content:"\\f35d"}.ivu-icon-md-bowtie:before{content:"\\f35e"}.ivu-icon-md-briefcase:before{content:"\\f35f"}.ivu-icon-md-browsers:before{content:"\\f360"}.ivu-icon-md-brush:before{content:"\\f361"}.ivu-icon-md-bug:before{content:"\\f362"}.ivu-icon-md-build:before{content:"\\f363"}.ivu-icon-md-bulb:before{content:"\\f364"}.ivu-icon-md-bus:before{content:"\\f365"}.ivu-icon-md-cafe:before{content:"\\f366"}.ivu-icon-md-calculator:before{content:"\\f367"}.ivu-icon-md-calendar:before{content:"\\f368"}.ivu-icon-md-call:before{content:"\\f369"}.ivu-icon-md-camera:before{content:"\\f36a"}.ivu-icon-md-car:before{content:"\\f36b"}.ivu-icon-md-card:before{content:"\\f36c"}.ivu-icon-md-cart:before{content:"\\f36d"}.ivu-icon-md-cash:before{content:"\\f36e"}.ivu-icon-md-chatboxes:before{content:"\\f36f"}.ivu-icon-md-chatbubbles:before{content:"\\f370"}.ivu-icon-md-checkbox-outline:before{content:"\\f371"}.ivu-icon-md-checkbox:before{content:"\\f372"}.ivu-icon-md-checkmark-circle-outline:before{content:"\\f373"}.ivu-icon-md-checkmark-circle:before{content:"\\f374"}.ivu-icon-md-checkmark:before{content:"\\f375"}.ivu-icon-md-clipboard:before{content:"\\f376"}.ivu-icon-md-clock:before{content:"\\f377"}.ivu-icon-md-close-circle:before{content:"\\f378"}.ivu-icon-md-close:before{content:"\\f379"}.ivu-icon-md-closed-captioning:before{content:"\\f37a"}.ivu-icon-md-cloud-circle:before{content:"\\f37b"}.ivu-icon-md-cloud-done:before{content:"\\f37c"}.ivu-icon-md-cloud-download:before{content:"\\f37d"}.ivu-icon-md-cloud-outline:before{content:"\\f37e"}.ivu-icon-md-cloud-upload:before{content:"\\f37f"}.ivu-icon-md-cloud:before{content:"\\f380"}.ivu-icon-md-cloudy-night:before{content:"\\f381"}.ivu-icon-md-cloudy:before{content:"\\f382"}.ivu-icon-md-code-download:before{content:"\\f383"}.ivu-icon-md-code-working:before{content:"\\f384"}.ivu-icon-md-code:before{content:"\\f385"}.ivu-icon-md-cog:before{content:"\\f386"}.ivu-icon-md-color-fill:before{content:"\\f387"}.ivu-icon-md-color-filter:before{content:"\\f388"}.ivu-icon-md-color-palette:before{content:"\\f389"}.ivu-icon-md-color-wand:before{content:"\\f38a"}.ivu-icon-md-compass:before{content:"\\f38b"}.ivu-icon-md-construct:before{content:"\\f38c"}.ivu-icon-md-contact:before{content:"\\f38d"}.ivu-icon-md-contacts:before{content:"\\f38e"}.ivu-icon-md-contract:before{content:"\\f38f"}.ivu-icon-md-contrast:before{content:"\\f390"}.ivu-icon-md-copy:before{content:"\\f391"}.ivu-icon-md-create:before{content:"\\f392"}.ivu-icon-md-crop:before{content:"\\f393"}.ivu-icon-md-cube:before{content:"\\f394"}.ivu-icon-md-cut:before{content:"\\f395"}.ivu-icon-md-desktop:before{content:"\\f396"}.ivu-icon-md-disc:before{content:"\\f397"}.ivu-icon-md-document:before{content:"\\f398"}.ivu-icon-md-done-all:before{content:"\\f399"}.ivu-icon-md-download:before{content:"\\f39a"}.ivu-icon-md-easel:before{content:"\\f39b"}.ivu-icon-md-egg:before{content:"\\f39c"}.ivu-icon-md-exit:before{content:"\\f39d"}.ivu-icon-md-expand:before{content:"\\f39e"}.ivu-icon-md-eye-off:before{content:"\\f39f"}.ivu-icon-md-eye:before{content:"\\f3a0"}.ivu-icon-md-fastforward:before{content:"\\f3a1"}.ivu-icon-md-female:before{content:"\\f3a2"}.ivu-icon-md-filing:before{content:"\\f3a3"}.ivu-icon-md-film:before{content:"\\f3a4"}.ivu-icon-md-finger-print:before{content:"\\f3a5"}.ivu-icon-md-flag:before{content:"\\f3a6"}.ivu-icon-md-flame:before{content:"\\f3a7"}.ivu-icon-md-flash:before{content:"\\f3a8"}.ivu-icon-md-flask:before{content:"\\f3a9"}.ivu-icon-md-flower:before{content:"\\f3aa"}.ivu-icon-md-folder-open:before{content:"\\f3ab"}.ivu-icon-md-folder:before{content:"\\f3ac"}.ivu-icon-md-football:before{content:"\\f3ad"}.ivu-icon-md-funnel:before{content:"\\f3ae"}.ivu-icon-md-game-controller-a:before{content:"\\f3af"}.ivu-icon-md-game-controller-b:before{content:"\\f3b0"}.ivu-icon-md-git-branch:before{content:"\\f3b1"}.ivu-icon-md-git-commit:before{content:"\\f3b2"}.ivu-icon-md-git-compare:before{content:"\\f3b3"}.ivu-icon-md-git-merge:before{content:"\\f3b4"}.ivu-icon-md-git-network:before{content:"\\f3b5"}.ivu-icon-md-git-pull-request:before{content:"\\f3b6"}.ivu-icon-md-glasses:before{content:"\\f3b7"}.ivu-icon-md-globe:before{content:"\\f3b8"}.ivu-icon-md-grid:before{content:"\\f3b9"}.ivu-icon-md-hammer:before{content:"\\f3ba"}.ivu-icon-md-hand:before{content:"\\f3bb"}.ivu-icon-md-happy:before{content:"\\f3bc"}.ivu-icon-md-headset:before{content:"\\f3bd"}.ivu-icon-md-heart-outline:before{content:"\\f3be"}.ivu-icon-md-heart:before{content:"\\f3bf"}.ivu-icon-md-help-buoy:before{content:"\\f3c0"}.ivu-icon-md-help-circle:before{content:"\\f3c1"}.ivu-icon-md-help:before{content:"\\f3c2"}.ivu-icon-md-home:before{content:"\\f3c3"}.ivu-icon-md-ice-cream:before{content:"\\f3c4"}.ivu-icon-md-image:before{content:"\\f3c5"}.ivu-icon-md-images:before{content:"\\f3c6"}.ivu-icon-md-infinite:before{content:"\\f3c7"}.ivu-icon-md-information-circle:before{content:"\\f3c8"}.ivu-icon-md-information:before{content:"\\f3c9"}.ivu-icon-md-ionic:before{content:"\\f3ca"}.ivu-icon-md-ionitron:before{content:"\\f3cb"}.ivu-icon-md-jet:before{content:"\\f3cc"}.ivu-icon-md-key:before{content:"\\f3cd"}.ivu-icon-md-keypad:before{content:"\\f3ce"}.ivu-icon-md-laptop:before{content:"\\f3cf"}.ivu-icon-md-leaf:before{content:"\\f3d0"}.ivu-icon-md-link:before{content:"\\f3d1"}.ivu-icon-md-list-box:before{content:"\\f3d2"}.ivu-icon-md-list:before{content:"\\f3d3"}.ivu-icon-md-locate:before{content:"\\f3d4"}.ivu-icon-md-lock:before{content:"\\f3d5"}.ivu-icon-md-log-in:before{content:"\\f3d6"}.ivu-icon-md-log-out:before{content:"\\f3d7"}.ivu-icon-md-magnet:before{content:"\\f3d8"}.ivu-icon-md-mail-open:before{content:"\\f3d9"}.ivu-icon-md-mail:before{content:"\\f3da"}.ivu-icon-md-male:before{content:"\\f3db"}.ivu-icon-md-man:before{content:"\\f3dc"}.ivu-icon-md-map:before{content:"\\f3dd"}.ivu-icon-md-medal:before{content:"\\f3de"}.ivu-icon-md-medical:before{content:"\\f3df"}.ivu-icon-md-medkit:before{content:"\\f3e0"}.ivu-icon-md-megaphone:before{content:"\\f3e1"}.ivu-icon-md-menu:before{content:"\\f3e2"}.ivu-icon-md-mic-off:before{content:"\\f3e3"}.ivu-icon-md-mic:before{content:"\\f3e4"}.ivu-icon-md-microphone:before{content:"\\f3e5"}.ivu-icon-md-moon:before{content:"\\f3e6"}.ivu-icon-md-more:before{content:"\\f3e7"}.ivu-icon-md-move:before{content:"\\f3e8"}.ivu-icon-md-musical-note:before{content:"\\f3e9"}.ivu-icon-md-musical-notes:before{content:"\\f3ea"}.ivu-icon-md-navigate:before{content:"\\f3eb"}.ivu-icon-md-no-smoking:before{content:"\\f3ec"}.ivu-icon-md-notifications-off:before{content:"\\f3ed"}.ivu-icon-md-notifications-outline:before{content:"\\f3ee"}.ivu-icon-md-notifications:before{content:"\\f3ef"}.ivu-icon-md-nuclear:before{content:"\\f3f0"}.ivu-icon-md-nutrition:before{content:"\\f3f1"}.ivu-icon-md-open:before{content:"\\f3f2"}.ivu-icon-md-options:before{content:"\\f3f3"}.ivu-icon-md-outlet:before{content:"\\f3f4"}.ivu-icon-md-paper-plane:before{content:"\\f3f5"}.ivu-icon-md-paper:before{content:"\\f3f6"}.ivu-icon-md-partly-sunny:before{content:"\\f3f7"}.ivu-icon-md-pause:before{content:"\\f3f8"}.ivu-icon-md-paw:before{content:"\\f3f9"}.ivu-icon-md-people:before{content:"\\f3fa"}.ivu-icon-md-person-add:before{content:"\\f3fb"}.ivu-icon-md-person:before{content:"\\f3fc"}.ivu-icon-md-phone-landscape:before{content:"\\f3fd"}.ivu-icon-md-phone-portrait:before{content:"\\f3fe"}.ivu-icon-md-photos:before{content:"\\f3ff"}.ivu-icon-md-pie:before{content:"\\f400"}.ivu-icon-md-pin:before{content:"\\f401"}.ivu-icon-md-pint:before{content:"\\f402"}.ivu-icon-md-pizza:before{content:"\\f403"}.ivu-icon-md-plane:before{content:"\\f404"}.ivu-icon-md-planet:before{content:"\\f405"}.ivu-icon-md-play:before{content:"\\f406"}.ivu-icon-md-podium:before{content:"\\f407"}.ivu-icon-md-power:before{content:"\\f408"}.ivu-icon-md-pricetag:before{content:"\\f409"}.ivu-icon-md-pricetags:before{content:"\\f40a"}.ivu-icon-md-print:before{content:"\\f40b"}.ivu-icon-md-pulse:before{content:"\\f40c"}.ivu-icon-md-qr-scanner:before{content:"\\f40d"}.ivu-icon-md-quote:before{content:"\\f40e"}.ivu-icon-md-radio-button-off:before{content:"\\f40f"}.ivu-icon-md-radio-button-on:before{content:"\\f410"}.ivu-icon-md-radio:before{content:"\\f411"}.ivu-icon-md-rainy:before{content:"\\f412"}.ivu-icon-md-recording:before{content:"\\f413"}.ivu-icon-md-redo:before{content:"\\f414"}.ivu-icon-md-refresh-circle:before{content:"\\f415"}.ivu-icon-md-refresh:before{content:"\\f416"}.ivu-icon-md-remove-circle:before{content:"\\f417"}.ivu-icon-md-remove:before{content:"\\f418"}.ivu-icon-md-reorder:before{content:"\\f419"}.ivu-icon-md-repeat:before{content:"\\f41a"}.ivu-icon-md-resize:before{content:"\\f41b"}.ivu-icon-md-restaurant:before{content:"\\f41c"}.ivu-icon-md-return-left:before{content:"\\f41d"}.ivu-icon-md-return-right:before{content:"\\f41e"}.ivu-icon-md-reverse-camera:before{content:"\\f41f"}.ivu-icon-md-rewind:before{content:"\\f420"}.ivu-icon-md-ribbon:before{content:"\\f421"}.ivu-icon-md-rose:before{content:"\\f422"}.ivu-icon-md-sad:before{content:"\\f423"}.ivu-icon-md-school:before{content:"\\f424"}.ivu-icon-md-search:before{content:"\\f425"}.ivu-icon-md-send:before{content:"\\f426"}.ivu-icon-md-settings:before{content:"\\f427"}.ivu-icon-md-share-alt:before{content:"\\f428"}.ivu-icon-md-share:before{content:"\\f429"}.ivu-icon-md-shirt:before{content:"\\f42a"}.ivu-icon-md-shuffle:before{content:"\\f42b"}.ivu-icon-md-skip-backward:before{content:"\\f42c"}.ivu-icon-md-skip-forward:before{content:"\\f42d"}.ivu-icon-md-snow:before{content:"\\f42e"}.ivu-icon-md-speedometer:before{content:"\\f42f"}.ivu-icon-md-square-outline:before{content:"\\f430"}.ivu-icon-md-square:before{content:"\\f431"}.ivu-icon-md-star-half:before{content:"\\f432"}.ivu-icon-md-star-outline:before{content:"\\f433"}.ivu-icon-md-star:before{content:"\\f434"}.ivu-icon-md-stats:before{content:"\\f435"}.ivu-icon-md-stopwatch:before{content:"\\f436"}.ivu-icon-md-subway:before{content:"\\f437"}.ivu-icon-md-sunny:before{content:"\\f438"}.ivu-icon-md-swap:before{content:"\\f439"}.ivu-icon-md-switch:before{content:"\\f43a"}.ivu-icon-md-sync:before{content:"\\f43b"}.ivu-icon-md-tablet-landscape:before{content:"\\f43c"}.ivu-icon-md-tablet-portrait:before{content:"\\f43d"}.ivu-icon-md-tennisball:before{content:"\\f43e"}.ivu-icon-md-text:before{content:"\\f43f"}.ivu-icon-md-thermometer:before{content:"\\f440"}.ivu-icon-md-thumbs-down:before{content:"\\f441"}.ivu-icon-md-thumbs-up:before{content:"\\f442"}.ivu-icon-md-thunderstorm:before{content:"\\f443"}.ivu-icon-md-time:before{content:"\\f444"}.ivu-icon-md-timer:before{content:"\\f445"}.ivu-icon-md-train:before{content:"\\f446"}.ivu-icon-md-transgender:before{content:"\\f447"}.ivu-icon-md-trash:before{content:"\\f448"}.ivu-icon-md-trending-down:before{content:"\\f449"}.ivu-icon-md-trending-up:before{content:"\\f44a"}.ivu-icon-md-trophy:before{content:"\\f44b"}.ivu-icon-md-umbrella:before{content:"\\f44c"}.ivu-icon-md-undo:before{content:"\\f44d"}.ivu-icon-md-unlock:before{content:"\\f44e"}.ivu-icon-md-videocam:before{content:"\\f44f"}.ivu-icon-md-volume-down:before{content:"\\f450"}.ivu-icon-md-volume-mute:before{content:"\\f451"}.ivu-icon-md-volume-off:before{content:"\\f452"}.ivu-icon-md-volume-up:before{content:"\\f453"}.ivu-icon-md-walk:before{content:"\\f454"}.ivu-icon-md-warning:before{content:"\\f455"}.ivu-icon-md-watch:before{content:"\\f456"}.ivu-icon-md-water:before{content:"\\f457"}.ivu-icon-md-wifi:before{content:"\\f458"}.ivu-icon-md-wine:before{content:"\\f459"}.ivu-icon-md-woman:before{content:"\\f45a"}.ivu-icon-ios-loading:before{content:"\\f45b"}.ivu-row{position:relative;margin-left:0;margin-right:0;height:auto;zoom:1;display:block}.ivu-row:after,.ivu-row:before{content:"";display:table}.ivu-row:after{clear:both;visibility:hidden;font-size:0;height:0}.ivu-row-flex{display:flex;flex-direction:row;flex-wrap:wrap}.ivu-row-flex:after,.ivu-row-flex:before{display:flex}.ivu-row-flex-start{justify-content:flex-start}.ivu-row-flex-center{justify-content:center}.ivu-row-flex-end{justify-content:flex-end}.ivu-row-flex-space-between{justify-content:space-between}.ivu-row-flex-space-around{justify-content:space-around}.ivu-row-flex-top{align-items:flex-start}.ivu-row-flex-middle{align-items:center}.ivu-row-flex-bottom{align-items:flex-end}.ivu-col{position:relative;display:block}.ivu-col-span-1,.ivu-col-span-2,.ivu-col-span-3,.ivu-col-span-4,.ivu-col-span-5,.ivu-col-span-6,.ivu-col-span-7,.ivu-col-span-8,.ivu-col-span-9,.ivu-col-span-10,.ivu-col-span-11,.ivu-col-span-12,.ivu-col-span-13,.ivu-col-span-14,.ivu-col-span-15,.ivu-col-span-16,.ivu-col-span-17,.ivu-col-span-18,.ivu-col-span-19,.ivu-col-span-20,.ivu-col-span-21,.ivu-col-span-22,.ivu-col-span-23,.ivu-col-span-24{float:left;flex:0 0 auto}.ivu-col-span-24{display:block;width:100%}.ivu-col-push-24{left:100%}.ivu-col-pull-24{right:100%}.ivu-col-offset-24{margin-left:100%}.ivu-col-order-24{order:24}.ivu-col-span-23{display:block;width:95.83333333%}.ivu-col-push-23{left:95.83333333%}.ivu-col-pull-23{right:95.83333333%}.ivu-col-offset-23{margin-left:95.83333333%}.ivu-col-order-23{order:23}.ivu-col-span-22{display:block;width:91.66666667%}.ivu-col-push-22{left:91.66666667%}.ivu-col-pull-22{right:91.66666667%}.ivu-col-offset-22{margin-left:91.66666667%}.ivu-col-order-22{order:22}.ivu-col-span-21{display:block;width:87.5%}.ivu-col-push-21{left:87.5%}.ivu-col-pull-21{right:87.5%}.ivu-col-offset-21{margin-left:87.5%}.ivu-col-order-21{order:21}.ivu-col-span-20{display:block;width:83.33333333%}.ivu-col-push-20{left:83.33333333%}.ivu-col-pull-20{right:83.33333333%}.ivu-col-offset-20{margin-left:83.33333333%}.ivu-col-order-20{order:20}.ivu-col-span-19{display:block;width:79.16666667%}.ivu-col-push-19{left:79.16666667%}.ivu-col-pull-19{right:79.16666667%}.ivu-col-offset-19{margin-left:79.16666667%}.ivu-col-order-19{order:19}.ivu-col-span-18{display:block;width:75%}.ivu-col-push-18{left:75%}.ivu-col-pull-18{right:75%}.ivu-col-offset-18{margin-left:75%}.ivu-col-order-18{order:18}.ivu-col-span-17{display:block;width:70.83333333%}.ivu-col-push-17{left:70.83333333%}.ivu-col-pull-17{right:70.83333333%}.ivu-col-offset-17{margin-left:70.83333333%}.ivu-col-order-17{order:17}.ivu-col-span-16{display:block;width:66.66666667%}.ivu-col-push-16{left:66.66666667%}.ivu-col-pull-16{right:66.66666667%}.ivu-col-offset-16{margin-left:66.66666667%}.ivu-col-order-16{order:16}.ivu-col-span-15{display:block;width:62.5%}.ivu-col-push-15{left:62.5%}.ivu-col-pull-15{right:62.5%}.ivu-col-offset-15{margin-left:62.5%}.ivu-col-order-15{order:15}.ivu-col-span-14{display:block;width:58.33333333%}.ivu-col-push-14{left:58.33333333%}.ivu-col-pull-14{right:58.33333333%}.ivu-col-offset-14{margin-left:58.33333333%}.ivu-col-order-14{order:14}.ivu-col-span-13{display:block;width:54.16666667%}.ivu-col-push-13{left:54.16666667%}.ivu-col-pull-13{right:54.16666667%}.ivu-col-offset-13{margin-left:54.16666667%}.ivu-col-order-13{order:13}.ivu-col-span-12{display:block;width:50%}.ivu-col-push-12{left:50%}.ivu-col-pull-12{right:50%}.ivu-col-offset-12{margin-left:50%}.ivu-col-order-12{order:12}.ivu-col-span-11{display:block;width:45.83333333%}.ivu-col-push-11{left:45.83333333%}.ivu-col-pull-11{right:45.83333333%}.ivu-col-offset-11{margin-left:45.83333333%}.ivu-col-order-11{order:11}.ivu-col-span-10{display:block;width:41.66666667%}.ivu-col-push-10{left:41.66666667%}.ivu-col-pull-10{right:41.66666667%}.ivu-col-offset-10{margin-left:41.66666667%}.ivu-col-order-10{order:10}.ivu-col-span-9{display:block;width:37.5%}.ivu-col-push-9{left:37.5%}.ivu-col-pull-9{right:37.5%}.ivu-col-offset-9{margin-left:37.5%}.ivu-col-order-9{order:9}.ivu-col-span-8{display:block;width:33.33333333%}.ivu-col-push-8{left:33.33333333%}.ivu-col-pull-8{right:33.33333333%}.ivu-col-offset-8{margin-left:33.33333333%}.ivu-col-order-8{order:8}.ivu-col-span-7{display:block;width:29.16666667%}.ivu-col-push-7{left:29.16666667%}.ivu-col-pull-7{right:29.16666667%}.ivu-col-offset-7{margin-left:29.16666667%}.ivu-col-order-7{order:7}.ivu-col-span-6{display:block;width:25%}.ivu-col-push-6{left:25%}.ivu-col-pull-6{right:25%}.ivu-col-offset-6{margin-left:25%}.ivu-col-order-6{order:6}.ivu-col-span-5{display:block;width:20.83333333%}.ivu-col-push-5{left:20.83333333%}.ivu-col-pull-5{right:20.83333333%}.ivu-col-offset-5{margin-left:20.83333333%}.ivu-col-order-5{order:5}.ivu-col-span-4{display:block;width:16.66666667%}.ivu-col-push-4{left:16.66666667%}.ivu-col-pull-4{right:16.66666667%}.ivu-col-offset-4{margin-left:16.66666667%}.ivu-col-order-4{order:4}.ivu-col-span-3{display:block;width:12.5%}.ivu-col-push-3{left:12.5%}.ivu-col-pull-3{right:12.5%}.ivu-col-offset-3{margin-left:12.5%}.ivu-col-order-3{order:3}.ivu-col-span-2{display:block;width:8.33333333%}.ivu-col-push-2{left:8.33333333%}.ivu-col-pull-2{right:8.33333333%}.ivu-col-offset-2{margin-left:8.33333333%}.ivu-col-order-2{order:2}.ivu-col-span-1{display:block;width:4.16666667%}.ivu-col-push-1{left:4.16666667%}.ivu-col-pull-1{right:4.16666667%}.ivu-col-offset-1{margin-left:4.16666667%}.ivu-col-order-1{order:1}.ivu-col-span-0{display:none}.ivu-col-push-0{left:auto}.ivu-col-pull-0{right:auto}.ivu-col-offset-0{margin-left:0}.ivu-col-order-0{order:0}.ivu-col-span-xs-1,.ivu-col-span-xs-2,.ivu-col-span-xs-3,.ivu-col-span-xs-4,.ivu-col-span-xs-5,.ivu-col-span-xs-6,.ivu-col-span-xs-7,.ivu-col-span-xs-8,.ivu-col-span-xs-9,.ivu-col-span-xs-10,.ivu-col-span-xs-11,.ivu-col-span-xs-12,.ivu-col-span-xs-13,.ivu-col-span-xs-14,.ivu-col-span-xs-15,.ivu-col-span-xs-16,.ivu-col-span-xs-17,.ivu-col-span-xs-18,.ivu-col-span-xs-19,.ivu-col-span-xs-20,.ivu-col-span-xs-21,.ivu-col-span-xs-22,.ivu-col-span-xs-23,.ivu-col-span-xs-24{float:left;flex:0 0 auto}.ivu-col-span-xs-24{display:block;width:100%}.ivu-col-xs-push-24{left:100%}.ivu-col-xs-pull-24{right:100%}.ivu-col-xs-offset-24{margin-left:100%}.ivu-col-xs-order-24{order:24}.ivu-col-span-xs-23{display:block;width:95.83333333%}.ivu-col-xs-push-23{left:95.83333333%}.ivu-col-xs-pull-23{right:95.83333333%}.ivu-col-xs-offset-23{margin-left:95.83333333%}.ivu-col-xs-order-23{order:23}.ivu-col-span-xs-22{display:block;width:91.66666667%}.ivu-col-xs-push-22{left:91.66666667%}.ivu-col-xs-pull-22{right:91.66666667%}.ivu-col-xs-offset-22{margin-left:91.66666667%}.ivu-col-xs-order-22{order:22}.ivu-col-span-xs-21{display:block;width:87.5%}.ivu-col-xs-push-21{left:87.5%}.ivu-col-xs-pull-21{right:87.5%}.ivu-col-xs-offset-21{margin-left:87.5%}.ivu-col-xs-order-21{order:21}.ivu-col-span-xs-20{display:block;width:83.33333333%}.ivu-col-xs-push-20{left:83.33333333%}.ivu-col-xs-pull-20{right:83.33333333%}.ivu-col-xs-offset-20{margin-left:83.33333333%}.ivu-col-xs-order-20{order:20}.ivu-col-span-xs-19{display:block;width:79.16666667%}.ivu-col-xs-push-19{left:79.16666667%}.ivu-col-xs-pull-19{right:79.16666667%}.ivu-col-xs-offset-19{margin-left:79.16666667%}.ivu-col-xs-order-19{order:19}.ivu-col-span-xs-18{display:block;width:75%}.ivu-col-xs-push-18{left:75%}.ivu-col-xs-pull-18{right:75%}.ivu-col-xs-offset-18{margin-left:75%}.ivu-col-xs-order-18{order:18}.ivu-col-span-xs-17{display:block;width:70.83333333%}.ivu-col-xs-push-17{left:70.83333333%}.ivu-col-xs-pull-17{right:70.83333333%}.ivu-col-xs-offset-17{margin-left:70.83333333%}.ivu-col-xs-order-17{order:17}.ivu-col-span-xs-16{display:block;width:66.66666667%}.ivu-col-xs-push-16{left:66.66666667%}.ivu-col-xs-pull-16{right:66.66666667%}.ivu-col-xs-offset-16{margin-left:66.66666667%}.ivu-col-xs-order-16{order:16}.ivu-col-span-xs-15{display:block;width:62.5%}.ivu-col-xs-push-15{left:62.5%}.ivu-col-xs-pull-15{right:62.5%}.ivu-col-xs-offset-15{margin-left:62.5%}.ivu-col-xs-order-15{order:15}.ivu-col-span-xs-14{display:block;width:58.33333333%}.ivu-col-xs-push-14{left:58.33333333%}.ivu-col-xs-pull-14{right:58.33333333%}.ivu-col-xs-offset-14{margin-left:58.33333333%}.ivu-col-xs-order-14{order:14}.ivu-col-span-xs-13{display:block;width:54.16666667%}.ivu-col-xs-push-13{left:54.16666667%}.ivu-col-xs-pull-13{right:54.16666667%}.ivu-col-xs-offset-13{margin-left:54.16666667%}.ivu-col-xs-order-13{order:13}.ivu-col-span-xs-12{display:block;width:50%}.ivu-col-xs-push-12{left:50%}.ivu-col-xs-pull-12{right:50%}.ivu-col-xs-offset-12{margin-left:50%}.ivu-col-xs-order-12{order:12}.ivu-col-span-xs-11{display:block;width:45.83333333%}.ivu-col-xs-push-11{left:45.83333333%}.ivu-col-xs-pull-11{right:45.83333333%}.ivu-col-xs-offset-11{margin-left:45.83333333%}.ivu-col-xs-order-11{order:11}.ivu-col-span-xs-10{display:block;width:41.66666667%}.ivu-col-xs-push-10{left:41.66666667%}.ivu-col-xs-pull-10{right:41.66666667%}.ivu-col-xs-offset-10{margin-left:41.66666667%}.ivu-col-xs-order-10{order:10}.ivu-col-span-xs-9{display:block;width:37.5%}.ivu-col-xs-push-9{left:37.5%}.ivu-col-xs-pull-9{right:37.5%}.ivu-col-xs-offset-9{margin-left:37.5%}.ivu-col-xs-order-9{order:9}.ivu-col-span-xs-8{display:block;width:33.33333333%}.ivu-col-xs-push-8{left:33.33333333%}.ivu-col-xs-pull-8{right:33.33333333%}.ivu-col-xs-offset-8{margin-left:33.33333333%}.ivu-col-xs-order-8{order:8}.ivu-col-span-xs-7{display:block;width:29.16666667%}.ivu-col-xs-push-7{left:29.16666667%}.ivu-col-xs-pull-7{right:29.16666667%}.ivu-col-xs-offset-7{margin-left:29.16666667%}.ivu-col-xs-order-7{order:7}.ivu-col-span-xs-6{display:block;width:25%}.ivu-col-xs-push-6{left:25%}.ivu-col-xs-pull-6{right:25%}.ivu-col-xs-offset-6{margin-left:25%}.ivu-col-xs-order-6{order:6}.ivu-col-span-xs-5{display:block;width:20.83333333%}.ivu-col-xs-push-5{left:20.83333333%}.ivu-col-xs-pull-5{right:20.83333333%}.ivu-col-xs-offset-5{margin-left:20.83333333%}.ivu-col-xs-order-5{order:5}.ivu-col-span-xs-4{display:block;width:16.66666667%}.ivu-col-xs-push-4{left:16.66666667%}.ivu-col-xs-pull-4{right:16.66666667%}.ivu-col-xs-offset-4{margin-left:16.66666667%}.ivu-col-xs-order-4{order:4}.ivu-col-span-xs-3{display:block;width:12.5%}.ivu-col-xs-push-3{left:12.5%}.ivu-col-xs-pull-3{right:12.5%}.ivu-col-xs-offset-3{margin-left:12.5%}.ivu-col-xs-order-3{order:3}.ivu-col-span-xs-2{display:block;width:8.33333333%}.ivu-col-xs-push-2{left:8.33333333%}.ivu-col-xs-pull-2{right:8.33333333%}.ivu-col-xs-offset-2{margin-left:8.33333333%}.ivu-col-xs-order-2{order:2}.ivu-col-span-xs-1{display:block;width:4.16666667%}.ivu-col-xs-push-1{left:4.16666667%}.ivu-col-xs-pull-1{right:4.16666667%}.ivu-col-xs-offset-1{margin-left:4.16666667%}.ivu-col-xs-order-1{order:1}.ivu-col-span-xs-0{display:none}.ivu-col-xs-push-0{left:auto}.ivu-col-xs-pull-0{right:auto}.ivu-col-xs-offset-0{margin-left:0}.ivu-col-xs-order-0{order:0}@media (min-width:576px){.ivu-col-span-sm-1,.ivu-col-span-sm-2,.ivu-col-span-sm-3,.ivu-col-span-sm-4,.ivu-col-span-sm-5,.ivu-col-span-sm-6,.ivu-col-span-sm-7,.ivu-col-span-sm-8,.ivu-col-span-sm-9,.ivu-col-span-sm-10,.ivu-col-span-sm-11,.ivu-col-span-sm-12,.ivu-col-span-sm-13,.ivu-col-span-sm-14,.ivu-col-span-sm-15,.ivu-col-span-sm-16,.ivu-col-span-sm-17,.ivu-col-span-sm-18,.ivu-col-span-sm-19,.ivu-col-span-sm-20,.ivu-col-span-sm-21,.ivu-col-span-sm-22,.ivu-col-span-sm-23,.ivu-col-span-sm-24{float:left;flex:0 0 auto}.ivu-col-span-sm-24{display:block;width:100%}.ivu-col-sm-push-24{left:100%}.ivu-col-sm-pull-24{right:100%}.ivu-col-sm-offset-24{margin-left:100%}.ivu-col-sm-order-24{order:24}.ivu-col-span-sm-23{display:block;width:95.83333333%}.ivu-col-sm-push-23{left:95.83333333%}.ivu-col-sm-pull-23{right:95.83333333%}.ivu-col-sm-offset-23{margin-left:95.83333333%}.ivu-col-sm-order-23{order:23}.ivu-col-span-sm-22{display:block;width:91.66666667%}.ivu-col-sm-push-22{left:91.66666667%}.ivu-col-sm-pull-22{right:91.66666667%}.ivu-col-sm-offset-22{margin-left:91.66666667%}.ivu-col-sm-order-22{order:22}.ivu-col-span-sm-21{display:block;width:87.5%}.ivu-col-sm-push-21{left:87.5%}.ivu-col-sm-pull-21{right:87.5%}.ivu-col-sm-offset-21{margin-left:87.5%}.ivu-col-sm-order-21{order:21}.ivu-col-span-sm-20{display:block;width:83.33333333%}.ivu-col-sm-push-20{left:83.33333333%}.ivu-col-sm-pull-20{right:83.33333333%}.ivu-col-sm-offset-20{margin-left:83.33333333%}.ivu-col-sm-order-20{order:20}.ivu-col-span-sm-19{display:block;width:79.16666667%}.ivu-col-sm-push-19{left:79.16666667%}.ivu-col-sm-pull-19{right:79.16666667%}.ivu-col-sm-offset-19{margin-left:79.16666667%}.ivu-col-sm-order-19{order:19}.ivu-col-span-sm-18{display:block;width:75%}.ivu-col-sm-push-18{left:75%}.ivu-col-sm-pull-18{right:75%}.ivu-col-sm-offset-18{margin-left:75%}.ivu-col-sm-order-18{order:18}.ivu-col-span-sm-17{display:block;width:70.83333333%}.ivu-col-sm-push-17{left:70.83333333%}.ivu-col-sm-pull-17{right:70.83333333%}.ivu-col-sm-offset-17{margin-left:70.83333333%}.ivu-col-sm-order-17{order:17}.ivu-col-span-sm-16{display:block;width:66.66666667%}.ivu-col-sm-push-16{left:66.66666667%}.ivu-col-sm-pull-16{right:66.66666667%}.ivu-col-sm-offset-16{margin-left:66.66666667%}.ivu-col-sm-order-16{order:16}.ivu-col-span-sm-15{display:block;width:62.5%}.ivu-col-sm-push-15{left:62.5%}.ivu-col-sm-pull-15{right:62.5%}.ivu-col-sm-offset-15{margin-left:62.5%}.ivu-col-sm-order-15{order:15}.ivu-col-span-sm-14{display:block;width:58.33333333%}.ivu-col-sm-push-14{left:58.33333333%}.ivu-col-sm-pull-14{right:58.33333333%}.ivu-col-sm-offset-14{margin-left:58.33333333%}.ivu-col-sm-order-14{order:14}.ivu-col-span-sm-13{display:block;width:54.16666667%}.ivu-col-sm-push-13{left:54.16666667%}.ivu-col-sm-pull-13{right:54.16666667%}.ivu-col-sm-offset-13{margin-left:54.16666667%}.ivu-col-sm-order-13{order:13}.ivu-col-span-sm-12{display:block;width:50%}.ivu-col-sm-push-12{left:50%}.ivu-col-sm-pull-12{right:50%}.ivu-col-sm-offset-12{margin-left:50%}.ivu-col-sm-order-12{order:12}.ivu-col-span-sm-11{display:block;width:45.83333333%}.ivu-col-sm-push-11{left:45.83333333%}.ivu-col-sm-pull-11{right:45.83333333%}.ivu-col-sm-offset-11{margin-left:45.83333333%}.ivu-col-sm-order-11{order:11}.ivu-col-span-sm-10{display:block;width:41.66666667%}.ivu-col-sm-push-10{left:41.66666667%}.ivu-col-sm-pull-10{right:41.66666667%}.ivu-col-sm-offset-10{margin-left:41.66666667%}.ivu-col-sm-order-10{order:10}.ivu-col-span-sm-9{display:block;width:37.5%}.ivu-col-sm-push-9{left:37.5%}.ivu-col-sm-pull-9{right:37.5%}.ivu-col-sm-offset-9{margin-left:37.5%}.ivu-col-sm-order-9{order:9}.ivu-col-span-sm-8{display:block;width:33.33333333%}.ivu-col-sm-push-8{left:33.33333333%}.ivu-col-sm-pull-8{right:33.33333333%}.ivu-col-sm-offset-8{margin-left:33.33333333%}.ivu-col-sm-order-8{order:8}.ivu-col-span-sm-7{display:block;width:29.16666667%}.ivu-col-sm-push-7{left:29.16666667%}.ivu-col-sm-pull-7{right:29.16666667%}.ivu-col-sm-offset-7{margin-left:29.16666667%}.ivu-col-sm-order-7{order:7}.ivu-col-span-sm-6{display:block;width:25%}.ivu-col-sm-push-6{left:25%}.ivu-col-sm-pull-6{right:25%}.ivu-col-sm-offset-6{margin-left:25%}.ivu-col-sm-order-6{order:6}.ivu-col-span-sm-5{display:block;width:20.83333333%}.ivu-col-sm-push-5{left:20.83333333%}.ivu-col-sm-pull-5{right:20.83333333%}.ivu-col-sm-offset-5{margin-left:20.83333333%}.ivu-col-sm-order-5{order:5}.ivu-col-span-sm-4{display:block;width:16.66666667%}.ivu-col-sm-push-4{left:16.66666667%}.ivu-col-sm-pull-4{right:16.66666667%}.ivu-col-sm-offset-4{margin-left:16.66666667%}.ivu-col-sm-order-4{order:4}.ivu-col-span-sm-3{display:block;width:12.5%}.ivu-col-sm-push-3{left:12.5%}.ivu-col-sm-pull-3{right:12.5%}.ivu-col-sm-offset-3{margin-left:12.5%}.ivu-col-sm-order-3{order:3}.ivu-col-span-sm-2{display:block;width:8.33333333%}.ivu-col-sm-push-2{left:8.33333333%}.ivu-col-sm-pull-2{right:8.33333333%}.ivu-col-sm-offset-2{margin-left:8.33333333%}.ivu-col-sm-order-2{order:2}.ivu-col-span-sm-1{display:block;width:4.16666667%}.ivu-col-sm-push-1{left:4.16666667%}.ivu-col-sm-pull-1{right:4.16666667%}.ivu-col-sm-offset-1{margin-left:4.16666667%}.ivu-col-sm-order-1{order:1}.ivu-col-span-sm-0{display:none}.ivu-col-sm-push-0{left:auto}.ivu-col-sm-pull-0{right:auto}.ivu-col-sm-offset-0{margin-left:0}.ivu-col-sm-order-0{order:0}}@media (min-width:768px){.ivu-col-span-md-1,.ivu-col-span-md-2,.ivu-col-span-md-3,.ivu-col-span-md-4,.ivu-col-span-md-5,.ivu-col-span-md-6,.ivu-col-span-md-7,.ivu-col-span-md-8,.ivu-col-span-md-9,.ivu-col-span-md-10,.ivu-col-span-md-11,.ivu-col-span-md-12,.ivu-col-span-md-13,.ivu-col-span-md-14,.ivu-col-span-md-15,.ivu-col-span-md-16,.ivu-col-span-md-17,.ivu-col-span-md-18,.ivu-col-span-md-19,.ivu-col-span-md-20,.ivu-col-span-md-21,.ivu-col-span-md-22,.ivu-col-span-md-23,.ivu-col-span-md-24{float:left;flex:0 0 auto}.ivu-col-span-md-24{display:block;width:100%}.ivu-col-md-push-24{left:100%}.ivu-col-md-pull-24{right:100%}.ivu-col-md-offset-24{margin-left:100%}.ivu-col-md-order-24{order:24}.ivu-col-span-md-23{display:block;width:95.83333333%}.ivu-col-md-push-23{left:95.83333333%}.ivu-col-md-pull-23{right:95.83333333%}.ivu-col-md-offset-23{margin-left:95.83333333%}.ivu-col-md-order-23{order:23}.ivu-col-span-md-22{display:block;width:91.66666667%}.ivu-col-md-push-22{left:91.66666667%}.ivu-col-md-pull-22{right:91.66666667%}.ivu-col-md-offset-22{margin-left:91.66666667%}.ivu-col-md-order-22{order:22}.ivu-col-span-md-21{display:block;width:87.5%}.ivu-col-md-push-21{left:87.5%}.ivu-col-md-pull-21{right:87.5%}.ivu-col-md-offset-21{margin-left:87.5%}.ivu-col-md-order-21{order:21}.ivu-col-span-md-20{display:block;width:83.33333333%}.ivu-col-md-push-20{left:83.33333333%}.ivu-col-md-pull-20{right:83.33333333%}.ivu-col-md-offset-20{margin-left:83.33333333%}.ivu-col-md-order-20{order:20}.ivu-col-span-md-19{display:block;width:79.16666667%}.ivu-col-md-push-19{left:79.16666667%}.ivu-col-md-pull-19{right:79.16666667%}.ivu-col-md-offset-19{margin-left:79.16666667%}.ivu-col-md-order-19{order:19}.ivu-col-span-md-18{display:block;width:75%}.ivu-col-md-push-18{left:75%}.ivu-col-md-pull-18{right:75%}.ivu-col-md-offset-18{margin-left:75%}.ivu-col-md-order-18{order:18}.ivu-col-span-md-17{display:block;width:70.83333333%}.ivu-col-md-push-17{left:70.83333333%}.ivu-col-md-pull-17{right:70.83333333%}.ivu-col-md-offset-17{margin-left:70.83333333%}.ivu-col-md-order-17{order:17}.ivu-col-span-md-16{display:block;width:66.66666667%}.ivu-col-md-push-16{left:66.66666667%}.ivu-col-md-pull-16{right:66.66666667%}.ivu-col-md-offset-16{margin-left:66.66666667%}.ivu-col-md-order-16{order:16}.ivu-col-span-md-15{display:block;width:62.5%}.ivu-col-md-push-15{left:62.5%}.ivu-col-md-pull-15{right:62.5%}.ivu-col-md-offset-15{margin-left:62.5%}.ivu-col-md-order-15{order:15}.ivu-col-span-md-14{display:block;width:58.33333333%}.ivu-col-md-push-14{left:58.33333333%}.ivu-col-md-pull-14{right:58.33333333%}.ivu-col-md-offset-14{margin-left:58.33333333%}.ivu-col-md-order-14{order:14}.ivu-col-span-md-13{display:block;width:54.16666667%}.ivu-col-md-push-13{left:54.16666667%}.ivu-col-md-pull-13{right:54.16666667%}.ivu-col-md-offset-13{margin-left:54.16666667%}.ivu-col-md-order-13{order:13}.ivu-col-span-md-12{display:block;width:50%}.ivu-col-md-push-12{left:50%}.ivu-col-md-pull-12{right:50%}.ivu-col-md-offset-12{margin-left:50%}.ivu-col-md-order-12{order:12}.ivu-col-span-md-11{display:block;width:45.83333333%}.ivu-col-md-push-11{left:45.83333333%}.ivu-col-md-pull-11{right:45.83333333%}.ivu-col-md-offset-11{margin-left:45.83333333%}.ivu-col-md-order-11{order:11}.ivu-col-span-md-10{display:block;width:41.66666667%}.ivu-col-md-push-10{left:41.66666667%}.ivu-col-md-pull-10{right:41.66666667%}.ivu-col-md-offset-10{margin-left:41.66666667%}.ivu-col-md-order-10{order:10}.ivu-col-span-md-9{display:block;width:37.5%}.ivu-col-md-push-9{left:37.5%}.ivu-col-md-pull-9{right:37.5%}.ivu-col-md-offset-9{margin-left:37.5%}.ivu-col-md-order-9{order:9}.ivu-col-span-md-8{display:block;width:33.33333333%}.ivu-col-md-push-8{left:33.33333333%}.ivu-col-md-pull-8{right:33.33333333%}.ivu-col-md-offset-8{margin-left:33.33333333%}.ivu-col-md-order-8{order:8}.ivu-col-span-md-7{display:block;width:29.16666667%}.ivu-col-md-push-7{left:29.16666667%}.ivu-col-md-pull-7{right:29.16666667%}.ivu-col-md-offset-7{margin-left:29.16666667%}.ivu-col-md-order-7{order:7}.ivu-col-span-md-6{display:block;width:25%}.ivu-col-md-push-6{left:25%}.ivu-col-md-pull-6{right:25%}.ivu-col-md-offset-6{margin-left:25%}.ivu-col-md-order-6{order:6}.ivu-col-span-md-5{display:block;width:20.83333333%}.ivu-col-md-push-5{left:20.83333333%}.ivu-col-md-pull-5{right:20.83333333%}.ivu-col-md-offset-5{margin-left:20.83333333%}.ivu-col-md-order-5{order:5}.ivu-col-span-md-4{display:block;width:16.66666667%}.ivu-col-md-push-4{left:16.66666667%}.ivu-col-md-pull-4{right:16.66666667%}.ivu-col-md-offset-4{margin-left:16.66666667%}.ivu-col-md-order-4{order:4}.ivu-col-span-md-3{display:block;width:12.5%}.ivu-col-md-push-3{left:12.5%}.ivu-col-md-pull-3{right:12.5%}.ivu-col-md-offset-3{margin-left:12.5%}.ivu-col-md-order-3{order:3}.ivu-col-span-md-2{display:block;width:8.33333333%}.ivu-col-md-push-2{left:8.33333333%}.ivu-col-md-pull-2{right:8.33333333%}.ivu-col-md-offset-2{margin-left:8.33333333%}.ivu-col-md-order-2{order:2}.ivu-col-span-md-1{display:block;width:4.16666667%}.ivu-col-md-push-1{left:4.16666667%}.ivu-col-md-pull-1{right:4.16666667%}.ivu-col-md-offset-1{margin-left:4.16666667%}.ivu-col-md-order-1{order:1}.ivu-col-span-md-0{display:none}.ivu-col-md-push-0{left:auto}.ivu-col-md-pull-0{right:auto}.ivu-col-md-offset-0{margin-left:0}.ivu-col-md-order-0{order:0}}@media (min-width:992px){.ivu-col-span-lg-1,.ivu-col-span-lg-2,.ivu-col-span-lg-3,.ivu-col-span-lg-4,.ivu-col-span-lg-5,.ivu-col-span-lg-6,.ivu-col-span-lg-7,.ivu-col-span-lg-8,.ivu-col-span-lg-9,.ivu-col-span-lg-10,.ivu-col-span-lg-11,.ivu-col-span-lg-12,.ivu-col-span-lg-13,.ivu-col-span-lg-14,.ivu-col-span-lg-15,.ivu-col-span-lg-16,.ivu-col-span-lg-17,.ivu-col-span-lg-18,.ivu-col-span-lg-19,.ivu-col-span-lg-20,.ivu-col-span-lg-21,.ivu-col-span-lg-22,.ivu-col-span-lg-23,.ivu-col-span-lg-24{float:left;flex:0 0 auto}.ivu-col-span-lg-24{display:block;width:100%}.ivu-col-lg-push-24{left:100%}.ivu-col-lg-pull-24{right:100%}.ivu-col-lg-offset-24{margin-left:100%}.ivu-col-lg-order-24{order:24}.ivu-col-span-lg-23{display:block;width:95.83333333%}.ivu-col-lg-push-23{left:95.83333333%}.ivu-col-lg-pull-23{right:95.83333333%}.ivu-col-lg-offset-23{margin-left:95.83333333%}.ivu-col-lg-order-23{order:23}.ivu-col-span-lg-22{display:block;width:91.66666667%}.ivu-col-lg-push-22{left:91.66666667%}.ivu-col-lg-pull-22{right:91.66666667%}.ivu-col-lg-offset-22{margin-left:91.66666667%}.ivu-col-lg-order-22{order:22}.ivu-col-span-lg-21{display:block;width:87.5%}.ivu-col-lg-push-21{left:87.5%}.ivu-col-lg-pull-21{right:87.5%}.ivu-col-lg-offset-21{margin-left:87.5%}.ivu-col-lg-order-21{order:21}.ivu-col-span-lg-20{display:block;width:83.33333333%}.ivu-col-lg-push-20{left:83.33333333%}.ivu-col-lg-pull-20{right:83.33333333%}.ivu-col-lg-offset-20{margin-left:83.33333333%}.ivu-col-lg-order-20{order:20}.ivu-col-span-lg-19{display:block;width:79.16666667%}.ivu-col-lg-push-19{left:79.16666667%}.ivu-col-lg-pull-19{right:79.16666667%}.ivu-col-lg-offset-19{margin-left:79.16666667%}.ivu-col-lg-order-19{order:19}.ivu-col-span-lg-18{display:block;width:75%}.ivu-col-lg-push-18{left:75%}.ivu-col-lg-pull-18{right:75%}.ivu-col-lg-offset-18{margin-left:75%}.ivu-col-lg-order-18{order:18}.ivu-col-span-lg-17{display:block;width:70.83333333%}.ivu-col-lg-push-17{left:70.83333333%}.ivu-col-lg-pull-17{right:70.83333333%}.ivu-col-lg-offset-17{margin-left:70.83333333%}.ivu-col-lg-order-17{order:17}.ivu-col-span-lg-16{display:block;width:66.66666667%}.ivu-col-lg-push-16{left:66.66666667%}.ivu-col-lg-pull-16{right:66.66666667%}.ivu-col-lg-offset-16{margin-left:66.66666667%}.ivu-col-lg-order-16{order:16}.ivu-col-span-lg-15{display:block;width:62.5%}.ivu-col-lg-push-15{left:62.5%}.ivu-col-lg-pull-15{right:62.5%}.ivu-col-lg-offset-15{margin-left:62.5%}.ivu-col-lg-order-15{order:15}.ivu-col-span-lg-14{display:block;width:58.33333333%}.ivu-col-lg-push-14{left:58.33333333%}.ivu-col-lg-pull-14{right:58.33333333%}.ivu-col-lg-offset-14{margin-left:58.33333333%}.ivu-col-lg-order-14{order:14}.ivu-col-span-lg-13{display:block;width:54.16666667%}.ivu-col-lg-push-13{left:54.16666667%}.ivu-col-lg-pull-13{right:54.16666667%}.ivu-col-lg-offset-13{margin-left:54.16666667%}.ivu-col-lg-order-13{order:13}.ivu-col-span-lg-12{display:block;width:50%}.ivu-col-lg-push-12{left:50%}.ivu-col-lg-pull-12{right:50%}.ivu-col-lg-offset-12{margin-left:50%}.ivu-col-lg-order-12{order:12}.ivu-col-span-lg-11{display:block;width:45.83333333%}.ivu-col-lg-push-11{left:45.83333333%}.ivu-col-lg-pull-11{right:45.83333333%}.ivu-col-lg-offset-11{margin-left:45.83333333%}.ivu-col-lg-order-11{order:11}.ivu-col-span-lg-10{display:block;width:41.66666667%}.ivu-col-lg-push-10{left:41.66666667%}.ivu-col-lg-pull-10{right:41.66666667%}.ivu-col-lg-offset-10{margin-left:41.66666667%}.ivu-col-lg-order-10{order:10}.ivu-col-span-lg-9{display:block;width:37.5%}.ivu-col-lg-push-9{left:37.5%}.ivu-col-lg-pull-9{right:37.5%}.ivu-col-lg-offset-9{margin-left:37.5%}.ivu-col-lg-order-9{order:9}.ivu-col-span-lg-8{display:block;width:33.33333333%}.ivu-col-lg-push-8{left:33.33333333%}.ivu-col-lg-pull-8{right:33.33333333%}.ivu-col-lg-offset-8{margin-left:33.33333333%}.ivu-col-lg-order-8{order:8}.ivu-col-span-lg-7{display:block;width:29.16666667%}.ivu-col-lg-push-7{left:29.16666667%}.ivu-col-lg-pull-7{right:29.16666667%}.ivu-col-lg-offset-7{margin-left:29.16666667%}.ivu-col-lg-order-7{order:7}.ivu-col-span-lg-6{display:block;width:25%}.ivu-col-lg-push-6{left:25%}.ivu-col-lg-pull-6{right:25%}.ivu-col-lg-offset-6{margin-left:25%}.ivu-col-lg-order-6{order:6}.ivu-col-span-lg-5{display:block;width:20.83333333%}.ivu-col-lg-push-5{left:20.83333333%}.ivu-col-lg-pull-5{right:20.83333333%}.ivu-col-lg-offset-5{margin-left:20.83333333%}.ivu-col-lg-order-5{order:5}.ivu-col-span-lg-4{display:block;width:16.66666667%}.ivu-col-lg-push-4{left:16.66666667%}.ivu-col-lg-pull-4{right:16.66666667%}.ivu-col-lg-offset-4{margin-left:16.66666667%}.ivu-col-lg-order-4{order:4}.ivu-col-span-lg-3{display:block;width:12.5%}.ivu-col-lg-push-3{left:12.5%}.ivu-col-lg-pull-3{right:12.5%}.ivu-col-lg-offset-3{margin-left:12.5%}.ivu-col-lg-order-3{order:3}.ivu-col-span-lg-2{display:block;width:8.33333333%}.ivu-col-lg-push-2{left:8.33333333%}.ivu-col-lg-pull-2{right:8.33333333%}.ivu-col-lg-offset-2{margin-left:8.33333333%}.ivu-col-lg-order-2{order:2}.ivu-col-span-lg-1{display:block;width:4.16666667%}.ivu-col-lg-push-1{left:4.16666667%}.ivu-col-lg-pull-1{right:4.16666667%}.ivu-col-lg-offset-1{margin-left:4.16666667%}.ivu-col-lg-order-1{order:1}.ivu-col-span-lg-0{display:none}.ivu-col-lg-push-0{left:auto}.ivu-col-lg-pull-0{right:auto}.ivu-col-lg-offset-0{margin-left:0}.ivu-col-lg-order-0{order:0}}@media (min-width:1200px){.ivu-col-span-xl-1,.ivu-col-span-xl-2,.ivu-col-span-xl-3,.ivu-col-span-xl-4,.ivu-col-span-xl-5,.ivu-col-span-xl-6,.ivu-col-span-xl-7,.ivu-col-span-xl-8,.ivu-col-span-xl-9,.ivu-col-span-xl-10,.ivu-col-span-xl-11,.ivu-col-span-xl-12,.ivu-col-span-xl-13,.ivu-col-span-xl-14,.ivu-col-span-xl-15,.ivu-col-span-xl-16,.ivu-col-span-xl-17,.ivu-col-span-xl-18,.ivu-col-span-xl-19,.ivu-col-span-xl-20,.ivu-col-span-xl-21,.ivu-col-span-xl-22,.ivu-col-span-xl-23,.ivu-col-span-xl-24{float:left;flex:0 0 auto}.ivu-col-span-xl-24{display:block;width:100%}.ivu-col-xl-push-24{left:100%}.ivu-col-xl-pull-24{right:100%}.ivu-col-xl-offset-24{margin-left:100%}.ivu-col-xl-order-24{order:24}.ivu-col-span-xl-23{display:block;width:95.83333333%}.ivu-col-xl-push-23{left:95.83333333%}.ivu-col-xl-pull-23{right:95.83333333%}.ivu-col-xl-offset-23{margin-left:95.83333333%}.ivu-col-xl-order-23{order:23}.ivu-col-span-xl-22{display:block;width:91.66666667%}.ivu-col-xl-push-22{left:91.66666667%}.ivu-col-xl-pull-22{right:91.66666667%}.ivu-col-xl-offset-22{margin-left:91.66666667%}.ivu-col-xl-order-22{order:22}.ivu-col-span-xl-21{display:block;width:87.5%}.ivu-col-xl-push-21{left:87.5%}.ivu-col-xl-pull-21{right:87.5%}.ivu-col-xl-offset-21{margin-left:87.5%}.ivu-col-xl-order-21{order:21}.ivu-col-span-xl-20{display:block;width:83.33333333%}.ivu-col-xl-push-20{left:83.33333333%}.ivu-col-xl-pull-20{right:83.33333333%}.ivu-col-xl-offset-20{margin-left:83.33333333%}.ivu-col-xl-order-20{order:20}.ivu-col-span-xl-19{display:block;width:79.16666667%}.ivu-col-xl-push-19{left:79.16666667%}.ivu-col-xl-pull-19{right:79.16666667%}.ivu-col-xl-offset-19{margin-left:79.16666667%}.ivu-col-xl-order-19{order:19}.ivu-col-span-xl-18{display:block;width:75%}.ivu-col-xl-push-18{left:75%}.ivu-col-xl-pull-18{right:75%}.ivu-col-xl-offset-18{margin-left:75%}.ivu-col-xl-order-18{order:18}.ivu-col-span-xl-17{display:block;width:70.83333333%}.ivu-col-xl-push-17{left:70.83333333%}.ivu-col-xl-pull-17{right:70.83333333%}.ivu-col-xl-offset-17{margin-left:70.83333333%}.ivu-col-xl-order-17{order:17}.ivu-col-span-xl-16{display:block;width:66.66666667%}.ivu-col-xl-push-16{left:66.66666667%}.ivu-col-xl-pull-16{right:66.66666667%}.ivu-col-xl-offset-16{margin-left:66.66666667%}.ivu-col-xl-order-16{order:16}.ivu-col-span-xl-15{display:block;width:62.5%}.ivu-col-xl-push-15{left:62.5%}.ivu-col-xl-pull-15{right:62.5%}.ivu-col-xl-offset-15{margin-left:62.5%}.ivu-col-xl-order-15{order:15}.ivu-col-span-xl-14{display:block;width:58.33333333%}.ivu-col-xl-push-14{left:58.33333333%}.ivu-col-xl-pull-14{right:58.33333333%}.ivu-col-xl-offset-14{margin-left:58.33333333%}.ivu-col-xl-order-14{order:14}.ivu-col-span-xl-13{display:block;width:54.16666667%}.ivu-col-xl-push-13{left:54.16666667%}.ivu-col-xl-pull-13{right:54.16666667%}.ivu-col-xl-offset-13{margin-left:54.16666667%}.ivu-col-xl-order-13{order:13}.ivu-col-span-xl-12{display:block;width:50%}.ivu-col-xl-push-12{left:50%}.ivu-col-xl-pull-12{right:50%}.ivu-col-xl-offset-12{margin-left:50%}.ivu-col-xl-order-12{order:12}.ivu-col-span-xl-11{display:block;width:45.83333333%}.ivu-col-xl-push-11{left:45.83333333%}.ivu-col-xl-pull-11{right:45.83333333%}.ivu-col-xl-offset-11{margin-left:45.83333333%}.ivu-col-xl-order-11{order:11}.ivu-col-span-xl-10{display:block;width:41.66666667%}.ivu-col-xl-push-10{left:41.66666667%}.ivu-col-xl-pull-10{right:41.66666667%}.ivu-col-xl-offset-10{margin-left:41.66666667%}.ivu-col-xl-order-10{order:10}.ivu-col-span-xl-9{display:block;width:37.5%}.ivu-col-xl-push-9{left:37.5%}.ivu-col-xl-pull-9{right:37.5%}.ivu-col-xl-offset-9{margin-left:37.5%}.ivu-col-xl-order-9{order:9}.ivu-col-span-xl-8{display:block;width:33.33333333%}.ivu-col-xl-push-8{left:33.33333333%}.ivu-col-xl-pull-8{right:33.33333333%}.ivu-col-xl-offset-8{margin-left:33.33333333%}.ivu-col-xl-order-8{order:8}.ivu-col-span-xl-7{display:block;width:29.16666667%}.ivu-col-xl-push-7{left:29.16666667%}.ivu-col-xl-pull-7{right:29.16666667%}.ivu-col-xl-offset-7{margin-left:29.16666667%}.ivu-col-xl-order-7{order:7}.ivu-col-span-xl-6{display:block;width:25%}.ivu-col-xl-push-6{left:25%}.ivu-col-xl-pull-6{right:25%}.ivu-col-xl-offset-6{margin-left:25%}.ivu-col-xl-order-6{order:6}.ivu-col-span-xl-5{display:block;width:20.83333333%}.ivu-col-xl-push-5{left:20.83333333%}.ivu-col-xl-pull-5{right:20.83333333%}.ivu-col-xl-offset-5{margin-left:20.83333333%}.ivu-col-xl-order-5{order:5}.ivu-col-span-xl-4{display:block;width:16.66666667%}.ivu-col-xl-push-4{left:16.66666667%}.ivu-col-xl-pull-4{right:16.66666667%}.ivu-col-xl-offset-4{margin-left:16.66666667%}.ivu-col-xl-order-4{order:4}.ivu-col-span-xl-3{display:block;width:12.5%}.ivu-col-xl-push-3{left:12.5%}.ivu-col-xl-pull-3{right:12.5%}.ivu-col-xl-offset-3{margin-left:12.5%}.ivu-col-xl-order-3{order:3}.ivu-col-span-xl-2{display:block;width:8.33333333%}.ivu-col-xl-push-2{left:8.33333333%}.ivu-col-xl-pull-2{right:8.33333333%}.ivu-col-xl-offset-2{margin-left:8.33333333%}.ivu-col-xl-order-2{order:2}.ivu-col-span-xl-1{display:block;width:4.16666667%}.ivu-col-xl-push-1{left:4.16666667%}.ivu-col-xl-pull-1{right:4.16666667%}.ivu-col-xl-offset-1{margin-left:4.16666667%}.ivu-col-xl-order-1{order:1}.ivu-col-span-xl-0{display:none}.ivu-col-xl-push-0{left:auto}.ivu-col-xl-pull-0{right:auto}.ivu-col-xl-offset-0{margin-left:0}.ivu-col-xl-order-0{order:0}}@media (min-width:1600px){.ivu-col-span-xxl-1,.ivu-col-span-xxl-2,.ivu-col-span-xxl-3,.ivu-col-span-xxl-4,.ivu-col-span-xxl-5,.ivu-col-span-xxl-6,.ivu-col-span-xxl-7,.ivu-col-span-xxl-8,.ivu-col-span-xxl-9,.ivu-col-span-xxl-10,.ivu-col-span-xxl-11,.ivu-col-span-xxl-12,.ivu-col-span-xxl-13,.ivu-col-span-xxl-14,.ivu-col-span-xxl-15,.ivu-col-span-xxl-16,.ivu-col-span-xxl-17,.ivu-col-span-xxl-18,.ivu-col-span-xxl-19,.ivu-col-span-xxl-20,.ivu-col-span-xxl-21,.ivu-col-span-xxl-22,.ivu-col-span-xxl-23,.ivu-col-span-xxl-24{float:left;flex:0 0 auto}.ivu-col-span-xxl-24{display:block;width:100%}.ivu-col-xxl-push-24{left:100%}.ivu-col-xxl-pull-24{right:100%}.ivu-col-xxl-offset-24{margin-left:100%}.ivu-col-xxl-order-24{order:24}.ivu-col-span-xxl-23{display:block;width:95.83333333%}.ivu-col-xxl-push-23{left:95.83333333%}.ivu-col-xxl-pull-23{right:95.83333333%}.ivu-col-xxl-offset-23{margin-left:95.83333333%}.ivu-col-xxl-order-23{order:23}.ivu-col-span-xxl-22{display:block;width:91.66666667%}.ivu-col-xxl-push-22{left:91.66666667%}.ivu-col-xxl-pull-22{right:91.66666667%}.ivu-col-xxl-offset-22{margin-left:91.66666667%}.ivu-col-xxl-order-22{order:22}.ivu-col-span-xxl-21{display:block;width:87.5%}.ivu-col-xxl-push-21{left:87.5%}.ivu-col-xxl-pull-21{right:87.5%}.ivu-col-xxl-offset-21{margin-left:87.5%}.ivu-col-xxl-order-21{order:21}.ivu-col-span-xxl-20{display:block;width:83.33333333%}.ivu-col-xxl-push-20{left:83.33333333%}.ivu-col-xxl-pull-20{right:83.33333333%}.ivu-col-xxl-offset-20{margin-left:83.33333333%}.ivu-col-xxl-order-20{order:20}.ivu-col-span-xxl-19{display:block;width:79.16666667%}.ivu-col-xxl-push-19{left:79.16666667%}.ivu-col-xxl-pull-19{right:79.16666667%}.ivu-col-xxl-offset-19{margin-left:79.16666667%}.ivu-col-xxl-order-19{order:19}.ivu-col-span-xxl-18{display:block;width:75%}.ivu-col-xxl-push-18{left:75%}.ivu-col-xxl-pull-18{right:75%}.ivu-col-xxl-offset-18{margin-left:75%}.ivu-col-xxl-order-18{order:18}.ivu-col-span-xxl-17{display:block;width:70.83333333%}.ivu-col-xxl-push-17{left:70.83333333%}.ivu-col-xxl-pull-17{right:70.83333333%}.ivu-col-xxl-offset-17{margin-left:70.83333333%}.ivu-col-xxl-order-17{order:17}.ivu-col-span-xxl-16{display:block;width:66.66666667%}.ivu-col-xxl-push-16{left:66.66666667%}.ivu-col-xxl-pull-16{right:66.66666667%}.ivu-col-xxl-offset-16{margin-left:66.66666667%}.ivu-col-xxl-order-16{order:16}.ivu-col-span-xxl-15{display:block;width:62.5%}.ivu-col-xxl-push-15{left:62.5%}.ivu-col-xxl-pull-15{right:62.5%}.ivu-col-xxl-offset-15{margin-left:62.5%}.ivu-col-xxl-order-15{order:15}.ivu-col-span-xxl-14{display:block;width:58.33333333%}.ivu-col-xxl-push-14{left:58.33333333%}.ivu-col-xxl-pull-14{right:58.33333333%}.ivu-col-xxl-offset-14{margin-left:58.33333333%}.ivu-col-xxl-order-14{order:14}.ivu-col-span-xxl-13{display:block;width:54.16666667%}.ivu-col-xxl-push-13{left:54.16666667%}.ivu-col-xxl-pull-13{right:54.16666667%}.ivu-col-xxl-offset-13{margin-left:54.16666667%}.ivu-col-xxl-order-13{order:13}.ivu-col-span-xxl-12{display:block;width:50%}.ivu-col-xxl-push-12{left:50%}.ivu-col-xxl-pull-12{right:50%}.ivu-col-xxl-offset-12{margin-left:50%}.ivu-col-xxl-order-12{order:12}.ivu-col-span-xxl-11{display:block;width:45.83333333%}.ivu-col-xxl-push-11{left:45.83333333%}.ivu-col-xxl-pull-11{right:45.83333333%}.ivu-col-xxl-offset-11{margin-left:45.83333333%}.ivu-col-xxl-order-11{order:11}.ivu-col-span-xxl-10{display:block;width:41.66666667%}.ivu-col-xxl-push-10{left:41.66666667%}.ivu-col-xxl-pull-10{right:41.66666667%}.ivu-col-xxl-offset-10{margin-left:41.66666667%}.ivu-col-xxl-order-10{order:10}.ivu-col-span-xxl-9{display:block;width:37.5%}.ivu-col-xxl-push-9{left:37.5%}.ivu-col-xxl-pull-9{right:37.5%}.ivu-col-xxl-offset-9{margin-left:37.5%}.ivu-col-xxl-order-9{order:9}.ivu-col-span-xxl-8{display:block;width:33.33333333%}.ivu-col-xxl-push-8{left:33.33333333%}.ivu-col-xxl-pull-8{right:33.33333333%}.ivu-col-xxl-offset-8{margin-left:33.33333333%}.ivu-col-xxl-order-8{order:8}.ivu-col-span-xxl-7{display:block;width:29.16666667%}.ivu-col-xxl-push-7{left:29.16666667%}.ivu-col-xxl-pull-7{right:29.16666667%}.ivu-col-xxl-offset-7{margin-left:29.16666667%}.ivu-col-xxl-order-7{order:7}.ivu-col-span-xxl-6{display:block;width:25%}.ivu-col-xxl-push-6{left:25%}.ivu-col-xxl-pull-6{right:25%}.ivu-col-xxl-offset-6{margin-left:25%}.ivu-col-xxl-order-6{order:6}.ivu-col-span-xxl-5{display:block;width:20.83333333%}.ivu-col-xxl-push-5{left:20.83333333%}.ivu-col-xxl-pull-5{right:20.83333333%}.ivu-col-xxl-offset-5{margin-left:20.83333333%}.ivu-col-xxl-order-5{order:5}.ivu-col-span-xxl-4{display:block;width:16.66666667%}.ivu-col-xxl-push-4{left:16.66666667%}.ivu-col-xxl-pull-4{right:16.66666667%}.ivu-col-xxl-offset-4{margin-left:16.66666667%}.ivu-col-xxl-order-4{order:4}.ivu-col-span-xxl-3{display:block;width:12.5%}.ivu-col-xxl-push-3{left:12.5%}.ivu-col-xxl-pull-3{right:12.5%}.ivu-col-xxl-offset-3{margin-left:12.5%}.ivu-col-xxl-order-3{order:3}.ivu-col-span-xxl-2{display:block;width:8.33333333%}.ivu-col-xxl-push-2{left:8.33333333%}.ivu-col-xxl-pull-2{right:8.33333333%}.ivu-col-xxl-offset-2{margin-left:8.33333333%}.ivu-col-xxl-order-2{order:2}.ivu-col-span-xxl-1{display:block;width:4.16666667%}.ivu-col-xxl-push-1{left:4.16666667%}.ivu-col-xxl-pull-1{right:4.16666667%}.ivu-col-xxl-offset-1{margin-left:4.16666667%}.ivu-col-xxl-order-1{order:1}.ivu-col-span-xxl-0{display:none}.ivu-col-xxl-push-0{left:auto}.ivu-col-xxl-pull-0{right:auto}.ivu-col-xxl-offset-0{margin-left:0}.ivu-col-xxl-order-0{order:0}}.ivu-article h1{font-size:26px;font-weight:400}.ivu-article h2{font-size:20px;font-weight:400}.ivu-article h3{font-size:16px;font-weight:400}.ivu-article h4{font-size:14px;font-weight:400}.ivu-article h5,.ivu-article h6{font-size:12px;font-weight:400}.ivu-article blockquote{padding:5px 5px 3px 10px;line-height:1.5;border-left:4px solid #ddd;margin-bottom:20px;color:#666;font-size:14px}.ivu-article ul:not([class^=ivu-]){padding-left:40px;list-style-type:disc}.ivu-article li:not([class^=ivu-]){margin-bottom:5px;font-size:14px}.ivu-article ol ul:not([class^=ivu-]),.ivu-article ul ul:not([class^=ivu-]){list-style-type:circle}.ivu-article p{margin:5px;font-size:14px}.ivu-article a:not([class^=ivu-])[target=_blank]:after{content:"\\F3F2";font-family:Ionicons;color:#aaa;margin-left:3px}.fade-appear,.fade-enter-active,.fade-leave-active{animation-duration:.15s;animation-fill-mode:both;animation-play-state:paused}.fade-appear,.fade-enter-active{animation-name:ivuFadeIn;animation-play-state:running}.fade-leave-active{animation-name:ivuFadeOut;animation-play-state:running}.fade-appear,.fade-enter-active{opacity:0}.fade-appear,.fade-enter-active,.fade-leave-active{animation-timing-function:linear}@keyframes ivuFadeIn{0%{opacity:0}to{opacity:1}}@keyframes ivuFadeOut{0%{opacity:1}to{opacity:0}}.move-up-appear,.move-up-enter-active,.move-up-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.move-up-appear,.move-up-enter-active{animation-name:ivuMoveUpIn;animation-play-state:running}.move-up-leave-active{animation-name:ivuMoveUpOut;animation-play-state:running}.move-up-appear,.move-up-enter-active{opacity:0;animation-timing-function:ease-in-out}.move-up-leave-active{animation-timing-function:ease-in-out}.move-down-appear,.move-down-enter-active,.move-down-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.move-down-appear,.move-down-enter-active{animation-name:ivuMoveDownIn;animation-play-state:running}.move-down-leave-active{animation-name:ivuMoveDownOut;animation-play-state:running}.move-down-appear,.move-down-enter-active{opacity:0;animation-timing-function:ease-in-out}.move-down-leave-active{animation-timing-function:ease-in-out}.move-left-appear,.move-left-enter-active,.move-left-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.move-left-appear,.move-left-enter-active{animation-name:ivuMoveLeftIn;animation-play-state:running}.move-left-leave-active{animation-name:ivuMoveLeftOut;animation-play-state:running}.move-left-appear,.move-left-enter-active{opacity:0;animation-timing-function:ease-in-out}.move-left-leave-active{animation-timing-function:ease-in-out}.move-right-appear,.move-right-enter-active,.move-right-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.move-right-appear,.move-right-enter-active{animation-name:ivuMoveRightIn;animation-play-state:running}.move-right-leave-active{animation-name:ivuMoveRightOut;animation-play-state:running}.move-right-appear,.move-right-enter-active{opacity:0;animation-timing-function:ease-in-out}.move-right-leave-active{animation-timing-function:ease-in-out}@keyframes ivuMoveDownIn{0%{transform-origin:0 0;transform:translateY(100%);opacity:0}to{transform-origin:0 0;transform:translateY(0);opacity:1}}@keyframes ivuMoveDownOut{0%{transform-origin:0 0;transform:translateY(0);opacity:1}to{transform-origin:0 0;transform:translateY(100%);opacity:0}}@keyframes ivuMoveLeftIn{0%{transform-origin:0 0;transform:translateX(-100%);opacity:0}to{transform-origin:0 0;transform:translateX(0);opacity:1}}@keyframes ivuMoveLeftOut{0%{transform-origin:0 0;transform:translateX(0);opacity:1}to{transform-origin:0 0;transform:translateX(-100%);opacity:0}}@keyframes ivuMoveRightIn{0%{opacity:0;transform-origin:0 0;transform:translateX(100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes ivuMoveRightOut{0%{transform-origin:0 0;transform:translateX(0);opacity:1}to{transform-origin:0 0;transform:translateX(100%);opacity:0}}@keyframes ivuMoveUpIn{0%{transform-origin:0 0;transform:translateY(-100%);opacity:0}to{transform-origin:0 0;transform:translateY(0);opacity:1}}@keyframes ivuMoveUpOut{0%{transform-origin:0 0;transform:translateY(0);opacity:1}to{transform-origin:0 0;transform:translateY(-100%);opacity:0}}.move-notice-appear,.move-notice-enter-active,.move-notice-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.move-notice-appear,.move-notice-enter-active{animation-name:ivuMoveNoticeIn;animation-play-state:running}.move-notice-leave-active{animation-name:ivuMoveNoticeOut;animation-play-state:running}.move-notice-appear,.move-notice-enter-active{opacity:0;animation-timing-function:ease-in-out}.move-notice-leave-active{animation-timing-function:ease-in-out}@keyframes ivuMoveNoticeIn{0%{opacity:0;transform-origin:0 0;transform:translateX(100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes ivuMoveNoticeOut{0%{transform-origin:0 0;transform:translateX(0);opacity:1}70%{transform-origin:0 0;transform:translateX(100%);height:auto;padding:16px;margin-bottom:10px;opacity:0}to{transform-origin:0 0;transform:translateX(100%);height:0;padding:0;margin-bottom:0;opacity:0}}.ease-appear,.ease-enter-active,.ease-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.ease-appear,.ease-enter-active{animation-name:ivuEaseIn;animation-play-state:running}.ease-leave-active{animation-name:ivuEaseOut;animation-play-state:running}.ease-appear,.ease-enter-active{opacity:0}.ease-appear,.ease-enter-active,.ease-leave-active{animation-timing-function:linear;animation-duration:.2s}@keyframes ivuEaseIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes ivuEaseOut{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.9)}}.transition-drop-appear,.transition-drop-enter-active,.transition-drop-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.transition-drop-appear,.transition-drop-enter-active{animation-name:ivuTransitionDropIn;animation-play-state:running}.transition-drop-leave-active{animation-name:ivuTransitionDropOut;animation-play-state:running}.transition-drop-appear,.transition-drop-enter-active{opacity:0;animation-timing-function:ease-in-out}.transition-drop-leave-active{animation-timing-function:ease-in-out}.slide-up-appear,.slide-up-enter-active,.slide-up-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.slide-up-appear,.slide-up-enter-active{animation-name:ivuSlideUpIn;animation-play-state:running}.slide-up-leave-active{animation-name:ivuSlideUpOut;animation-play-state:running}.slide-up-appear,.slide-up-enter-active{opacity:0;animation-timing-function:ease-in-out}.slide-up-leave-active{animation-timing-function:ease-in-out}.slide-down-appear,.slide-down-enter-active,.slide-down-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.slide-down-appear,.slide-down-enter-active{animation-name:ivuSlideDownIn;animation-play-state:running}.slide-down-leave-active{animation-name:ivuSlideDownOut;animation-play-state:running}.slide-down-appear,.slide-down-enter-active{opacity:0;animation-timing-function:ease-in-out}.slide-down-leave-active{animation-timing-function:ease-in-out}.slide-left-appear,.slide-left-enter-active,.slide-left-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.slide-left-appear,.slide-left-enter-active{animation-name:ivuSlideLeftIn;animation-play-state:running}.slide-left-leave-active{animation-name:ivuSlideLeftOut;animation-play-state:running}.slide-left-appear,.slide-left-enter-active{opacity:0;animation-timing-function:ease-in-out}.slide-left-leave-active{animation-timing-function:ease-in-out}.slide-right-appear,.slide-right-enter-active,.slide-right-leave-active{animation-duration:.3s;animation-fill-mode:both;animation-play-state:paused}.slide-right-appear,.slide-right-enter-active{animation-name:ivuSlideRightIn;animation-play-state:running}.slide-right-leave-active{animation-name:ivuSlideRightOut;animation-play-state:running}.slide-right-appear,.slide-right-enter-active{opacity:0;animation-timing-function:ease-in-out}.slide-right-leave-active{animation-timing-function:ease-in-out}@keyframes ivuTransitionDropIn{0%{opacity:0;transform:scaleY(.8)}to{opacity:1;transform:scaleY(1)}}@keyframes ivuTransitionDropOut{0%{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(.8)}}@keyframes ivuSlideUpIn{0%{opacity:0;transform-origin:0 0;transform:scaleY(.8)}to{opacity:1;transform-origin:0 0;transform:scaleY(1)}}@keyframes ivuSlideUpOut{0%{opacity:1;transform-origin:0 0;transform:scaleY(1)}to{opacity:0;transform-origin:0 0;transform:scaleY(.8)}}@keyframes ivuSlideDownIn{0%{opacity:0;transform-origin:100% 100%;transform:scaleY(.8)}to{opacity:1;transform-origin:100% 100%;transform:scaleY(1)}}@keyframes ivuSlideDownOut{0%{opacity:1;transform-origin:100% 100%;transform:scaleY(1)}to{opacity:0;transform-origin:100% 100%;transform:scaleY(.8)}}@keyframes ivuSlideLeftIn{0%{opacity:0;transform-origin:0 0;transform:scaleX(.8)}to{opacity:1;transform-origin:0 0;transform:scaleX(1)}}@keyframes ivuSlideLeftOut{0%{opacity:1;transform-origin:0 0;transform:scaleX(1)}to{opacity:0;transform-origin:0 0;transform:scaleX(.8)}}@keyframes ivuSlideRightIn{0%{opacity:0;transform-origin:100% 0;transform:scaleX(.8)}to{opacity:1;transform-origin:100% 0;transform:scaleX(1)}}@keyframes ivuSlideRightOut{0%{opacity:1;transform-origin:100% 0;transform:scaleX(1)}to{opacity:0;transform-origin:100% 0;transform:scaleX(.8)}}.collapse-transition{transition:height .2s ease-in-out,padding-top .2s ease-in-out,padding-bottom .2s ease-in-out}.ivu-btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;white-space:nowrap;-webkit-user-select:none;-ms-user-select:none;user-select:none;height:32px;padding:0 15px;font-size:14px;border-radius:4px;transition:color .2s linear,background-color .2s linear,border .2s linear,box-shadow .2s linear;color:#515a6e;background-color:#fff;border:1px solid #dcdee2}.ivu-btn,.ivu-btn>.ivu-icon{line-height:1.5}.ivu-btn-icon-only.ivu-btn-circle>.ivu-icon{vertical-align:baseline}.ivu-btn>i,.ivu-btn>span{display:inline-block}.ivu-btn,.ivu-btn:active,.ivu-btn:focus{outline:0}.ivu-btn:not([disabled]):hover{text-decoration:none}.ivu-btn:not([disabled]):active{outline:0}.ivu-btn.disabled,.ivu-btn[disabled]{cursor:not-allowed}.ivu-btn.disabled>*,.ivu-btn[disabled]>*{pointer-events:none}.ivu-btn-large{height:40px;padding:0 15px;font-size:16px;border-radius:4px}.ivu-btn-small{height:24px;padding:0 7px;font-size:14px;border-radius:3px}.ivu-btn-icon-only{width:32px;height:32px;padding:0;font-size:16px;border-radius:4px}.ivu-btn-icon-only.ivu-btn-large{width:40px;height:40px;padding:0;font-size:18px;border-radius:4px}.ivu-btn-icon-only.ivu-btn-small{width:24px;height:24px;padding:0;font-size:14px;border-radius:4px}.ivu-btn>a:only-child{color:currentColor}.ivu-btn>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn:hover{color:#747b8b;border-color:#e3e5e8}.ivu-btn.active,.ivu-btn:active{color:#4d5669;background-color:#f2f2f2;border-color:#f2f2f2}.ivu-btn.disabled,.ivu-btn.disabled.active,.ivu-btn.disabled:active,.ivu-btn.disabled:focus,.ivu-btn.disabled:hover,.ivu-btn[disabled],.ivu-btn[disabled].active,.ivu-btn[disabled]:active,.ivu-btn[disabled]:focus,.ivu-btn[disabled]:hover,fieldset[disabled] .ivu-btn,fieldset[disabled] .ivu-btn.active,fieldset[disabled] .ivu-btn:active,fieldset[disabled] .ivu-btn:focus,fieldset[disabled] .ivu-btn:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn.disabled.active>a:only-child,.ivu-btn.disabled:active>a:only-child,.ivu-btn.disabled:focus>a:only-child,.ivu-btn.disabled:hover>a:only-child,.ivu-btn.disabled>a:only-child,.ivu-btn[disabled].active>a:only-child,.ivu-btn[disabled]:active>a:only-child,.ivu-btn[disabled]:focus>a:only-child,.ivu-btn[disabled]:hover>a:only-child,.ivu-btn[disabled]>a:only-child,fieldset[disabled] .ivu-btn.active>a:only-child,fieldset[disabled] .ivu-btn:active>a:only-child,fieldset[disabled] .ivu-btn:focus>a:only-child,fieldset[disabled] .ivu-btn:hover>a:only-child,fieldset[disabled] .ivu-btn>a:only-child{color:currentColor}.ivu-btn.disabled.active>a:only-child:after,.ivu-btn.disabled:active>a:only-child:after,.ivu-btn.disabled:focus>a:only-child:after,.ivu-btn.disabled:hover>a:only-child:after,.ivu-btn.disabled>a:only-child:after,.ivu-btn[disabled].active>a:only-child:after,.ivu-btn[disabled]:active>a:only-child:after,.ivu-btn[disabled]:focus>a:only-child:after,.ivu-btn[disabled]:hover>a:only-child:after,.ivu-btn[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn.active>a:only-child:after,fieldset[disabled] .ivu-btn:active>a:only-child:after,fieldset[disabled] .ivu-btn:focus>a:only-child:after,fieldset[disabled] .ivu-btn:hover>a:only-child:after,fieldset[disabled] .ivu-btn>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn:hover{color:#57a3f3;background-color:#fff;border-color:#57a3f3}.ivu-btn:hover>a:only-child{color:currentColor}.ivu-btn:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn.active,.ivu-btn:active{color:#2b85e4;background-color:#fff;border-color:#2b85e4}.ivu-btn.active>a:only-child,.ivu-btn:active>a:only-child{color:currentColor}.ivu-btn.active>a:only-child:after,.ivu-btn:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn:focus{box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-btn-long{width:100%}.ivu-btn>.ivu-icon+span,.ivu-btn>span+.ivu-icon{margin-left:4px}.ivu-btn-primary{color:#fff;background-color:#2d8cf0;border-color:#2d8cf0}.ivu-btn-primary>a:only-child{color:currentColor}.ivu-btn-primary>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-primary:hover{color:#fff;background-color:#57a3f3;border-color:#57a3f3}.ivu-btn-primary:hover>a:only-child{color:currentColor}.ivu-btn-primary:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-primary.active,.ivu-btn-primary:active{color:#f2f2f2;background-color:#2b85e4;border-color:#2b85e4}.ivu-btn-primary.active>a:only-child,.ivu-btn-primary:active>a:only-child{color:currentColor}.ivu-btn-primary.active>a:only-child:after,.ivu-btn-primary:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-primary.disabled,.ivu-btn-primary.disabled.active,.ivu-btn-primary.disabled:active,.ivu-btn-primary.disabled:focus,.ivu-btn-primary.disabled:hover,.ivu-btn-primary[disabled],.ivu-btn-primary[disabled].active,.ivu-btn-primary[disabled]:active,.ivu-btn-primary[disabled]:focus,.ivu-btn-primary[disabled]:hover,fieldset[disabled] .ivu-btn-primary,fieldset[disabled] .ivu-btn-primary.active,fieldset[disabled] .ivu-btn-primary:active,fieldset[disabled] .ivu-btn-primary:focus,fieldset[disabled] .ivu-btn-primary:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-primary.disabled.active>a:only-child,.ivu-btn-primary.disabled:active>a:only-child,.ivu-btn-primary.disabled:focus>a:only-child,.ivu-btn-primary.disabled:hover>a:only-child,.ivu-btn-primary.disabled>a:only-child,.ivu-btn-primary[disabled].active>a:only-child,.ivu-btn-primary[disabled]:active>a:only-child,.ivu-btn-primary[disabled]:focus>a:only-child,.ivu-btn-primary[disabled]:hover>a:only-child,.ivu-btn-primary[disabled]>a:only-child,fieldset[disabled] .ivu-btn-primary.active>a:only-child,fieldset[disabled] .ivu-btn-primary:active>a:only-child,fieldset[disabled] .ivu-btn-primary:focus>a:only-child,fieldset[disabled] .ivu-btn-primary:hover>a:only-child,fieldset[disabled] .ivu-btn-primary>a:only-child{color:currentColor}.ivu-btn-primary.disabled.active>a:only-child:after,.ivu-btn-primary.disabled:active>a:only-child:after,.ivu-btn-primary.disabled:focus>a:only-child:after,.ivu-btn-primary.disabled:hover>a:only-child:after,.ivu-btn-primary.disabled>a:only-child:after,.ivu-btn-primary[disabled].active>a:only-child:after,.ivu-btn-primary[disabled]:active>a:only-child:after,.ivu-btn-primary[disabled]:focus>a:only-child:after,.ivu-btn-primary[disabled]:hover>a:only-child:after,.ivu-btn-primary[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-primary.active>a:only-child:after,fieldset[disabled] .ivu-btn-primary:active>a:only-child:after,fieldset[disabled] .ivu-btn-primary:focus>a:only-child:after,fieldset[disabled] .ivu-btn-primary:hover>a:only-child:after,fieldset[disabled] .ivu-btn-primary>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-primary.active,.ivu-btn-primary:active,.ivu-btn-primary:hover{color:#fff}.ivu-btn-primary:focus{box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary:not(:first-child):not(:last-child){border-right-color:#2b85e4;border-left-color:#2b85e4}.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary:first-child:not(:last-child){border-right-color:#2b85e4}.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary:first-child:not(:last-child)[disabled]{border-right-color:#dcdee2}.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary+.ivu-btn,.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary:last-child:not(:first-child){border-left-color:#2b85e4}.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary+.ivu-btn[disabled],.ivu-btn-group:not(.ivu-btn-group-vertical) .ivu-btn-primary:last-child:not(:first-child)[disabled]{border-left-color:#dcdee2}.ivu-btn-group-vertical .ivu-btn-primary:not(:first-child):not(:last-child){border-top-color:#2b85e4;border-bottom-color:#2b85e4}.ivu-btn-group-vertical .ivu-btn-primary:first-child:not(:last-child){border-bottom-color:#2b85e4}.ivu-btn-group-vertical .ivu-btn-primary:first-child:not(:last-child)[disabled]{border-top-color:#dcdee2}.ivu-btn-group-vertical .ivu-btn-primary+.ivu-btn,.ivu-btn-group-vertical .ivu-btn-primary:last-child:not(:first-child){border-top-color:#2b85e4}.ivu-btn-group-vertical .ivu-btn-primary+.ivu-btn[disabled],.ivu-btn-group-vertical .ivu-btn-primary:last-child:not(:first-child)[disabled]{border-bottom-color:#dcdee2}.ivu-btn-dashed{color:#515a6e;background-color:#fff;border-color:#dcdee2;border-style:dashed}.ivu-btn-dashed>a:only-child{color:currentColor}.ivu-btn-dashed>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-dashed:hover{color:#747b8b;border-color:#e3e5e8}.ivu-btn-dashed.active,.ivu-btn-dashed:active{color:#4d5669;background-color:#f2f2f2;border-color:#f2f2f2}.ivu-btn-dashed.disabled,.ivu-btn-dashed.disabled.active,.ivu-btn-dashed.disabled:active,.ivu-btn-dashed.disabled:focus,.ivu-btn-dashed.disabled:hover,.ivu-btn-dashed[disabled],.ivu-btn-dashed[disabled].active,.ivu-btn-dashed[disabled]:active,.ivu-btn-dashed[disabled]:focus,.ivu-btn-dashed[disabled]:hover,fieldset[disabled] .ivu-btn-dashed,fieldset[disabled] .ivu-btn-dashed.active,fieldset[disabled] .ivu-btn-dashed:active,fieldset[disabled] .ivu-btn-dashed:focus,fieldset[disabled] .ivu-btn-dashed:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-dashed.disabled.active>a:only-child,.ivu-btn-dashed.disabled:active>a:only-child,.ivu-btn-dashed.disabled:focus>a:only-child,.ivu-btn-dashed.disabled:hover>a:only-child,.ivu-btn-dashed.disabled>a:only-child,.ivu-btn-dashed[disabled].active>a:only-child,.ivu-btn-dashed[disabled]:active>a:only-child,.ivu-btn-dashed[disabled]:focus>a:only-child,.ivu-btn-dashed[disabled]:hover>a:only-child,.ivu-btn-dashed[disabled]>a:only-child,fieldset[disabled] .ivu-btn-dashed.active>a:only-child,fieldset[disabled] .ivu-btn-dashed:active>a:only-child,fieldset[disabled] .ivu-btn-dashed:focus>a:only-child,fieldset[disabled] .ivu-btn-dashed:hover>a:only-child,fieldset[disabled] .ivu-btn-dashed>a:only-child{color:currentColor}.ivu-btn-dashed.disabled.active>a:only-child:after,.ivu-btn-dashed.disabled:active>a:only-child:after,.ivu-btn-dashed.disabled:focus>a:only-child:after,.ivu-btn-dashed.disabled:hover>a:only-child:after,.ivu-btn-dashed.disabled>a:only-child:after,.ivu-btn-dashed[disabled].active>a:only-child:after,.ivu-btn-dashed[disabled]:active>a:only-child:after,.ivu-btn-dashed[disabled]:focus>a:only-child:after,.ivu-btn-dashed[disabled]:hover>a:only-child:after,.ivu-btn-dashed[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-dashed.active>a:only-child:after,fieldset[disabled] .ivu-btn-dashed:active>a:only-child:after,fieldset[disabled] .ivu-btn-dashed:focus>a:only-child:after,fieldset[disabled] .ivu-btn-dashed:hover>a:only-child:after,fieldset[disabled] .ivu-btn-dashed>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-dashed:hover{color:#57a3f3;background-color:#fff;border-color:#57a3f3}.ivu-btn-dashed:hover>a:only-child{color:currentColor}.ivu-btn-dashed:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-dashed.active,.ivu-btn-dashed:active{color:#2b85e4;background-color:#fff;border-color:#2b85e4}.ivu-btn-dashed.active>a:only-child,.ivu-btn-dashed:active>a:only-child{color:currentColor}.ivu-btn-dashed.active>a:only-child:after,.ivu-btn-dashed:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-dashed:focus{box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-btn-text{color:#515a6e;background-color:transparent;border-color:transparent}.ivu-btn-text>a:only-child{color:currentColor}.ivu-btn-text>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-text:hover{color:#747b8b;background-color:hsla(0,0%,100%,.2);border-color:hsla(0,0%,100%,.2)}.ivu-btn-text.active,.ivu-btn-text:active{color:#4d5669;background-color:rgba(0,0,0,.05);border-color:rgba(0,0,0,.05)}.ivu-btn-text.disabled,.ivu-btn-text.disabled.active,.ivu-btn-text.disabled:active,.ivu-btn-text.disabled:focus,.ivu-btn-text.disabled:hover,.ivu-btn-text[disabled],.ivu-btn-text[disabled].active,.ivu-btn-text[disabled]:active,.ivu-btn-text[disabled]:focus,.ivu-btn-text[disabled]:hover,fieldset[disabled] .ivu-btn-text,fieldset[disabled] .ivu-btn-text.active,fieldset[disabled] .ivu-btn-text:active,fieldset[disabled] .ivu-btn-text:focus,fieldset[disabled] .ivu-btn-text:hover{background-color:#f7f7f7;border-color:#dcdee2;color:#c5c8ce;background-color:#fff;border-color:transparent}.ivu-btn-text.disabled.active>a:only-child,.ivu-btn-text.disabled:active>a:only-child,.ivu-btn-text.disabled:focus>a:only-child,.ivu-btn-text.disabled:hover>a:only-child,.ivu-btn-text.disabled>a:only-child,.ivu-btn-text[disabled].active>a:only-child,.ivu-btn-text[disabled]:active>a:only-child,.ivu-btn-text[disabled]:focus>a:only-child,.ivu-btn-text[disabled]:hover>a:only-child,.ivu-btn-text[disabled]>a:only-child,fieldset[disabled] .ivu-btn-text.active>a:only-child,fieldset[disabled] .ivu-btn-text:active>a:only-child,fieldset[disabled] .ivu-btn-text:focus>a:only-child,fieldset[disabled] .ivu-btn-text:hover>a:only-child,fieldset[disabled] .ivu-btn-text>a:only-child{color:currentColor}.ivu-btn-text.disabled.active>a:only-child:after,.ivu-btn-text.disabled:active>a:only-child:after,.ivu-btn-text.disabled:focus>a:only-child:after,.ivu-btn-text.disabled:hover>a:only-child:after,.ivu-btn-text.disabled>a:only-child:after,.ivu-btn-text[disabled].active>a:only-child:after,.ivu-btn-text[disabled]:active>a:only-child:after,.ivu-btn-text[disabled]:focus>a:only-child:after,.ivu-btn-text[disabled]:hover>a:only-child:after,.ivu-btn-text[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-text.active>a:only-child:after,fieldset[disabled] .ivu-btn-text:active>a:only-child:after,fieldset[disabled] .ivu-btn-text:focus>a:only-child:after,fieldset[disabled] .ivu-btn-text:hover>a:only-child:after,fieldset[disabled] .ivu-btn-text>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-text:hover{color:#57a3f3;background-color:#fff;border-color:transparent}.ivu-btn-text:hover>a:only-child{color:currentColor}.ivu-btn-text:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-text.active,.ivu-btn-text:active{color:#2b85e4;background-color:#fff;border-color:transparent}.ivu-btn-text.active>a:only-child,.ivu-btn-text:active>a:only-child{color:currentColor}.ivu-btn-text.active>a:only-child:after,.ivu-btn-text:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-text:focus{box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-btn-success{color:#fff;background-color:#19be6b;border-color:#19be6b}.ivu-btn-success>a:only-child{color:currentColor}.ivu-btn-success>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-success:hover{color:#fff;background-color:#47cb89;border-color:#47cb89}.ivu-btn-success:hover>a:only-child{color:currentColor}.ivu-btn-success:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-success.active,.ivu-btn-success:active{color:#f2f2f2;background-color:#18b566;border-color:#18b566}.ivu-btn-success.active>a:only-child,.ivu-btn-success:active>a:only-child{color:currentColor}.ivu-btn-success.active>a:only-child:after,.ivu-btn-success:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-success.disabled,.ivu-btn-success.disabled.active,.ivu-btn-success.disabled:active,.ivu-btn-success.disabled:focus,.ivu-btn-success.disabled:hover,.ivu-btn-success[disabled],.ivu-btn-success[disabled].active,.ivu-btn-success[disabled]:active,.ivu-btn-success[disabled]:focus,.ivu-btn-success[disabled]:hover,fieldset[disabled] .ivu-btn-success,fieldset[disabled] .ivu-btn-success.active,fieldset[disabled] .ivu-btn-success:active,fieldset[disabled] .ivu-btn-success:focus,fieldset[disabled] .ivu-btn-success:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-success.disabled.active>a:only-child,.ivu-btn-success.disabled:active>a:only-child,.ivu-btn-success.disabled:focus>a:only-child,.ivu-btn-success.disabled:hover>a:only-child,.ivu-btn-success.disabled>a:only-child,.ivu-btn-success[disabled].active>a:only-child,.ivu-btn-success[disabled]:active>a:only-child,.ivu-btn-success[disabled]:focus>a:only-child,.ivu-btn-success[disabled]:hover>a:only-child,.ivu-btn-success[disabled]>a:only-child,fieldset[disabled] .ivu-btn-success.active>a:only-child,fieldset[disabled] .ivu-btn-success:active>a:only-child,fieldset[disabled] .ivu-btn-success:focus>a:only-child,fieldset[disabled] .ivu-btn-success:hover>a:only-child,fieldset[disabled] .ivu-btn-success>a:only-child{color:currentColor}.ivu-btn-success.disabled.active>a:only-child:after,.ivu-btn-success.disabled:active>a:only-child:after,.ivu-btn-success.disabled:focus>a:only-child:after,.ivu-btn-success.disabled:hover>a:only-child:after,.ivu-btn-success.disabled>a:only-child:after,.ivu-btn-success[disabled].active>a:only-child:after,.ivu-btn-success[disabled]:active>a:only-child:after,.ivu-btn-success[disabled]:focus>a:only-child:after,.ivu-btn-success[disabled]:hover>a:only-child:after,.ivu-btn-success[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-success.active>a:only-child:after,fieldset[disabled] .ivu-btn-success:active>a:only-child:after,fieldset[disabled] .ivu-btn-success:focus>a:only-child:after,fieldset[disabled] .ivu-btn-success:hover>a:only-child:after,fieldset[disabled] .ivu-btn-success>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-success.active,.ivu-btn-success:active,.ivu-btn-success:hover{color:#fff}.ivu-btn-success:focus{box-shadow:0 0 0 2px rgba(25,190,107,.2)}.ivu-btn-warning{color:#fff;background-color:#f90;border-color:#f90}.ivu-btn-warning>a:only-child{color:currentColor}.ivu-btn-warning>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-warning:hover{color:#fff;background-color:#ffad33;border-color:#ffad33}.ivu-btn-warning:hover>a:only-child{color:currentColor}.ivu-btn-warning:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-warning.active,.ivu-btn-warning:active{color:#f2f2f2;background-color:#f29100;border-color:#f29100}.ivu-btn-warning.active>a:only-child,.ivu-btn-warning:active>a:only-child{color:currentColor}.ivu-btn-warning.active>a:only-child:after,.ivu-btn-warning:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-warning.disabled,.ivu-btn-warning.disabled.active,.ivu-btn-warning.disabled:active,.ivu-btn-warning.disabled:focus,.ivu-btn-warning.disabled:hover,.ivu-btn-warning[disabled],.ivu-btn-warning[disabled].active,.ivu-btn-warning[disabled]:active,.ivu-btn-warning[disabled]:focus,.ivu-btn-warning[disabled]:hover,fieldset[disabled] .ivu-btn-warning,fieldset[disabled] .ivu-btn-warning.active,fieldset[disabled] .ivu-btn-warning:active,fieldset[disabled] .ivu-btn-warning:focus,fieldset[disabled] .ivu-btn-warning:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-warning.disabled.active>a:only-child,.ivu-btn-warning.disabled:active>a:only-child,.ivu-btn-warning.disabled:focus>a:only-child,.ivu-btn-warning.disabled:hover>a:only-child,.ivu-btn-warning.disabled>a:only-child,.ivu-btn-warning[disabled].active>a:only-child,.ivu-btn-warning[disabled]:active>a:only-child,.ivu-btn-warning[disabled]:focus>a:only-child,.ivu-btn-warning[disabled]:hover>a:only-child,.ivu-btn-warning[disabled]>a:only-child,fieldset[disabled] .ivu-btn-warning.active>a:only-child,fieldset[disabled] .ivu-btn-warning:active>a:only-child,fieldset[disabled] .ivu-btn-warning:focus>a:only-child,fieldset[disabled] .ivu-btn-warning:hover>a:only-child,fieldset[disabled] .ivu-btn-warning>a:only-child{color:currentColor}.ivu-btn-warning.disabled.active>a:only-child:after,.ivu-btn-warning.disabled:active>a:only-child:after,.ivu-btn-warning.disabled:focus>a:only-child:after,.ivu-btn-warning.disabled:hover>a:only-child:after,.ivu-btn-warning.disabled>a:only-child:after,.ivu-btn-warning[disabled].active>a:only-child:after,.ivu-btn-warning[disabled]:active>a:only-child:after,.ivu-btn-warning[disabled]:focus>a:only-child:after,.ivu-btn-warning[disabled]:hover>a:only-child:after,.ivu-btn-warning[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-warning.active>a:only-child:after,fieldset[disabled] .ivu-btn-warning:active>a:only-child:after,fieldset[disabled] .ivu-btn-warning:focus>a:only-child:after,fieldset[disabled] .ivu-btn-warning:hover>a:only-child:after,fieldset[disabled] .ivu-btn-warning>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-warning.active,.ivu-btn-warning:active,.ivu-btn-warning:hover{color:#fff}.ivu-btn-warning:focus{box-shadow:0 0 0 2px rgba(255,153,0,.2)}.ivu-btn-error{color:#fff;background-color:#ed4014;border-color:#ed4014}.ivu-btn-error>a:only-child{color:currentColor}.ivu-btn-error>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-error:hover{color:#fff;background-color:#f16643;border-color:#f16643}.ivu-btn-error:hover>a:only-child{color:currentColor}.ivu-btn-error:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-error.active,.ivu-btn-error:active{color:#f2f2f2;background-color:#e13d13;border-color:#e13d13}.ivu-btn-error.active>a:only-child,.ivu-btn-error:active>a:only-child{color:currentColor}.ivu-btn-error.active>a:only-child:after,.ivu-btn-error:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-error.disabled,.ivu-btn-error.disabled.active,.ivu-btn-error.disabled:active,.ivu-btn-error.disabled:focus,.ivu-btn-error.disabled:hover,.ivu-btn-error[disabled],.ivu-btn-error[disabled].active,.ivu-btn-error[disabled]:active,.ivu-btn-error[disabled]:focus,.ivu-btn-error[disabled]:hover,fieldset[disabled] .ivu-btn-error,fieldset[disabled] .ivu-btn-error.active,fieldset[disabled] .ivu-btn-error:active,fieldset[disabled] .ivu-btn-error:focus,fieldset[disabled] .ivu-btn-error:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-error.disabled.active>a:only-child,.ivu-btn-error.disabled:active>a:only-child,.ivu-btn-error.disabled:focus>a:only-child,.ivu-btn-error.disabled:hover>a:only-child,.ivu-btn-error.disabled>a:only-child,.ivu-btn-error[disabled].active>a:only-child,.ivu-btn-error[disabled]:active>a:only-child,.ivu-btn-error[disabled]:focus>a:only-child,.ivu-btn-error[disabled]:hover>a:only-child,.ivu-btn-error[disabled]>a:only-child,fieldset[disabled] .ivu-btn-error.active>a:only-child,fieldset[disabled] .ivu-btn-error:active>a:only-child,fieldset[disabled] .ivu-btn-error:focus>a:only-child,fieldset[disabled] .ivu-btn-error:hover>a:only-child,fieldset[disabled] .ivu-btn-error>a:only-child{color:currentColor}.ivu-btn-error.disabled.active>a:only-child:after,.ivu-btn-error.disabled:active>a:only-child:after,.ivu-btn-error.disabled:focus>a:only-child:after,.ivu-btn-error.disabled:hover>a:only-child:after,.ivu-btn-error.disabled>a:only-child:after,.ivu-btn-error[disabled].active>a:only-child:after,.ivu-btn-error[disabled]:active>a:only-child:after,.ivu-btn-error[disabled]:focus>a:only-child:after,.ivu-btn-error[disabled]:hover>a:only-child:after,.ivu-btn-error[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-error.active>a:only-child:after,fieldset[disabled] .ivu-btn-error:active>a:only-child:after,fieldset[disabled] .ivu-btn-error:focus>a:only-child:after,fieldset[disabled] .ivu-btn-error:hover>a:only-child:after,fieldset[disabled] .ivu-btn-error>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-error.active,.ivu-btn-error:active,.ivu-btn-error:hover{color:#fff}.ivu-btn-error:focus{box-shadow:0 0 0 2px rgba(237,64,20,.2)}.ivu-btn-info{color:#fff;background-color:#2db7f5;border-color:#2db7f5}.ivu-btn-info>a:only-child{color:currentColor}.ivu-btn-info>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-info:hover{color:#fff;background-color:#57c5f7;border-color:#57c5f7}.ivu-btn-info:hover>a:only-child{color:currentColor}.ivu-btn-info:hover>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-info.active,.ivu-btn-info:active{color:#f2f2f2;background-color:#2baee9;border-color:#2baee9}.ivu-btn-info.active>a:only-child,.ivu-btn-info:active>a:only-child{color:currentColor}.ivu-btn-info.active>a:only-child:after,.ivu-btn-info:active>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-info.disabled,.ivu-btn-info.disabled.active,.ivu-btn-info.disabled:active,.ivu-btn-info.disabled:focus,.ivu-btn-info.disabled:hover,.ivu-btn-info[disabled],.ivu-btn-info[disabled].active,.ivu-btn-info[disabled]:active,.ivu-btn-info[disabled]:focus,.ivu-btn-info[disabled]:hover,fieldset[disabled] .ivu-btn-info,fieldset[disabled] .ivu-btn-info.active,fieldset[disabled] .ivu-btn-info:active,fieldset[disabled] .ivu-btn-info:focus,fieldset[disabled] .ivu-btn-info:hover{color:#c5c8ce;background-color:#f7f7f7;border-color:#dcdee2}.ivu-btn-info.disabled.active>a:only-child,.ivu-btn-info.disabled:active>a:only-child,.ivu-btn-info.disabled:focus>a:only-child,.ivu-btn-info.disabled:hover>a:only-child,.ivu-btn-info.disabled>a:only-child,.ivu-btn-info[disabled].active>a:only-child,.ivu-btn-info[disabled]:active>a:only-child,.ivu-btn-info[disabled]:focus>a:only-child,.ivu-btn-info[disabled]:hover>a:only-child,.ivu-btn-info[disabled]>a:only-child,fieldset[disabled] .ivu-btn-info.active>a:only-child,fieldset[disabled] .ivu-btn-info:active>a:only-child,fieldset[disabled] .ivu-btn-info:focus>a:only-child,fieldset[disabled] .ivu-btn-info:hover>a:only-child,fieldset[disabled] .ivu-btn-info>a:only-child{color:currentColor}.ivu-btn-info.disabled.active>a:only-child:after,.ivu-btn-info.disabled:active>a:only-child:after,.ivu-btn-info.disabled:focus>a:only-child:after,.ivu-btn-info.disabled:hover>a:only-child:after,.ivu-btn-info.disabled>a:only-child:after,.ivu-btn-info[disabled].active>a:only-child:after,.ivu-btn-info[disabled]:active>a:only-child:after,.ivu-btn-info[disabled]:focus>a:only-child:after,.ivu-btn-info[disabled]:hover>a:only-child:after,.ivu-btn-info[disabled]>a:only-child:after,fieldset[disabled] .ivu-btn-info.active>a:only-child:after,fieldset[disabled] .ivu-btn-info:active>a:only-child:after,fieldset[disabled] .ivu-btn-info:focus>a:only-child:after,fieldset[disabled] .ivu-btn-info:hover>a:only-child:after,fieldset[disabled] .ivu-btn-info>a:only-child:after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:0 0}.ivu-btn-info.active,.ivu-btn-info:active,.ivu-btn-info:hover{color:#fff}.ivu-btn-info:focus{box-shadow:0 0 0 2px rgba(45,183,245,.2)}.ivu-btn-circle,.ivu-btn-circle-outline{border-radius:32px}.ivu-btn-circle-outline.ivu-btn-large,.ivu-btn-circle.ivu-btn-large{border-radius:40px}.ivu-btn-circle-outline.ivu-btn-size,.ivu-btn-circle.ivu-btn-size{border-radius:24px}.ivu-btn-circle-outline.ivu-btn-icon-only,.ivu-btn-circle.ivu-btn-icon-only{width:32px;height:32px;padding:0;font-size:16px;border-radius:50%}.ivu-btn-circle-outline.ivu-btn-icon-only.ivu-btn-large,.ivu-btn-circle.ivu-btn-icon-only.ivu-btn-large{width:40px;height:40px;padding:0;font-size:18px;border-radius:50%}.ivu-btn-circle-outline.ivu-btn-icon-only.ivu-btn-small,.ivu-btn-circle.ivu-btn-icon-only.ivu-btn-small{width:24px;height:24px;padding:0;font-size:14px;border-radius:50%}.ivu-btn:before{position:absolute;top:-1px;left:-1px;bottom:-1px;right:-1px;background:#fff;opacity:.35;content:"";border-radius:inherit;z-index:1;transition:opacity .2s;pointer-events:none;display:none}.ivu-btn.ivu-btn-loading{pointer-events:none;position:relative}.ivu-btn.ivu-btn-loading:before{display:block}.ivu-btn-group{position:relative;display:inline-block;vertical-align:middle}.ivu-btn-group>.ivu-btn{position:relative;float:left}.ivu-btn-group>.ivu-btn.active,.ivu-btn-group>.ivu-btn:active,.ivu-btn-group>.ivu-btn:hover{z-index:2}.ivu-btn-group-circle .ivu-btn{border-radius:32px}.ivu-btn-group-large.ivu-btn-group-circle .ivu-btn{border-radius:40px}.ivu-btn-group-large>.ivu-btn{height:40px;padding:0 15px;font-size:16px;border-radius:4px}.ivu-btn-group-small.ivu-btn-group-circle .ivu-btn{border-radius:24px}.ivu-btn-group-small>.ivu-btn{height:24px;padding:0 7px;font-size:14px;border-radius:3px}.ivu-btn-group-small>.ivu-btn>.ivu-icon{font-size:14px}.ivu-btn-group-small .ivu-btn-icon-only{width:24px;height:24px;padding:0}.ivu-btn-group-large .ivu-btn-icon-only{width:40px;height:40px;padding:0}.ivu-btn+.ivu-btn-group,.ivu-btn-group+.ivu-btn,.ivu-btn-group+.ivu-btn-group,.ivu-btn-group .ivu-btn+.ivu-btn{margin-left:-1px}.ivu-btn-group .ivu-btn:not(:first-child):not(:last-child){border-radius:0}.ivu-btn-group:not(.ivu-btn-group-vertical)>.ivu-btn:first-child{margin-left:0}.ivu-btn-group:not(.ivu-btn-group-vertical)>.ivu-btn:first-child:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.ivu-btn-group:not(.ivu-btn-group-vertical)>.ivu-btn:last-child:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.ivu-btn-group>.ivu-btn-group{float:left}.ivu-btn-group>.ivu-btn-group:not(:first-child):not(:last-child)>.ivu-btn{border-radius:0}.ivu-btn-group:not(.ivu-btn-group-vertical)>.ivu-btn-group:first-child:not(:last-child)>.ivu-btn:last-child{border-bottom-right-radius:0;border-top-right-radius:0;padding-right:8px}.ivu-btn-group:not(.ivu-btn-group-vertical)>.ivu-btn-group:last-child:not(:first-child)>.ivu-btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0;padding-left:8px}.ivu-btn-group-vertical{display:inline-block;vertical-align:middle}.ivu-btn-group-vertical>.ivu-btn{display:block;width:100%;max-width:100%;float:none;min-width:32px}.ivu-btn-group-vertical.ivu-btn-group-small>.ivu-btn{min-width:24px}.ivu-btn-group-vertical.ivu-btn-group-large>.ivu-btn{min-width:40px}.ivu-btn+.ivu-btn-group-vertical,.ivu-btn-group-vertical+.ivu-btn,.ivu-btn-group-vertical+.ivu-btn-group-vertical,.ivu-btn-group-vertical .ivu-btn+.ivu-btn{margin-top:-1px;margin-left:0}.ivu-btn-group-vertical>.ivu-btn:first-child{margin-top:0}.ivu-btn-group-vertical>.ivu-btn:first-child:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0}.ivu-btn-group-vertical>.ivu-btn:last-child:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.ivu-btn-group-vertical>.ivu-btn-group-vertical:first-child:not(:last-child)>.ivu-btn:last-child{border-bottom-left-radius:0;border-bottom-right-radius:0;padding-bottom:8px}.ivu-btn-group-vertical>.ivu-btn-group-vertical:last-child:not(:first-child)>.ivu-btn:first-child{border-bottom-right-radius:0;border-bottom-left-radius:0;padding-top:8px}.ivu-btn-ghost{color:#fff;background:0 0}.ivu-btn-ghost:hover{background:0 0}.ivu-btn-ghost.ivu-btn-dashed,.ivu-btn-ghost.ivu-btn-default{color:#fff;border-color:#fff}.ivu-btn-ghost.ivu-btn-dashed:hover,.ivu-btn-ghost.ivu-btn-default:hover{color:#57a3f3;border-color:#57a3f3}.ivu-btn-ghost.ivu-btn-primary{color:#2d8cf0}.ivu-btn-ghost.ivu-btn-primary:hover{color:#57a3f3;background:rgba(245,249,254,.5)}.ivu-btn-ghost.ivu-btn-info{color:#2db7f5}.ivu-btn-ghost.ivu-btn-info:hover{color:#57c5f7;background:rgba(245,251,254,.5)}.ivu-btn-ghost.ivu-btn-success{color:#19be6b}.ivu-btn-ghost.ivu-btn-success:hover{color:#47cb89;background:rgba(244,252,248,.5)}.ivu-btn-ghost.ivu-btn-warning{color:#f90}.ivu-btn-ghost.ivu-btn-warning:hover{color:#ffad33;background:rgba(255,250,242,.5)}.ivu-btn-ghost.ivu-btn-error{color:#ed4014}.ivu-btn-ghost.ivu-btn-error:hover{color:#f16643;background:rgba(254,245,243,.5)}.ivu-btn-ghost.ivu-btn-dashed[disabled],.ivu-btn-ghost.ivu-btn-default[disabled],.ivu-btn-ghost.ivu-btn-error[disabled],.ivu-btn-ghost.ivu-btn-info[disabled],.ivu-btn-ghost.ivu-btn-primary[disabled],.ivu-btn-ghost.ivu-btn-success[disabled],.ivu-btn-ghost.ivu-btn-warning[disabled]{background:0 0;color:rgba(0,0,0,.25);border-color:#dcdee2}.ivu-btn-ghost.ivu-btn-text[disabled]{background:0 0;color:rgba(0,0,0,.25)}a.ivu-btn{padding-top:.1px;line-height:30px}a.ivu-btn-large{line-height:38px}a.ivu-btn-small{line-height:22px}.ivu-affix,.ivu-back-top{position:fixed;z-index:10}.ivu-back-top{cursor:pointer;display:none}.ivu-back-top.ivu-back-top-show{display:block}.ivu-back-top-inner{background-color:rgba(0,0,0,.6);border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.2);transition:all .2s ease-in-out}.ivu-back-top-inner:hover{background-color:rgba(0,0,0,.7)}.ivu-back-top i{color:#fff;font-size:24px;padding:8px 12px}.ivu-badge{position:relative;display:inline-block}.ivu-badge-count{font-family:"Monospaced Number";line-height:1;vertical-align:middle;position:absolute;transform:translateX(50%);top:-10px;right:0;height:20px;border-radius:10px;min-width:20px;background:#ed4014;border:1px solid transparent;color:#fff;line-height:18px;text-align:center;padding:0 6px;font-size:12px;white-space:nowrap;transform-origin:-10% center;z-index:10;box-shadow:0 0 0 1px #fff}.ivu-badge-count-custom{background:0 0;color:inherit;border-color:transparent;box-shadow:none}.ivu-badge-count a,.ivu-badge-count a:hover{color:#fff}.ivu-badge-count-alone{top:auto;display:block;position:relative;transform:translateX(0)}.ivu-badge-count-primary{background:#2d8cf0}.ivu-badge-count-success{background:#19be6b}.ivu-badge-count-error{background:#ed4014}.ivu-badge-count-warning{background:#f90}.ivu-badge-count-info{background:#2db7f5}.ivu-badge-count-normal{background:#e6ebf1;color:#808695}.ivu-badge-dot{position:absolute;transform:translateX(-50%);transform-origin:0 center;top:-4px;right:-8px;height:8px;width:8px;border-radius:100%;background:#ed4014;z-index:10;box-shadow:0 0 0 1px #fff}.ivu-badge-status{line-height:inherit;vertical-align:baseline}.ivu-badge-status-dot{width:6px;height:6px;display:inline-block;border-radius:50%;vertical-align:middle;position:relative;top:-1px}.ivu-badge-status-success{background-color:#19be6b}.ivu-badge-status-processing{background-color:#2d8cf0;position:relative}.ivu-badge-status-processing:after{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;border:1px solid #2d8cf0;content:"";animation:aniStatusProcessing 1.2s ease-in-out infinite}.ivu-badge-status-default{background-color:#e6ebf1}.ivu-badge-status-error{background-color:#ed4014}.ivu-badge-status-warning{background-color:#f90}.ivu-badge-status-text{display:inline-block;color:#515a6e;font-size:14px;margin-left:6px}.ivu-badge-status-magenta,.ivu-badge-status-pink{background-color:#eb2f96}.ivu-badge-status-red{background-color:#f5222d}.ivu-badge-status-volcano{background-color:#fa541c}.ivu-badge-status-orange{background-color:#fa8c16}.ivu-badge-status-yellow{background-color:#fadb14}.ivu-badge-status-gold{background-color:#faad14}.ivu-badge-status-cyan{background-color:#13c2c2}.ivu-badge-status-lime{background-color:#a0d911}.ivu-badge-status-green{background-color:#52c41a}.ivu-badge-status-blue{background-color:#1890ff}.ivu-badge-status-geekblue{background-color:#2f54eb}.ivu-badge-status-purple{background-color:#722ed1}@keyframes aniStatusProcessing{0%{transform:scale(.8);opacity:.5}to{transform:scale(2.4);opacity:0}}.ivu-chart-circle{display:inline-block;position:relative}.ivu-chart-circle-inner{width:100%;text-align:center;position:absolute;left:0;top:50%;transform:translateY(-50%);line-height:1}.ivu-spin{color:#2d8cf0;vertical-align:middle;text-align:center}.ivu-spin-dot{position:relative;display:block;border-radius:50%;background-color:#2d8cf0;width:20px;height:20px;animation:ani-spin-bounce 1s ease-in-out 0s infinite}.ivu-spin-large .ivu-spin-dot{width:32px;height:32px}.ivu-spin-small .ivu-spin-dot{width:12px;height:12px}.ivu-spin-fix{position:absolute;top:0;left:0;z-index:8;width:100%;height:100%;background-color:hsla(0,0%,100%,.9)}.ivu-spin-fullscreen{z-index:2010}.ivu-spin-fullscreen-wrapper{position:fixed;top:0;right:0;bottom:0;left:0}.ivu-spin-fix .ivu-spin-main{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ivu-spin-fix .ivu-spin-dot{display:inline-block}.ivu-spin-show-text .ivu-spin-dot,.ivu-spin-text{display:none}.ivu-spin-show-text .ivu-spin-text{display:block}.ivu-table-wrapper>.ivu-spin-fix{border:none}.ivu-table-wrapper-with-border>.ivu-spin-fix{border:1px solid #dcdee2;border-top:0;border-left:0}@keyframes ani-spin-bounce{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}.ivu-alert{position:relative;padding:8px 48px 8px 16px;border-radius:4px;color:#515a6e;font-size:14px;line-height:16px;margin-bottom:10px}.ivu-alert.ivu-alert-with-icon{padding:8px 48px 8px 38px}.ivu-alert-icon{font-size:16px;top:6px;left:12px;position:absolute}.ivu-alert-desc{font-size:14px;color:#515a6e;line-height:21px;display:none;text-align:justify}.ivu-alert-success{border:1px solid #8ce6b0;background-color:#edfff3}.ivu-alert-success .ivu-alert-icon{color:#19be6b}.ivu-alert-info{border:1px solid #abdcff;background-color:#f0faff}.ivu-alert-info .ivu-alert-icon{color:#2d8cf0}.ivu-alert-warning{border:1px solid #ffd77a;background-color:#fff9e6}.ivu-alert-warning .ivu-alert-icon{color:#f90}.ivu-alert-error{border:1px solid #ffb08f;background-color:#ffefe6}.ivu-alert-error .ivu-alert-icon{color:#ed4014}.ivu-alert-close{font-size:12px;position:absolute;right:8px;top:8px;overflow:hidden;cursor:pointer}.ivu-alert-close .ivu-icon-ios-close{font-size:22px;color:#999;transition:color .2s ease;position:relative;top:-3px}.ivu-alert-close .ivu-icon-ios-close:hover{color:#444}.ivu-alert-with-desc{padding:16px;position:relative;border-radius:4px;margin-bottom:10px;color:#515a6e;line-height:1.5}.ivu-alert-with-desc.ivu-alert-with-icon{padding:16px 16px 16px 69px}.ivu-alert-with-desc .ivu-alert-desc{display:block}.ivu-alert-with-desc .ivu-alert-message{font-size:16px;color:#17233d;display:block;margin-bottom:4px}.ivu-alert-with-desc .ivu-alert-icon{top:50%;left:24px;margin-top:-24px;font-size:28px}.ivu-alert-with-banner{border-radius:0}.ivu-collapse{background-color:#f7f7f7;border-radius:3px;border:1px solid #dcdee2}.ivu-collapse-simple{border-left:none;border-right:none;background-color:#fff;border-radius:0}.ivu-collapse>.ivu-collapse-item{border-top:1px solid #dcdee2}.ivu-collapse>.ivu-collapse-item:first-child{border-top:0}.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header{height:38px;line-height:38px;padding-left:16px;color:#666;cursor:pointer;position:relative;border-bottom:1px solid transparent;transition:all .2s ease-in-out}.ivu-collapse>.ivu-collapse-item>.ivu-collapse-header>i{transition:transform .2s ease-in-out;margin-right:14px}.ivu-collapse>.ivu-collapse-item.ivu-collapse-item-active>.ivu-collapse-header{border-bottom:1px solid #dcdee2}.ivu-collapse-simple>.ivu-collapse-item.ivu-collapse-item-active>.ivu-collapse-header{border-bottom:1px solid transparent}.ivu-collapse>.ivu-collapse-item.ivu-collapse-item-active>.ivu-collapse-header>i{transform:rotate(90deg)}.ivu-collapse-content{color:#515a6e;padding:0 16px;background-color:#fff}.ivu-collapse-content>.ivu-collapse-content-box{padding-top:16px;padding-bottom:16px}.ivu-collapse-simple>.ivu-collapse-item>.ivu-collapse-content>.ivu-collapse-content-box{padding-top:0}.ivu-collapse-item:last-child>.ivu-collapse-content{border-radius:0 0 3px 3px}.ivu-card{display:block;background:#fff;border-radius:4px;font-size:14px;position:relative;transition:all .2s ease-in-out}.ivu-card-bordered{border:1px solid #e8eaec}.ivu-card-shadow{box-shadow:0 1px 1px 0 rgba(0,0,0,.1)}.ivu-card:hover{box-shadow:0 1px 6px rgba(0,0,0,.2);border-color:#eee}.ivu-card.ivu-card-dis-hover:hover{box-shadow:none;border-color:transparent}.ivu-card.ivu-card-dis-hover.ivu-card-bordered:hover{border-color:#e8eaec}.ivu-card.ivu-card-shadow:hover{box-shadow:0 1px 1px 0 rgba(0,0,0,.1)}.ivu-card-head{border-bottom:1px solid #e8eaec;padding:14px 16px;line-height:1}.ivu-card-head-inner,.ivu-card-head p{display:inline-block;width:100%;height:20px;line-height:20px;font-size:16px;color:#17233d;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-card-extra{position:absolute;right:16px;top:14px}.ivu-card-body{padding:16px}.ivu-message{font-size:14px;position:fixed;z-index:1010;width:100%;top:16px;left:0;pointer-events:none}.ivu-message-notice{padding:8px;text-align:center;transition:height .3s ease-in-out,padding .3s ease-in-out}.ivu-message-notice:first-child{margin-top:-8px}.ivu-message-notice-close{position:absolute;right:4px;top:10px;color:#999;outline:0}.ivu-message-notice-close i.ivu-icon{font-size:22px;color:#999;transition:color .2s ease;position:relative;top:-3px}.ivu-message-notice-close i.ivu-icon:hover{color:#444}.ivu-message-notice-content{display:inline-block;pointer-events:all;padding:8px 16px;border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2);background:#fff;position:relative}.ivu-message-notice-content-text{display:inline-block}.ivu-message-notice-closable .ivu-message-notice-content-text{padding-right:32px}.ivu-message-success .ivu-icon{color:#19be6b}.ivu-message-error .ivu-icon{color:#ed4014}.ivu-message-warning .ivu-icon{color:#f90}.ivu-message-info .ivu-icon,.ivu-message-loading .ivu-icon{color:#2d8cf0}.ivu-message .ivu-icon{margin-right:4px;font-size:16px;vertical-align:middle}.ivu-message-custom-content span{vertical-align:middle}.ivu-message-notice-with-background .ivu-message-notice-content-background{box-shadow:none}.ivu-message-notice-with-background .ivu-message-notice-content-info{background:#f0faff;color:#2e8bf0;border:1px solid #d4eeff}.ivu-message-notice-with-background .ivu-message-notice-content-success{background:#edfff3;color:#19bf6c;border:1px solid #bbf2cf}.ivu-message-notice-with-background .ivu-message-notice-content-warning{background:#fff9e6;color:#f90;border:1px solid #ffe7a3}.ivu-message-notice-with-background .ivu-message-notice-content-error{background:#ffefe6;color:#ed3f13;border:1px solid #ffcfb8}.ivu-notice{width:335px;margin-right:24px;position:fixed;z-index:1010}.ivu-notice-content-with-icon,.ivu-notice-with-desc.ivu-notice-with-icon .ivu-notice-title{margin-left:51px}.ivu-notice-notice{margin-bottom:10px;padding:16px;border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2);background:#fff;line-height:1;position:relative;overflow:hidden}.ivu-notice-notice-close{position:absolute;right:8px;top:15px;color:#999;outline:0}.ivu-notice-notice-close i{font-size:22px;color:#999;transition:color .2s ease;position:relative;top:-3px}.ivu-notice-notice-close i:hover{color:#444}.ivu-notice-notice-content-with-render .ivu-notice-desc{display:none}.ivu-notice-notice-with-desc .ivu-notice-notice-close{top:11px}.ivu-notice-content-with-render-notitle{margin-left:26px}.ivu-notice-title{font-size:16px;line-height:19px;color:#17233d;padding-right:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-notice-with-desc .ivu-notice-title{margin-bottom:8px}.ivu-notice-desc{font-size:14px;color:#515a6e;text-align:justify;line-height:1.5}.ivu-notice-with-desc.ivu-notice-with-icon .ivu-notice-desc{margin-left:51px}.ivu-notice-with-icon .ivu-notice-title{margin-left:26px}.ivu-notice-icon{position:absolute;top:-2px;font-size:20px}.ivu-notice-icon-success{color:#19be6b}.ivu-notice-icon-info{color:#2d8cf0}.ivu-notice-icon-warning{color:#f90}.ivu-notice-icon-error{color:#ed4014}.ivu-notice-with-desc .ivu-notice-icon{font-size:36px;top:-6px}.ivu-notice-custom-content{position:relative}.ivu-radio-focus{box-shadow:0 0 0 2px rgba(45,140,240,.2);z-index:1}.ivu-radio-group{display:inline-block;font-size:14px;vertical-align:middle}.ivu-radio-group-vertical .ivu-radio-wrapper{display:block;height:30px;line-height:30px}.ivu-radio-wrapper{font-size:14px;vertical-align:middle;display:inline-block;position:relative;white-space:nowrap;margin-right:8px;cursor:pointer}.ivu-radio-wrapper-disabled{cursor:not-allowed}.ivu-radio{display:inline-block;margin-right:4px;white-space:nowrap;position:relative;line-height:1;vertical-align:middle;cursor:pointer}.ivu-radio:hover .ivu-radio-inner{border-color:#bcbcbc}.ivu-radio-inner{display:inline-block;width:16px;height:16px;position:relative;top:0;left:0;background-color:#fff;border:1px solid #dcdee2;border-radius:50%;transition:all .2s ease-in-out}.ivu-radio-inner:after{position:absolute;width:10px;height:10px;left:2px;top:2px;border-radius:6px;display:table;border-top:0;border-left:0;content:" ";background-color:#2d8cf0;opacity:0;transition:all .2s ease-in-out;transform:scale(0)}.ivu-radio-large{font-size:16px}.ivu-radio-large .ivu-radio-inner{width:18px;height:18px}.ivu-radio-large .ivu-radio-inner:after{width:12px;height:12px}.ivu-radio-large.ivu-radio-wrapper,.ivu-radio-large .ivu-radio-wrapper{font-size:16px}.ivu-radio-small .ivu-radio-inner{width:14px;height:14px}.ivu-radio-small .ivu-radio-inner:after{width:8px;height:8px}.ivu-radio-input{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;opacity:0;cursor:pointer}.ivu-radio-border{border:1px solid #dcdee2;border-radius:4px;height:32px;line-height:30px;padding:0 15px;transition:border .2s ease-in-out}.ivu-radio-group-small .ivu-radio-border,.ivu-radio-small.ivu-radio-border{height:24px;line-height:22px;padding:0 7px}.ivu-radio-group-large .ivu-radio-border,.ivu-radio-large.ivu-radio-border{height:40px;line-height:36px;padding:0 15px}.ivu-radio-wrapper-checked.ivu-radio-border{border-color:#2d8cf0}.ivu-radio-wrapper-disabled.ivu-radio-border{border-color:#dcdee2}.ivu-radio-checked .ivu-radio-inner{border-color:#2d8cf0}.ivu-radio-checked .ivu-radio-inner:after{opacity:1;transform:scale(1);transition:all .2s ease-in-out}.ivu-radio-checked:hover .ivu-radio-inner{border-color:#2d8cf0}.ivu-radio-disabled,.ivu-radio-disabled .ivu-radio-input{cursor:not-allowed}.ivu-radio-disabled:hover .ivu-radio-inner{border-color:#dcdee2}.ivu-radio-disabled .ivu-radio-inner{border-color:#dcdee2;background-color:#f3f3f3}.ivu-radio-disabled .ivu-radio-inner:after{background-color:#ccc}.ivu-radio-disabled .ivu-radio-disabled+span{color:#ccc}span.ivu-radio+*{margin-left:2px;margin-right:2px}.ivu-radio-group-button{font-size:0;-webkit-text-size-adjust:none}.ivu-radio-group-button .ivu-radio{width:0;margin-right:0}.ivu-radio-group-button .ivu-radio-wrapper{display:inline-block;height:32px;line-height:30px;margin:0;padding:0 15px;font-size:14px;color:#515a6e;transition:all .2s ease-in-out;cursor:pointer;border:1px solid #dcdee2;border-left:0;background:#fff;position:relative}.ivu-radio-group-button .ivu-radio-wrapper>span{margin-left:0}.ivu-radio-group-button .ivu-radio-wrapper:after,.ivu-radio-group-button .ivu-radio-wrapper:before{content:"";display:block;position:absolute;width:1px;height:100%;left:-1px;top:0;background:#dcdee2;transition:all .2s ease-in-out}.ivu-radio-group-button .ivu-radio-wrapper:after{height:36px;left:-1px;top:-3px;background:rgba(45,140,240,.2);opacity:0}.ivu-radio-group-button .ivu-radio-wrapper:first-child{border-radius:4px 0 0 4px;border-left:1px solid #dcdee2}.ivu-radio-group-button .ivu-radio-wrapper:first-child:after,.ivu-radio-group-button .ivu-radio-wrapper:first-child:before{display:none}.ivu-radio-group-button .ivu-radio-wrapper:last-child{border-radius:0 4px 4px 0}.ivu-radio-group-button .ivu-radio-wrapper:first-child:last-child{border-radius:4px}.ivu-radio-group-button .ivu-radio-wrapper:hover{position:relative;color:#2d8cf0}.ivu-radio-group-button .ivu-radio-wrapper:hover .ivu-radio{background-color:#000}.ivu-radio-group-button .ivu-radio-wrapper .ivu-radio-inner,.ivu-radio-group-button .ivu-radio-wrapper input{opacity:0;width:0;height:0}.ivu-radio-group-button .ivu-radio-wrapper-checked{background:#fff;border-color:#2d8cf0;color:#2d8cf0;box-shadow:-1px 0 0 0 #2d8cf0;z-index:1}.ivu-radio-group-button .ivu-radio-wrapper-checked:before{background:#2d8cf0;opacity:.1}.ivu-radio-group-button .ivu-radio-wrapper-checked.ivu-radio-focus{box-shadow:-1px 0 0 0 #2d8cf0,0 0 0 2px rgba(45,140,240,.2);transition:all .2s ease-in-out}.ivu-radio-group-button .ivu-radio-wrapper-checked.ivu-radio-focus:after{left:-3px;top:-3px;opacity:1;background:rgba(45,140,240,.2)}.ivu-radio-group-button .ivu-radio-wrapper-checked.ivu-radio-focus:first-child{box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-radio-group-button .ivu-radio-wrapper-checked:first-child{border-color:#2d8cf0;box-shadow:none}.ivu-radio-group-button .ivu-radio-wrapper-checked:hover{border-color:#57a3f3;color:#57a3f3}.ivu-radio-group-button .ivu-radio-wrapper-checked:active{border-color:#2b85e4;color:#2b85e4}.ivu-radio-group-button .ivu-radio-wrapper-disabled{cursor:not-allowed}.ivu-radio-group-button .ivu-radio-wrapper-disabled,.ivu-radio-group-button .ivu-radio-wrapper-disabled:first-child,.ivu-radio-group-button .ivu-radio-wrapper-disabled:hover{border-color:#dcdee2;background-color:#f7f7f7;color:#ccc}.ivu-radio-group-button .ivu-radio-wrapper-disabled:first-child{border-left-color:#dcdee2}.ivu-radio-group-button .ivu-radio-wrapper-disabled.ivu-radio-wrapper-checked{color:#fff;background-color:#e6e6e6;border-color:#dcdee2;box-shadow:none!important}.ivu-radio-group-button.ivu-radio-group-large .ivu-radio-wrapper{height:40px;line-height:38px;font-size:16px}.ivu-radio-group-button.ivu-radio-group-large .ivu-radio-wrapper:after{height:44px}.ivu-radio-group-button.ivu-radio-group-small .ivu-radio-wrapper{height:24px;line-height:22px;padding:0 12px;font-size:14px}.ivu-radio-group-button.ivu-radio-group-small .ivu-radio-wrapper:after{height:28px}.ivu-radio-group-button.ivu-radio-group-small .ivu-radio-wrapper:first-child{border-radius:3px 0 0 3px}.ivu-radio-group-button.ivu-radio-group-small .ivu-radio-wrapper:last-child{border-radius:0 3px 3px 0}.ivu-checkbox-focus{box-shadow:0 0 0 2px rgba(45,140,240,.2);z-index:1}.ivu-checkbox{display:inline-block;vertical-align:middle;white-space:nowrap;cursor:pointer;line-height:1;position:relative}.ivu-checkbox-disabled{cursor:not-allowed}.ivu-checkbox:hover .ivu-checkbox-inner{border-color:#bcbcbc}.ivu-checkbox-inner{display:inline-block;width:16px;height:16px;position:relative;top:0;left:0;border:1px solid #dcdee2;border-radius:2px;background-color:#fff;transition:border-color .2s ease-in-out,background-color .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-checkbox-inner:after{content:"";display:table;width:4px;height:8px;position:absolute;top:1px;left:4px;border:2px solid #fff;border-top:0;border-left:0;transform:rotate(45deg) scale(0);transition:all .2s ease-in-out}.ivu-checkbox-large .ivu-checkbox-inner{width:18px;height:18px}.ivu-checkbox-large .ivu-checkbox-inner:after{width:5px;height:9px}.ivu-checkbox-small{font-size:14px}.ivu-checkbox-small .ivu-checkbox-inner{width:14px;height:14px}.ivu-checkbox-small .ivu-checkbox-inner:after{top:0;left:3px}.ivu-checkbox-input{width:100%;height:100%;position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;cursor:pointer;opacity:0}.ivu-checkbox-input[disabled]{cursor:not-allowed}.ivu-checkbox-border{border:1px solid #dcdee2;border-radius:4px;height:32px;line-height:30px;padding:0 15px;transition:border .2s ease-in-out}.ivu-checkbox-group.ivu-checkbox-small .ivu-checkbox-border,.ivu-checkbox-small.ivu-checkbox-border{height:24px;line-height:22px;padding:0 7px}.ivu-checkbox-group.ivu-checkbox-large .ivu-checkbox-border,.ivu-checkbox-large.ivu-checkbox-border{height:40px;line-height:36px;padding:0 15px}.ivu-checkbox-wrapper-checked.ivu-checkbox-border{border-color:#2d8cf0}.ivu-checkbox-wrapper-disabled.ivu-checkbox-border{border-color:#dcdee2}.ivu-checkbox-checked:hover .ivu-checkbox-inner{border-color:#2d8cf0}.ivu-checkbox-checked .ivu-checkbox-inner{border-color:#2d8cf0;background-color:#2d8cf0}.ivu-checkbox-checked .ivu-checkbox-inner:after{content:"";display:table;width:4px;height:8px;position:absolute;top:2px;left:5px;border:2px solid #fff;border-top:0;border-left:0;transform:rotate(45deg) scale(1);transition:all .2s ease-in-out}.ivu-checkbox-large .ivu-checkbox-checked .ivu-checkbox-inner:after{width:6px;height:10px}.ivu-checkbox-small .ivu-checkbox-checked .ivu-checkbox-inner:after{top:1px;left:4px}.ivu-checkbox-disabled.ivu-checkbox-checked:hover .ivu-checkbox-inner{border-color:#dcdee2}.ivu-checkbox-disabled.ivu-checkbox-checked .ivu-checkbox-inner{background-color:#f3f3f3;border-color:#dcdee2}.ivu-checkbox-disabled.ivu-checkbox-checked .ivu-checkbox-inner:after{animation-name:none;border-color:#ccc}.ivu-checkbox-disabled:hover .ivu-checkbox-inner{border-color:#dcdee2}.ivu-checkbox-disabled .ivu-checkbox-inner{border-color:#dcdee2;background-color:#f3f3f3}.ivu-checkbox-disabled .ivu-checkbox-inner:after{animation-name:none;border-color:#f3f3f3}.ivu-checkbox-disabled .ivu-checkbox-inner-input{cursor:default}.ivu-checkbox-disabled+span{color:#ccc;cursor:not-allowed}.ivu-checkbox-indeterminate .ivu-checkbox-inner:after{content:"";width:10px;height:1px;transform:scale(1);position:absolute;left:2px;top:6px}.ivu-checkbox-indeterminate:hover .ivu-checkbox-inner{border-color:#2d8cf0}.ivu-checkbox-indeterminate .ivu-checkbox-inner{background-color:#2d8cf0;border-color:#2d8cf0}.ivu-checkbox-indeterminate.ivu-checkbox-disabled .ivu-checkbox-inner{background-color:#f3f3f3;border-color:#dcdee2}.ivu-checkbox-indeterminate.ivu-checkbox-disabled .ivu-checkbox-inner:after{border-color:#c5c8ce}.ivu-checkbox-large .ivu-checkbox-indeterminate .ivu-checkbox-inner:after{width:12px;top:7px}.ivu-checkbox-small .ivu-checkbox-indeterminate .ivu-checkbox-inner:after{width:8px;top:5px}.ivu-checkbox-wrapper{cursor:pointer;font-size:14px;display:inline-block;margin-right:8px}.ivu-checkbox-wrapper-disabled{cursor:not-allowed}.ivu-checkbox-wrapper.ivu-checkbox-large{font-size:16px}.ivu-checkbox+span,.ivu-checkbox-wrapper+span{margin-right:4px}.ivu-checkbox-group{font-size:14px}.ivu-checkbox-group-item,.ivu-switch{display:inline-block}.ivu-switch{width:44px;height:22px;line-height:20px;border-radius:22px;vertical-align:middle;border:1px solid #ccc;background-color:#ccc;position:relative;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;transition:all .2s ease-in-out}.ivu-switch-loading{opacity:.4}.ivu-switch-inner{color:#fff;font-size:12px;position:absolute;left:23px}.ivu-switch-inner i{width:12px;height:12px;text-align:center;position:relative;top:-1px}.ivu-switch:after{content:"";width:18px;height:18px;border-radius:18px;background-color:#fff;position:absolute;left:1px;top:1px;cursor:pointer;transition:left .2s ease-in-out,width .2s ease-in-out}.ivu-switch:active:after{width:26px}.ivu-switch:before{content:"";display:none;width:14px;height:14px;border-radius:50%;background-color:transparent;position:absolute;left:3px;top:3px;z-index:1;border:1px solid transparent;border-left-color:#2d8cf0;animation:switch-loading 1s linear;animation-iteration-count:infinite}.ivu-switch-loading:before{display:block}.ivu-switch:focus{box-shadow:0 0 0 2px rgba(45,140,240,.2);outline:0}.ivu-switch:focus:hover{box-shadow:none}.ivu-switch-small{width:28px;height:16px;line-height:14px}.ivu-switch-small:after{width:12px;height:12px}.ivu-switch-small:active:after{width:14px}.ivu-switch-small:before{width:10px;height:10px;left:2px;top:2px}.ivu-switch-small.ivu-switch-checked:after{left:13px}.ivu-switch-small.ivu-switch-checked:before{left:14px}.ivu-switch-small:active.ivu-switch-checked:after{left:11px}.ivu-switch-large{width:56px}.ivu-switch-large:active:after{width:26px;width:30px}.ivu-switch-large.ivu-switch-checked:after{left:35px}.ivu-switch-large.ivu-switch-checked:before{left:37px}.ivu-switch-large:active.ivu-switch-checked:after{left:23px}.ivu-switch-checked{border-color:#2d8cf0;background-color:#2d8cf0}.ivu-switch-checked .ivu-switch-inner{left:7px}.ivu-switch-checked:after{left:23px}.ivu-switch-checked:before{left:25px}.ivu-switch-checked:active:after{left:15px}.ivu-switch-disabled{cursor:not-allowed;opacity:.4}.ivu-switch-disabled:after{background:#fff;cursor:not-allowed}.ivu-switch-disabled .ivu-switch-inner{color:#fff}.ivu-switch-disabled.ivu-switch-checked{border-color:#2d8cf0;background-color:#2d8cf0;opacity:.4}.ivu-switch-disabled.ivu-switch-checked:after{background:#fff}.ivu-switch-disabled.ivu-switch-checked .ivu-switch-inner{color:#fff}@keyframes switch-loading{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.ivu-input-number{display:inline-block;width:100%;line-height:1.5;font-size:14px;color:#515a6e;background-color:#fff;background-image:none;position:relative;cursor:text;transition:border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;margin:0;padding:0;width:80px;height:32px;line-height:32px;vertical-align:middle;border:1px solid #dcdee2;border-radius:4px;overflow:hidden;cursor:default}.ivu-input-number::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-input-number:-ms-input-placeholder{color:#c5c8ce}.ivu-input-number::-webkit-input-placeholder{color:#c5c8ce}.ivu-input-number:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-input-number[disabled],fieldset[disabled] .ivu-input-number{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-input-number[disabled]:hover,fieldset[disabled] .ivu-input-number:hover{border-color:#e3e5e8}textarea.ivu-input-number{max-width:100%;height:auto;min-height:32px;vertical-align:bottom;font-size:14px}.ivu-input-number-large{font-size:16px;padding:6px 7px;height:40px}.ivu-input-number-small{padding:1px 7px;height:24px;border-radius:3px}.ivu-input-number-handler-wrap{width:22px;height:100%;border-left:1px solid #dcdee2;border-radius:0 4px 4px 0;background:#fff;position:absolute;top:0;right:0;opacity:0;transition:opacity .2s ease-in-out}.ivu-input-number:hover .ivu-input-number-handler-wrap{opacity:1}.ivu-input-number-handler-up{cursor:pointer}.ivu-input-number-handler-up-inner{top:1px}.ivu-input-number-handler-down{border-top:1px solid #dcdee2;top:-1px;cursor:pointer}.ivu-input-number-handler{display:block;width:100%;height:16px;line-height:0;text-align:center;overflow:hidden;color:#999;position:relative}.ivu-input-number-handler:hover .ivu-input-number-handler-down-inner,.ivu-input-number-handler:hover .ivu-input-number-handler-up-inner{color:#57a3f3}.ivu-input-number-handler-down-inner,.ivu-input-number-handler-up-inner{width:12px;height:12px;line-height:12px;font-size:14px;color:#999;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:absolute;right:5px;transition:all .2s linear}.ivu-input-number:hover{border-color:#57a3f3}.ivu-input-number-focused{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-input-number-disabled{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-input-number-disabled:hover{border-color:#e3e5e8}.ivu-input-number-input-wrap{overflow:hidden;height:32px}.ivu-input-number-input{width:100%;height:32px;line-height:32px;padding:0 7px;text-align:left;outline:0;-moz-appearance:textfield;color:#666;border:0;border-radius:4px;transition:all .2s linear}.ivu-input-number-input[disabled]{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-input-number-input[disabled]:hover{border-color:#e3e5e8}.ivu-input-number-input::-webkit-input-placeholder{color:#c5c8ce}.ivu-input-number-input::-ms-input-placeholder{color:#c5c8ce}.ivu-input-number-input:-ms-input-placeholder{color:#c5c8ce}.ivu-input-number-input::placeholder{color:#c5c8ce}.ivu-input-number-large{padding:0}.ivu-input-number-large .ivu-input-number-input-wrap{height:40px}.ivu-input-number-large .ivu-input-number-handler{height:20px}.ivu-input-number-large input{height:40px;line-height:40px}.ivu-input-number-large .ivu-input-number-handler-up-inner{top:2px}.ivu-input-number-large .ivu-input-number-handler-down-inner{bottom:2px}.ivu-input-number-small{padding:0}.ivu-input-number-small .ivu-input-number-input-wrap{height:24px}.ivu-input-number-small .ivu-input-number-handler{height:12px}.ivu-input-number-small input{height:24px;line-height:24px;margin-top:-1px;vertical-align:top}.ivu-input-number-small .ivu-input-number-handler-up-inner{top:-1px}.ivu-input-number-small .ivu-input-number-handler-down-inner{bottom:-1px}.ivu-input-number-disabled .ivu-input-number-handler-down-inner,.ivu-input-number-disabled .ivu-input-number-handler-up-inner,.ivu-input-number-handler-down-disabled .ivu-input-number-handler-down-inner,.ivu-input-number-handler-down-disabled .ivu-input-number-handler-up-inner,.ivu-input-number-handler-up-disabled .ivu-input-number-handler-down-inner,.ivu-input-number-handler-up-disabled .ivu-input-number-handler-up-inner{opacity:.72;color:#ccc!important;cursor:not-allowed}.ivu-input-number-disabled .ivu-input-number-input{opacity:.72;cursor:not-allowed;background-color:#f3f3f3}.ivu-input-number-disabled .ivu-input-number-handler-wrap{display:none}.ivu-input-number-disabled .ivu-input-number-handler{opacity:.72;color:#ccc!important;cursor:not-allowed}.ivu-form-item-error .ivu-input-number{border:1px solid #ed4014}.ivu-form-item-error .ivu-input-number:hover{border-color:#ed4014}.ivu-form-item-error .ivu-input-number-focused,.ivu-form-item-error .ivu-input-number:focus{border-color:#ed4014;outline:0;box-shadow:0 0 0 2px rgba(237,64,20,.2)}.ivu-scroll-wrapper{width:auto;margin:0 auto;position:relative;outline:0}.ivu-scroll-container{overflow-y:scroll}@keyframes ani-stop-slide{0%{overflow-y:hidden;tansform:translateZ(0)}to{overflow-y:scroll;tansform:translateZ(0)}}.ivu-scroll-container-loading{animation:ani-stop-slide 1.5s}.ivu-scroll-content{opacity:1;transition:opacity .5s}.ivu-scroll-content-loading{opacity:.5}.ivu-scroll-loader{text-align:center;padding:0;transition:padding .5s}.ivu-scroll-loader-wrapper{padding:5px 0;height:0;background-color:inherit;transform:scale(0);transition:opacity .3s,transform .5s,height .5s}.ivu-scroll-loader-wrapper-active{height:40px;transform:scale(1)}@keyframes ani-demo-spin{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.ivu-scroll-loader-wrapper .ivu-scroll-spinner{position:relative}.ivu-scroll-loader-wrapper .ivu-scroll-spinner-icon{animation:ani-demo-spin 1s linear infinite}.ivu-tag{display:inline-block;height:22px;line-height:22px;margin:2px 4px 2px 0;padding:0 8px;border:1px solid #e8eaec;border-radius:3px;background:#f7f7f7;font-size:12px;vertical-align:middle;opacity:1;overflow:hidden}.ivu-tag-size-large{height:32px;line-height:32px;padding:0 12px}.ivu-tag-size-medium{height:28px;line-height:28px;padding:0 10px}.ivu-tag:not(.ivu-tag-border):not(.ivu-tag-dot):not(.ivu-tag-checked){background:0 0;border:0;color:#515a6e}.ivu-tag:not(.ivu-tag-border):not(.ivu-tag-dot):not(.ivu-tag-checked) .ivu-icon-ios-close{color:#515a6e!important}.ivu-tag-color-error{color:#ed4014!important;border-color:#ed4014}.ivu-tag-color-success{color:#19be6b!important;border-color:#19be6b}.ivu-tag-color-primary{color:#2d8cf0!important;border-color:#2d8cf0}.ivu-tag-color-warning{color:#f90!important;border-color:#f90}.ivu-tag-color-white{color:#fff!important}.ivu-tag-dot{height:32px;line-height:32px;border:1px solid #e8eaec!important;color:#515a6e!important;background:#fff!important;padding:0 12px}.ivu-tag-dot-inner{display:inline-block;width:12px;height:12px;margin-right:8px;border-radius:50%;background:#e8eaec;position:relative;top:1px}.ivu-tag-dot .ivu-icon-ios-close{color:#666!important;margin-left:12px!important}.ivu-tag-border{height:24px;line-height:24px;border:1px solid #e8eaec;color:#e8eaec;background:#fff!important;position:relative}.ivu-tag-border .ivu-icon-ios-close{color:#666;margin-left:12px!important}.ivu-tag-border:after{content:"";display:none;width:1px;background:currentColor;position:absolute;top:0;bottom:0;right:22px}.ivu-tag-border.ivu-tag-closable:after{display:block}.ivu-tag-border.ivu-tag-closable .ivu-icon-ios-close{margin-left:18px!important;left:4px;top:-1px}.ivu-tag-border.ivu-tag-primary{color:#2d8cf0!important;border:1px solid #2d8cf0!important}.ivu-tag-border.ivu-tag-primary:after{background:#2d8cf0}.ivu-tag-border.ivu-tag-primary .ivu-icon-ios-close{color:#2d8cf0!important}.ivu-tag-border.ivu-tag-success{color:#19be6b!important;border:1px solid #19be6b!important}.ivu-tag-border.ivu-tag-success:after{background:#19be6b}.ivu-tag-border.ivu-tag-success .ivu-icon-ios-close{color:#19be6b!important}.ivu-tag-border.ivu-tag-warning{color:#f90!important;border:1px solid #f90!important}.ivu-tag-border.ivu-tag-warning:after{background:#f90}.ivu-tag-border.ivu-tag-warning .ivu-icon-ios-close{color:#f90!important}.ivu-tag-border.ivu-tag-error{color:#ed4014!important;border:1px solid #ed4014!important}.ivu-tag-border.ivu-tag-error:after{background:#ed4014}.ivu-tag-border.ivu-tag-error .ivu-icon-ios-close{color:#ed4014!important}.ivu-tag:hover{opacity:.85}.ivu-tag-text{color:#515a6e}.ivu-tag-text a:first-child:last-child{display:inline-block;margin:0 -8px;padding:0 8px}.ivu-tag .ivu-icon-ios-close{display:inline-block;font-size:14px;transform:scale(1.42857143) rotate(0);cursor:pointer;margin-left:2px;color:#666;opacity:.66;position:relative;top:-1px}:root .ivu-tag .ivu-icon-ios-close{font-size:14px}.ivu-tag .ivu-icon-ios-close:hover{opacity:1}.ivu-tag-error,.ivu-tag-primary,.ivu-tag-success,.ivu-tag-warning{border:0}.ivu-tag-error,.ivu-tag-error .ivu-icon-ios-close,.ivu-tag-error .ivu-icon-ios-close:hover,.ivu-tag-error a,.ivu-tag-error a:hover,.ivu-tag-primary,.ivu-tag-primary .ivu-icon-ios-close,.ivu-tag-primary .ivu-icon-ios-close:hover,.ivu-tag-primary a,.ivu-tag-primary a:hover,.ivu-tag-success,.ivu-tag-success .ivu-icon-ios-close,.ivu-tag-success .ivu-icon-ios-close:hover,.ivu-tag-success a,.ivu-tag-success a:hover,.ivu-tag-warning,.ivu-tag-warning .ivu-icon-ios-close,.ivu-tag-warning .ivu-icon-ios-close:hover,.ivu-tag-warning a,.ivu-tag-warning a:hover{color:#fff}.ivu-tag-primary,.ivu-tag-primary.ivu-tag-dot .ivu-tag-dot-inner{background:#2d8cf0}.ivu-tag-success,.ivu-tag-success.ivu-tag-dot .ivu-tag-dot-inner{background:#19be6b}.ivu-tag-warning,.ivu-tag-warning.ivu-tag-dot .ivu-tag-dot-inner{background:#f90}.ivu-tag-error,.ivu-tag-error.ivu-tag-dot .ivu-tag-dot-inner{background:#ed4014}.ivu-tag-pink{line-height:20px;background:#fff0f6;border-color:#ffadd2}.ivu-tag-pink .ivu-tag-text{color:#eb2f96!important}.ivu-tag-pink.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-pink{line-height:30px}.ivu-tag-size-medium.ivu-tag-pink{line-height:26px}.ivu-tag-magenta{line-height:20px;background:#fff0f6;border-color:#ffadd2}.ivu-tag-magenta .ivu-tag-text{color:#eb2f96!important}.ivu-tag-magenta.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-magenta{line-height:30px}.ivu-tag-size-medium.ivu-tag-magenta{line-height:26px}.ivu-tag-red{line-height:20px;background:#fff1f0;border-color:#ffa39e}.ivu-tag-red .ivu-tag-text{color:#f5222d!important}.ivu-tag-red.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-red{line-height:30px}.ivu-tag-size-medium.ivu-tag-red{line-height:26px}.ivu-tag-volcano{line-height:20px;background:#fff2e8;border-color:#ffbb96}.ivu-tag-volcano .ivu-tag-text{color:#fa541c!important}.ivu-tag-volcano.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-volcano{line-height:30px}.ivu-tag-size-medium.ivu-tag-volcano{line-height:26px}.ivu-tag-orange{line-height:20px;background:#fff7e6;border-color:#ffd591}.ivu-tag-orange .ivu-tag-text{color:#fa8c16!important}.ivu-tag-orange.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-orange{line-height:30px}.ivu-tag-size-medium.ivu-tag-orange{line-height:26px}.ivu-tag-yellow{line-height:20px;background:#feffe6;border-color:#fffb8f}.ivu-tag-yellow .ivu-tag-text{color:#fadb14!important}.ivu-tag-yellow.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-yellow{line-height:30px}.ivu-tag-size-medium.ivu-tag-yellow{line-height:26px}.ivu-tag-gold{line-height:20px;background:#fffbe6;border-color:#ffe58f}.ivu-tag-gold .ivu-tag-text{color:#faad14!important}.ivu-tag-gold.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-gold{line-height:30px}.ivu-tag-size-medium.ivu-tag-gold{line-height:26px}.ivu-tag-cyan{line-height:20px;background:#e6fffb;border-color:#87e8de}.ivu-tag-cyan .ivu-tag-text{color:#13c2c2!important}.ivu-tag-cyan.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-cyan{line-height:30px}.ivu-tag-size-medium.ivu-tag-cyan{line-height:26px}.ivu-tag-lime{line-height:20px;background:#fcffe6;border-color:#eaff8f}.ivu-tag-lime .ivu-tag-text{color:#a0d911!important}.ivu-tag-lime.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-lime{line-height:30px}.ivu-tag-size-medium.ivu-tag-lime{line-height:26px}.ivu-tag-green{line-height:20px;background:#f6ffed;border-color:#b7eb8f}.ivu-tag-green .ivu-tag-text{color:#52c41a!important}.ivu-tag-green.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-green{line-height:30px}.ivu-tag-size-medium.ivu-tag-green{line-height:26px}.ivu-tag-blue{line-height:20px;background:#e6f7ff;border-color:#91d5ff}.ivu-tag-blue .ivu-tag-text{color:#1890ff!important}.ivu-tag-blue.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-blue{line-height:30px}.ivu-tag-size-medium.ivu-tag-blue{line-height:26px}.ivu-tag-geekblue{line-height:20px;background:#f0f5ff;border-color:#adc6ff}.ivu-tag-geekblue .ivu-tag-text{color:#2f54eb!important}.ivu-tag-geekblue.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-geekblue{line-height:30px}.ivu-tag-size-medium.ivu-tag-geekblue{line-height:26px}.ivu-tag-purple{line-height:20px;background:#f9f0ff;border-color:#d3adf7}.ivu-tag-purple .ivu-tag-text{color:#722ed1!important}.ivu-tag-purple.ivu-tag-dot{line-height:32px}.ivu-tag-size-large.ivu-tag-purple{line-height:30px}.ivu-tag-size-medium.ivu-tag-purple{line-height:26px}.ivu-layout{display:flex;flex-direction:column;flex:auto;background:#f5f7f9}.ivu-layout.ivu-layout-has-sider{flex-direction:row}.ivu-layout.ivu-layout-has-sider>.ivu-layout,.ivu-layout.ivu-layout-has-sider>.ivu-layout-content{overflow-x:hidden}.ivu-layout-footer,.ivu-layout-header{flex:0 0 auto}.ivu-layout-header{background:#515a6e;padding:0 50px;height:64px;line-height:64px}.ivu-layout-sider{transition:all .2s ease-in-out;position:relative;background:#515a6e;min-width:0}.ivu-layout-sider-children{height:100%;padding-top:.1px;margin-top:-.1px}.ivu-layout-sider-has-trigger{padding-bottom:48px}.ivu-layout-sider-trigger{position:fixed;bottom:0;text-align:center;cursor:pointer;height:48px;line-height:48px;color:#fff;background:#515a6e;z-index:1000;transition:all .2s ease-in-out}.ivu-layout-sider-trigger .ivu-icon{font-size:16px}.ivu-layout-sider-trigger>*{transition:all .2s}.ivu-layout-sider-trigger-collapsed .ivu-layout-sider-trigger-icon{transform:rotate(180deg)}.ivu-layout-sider-zero-width>*{overflow:hidden}.ivu-layout-sider-zero-width-trigger{position:absolute;top:64px;right:-36px;text-align:center;width:36px;height:42px;line-height:42px;background:#515a6e;color:#fff;font-size:18px;border-radius:0 6px 6px 0;cursor:pointer;transition:background .3s ease}.ivu-layout-sider-zero-width-trigger:hover{background:#626b7d}.ivu-layout-sider-zero-width-trigger.ivu-layout-sider-zero-width-trigger-left{right:0;left:-36px;border-radius:6px 0 0 6px}.ivu-layout-footer{background:#f5f7f9;padding:24px 50px;color:#515a6e;font-size:14px}.ivu-layout-content{flex:auto}.ivu-loading-bar{width:100%;position:fixed;top:0;left:0;right:0;z-index:2000}.ivu-loading-bar-inner{transition:width .2s linear}.ivu-loading-bar-inner-color-primary{background-color:#2d8cf0}.ivu-loading-bar-inner-failed-color-error{background-color:#ed4014}.ivu-progress{display:inline-block;width:100%;font-size:12px;position:relative}.ivu-progress-vertical{height:100%;width:auto}.ivu-progress-outer{display:inline-block;width:100%;margin-right:0;padding-right:0}.ivu-progress-show-info .ivu-progress-outer{padding-right:55px;margin-right:-55px}.ivu-progress-vertical .ivu-progress-outer{height:100%;width:auto}.ivu-progress-inner{display:inline-block;width:100%;background-color:#f3f3f3;border-radius:100px;vertical-align:middle;position:relative}.ivu-progress-inner-text{display:inline-block;vertical-align:middle;color:#fff;font-size:12px;margin:0 6px}.ivu-progress-vertical .ivu-progress-inner{height:100%;width:auto}.ivu-progress-vertical .ivu-progress-inner:after,.ivu-progress-vertical .ivu-progress-inner>*{display:inline-block;vertical-align:bottom}.ivu-progress-vertical .ivu-progress-inner:after{content:"";height:100%}.ivu-progress-bg{text-align:right;border-radius:100px;background-color:#2d8cf0;transition:all .2s linear;position:relative}.ivu-progress-bg:after{content:"";display:inline-block;height:100%;vertical-align:middle}.ivu-progress-success-bg{border-radius:100px;background-color:#19be6b;transition:all .2s linear;position:absolute;top:0;left:0}.ivu-progress-text{display:inline-block;margin-left:5px;text-align:left;font-size:1em;vertical-align:middle;color:#808695}.ivu-progress-active .ivu-progress-bg:before{content:"";opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;border-radius:10px;animation:ivu-progress-active 2s ease-in-out infinite}.ivu-progress-vertical.ivu-progress-active .ivu-progress-bg:before{top:auto;animation:ivu-progress-active-vertical 2s ease-in-out infinite}.ivu-progress-wrong .ivu-progress-bg{background-color:#ed4014}.ivu-progress-wrong .ivu-progress-text{color:#ed4014}.ivu-progress-success .ivu-progress-bg{background-color:#19be6b}.ivu-progress-success .ivu-progress-text{color:#19be6b}@keyframes ivu-progress-active{0%{opacity:.3;width:0}to{opacity:0;width:100%}}@keyframes ivu-progress-active-vertical{0%{opacity:.3;height:0}to{opacity:0;height:100%}}.ivu-timeline{list-style:none;margin:0;padding:0}.ivu-timeline-item{margin:0!important;padding:0 0 12px;list-style:none;position:relative}.ivu-timeline-item-tail{height:100%;border-left:1px solid #e8eaec;position:absolute;left:6px;top:0}.ivu-timeline-item-pending .ivu-timeline-item-tail{display:none}.ivu-timeline-item-head{width:13px;height:13px;background-color:#fff;border-radius:50%;border:1px solid transparent;position:absolute}.ivu-timeline-item-head-blue{border-color:#2d8cf0;color:#2d8cf0}.ivu-timeline-item-head-red{border-color:#ed4014;color:#ed4014}.ivu-timeline-item-head-green{border-color:#19be6b;color:#19be6b}.ivu-timeline-item-head-custom{width:40px;height:auto;margin-top:6px;padding:3px 0;text-align:center;line-height:1;border:0;border-radius:0;font-size:14px;position:absolute;left:-13px;transform:translateY(-50%)}.ivu-timeline-item-content{padding:1px 1px 10px 24px;font-size:14px;position:relative;top:-3px}.ivu-timeline-item:last-child .ivu-timeline-item-tail{display:none}.ivu-timeline.ivu-timeline-pending .ivu-timeline-item:nth-last-of-type(2) .ivu-timeline-item-tail{border-left:1px dotted #e8eaec}.ivu-timeline.ivu-timeline-pending .ivu-timeline-item:nth-last-of-type(2) .ivu-timeline-item-content{min-height:48px}.ivu-page:after{content:"";display:block;height:0;clear:both;overflow:hidden;visibility:hidden}.ivu-page-item{display:inline-block;vertical-align:middle;min-width:32px;height:32px;line-height:30px;margin-right:4px;text-align:center;list-style:none;background-color:#fff;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;font-family:Arial;font-weight:500;border:1px solid #dcdee2;border-radius:4px;transition:border .2s ease-in-out,color .2s ease-in-out}.ivu-page-item a{margin:0 6px;text-decoration:none;color:#515a6e}.ivu-page-item:hover{border-color:#2d8cf0}.ivu-page-item:hover a{color:#2d8cf0}.ivu-page-item-active{border-color:#2d8cf0}.ivu-page-item-active:hover a,.ivu-page-item-active a{color:#2d8cf0}.ivu-page-with-disabled .ivu-page-disabled,.ivu-page-with-disabled .ivu-page-item{cursor:not-allowed;background-color:#f3f3f3}.ivu-page-with-disabled .ivu-page-disabled a,.ivu-page-with-disabled .ivu-page-item a{color:#ccc}.ivu-page-with-disabled .ivu-page-disabled:hover,.ivu-page-with-disabled .ivu-page-item:hover{border-color:#dcdee2}.ivu-page-with-disabled .ivu-page-disabled:hover a,.ivu-page-with-disabled .ivu-page-item:hover a{color:#ccc;cursor:not-allowed}.ivu-page-with-disabled .ivu-page-disabled-active,.ivu-page-with-disabled .ivu-page-item-active{background-color:#dcdee2;border-color:#dcdee2}.ivu-page-with-disabled .ivu-page-disabled-active:hover a,.ivu-page-with-disabled .ivu-page-disabled-active a,.ivu-page-with-disabled .ivu-page-item-active:hover a,.ivu-page-with-disabled .ivu-page-item-active a{color:#fff}.ivu-page-item-jump-next:after,.ivu-page-item-jump-prev:after{content:"•••";display:block;letter-spacing:1px;color:#ccc;text-align:center}.ivu-page-item-jump-next:hover:after,.ivu-page-item-jump-next i,.ivu-page-item-jump-prev:hover:after,.ivu-page-item-jump-prev i{display:none}.ivu-page-item-jump-next:hover i,.ivu-page-item-jump-prev:hover i{display:inline}.ivu-page-with-disabled .ivu-page-item-jump-next,.ivu-page-with-disabled .ivu-page-item-jump-prev{cursor:not-allowed}.ivu-page-with-disabled .ivu-page-item-jump-next:hover:after,.ivu-page-with-disabled .ivu-page-item-jump-prev:hover:after{display:block}.ivu-page-with-disabled .ivu-page-item-jump-next:hover i,.ivu-page-with-disabled .ivu-page-item-jump-prev:hover i{display:none}.ivu-page-item-jump-prev:hover i:after{content:"\\F115";margin-left:-8px}.ivu-page-item-jump-next:hover i:after{content:"\\F11F";margin-left:-8px}.ivu-page-item-jump-next,.ivu-page-item-jump-prev,.ivu-page-prev{margin-right:4px}.ivu-page-item-jump-next,.ivu-page-item-jump-prev,.ivu-page-next,.ivu-page-prev{display:inline-block;vertical-align:middle;-webkit-user-select:none;-ms-user-select:none;user-select:none;min-width:32px;height:32px;line-height:30px;list-style:none;text-align:center;cursor:pointer;color:#666;font-family:Arial;border:1px solid #dcdee2;border-radius:4px;transition:all .2s ease-in-out}.ivu-page-item-jump-next,.ivu-page-item-jump-prev{border-color:transparent}.ivu-page-next,.ivu-page-prev{background-color:#fff}.ivu-page-next a,.ivu-page-prev a{color:#666;font-size:14px}.ivu-page-next:hover,.ivu-page-prev:hover{border-color:#2d8cf0}.ivu-page-next:hover a,.ivu-page-prev:hover a{color:#2d8cf0}.ivu-page-disabled{cursor:not-allowed}.ivu-page-disabled a{color:#ccc}.ivu-page-disabled:hover{border-color:#dcdee2}.ivu-page-disabled:hover a{color:#ccc;cursor:not-allowed}.ivu-page-options{display:inline-block;vertical-align:middle;margin-left:15px}.ivu-page-options-sizer{display:inline-block;margin-right:10px}.ivu-page-options-elevator{display:inline-block;vertical-align:middle;height:32px;line-height:32px}.ivu-page-options-elevator input{display:inline-block;width:100%;height:32px;line-height:1.5;padding:4px 7px;font-size:14px;border:1px solid #dcdee2;color:#515a6e;background-color:#fff;background-image:none;position:relative;cursor:text;transition:border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;border-radius:4px;margin:0 8px;width:50px}.ivu-page-options-elevator input::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-page-options-elevator input:-ms-input-placeholder{color:#c5c8ce}.ivu-page-options-elevator input::-webkit-input-placeholder{color:#c5c8ce}.ivu-page-options-elevator input:hover{border-color:#57a3f3}.ivu-page-options-elevator input:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-page-options-elevator input[disabled],fieldset[disabled] .ivu-page-options-elevator input{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-page-options-elevator input[disabled]:hover,fieldset[disabled] .ivu-page-options-elevator input:hover{border-color:#e3e5e8}textarea.ivu-page-options-elevator input{max-width:100%;height:auto;min-height:32px;vertical-align:bottom;font-size:14px}.ivu-page-options-elevator input-large{font-size:16px;padding:6px 7px;height:40px}.ivu-page-options-elevator input-small{padding:1px 7px;height:24px;border-radius:3px}.ivu-page-total{display:inline-block;height:32px;line-height:32px;margin-right:10px}.ivu-page-simple .ivu-page-next,.ivu-page-simple .ivu-page-prev{margin:0;border:0;height:24px;line-height:normal;font-size:18px}.ivu-page-simple .ivu-page-simple-pager{display:inline-block;margin-right:8px;vertical-align:middle}.ivu-page-simple .ivu-page-simple-pager input{display:inline-block;width:100%;height:32px;line-height:1.5;font-size:14px;color:#515a6e;background-image:none;position:relative;cursor:text;transition:border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;width:30px;height:24px;margin:0 8px;padding:5px 8px;text-align:center;box-sizing:border-box;background-color:#fff;outline:0;border:1px solid #dcdee2;border-radius:4px;transition:border-color .2s ease-in-out}.ivu-page-simple .ivu-page-simple-pager input::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-page-simple .ivu-page-simple-pager input:-ms-input-placeholder{color:#c5c8ce}.ivu-page-simple .ivu-page-simple-pager input::-webkit-input-placeholder{color:#c5c8ce}.ivu-page-simple .ivu-page-simple-pager input:hover{border-color:#57a3f3}.ivu-page-simple .ivu-page-simple-pager input:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-page-simple .ivu-page-simple-pager input[disabled],fieldset[disabled] .ivu-page-simple .ivu-page-simple-pager input{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-page-simple .ivu-page-simple-pager input[disabled]:hover,fieldset[disabled] .ivu-page-simple .ivu-page-simple-pager input:hover{border-color:#e3e5e8}textarea.ivu-page-simple .ivu-page-simple-pager input{max-width:100%;height:auto;min-height:32px;vertical-align:bottom;font-size:14px}.ivu-page-simple .ivu-page-simple-pager input-large{font-size:16px;padding:6px 7px;height:40px}.ivu-page-simple .ivu-page-simple-pager input-small{padding:1px 7px;height:24px;border-radius:3px}.ivu-page-simple .ivu-page-simple-pager input:hover{border-color:#2d8cf0}.ivu-page-simple .ivu-page-simple-pager span{padding:0 8px 0 2px}.ivu-page-custom-text,.ivu-page-custom-text:hover{border-color:transparent}.ivu-page.mini .ivu-page-total{height:24px;line-height:24px}.ivu-page.mini .ivu-page-item{border:0;margin:0;min-width:24px;height:24px;line-height:24px;border-radius:3px}.ivu-page.mini .ivu-page-next,.ivu-page.mini .ivu-page-prev{margin:0;min-width:24px;height:24px;line-height:22px;border:0}.ivu-page.mini .ivu-page-next a i:after,.ivu-page.mini .ivu-page-prev a i:after{height:24px;line-height:24px}.ivu-page.mini .ivu-page-item-jump-next,.ivu-page.mini .ivu-page-item-jump-prev{height:24px;line-height:24px;border:none;margin-right:0}.ivu-page.mini .ivu-page-options{margin-left:8px}.ivu-page.mini .ivu-page-options-elevator{height:24px;line-height:24px}.ivu-page.mini .ivu-page-options-elevator input{padding:1px 7px;height:24px;border-radius:3px;width:44px}.ivu-steps{display:flex;width:100%;font-size:0;line-height:1.5}.ivu-steps-item{display:inline-block;position:relative;vertical-align:top;flex:1;overflow:hidden}.ivu-steps-item:last-child{flex:none}.ivu-steps-item.ivu-steps-status-wait .ivu-steps-head-inner{background-color:#fff}.ivu-steps-item.ivu-steps-status-wait .ivu-steps-head-inner>.ivu-steps-icon,.ivu-steps-item.ivu-steps-status-wait .ivu-steps-head-inner span{color:#ccc}.ivu-steps-item.ivu-steps-status-wait .ivu-steps-content,.ivu-steps-item.ivu-steps-status-wait .ivu-steps-title{color:#999}.ivu-steps-item.ivu-steps-status-wait .ivu-steps-tail>i{background-color:#e8eaec}.ivu-steps-item.ivu-steps-status-process .ivu-steps-head-inner{border-color:#2d8cf0;background-color:#2d8cf0}.ivu-steps-item.ivu-steps-status-process .ivu-steps-head-inner>.ivu-steps-icon,.ivu-steps-item.ivu-steps-status-process .ivu-steps-head-inner span{color:#fff}.ivu-steps-item.ivu-steps-status-process .ivu-steps-content,.ivu-steps-item.ivu-steps-status-process .ivu-steps-title{color:#666}.ivu-steps-item.ivu-steps-status-process .ivu-steps-tail>i{background-color:#e8eaec}.ivu-steps-item.ivu-steps-status-finish .ivu-steps-head-inner{background-color:#fff;border-color:#2d8cf0}.ivu-steps-item.ivu-steps-status-finish .ivu-steps-head-inner>.ivu-steps-icon,.ivu-steps-item.ivu-steps-status-finish .ivu-steps-head-inner span{color:#2d8cf0}.ivu-steps-item.ivu-steps-status-finish .ivu-steps-tail>i:after{width:100%;background:#2d8cf0;transition:all .2s ease-in-out;opacity:1}.ivu-steps-item.ivu-steps-status-finish .ivu-steps-content,.ivu-steps-item.ivu-steps-status-finish .ivu-steps-title{color:#999}.ivu-steps-item.ivu-steps-status-error .ivu-steps-head-inner{background-color:#fff;border-color:#ed4014}.ivu-steps-item.ivu-steps-status-error .ivu-steps-content,.ivu-steps-item.ivu-steps-status-error .ivu-steps-head-inner>.ivu-steps-icon,.ivu-steps-item.ivu-steps-status-error .ivu-steps-title{color:#ed4014}.ivu-steps-item.ivu-steps-status-error .ivu-steps-tail>i{background-color:#e8eaec}.ivu-steps-item.ivu-steps-next-error .ivu-steps-tail>i,.ivu-steps-item.ivu-steps-next-error .ivu-steps-tail>i:after{background-color:#ed4014}.ivu-steps-item.ivu-steps-custom .ivu-steps-head-inner{background:0 0;border:0;width:auto;height:auto}.ivu-steps-item.ivu-steps-custom .ivu-steps-head-inner>.ivu-steps-icon{font-size:20px;top:2px;width:20px;height:20px}.ivu-steps-item.ivu-steps-custom.ivu-steps-status-process .ivu-steps-head-inner>.ivu-steps-icon{color:#2d8cf0}.ivu-steps-item:last-child .ivu-steps-tail{display:none}.ivu-steps .ivu-steps-head,.ivu-steps .ivu-steps-main{position:relative;display:inline-block;vertical-align:top}.ivu-steps .ivu-steps-head{background:#fff}.ivu-steps .ivu-steps-head-inner{display:block;width:26px;height:26px;line-height:24px;margin-right:8px;text-align:center;border:1px solid #ccc;border-radius:50%;font-size:14px;transition:background-color .2s ease-in-out}.ivu-steps .ivu-steps-head-inner>.ivu-steps-icon{line-height:1;position:relative}.ivu-steps .ivu-steps-head-inner>.ivu-steps-icon.ivu-icon{font-size:24px}.ivu-steps .ivu-steps-head-inner>.ivu-steps-icon.ivu-icon-ios-checkmark-empty,.ivu-steps .ivu-steps-head-inner>.ivu-steps-icon.ivu-icon-ios-close-empty{font-weight:700}.ivu-steps .ivu-steps-main{margin-top:2.5px;display:inline}.ivu-steps .ivu-steps-custom .ivu-steps-title{margin-top:2.5px}.ivu-steps .ivu-steps-title{display:inline-block;margin-bottom:4px;padding-right:10px;font-size:14px;font-weight:700;color:#666;background:#fff}.ivu-steps .ivu-steps-title>a:first-child:last-child{color:#666}.ivu-steps .ivu-steps-item-last .ivu-steps-title{padding-right:0;width:100%}.ivu-steps .ivu-steps-content{font-size:12px;color:#999}.ivu-steps .ivu-steps-tail{width:100%;padding:0 10px;position:absolute;left:0;top:13px}.ivu-steps .ivu-steps-tail>i{display:inline-block;width:100%;height:1px;vertical-align:top;background:#e8eaec;border-radius:1px;position:relative}.ivu-steps .ivu-steps-tail>i:after{content:"";width:0;height:100%;background:#e8eaec;opacity:0;position:absolute;top:0}.ivu-steps.ivu-steps-small .ivu-steps-head-inner{width:18px;height:18px;line-height:16px;margin-right:10px;text-align:center;border-radius:50%;font-size:12px}.ivu-steps.ivu-steps-small .ivu-steps-head-inner>.ivu-steps-icon.ivu-icon{font-size:16px;top:0}.ivu-steps.ivu-steps-small .ivu-steps-main{margin-top:0}.ivu-steps.ivu-steps-small .ivu-steps-title{margin-bottom:4px;margin-top:0;color:#666;font-size:12px;font-weight:700}.ivu-steps.ivu-steps-small .ivu-steps-content{font-size:12px;color:#999;padding-left:30px}.ivu-steps.ivu-steps-small .ivu-steps-tail{top:8px;padding:0 8px}.ivu-steps.ivu-steps-small .ivu-steps-tail>i{height:1px;width:100%;border-radius:1px}.ivu-steps .ivu-steps-item.ivu-steps-custom .ivu-steps-head-inner,.ivu-steps.ivu-steps-small .ivu-steps-item.ivu-steps-custom .ivu-steps-head-inner{width:inherit;height:inherit;line-height:inherit;border-radius:0;border:0;background:0 0}.ivu-steps-vertical{display:block}.ivu-steps-vertical .ivu-steps-item{display:block;overflow:visible}.ivu-steps-vertical .ivu-steps-tail{position:absolute;left:13px;top:0;height:100%;width:1px;padding:30px 0 4px}.ivu-steps-vertical .ivu-steps-tail>i{height:100%;width:1px}.ivu-steps-vertical .ivu-steps-tail>i:after{height:0;width:100%}.ivu-steps-vertical .ivu-steps-status-finish .ivu-steps-tail>i:after{height:100%}.ivu-steps-vertical .ivu-steps-head{float:left}.ivu-steps-vertical .ivu-steps-head-inner{margin-right:16px}.ivu-steps-vertical .ivu-steps-main{min-height:47px;overflow:hidden;display:block}.ivu-steps-vertical .ivu-steps-main .ivu-steps-title{line-height:26px}.ivu-steps-vertical .ivu-steps-main .ivu-steps-content{padding-bottom:12px;padding-left:0}.ivu-steps-vertical .ivu-steps-custom .ivu-steps-icon{left:4px}.ivu-steps-vertical.ivu-steps-small .ivu-steps-custom .ivu-steps-icon{left:0}.ivu-steps-vertical.ivu-steps-small .ivu-steps-tail{position:absolute;left:9px;top:0;padding:22px 0 4px}.ivu-steps-vertical.ivu-steps-small .ivu-steps-tail>i{height:100%}.ivu-steps-vertical.ivu-steps-small .ivu-steps-title{line-height:18px}.ivu-steps-horizontal.ivu-steps-hidden{visibility:hidden}.ivu-steps-horizontal .ivu-steps-content{padding-left:35px}.ivu-steps-horizontal .ivu-steps-item:not(:first-child) .ivu-steps-head{padding-left:10px;margin-left:-10px}.ivu-modal{width:auto;margin:0 auto;position:relative;outline:0;top:100px}.ivu-modal-hidden{display:none!important}.ivu-modal-wrap{position:fixed;overflow:auto;top:0;right:0;bottom:0;left:0;z-index:1000;-webkit-overflow-scrolling:touch;outline:0}.ivu-modal-wrap *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}.ivu-modal-mask{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(55,55,55,.6);height:100%;z-index:1000}.ivu-modal-mask-hidden{display:none}.ivu-modal-content{position:relative;background-color:#fff;border:0;border-radius:6px;background-clip:padding-box;box-shadow:0 4px 12px rgba(0,0,0,.15)}.ivu-modal-content-no-mask{pointer-events:auto}.ivu-modal-content-drag{position:absolute}.ivu-modal-content-drag .ivu-modal-header{cursor:move}.ivu-modal-content-dragging{-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-modal-header{border-bottom:1px solid #e8eaec;padding:14px 16px;line-height:1}.ivu-modal-header-inner,.ivu-modal-header p{display:inline-block;width:100%;height:20px;line-height:20px;font-size:16px;color:#17233d;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-modal-close{z-index:1;font-size:12px;position:absolute;right:8px;top:8px;overflow:hidden;cursor:pointer}.ivu-modal-close .ivu-icon-ios-close{font-size:31px;color:#999;transition:color .2s ease;position:relative;top:1px}.ivu-modal-close .ivu-icon-ios-close:hover{color:#444}.ivu-modal-body{padding:16px;font-size:14px;line-height:1.5}.ivu-modal-footer{border-top:1px solid #e8eaec;padding:12px 18px;text-align:right}.ivu-modal-footer button+button{margin-left:8px;margin-bottom:0}.ivu-modal-fullscreen{width:100%!important;top:0;bottom:0;position:absolute}.ivu-modal-fullscreen .ivu-modal-content{width:100%;border-radius:0;position:absolute;top:0;bottom:0}.ivu-modal-fullscreen .ivu-modal-body{width:100%;overflow:auto;position:absolute;top:51px;bottom:61px}.ivu-modal-fullscreen-no-header .ivu-modal-body{top:0}.ivu-modal-fullscreen-no-footer .ivu-modal-body{bottom:0}.ivu-modal-fullscreen .ivu-modal-footer{position:absolute;width:100%;bottom:0}.ivu-modal-no-mask{pointer-events:none}@media (max-width:576px){.ivu-modal{width:auto!important;margin:10px}.ivu-modal-fullscreen{width:100%!important;margin:0}.vertical-center-modal .ivu-modal{flex:1}}.ivu-modal-confirm{padding:6px 16px 8px}.ivu-modal-confirm-head{padding:0 12px 0 0}.ivu-modal-confirm-head-icon{display:inline-block;font-size:28px;vertical-align:middle;position:relative;top:-2px}.ivu-modal-confirm-head-icon-info{color:#2d8cf0}.ivu-modal-confirm-head-icon-success{color:#19be6b}.ivu-modal-confirm-head-icon-warning{color:#f90}.ivu-modal-confirm-head-icon-error{color:#ed4014}.ivu-modal-confirm-head-icon-confirm{color:#f90}.ivu-modal-confirm-head-title{display:inline-block;vertical-align:middle;margin-left:12px;font-size:16px;color:#17233d;font-weight:500}.ivu-modal-confirm-body{padding-left:40px;font-size:14px;color:#515a6e;position:relative}.ivu-modal-confirm-body-render{margin:0;padding:0}.ivu-modal-confirm-footer{margin-top:20px;text-align:right}.ivu-modal-confirm-footer button+button{margin-left:8px;margin-bottom:0}.ivu-select{display:inline-block;width:100%;box-sizing:border-box;vertical-align:middle;color:#515a6e;font-size:14px;line-height:normal}.ivu-select-selection{display:block;box-sizing:border-box;outline:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;position:relative;background-color:#fff;border-radius:4px;border:1px solid #dcdee2;transition:all .2s ease-in-out}.ivu-select-selection-focused,.ivu-select-selection:hover{border-color:#57a3f3}.ivu-select-selection-focused .ivu-select-arrow,.ivu-select-selection:hover .ivu-select-arrow{display:inline-block}.ivu-select-arrow{position:absolute;top:50%;right:8px;line-height:1;transform:translateY(-50%);font-size:14px;color:#808695;transition:all .2s ease-in-out}.ivu-select-visible .ivu-select-selection{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-select-visible .ivu-select-arrow{transform:translateY(-50%) rotate(180deg);display:inline-block}.ivu-select-disabled .ivu-select-selection{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-select-disabled .ivu-select-selection:hover{border-color:#e3e5e8}.ivu-select-disabled .ivu-select-selection .ivu-select-arrow{color:#ccc}.ivu-select-disabled .ivu-select-selection:hover{border-color:#dcdee2;box-shadow:none}.ivu-select-disabled .ivu-select-selection:hover .ivu-select-arrow{display:inline-block}.ivu-select-single .ivu-select-selection{height:32px;position:relative}.ivu-select-single .ivu-select-selection .ivu-select-placeholder{color:#c5c8ce}.ivu-select-single .ivu-select-selection .ivu-select-placeholder,.ivu-select-single .ivu-select-selection .ivu-select-selected-value{display:block;height:30px;line-height:30px;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:8px;padding-right:24px}.ivu-select-multiple .ivu-select-selection{padding:0 24px 0 4px}.ivu-select-multiple .ivu-select-selection .ivu-select-placeholder{display:block;height:30px;line-height:30px;color:#c5c8ce;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-left:4px;padding-right:22px}.ivu-select-default.ivu-select-multiple .ivu-select-selection{min-height:32px}.ivu-select-large.ivu-select-single .ivu-select-selection{height:40px}.ivu-select-large.ivu-select-single .ivu-select-selection .ivu-select-placeholder,.ivu-select-large.ivu-select-single .ivu-select-selection .ivu-select-selected-value{height:38px;line-height:38px;font-size:16px}.ivu-select-large.ivu-select-multiple .ivu-select-selection{min-height:40px}.ivu-select-large.ivu-select-multiple .ivu-select-selection .ivu-select-placeholder,.ivu-select-large.ivu-select-multiple .ivu-select-selection .ivu-select-selected-value{min-height:38px;line-height:38px;font-size:16px}.ivu-select-small.ivu-select-single .ivu-select-selection{height:24px;border-radius:3px}.ivu-select-small.ivu-select-single .ivu-select-selection .ivu-select-placeholder,.ivu-select-small.ivu-select-single .ivu-select-selection .ivu-select-selected-value{height:22px;line-height:22px}.ivu-select-small.ivu-select-multiple .ivu-select-selection{min-height:24px;border-radius:3px}.ivu-select-small.ivu-select-multiple .ivu-select-selection .ivu-select-placeholder,.ivu-select-small.ivu-select-multiple .ivu-select-selection .ivu-select-selected-value{height:auto;min-height:22px;line-height:22px}.ivu-select-input{display:inline-block;height:32px;line-height:32px;padding:0 24px 0 8px;font-size:14px;outline:0;border:none;box-sizing:border-box;color:#515a6e;background-color:transparent;position:relative;cursor:pointer}.ivu-select-input::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-select-input:-ms-input-placeholder{color:#c5c8ce}.ivu-select-input::-webkit-input-placeholder{color:#c5c8ce}.ivu-select-input[disabled]{cursor:not-allowed;color:#ccc;-webkit-text-fill-color:#ccc}.ivu-select-single .ivu-select-input{width:100%}.ivu-select-large .ivu-select-input,.ivu-select-large.ivu-select-multiple .ivu-select-input{font-size:16px;height:32px;line-height:32px;top:3px}.ivu-select-small .ivu-select-input,.ivu-select-small.ivu-select-multiple .ivu-select-input{height:18px;line-height:18px;top:2px}.ivu-select-multiple .ivu-select-input{height:26px;line-height:26px;padding:0 0 0 4px;top:2px}.ivu-select-not-found{text-align:center;color:#c5c8ce}.ivu-select-not-found li:not([class^=ivu-]){margin-bottom:0}.ivu-select-loading{text-align:center;color:#c5c8ce}.ivu-select-multiple .ivu-tag{height:24px;line-height:22px;margin:3px 4px 3px 0;max-width:99%;position:relative}.ivu-select-multiple .ivu-tag span:not(.ivu-select-max-tag){display:block;margin-right:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-select-multiple .ivu-tag i{display:block;position:absolute;right:4px;top:4px}.ivu-select-multiple-tag-hidden{margin-right:0!important}.ivu-select-large.ivu-select-multiple .ivu-tag{height:32px;line-height:30px;font-size:16px}.ivu-select-large.ivu-select-multiple .ivu-tag i{top:9px}.ivu-select-small.ivu-select-multiple .ivu-tag{height:17px;line-height:15px;font-size:12px;padding:0 6px;margin:3px 4px 2px 0}.ivu-select-small.ivu-select-multiple .ivu-tag span{margin-right:14px}.ivu-select-small.ivu-select-multiple .ivu-tag i{top:1px;right:2px}.ivu-select-dropdown-list{min-width:100%;list-style:none}.ivu-select .ivu-select-dropdown{width:auto}.ivu-select-prefix{display:inline-block;vertical-align:middle}.ivu-select-prefix i{vertical-align:top}.ivu-select-head-with-prefix{display:inline-block!important;vertical-align:middle}.ivu-select-single .ivu-select-prefix{padding-left:4px}.ivu-select-multiple .ivu-select-head-with-prefix,.ivu-select-single .ivu-select-head-with-prefix{padding-left:0!important}.ivu-select-head-flex{display:flex;align-items:center}.ivu-select-multiple .ivu-select-head-flex .ivu-select-prefix{margin-right:4px}.ivu-select-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-select-item-focus,.ivu-select-item:hover{background:#f3f3f3}.ivu-select-item-disabled,.ivu-select-item-disabled:hover{color:#c5c8ce;cursor:not-allowed}.ivu-select-item-disabled:hover{background-color:#fff}.ivu-select-item-selected,.ivu-select-item-selected:hover{color:#2d8cf0}.ivu-select-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-select-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-select-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-select-large .ivu-select-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-select-item{white-space:normal}}.ivu-select-multiple .ivu-select-item{position:relative}.ivu-select-multiple .ivu-select-item-selected{color:rgba(45,140,240,.9);background:#fff}.ivu-select-multiple .ivu-select-item-focus,.ivu-select-multiple .ivu-select-item-selected:hover{background:#f3f3f3}.ivu-select-multiple .ivu-select-item-selected.ivu-select-multiple .ivu-select-item-focus{color:rgba(40,123,211,.91);background:#fff}.ivu-select-multiple .ivu-select-item-selected:after{display:inline-block;font-family:Ionicons;speak:none;font-style:normal;font-weight:400;font-feature-settings:normal;font-variant:normal;text-transform:none;text-rendering:optimizeLegibility;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:-.125em;text-align:center;font-size:24px;content:"\\F171";color:rgba(45,140,240,.9);position:absolute;top:2px;right:8px}.ivu-select-multiple .ivu-select-item-selected.ivu-select-item-disabled,.ivu-select-multiple .ivu-select-item-selected.ivu-select-item-disabled:after{color:#c5c8ce}.ivu-select-multiple .ivu-select-item-selected.ivu-select-item-disabled:hover{background-color:#fff}.ivu-select-group{list-style:none;margin:0;padding:0}.ivu-select-group-title{padding-left:8px;font-size:14px;color:#999;height:30px;line-height:30px}.ivu-form-item-error .ivu-select-selection{border:1px solid #ed4014}.ivu-form-item-error .ivu-select-arrow{color:#ed4014}.ivu-form-item-error .ivu-select-visible .ivu-select-selection{border-color:#ed4014;outline:0;box-shadow:0 0 0 2px rgba(237,64,20,.2)}.ivu-select-dropdown{width:inherit;max-height:200px;overflow:auto;margin:5px 0;padding:5px 0;background-color:#fff;box-sizing:border-box;border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2);position:absolute;z-index:900}.ivu-select-dropdown-transfer{z-index:1060;width:auto}.ivu-select-dropdown.ivu-transfer-no-max-height{max-height:none}.ivu-modal .ivu-select-dropdown{position:absolute!important}.ivu-split-wrapper{position:relative;width:100%;height:100%}.ivu-split-pane{position:absolute}.ivu-split-pane.left-pane,.ivu-split-pane.right-pane{top:0;bottom:0}.ivu-split-pane.left-pane{left:0}.ivu-split-pane.right-pane{right:0}.ivu-split-pane.bottom-pane,.ivu-split-pane.top-pane{left:0;right:0}.ivu-split-pane.top-pane{top:0}.ivu-split-pane.bottom-pane{bottom:0}.ivu-split-pane-moving{-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-split-trigger{border:1px solid #dcdee2}.ivu-split-trigger-con{position:absolute;transform:translate(-50%,-50%);z-index:10}.ivu-split-trigger-bar-con{position:absolute;overflow:hidden}.ivu-split-trigger-bar-con.vertical{left:1px;top:50%;height:32px;transform:translateY(-50%)}.ivu-split-trigger-bar-con.horizontal{left:50%;top:1px;width:32px;transform:translate(-50%)}.ivu-split-trigger-vertical{width:6px;height:100%;background:#f8f8f9;border-top:none;border-bottom:none;cursor:col-resize}.ivu-split-trigger-vertical .ivu-split-trigger-bar{width:4px;height:1px;background:rgba(23,35,61,.25);float:left;margin-top:3px}.ivu-split-trigger-horizontal{height:6px;width:100%;background:#f8f8f9;border-left:none;border-right:none;cursor:row-resize}.ivu-split-trigger-horizontal .ivu-split-trigger-bar{height:4px;width:1px;background:rgba(23,35,61,.25);float:left;margin-right:3px}.ivu-split-horizontal>.ivu-split-trigger-con{top:50%;height:100%;width:0}.ivu-split-vertical>.ivu-split-trigger-con{left:50%;height:0;width:100%}.ivu-split .no-select{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-tooltip,.ivu-tooltip-rel{display:inline-block}.ivu-tooltip-rel{position:relative;width:inherit}.ivu-tooltip-popper{display:block;visibility:visible;font-size:14px;line-height:1.5;position:absolute;z-index:1060}.ivu-tooltip-popper[x-placement^=top]{padding:5px 0 8px}.ivu-tooltip-popper[x-placement^=right]{padding:0 5px 0 8px}.ivu-tooltip-popper[x-placement^=bottom]{padding:8px 0 5px}.ivu-tooltip-popper[x-placement^=left]{padding:0 8px 0 5px}.ivu-tooltip-popper[x-placement^=top] .ivu-tooltip-arrow{bottom:3px;border-width:5px 5px 0;border-top-color:rgba(70,76,91,.9)}.ivu-tooltip-popper[x-placement=top] .ivu-tooltip-arrow{left:50%;margin-left:-5px}.ivu-tooltip-popper[x-placement=top-start] .ivu-tooltip-arrow{left:16px}.ivu-tooltip-popper[x-placement=top-end] .ivu-tooltip-arrow{right:16px}.ivu-tooltip-popper[x-placement^=right] .ivu-tooltip-arrow{left:3px;border-width:5px 5px 5px 0;border-right-color:rgba(70,76,91,.9)}.ivu-tooltip-popper[x-placement=right] .ivu-tooltip-arrow{top:50%;margin-top:-5px}.ivu-tooltip-popper[x-placement=right-start] .ivu-tooltip-arrow{top:8px}.ivu-tooltip-popper[x-placement=right-end] .ivu-tooltip-arrow{bottom:8px}.ivu-tooltip-popper[x-placement^=left] .ivu-tooltip-arrow{right:3px;border-width:5px 0 5px 5px;border-left-color:rgba(70,76,91,.9)}.ivu-tooltip-popper[x-placement=left] .ivu-tooltip-arrow{top:50%;margin-top:-5px}.ivu-tooltip-popper[x-placement=left-start] .ivu-tooltip-arrow{top:8px}.ivu-tooltip-popper[x-placement=left-end] .ivu-tooltip-arrow{bottom:8px}.ivu-tooltip-popper[x-placement^=bottom] .ivu-tooltip-arrow{top:3px;border-width:0 5px 5px;border-bottom-color:rgba(70,76,91,.9)}.ivu-tooltip-popper[x-placement=bottom] .ivu-tooltip-arrow{left:50%;margin-left:-5px}.ivu-tooltip-popper[x-placement=bottom-start] .ivu-tooltip-arrow{left:16px}.ivu-tooltip-popper[x-placement=bottom-end] .ivu-tooltip-arrow{right:16px}.ivu-tooltip-light.ivu-tooltip-popper{display:block;visibility:visible;font-size:14px;line-height:1.5;position:absolute;z-index:1060}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=top]{padding:7px 0 10px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=right]{padding:0 7px 0 10px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=bottom]{padding:10px 0 7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=left]{padding:0 10px 0 7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=top] .ivu-tooltip-arrow{bottom:3px;border-width:7px 7px 0;border-top-color:hsla(0,0%,85.1%,.5)}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=top] .ivu-tooltip-arrow{left:50%;margin-left:-7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=top-start] .ivu-tooltip-arrow{left:16px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=top-end] .ivu-tooltip-arrow{right:16px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=right] .ivu-tooltip-arrow{left:3px;border-width:7px 7px 7px 0;border-right-color:hsla(0,0%,85.1%,.5)}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=right] .ivu-tooltip-arrow{top:50%;margin-top:-7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=right-start] .ivu-tooltip-arrow{top:8px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=right-end] .ivu-tooltip-arrow{bottom:8px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=left] .ivu-tooltip-arrow{right:3px;border-width:7px 0 7px 7px;border-left-color:hsla(0,0%,85.1%,.5)}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=left] .ivu-tooltip-arrow{top:50%;margin-top:-7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=left-start] .ivu-tooltip-arrow{top:8px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=left-end] .ivu-tooltip-arrow{bottom:8px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=bottom] .ivu-tooltip-arrow{top:3px;border-width:0 7px 7px;border-bottom-color:hsla(0,0%,85.1%,.5)}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=bottom] .ivu-tooltip-arrow{left:50%;margin-left:-7px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=bottom-start] .ivu-tooltip-arrow{left:16px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement=bottom-end] .ivu-tooltip-arrow{right:16px}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=top] .ivu-tooltip-arrow:after{content:" ";bottom:1px;margin-left:-7px;border-bottom-width:0;border-top-width:7px;border-top-color:#fff}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=right] .ivu-tooltip-arrow:after{content:" ";left:1px;bottom:-7px;border-left-width:0;border-right-width:7px;border-right-color:#fff}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=bottom] .ivu-tooltip-arrow:after{content:" ";top:1px;margin-left:-7px;border-top-width:0;border-bottom-width:7px;border-bottom-color:#fff}.ivu-tooltip-light.ivu-tooltip-popper[x-placement^=left] .ivu-tooltip-arrow:after{content:" ";right:1px;border-right-width:0;border-left-width:7px;border-left-color:#fff;bottom:-7px}.ivu-tooltip-inner{max-width:250px;min-height:34px;padding:8px 12px;color:#fff;text-align:left;text-decoration:none;background-color:rgba(70,76,91,.9);border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2);white-space:nowrap}.ivu-tooltip-inner-with-width{white-space:pre-wrap;text-align:justify;word-wrap:break-word;word-break:break-all}.ivu-tooltip-light .ivu-tooltip-inner{background-color:#fff;color:#515a6e}.ivu-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.ivu-tooltip-light .ivu-tooltip-arrow{border-width:8px}.ivu-tooltip-light .ivu-tooltip-arrow:after{display:block;width:0;height:0;position:absolute;content:"";border:7px solid transparent}.ivu-poptip,.ivu-poptip-rel{display:inline-block}.ivu-poptip-rel{position:relative}.ivu-poptip-title{margin:0;padding:8px 16px;position:relative}.ivu-poptip-title:after{content:"";display:block;height:1px;position:absolute;left:8px;right:8px;bottom:0;background-color:#e8eaec}.ivu-poptip-title-inner{color:#17233d;font-size:14px;font-weight:500}.ivu-poptip-body{padding:8px 16px}.ivu-poptip-body-content{overflow:auto}.ivu-poptip-body-content-word-wrap{white-space:pre-wrap;text-align:justify}.ivu-poptip-body-content-inner{color:#515a6e}.ivu-poptip-inner{width:100%;background-color:#fff;background-clip:padding-box;border-radius:4px;box-shadow:0 1px 6px rgba(0,0,0,.2);white-space:nowrap}.ivu-poptip-popper{min-width:150px;display:block;visibility:visible;font-size:14px;line-height:1.5;position:absolute;z-index:1060}.ivu-poptip-popper[x-placement^=top]{padding:7px 0 10px}.ivu-poptip-popper[x-placement^=right]{padding:0 7px 0 10px}.ivu-poptip-popper[x-placement^=bottom]{padding:10px 0 7px}.ivu-poptip-popper[x-placement^=left]{padding:0 10px 0 7px}.ivu-poptip-popper[x-placement^=top] .ivu-poptip-arrow{bottom:3px;border-width:7px 7px 0;border-top-color:hsla(0,0%,85.1%,.5)}.ivu-poptip-popper[x-placement=top] .ivu-poptip-arrow{left:50%;margin-left:-7px}.ivu-poptip-popper[x-placement=top-start] .ivu-poptip-arrow{left:16px}.ivu-poptip-popper[x-placement=top-end] .ivu-poptip-arrow{right:16px}.ivu-poptip-popper[x-placement^=right] .ivu-poptip-arrow{left:3px;border-width:7px 7px 7px 0;border-right-color:hsla(0,0%,85.1%,.5)}.ivu-poptip-popper[x-placement=right] .ivu-poptip-arrow{top:50%;margin-top:-7px}.ivu-poptip-popper[x-placement=right-start] .ivu-poptip-arrow{top:8px}.ivu-poptip-popper[x-placement=right-end] .ivu-poptip-arrow{bottom:8px}.ivu-poptip-popper[x-placement^=left] .ivu-poptip-arrow{right:3px;border-width:7px 0 7px 7px;border-left-color:hsla(0,0%,85.1%,.5)}.ivu-poptip-popper[x-placement=left] .ivu-poptip-arrow{top:50%;margin-top:-7px}.ivu-poptip-popper[x-placement=left-start] .ivu-poptip-arrow{top:8px}.ivu-poptip-popper[x-placement=left-end] .ivu-poptip-arrow{bottom:8px}.ivu-poptip-popper[x-placement^=bottom] .ivu-poptip-arrow{top:3px;border-width:0 7px 7px;border-bottom-color:hsla(0,0%,85.1%,.5)}.ivu-poptip-popper[x-placement=bottom] .ivu-poptip-arrow{left:50%;margin-left:-7px}.ivu-poptip-popper[x-placement=bottom-start] .ivu-poptip-arrow{left:16px}.ivu-poptip-popper[x-placement=bottom-end] .ivu-poptip-arrow{right:16px}.ivu-poptip-popper[x-placement^=top] .ivu-poptip-arrow:after{content:" ";bottom:1px;margin-left:-7px;border-bottom-width:0;border-top-width:7px;border-top-color:#fff}.ivu-poptip-popper[x-placement^=right] .ivu-poptip-arrow:after{content:" ";left:1px;bottom:-7px;border-left-width:0;border-right-width:7px;border-right-color:#fff}.ivu-poptip-popper[x-placement^=bottom] .ivu-poptip-arrow:after{content:" ";top:1px;margin-left:-7px;border-top-width:0;border-bottom-width:7px;border-bottom-color:#fff}.ivu-poptip-popper[x-placement^=left] .ivu-poptip-arrow:after{content:" ";right:1px;border-right-width:0;border-left-width:7px;border-left-color:#fff;bottom:-7px}.ivu-poptip-arrow,.ivu-poptip-arrow:after{display:block;width:0;height:0;position:absolute;border-color:transparent;border-style:solid}.ivu-poptip-arrow{border-width:8px}.ivu-poptip-arrow:after{content:"";border-width:7px}.ivu-poptip-confirm .ivu-poptip-popper{max-width:300px}.ivu-poptip-confirm .ivu-poptip-inner{white-space:normal}.ivu-poptip-confirm .ivu-poptip-body{padding:16px 16px 8px}.ivu-poptip-confirm .ivu-poptip-body .ivu-icon{font-size:16px;color:#f90;line-height:18px;position:absolute}.ivu-poptip-confirm .ivu-poptip-body-message{padding-left:20px}.ivu-poptip-confirm .ivu-poptip-footer{text-align:right;padding:8px 16px 16px}.ivu-poptip-confirm .ivu-poptip-footer button{margin-left:4px}.ivu-input{display:inline-block;width:100%;height:32px;line-height:1.5;padding:4px 7px;font-size:14px;border:1px solid #dcdee2;border-radius:4px;color:#515a6e;background-color:#fff;background-image:none;position:relative;cursor:text;transition:border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-input::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-input:-ms-input-placeholder{color:#c5c8ce}.ivu-input::-webkit-input-placeholder{color:#c5c8ce}.ivu-input:focus,.ivu-input:hover{border-color:#57a3f3}.ivu-input:focus{outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-input[disabled],fieldset[disabled] .ivu-input{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-input[disabled]:hover,fieldset[disabled] .ivu-input:hover{border-color:#e3e5e8}textarea.ivu-input{max-width:100%;height:auto;min-height:32px;vertical-align:bottom;font-size:14px}.ivu-input-large{font-size:16px;padding:6px 7px;height:40px}.ivu-input-small{padding:1px 7px;height:24px;border-radius:3px}.ivu-input-wrapper{display:inline-block;width:100%;position:relative;vertical-align:middle;line-height:normal}.ivu-input-icon{width:32px;height:32px;line-height:32px;font-size:16px;text-align:center;color:#808695;position:absolute;right:0;z-index:3}.ivu-input-hide-icon .ivu-input-icon,.ivu-input-icon-clear,.ivu-input-icon-validate{display:none}.ivu-input-wrapper:hover .ivu-input-icon-clear{display:inline-block}.ivu-input-icon-normal+.ivu-input{padding-right:32px}.ivu-input-hide-icon .ivu-input-icon-normal+.ivu-input{padding-right:7px}.ivu-input-wrapper-large .ivu-input-icon{font-size:18px;height:40px;line-height:40px}.ivu-input-wrapper-small .ivu-input-icon{width:24px;font-size:14px;height:24px;line-height:24px}.ivu-input-prefix,.ivu-input-suffix{width:32px;height:100%;text-align:center;position:absolute;left:0;top:0;z-index:1}.ivu-input-prefix i,.ivu-input-suffix i{font-size:16px;line-height:32px;color:#808695}.ivu-input-suffix{left:auto;right:0}.ivu-input-wrapper-small .ivu-input-prefix i,.ivu-input-wrapper-small .ivu-input-suffix i{font-size:14px;line-height:24px}.ivu-input-wrapper-large .ivu-input-prefix i,.ivu-input-wrapper-large .ivu-input-suffix i{font-size:18px;line-height:40px}.ivu-input-with-prefix{padding-left:32px}.ivu-input-with-suffix{padding-right:32px}.ivu-input-search{cursor:pointer;padding:0 16px!important;background:#2d8cf0!important;color:#fff!important;border-color:#2d8cf0!important;transition:all .2s ease-in-out;position:relative;z-index:2}.ivu-input-search i{font-size:16px}.ivu-input-search:hover{background:#57a3f3!important;border-color:#57a3f3!important}.ivu-input-search:active{background:#2b85e4!important;border-color:#2b85e4!important}.ivu-input-search-icon{cursor:pointer;transition:color .2s ease-in-out}.ivu-input-search-icon:hover{color:inherit}.ivu-input-search:before{content:"";display:block;width:1px;position:absolute;top:-1px;bottom:-1px;left:-1px;background:inherit}.ivu-input-wrapper-small .ivu-input-search{padding:0 12px!important}.ivu-input-wrapper-small .ivu-input-search i{font-size:14px}.ivu-input-wrapper-large .ivu-input-search{padding:0 20px!important}.ivu-input-wrapper-large .ivu-input-search i{font-size:18px}.ivu-input-with-search:hover .ivu-input{border-color:#57a3f3}.ivu-input-word-count{text-align:center;position:absolute;right:7px;top:2px;bottom:2px;padding-left:7px;background:#fff;z-index:1;display:inline-flex;align-items:center;color:#808695;font-size:12px}.ivu-input-wrapper-disabled .ivu-input-word-count{background:#f3f3f3}.ivu-input-type-textarea .ivu-input-word-count{align-items:flex-end;top:auto}.ivu-input-group{display:table;width:100%;border-collapse:separate;position:relative;font-size:14px}.ivu-form-inline .ivu-input-group{top:1px}.ivu-input-group-large{font-size:16px}.ivu-input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.ivu-input-group>[class*=col-]{padding-right:8px}.ivu-input-group-append,.ivu-input-group-prepend,.ivu-input-group>.ivu-input{display:table-cell}.ivu-input-group-with-prepend .ivu-input,.ivu-input-group-with-prepend.ivu-input-group-small .ivu-input{border-top-left-radius:0;border-bottom-left-radius:0}.ivu-input-group-with-append .ivu-input,.ivu-input-group-with-append.ivu-input-group-small .ivu-input{border-top-right-radius:0;border-bottom-right-radius:0}.ivu-input-group-append .ivu-btn,.ivu-input-group-prepend .ivu-btn{border-color:transparent;background-color:transparent;color:inherit;margin:-6px -7px}.ivu-input-group-append,.ivu-input-group-prepend{width:1px;white-space:nowrap;vertical-align:middle}.ivu-input-group .ivu-input{width:100%;float:left;margin-bottom:0;position:relative;z-index:2}.ivu-input-group-append,.ivu-input-group-prepend{padding:4px 7px;font-size:inherit;font-weight:400;line-height:1;color:#515a6e;text-align:center;background-color:#f8f8f9;border:1px solid #dcdee2;border-radius:4px}.ivu-input-group-append .ivu-select,.ivu-input-group-prepend .ivu-select{margin:-5px -7px}.ivu-input-group-append .ivu-select-selection,.ivu-input-group-prepend .ivu-select-selection{background-color:inherit;margin:-1px;border:1px solid transparent}.ivu-input-group-append .ivu-select-visible .ivu-select-selection,.ivu-input-group-prepend .ivu-select-visible .ivu-select-selection{box-shadow:none}.ivu-input-group-prepend,.ivu-input-group>.ivu-input:first-child,.ivu-input-group>span>.ivu-input:first-child{border-bottom-right-radius:0!important;border-top-right-radius:0!important}.ivu-input-group-prepend .ivu--select .ivu--select-selection,.ivu-input-group>.ivu-input:first-child .ivu--select .ivu--select-selection,.ivu-input-group>span>.ivu-input:first-child .ivu--select .ivu--select-selection{border-bottom-right-radius:0;border-top-right-radius:0}.ivu-input-group-prepend{border-right:0}.ivu-input-group-append{border-left:0}.ivu-input-group-append,.ivu-input-group>.ivu-input:last-child{border-bottom-left-radius:0!important;border-top-left-radius:0!important}.ivu-input-group-append .ivu--select .ivu--select-selection,.ivu-input-group>.ivu-input:last-child .ivu--select .ivu--select-selection{border-bottom-left-radius:0;border-top-left-radius:0}.ivu-input-group-large .ivu-input,.ivu-input-group-large>.ivu-input-group-append,.ivu-input-group-large>.ivu-input-group-prepend{font-size:16px;padding:6px 7px;height:40px}.ivu-input-group-small .ivu-input,.ivu-input-group-small>.ivu-input-group-append,.ivu-input-group-small>.ivu-input-group-prepend{padding:1px 7px;height:24px;border-radius:3px}.ivu-form-item-error .ivu-input{border:1px solid #ed4014}.ivu-form-item-error .ivu-input:hover{border-color:#ed4014}.ivu-form-item-error .ivu-input:focus{border-color:#ed4014;outline:0;box-shadow:0 0 0 2px rgba(237,64,20,.2)}.ivu-form-item-error .ivu-input-icon{color:#ed4014}.ivu-form-item-error .ivu-input-group-append,.ivu-form-item-error .ivu-input-group-prepend{background-color:#fff;border:1px solid #ed4014}.ivu-form-item-error .ivu-input-group-append .ivu-select-selection,.ivu-form-item-error .ivu-input-group-prepend .ivu-select-selection{background-color:inherit;border:1px solid transparent}.ivu-form-item-error .ivu-input-group-prepend{border-right:0}.ivu-form-item-error .ivu-input-group-append{border-left:0}.ivu-form-item-error .ivu-transfer .ivu-input{display:inline-block;width:100%;height:32px;line-height:1.5;padding:4px 7px;font-size:14px;border:1px solid #dcdee2;border-radius:4px;color:#515a6e;background-color:#fff;background-image:none;position:relative;cursor:text;transition:border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-form-item-error .ivu-transfer .ivu-input::-moz-placeholder{color:#c5c8ce;opacity:1}.ivu-form-item-error .ivu-transfer .ivu-input:-ms-input-placeholder{color:#c5c8ce}.ivu-form-item-error .ivu-transfer .ivu-input::-webkit-input-placeholder{color:#c5c8ce}.ivu-form-item-error .ivu-transfer .ivu-input:hover{border-color:#57a3f3}.ivu-form-item-error .ivu-transfer .ivu-input:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-form-item-error .ivu-transfer .ivu-input[disabled],fieldset[disabled] .ivu-form-item-error .ivu-transfer .ivu-input{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-form-item-error .ivu-transfer .ivu-input[disabled]:hover,fieldset[disabled] .ivu-form-item-error .ivu-transfer .ivu-input:hover{border-color:#e3e5e8}textarea.ivu-form-item-error .ivu-transfer .ivu-input{max-width:100%;height:auto;min-height:32px;vertical-align:bottom;font-size:14px}.ivu-form-item-error .ivu-transfer .ivu-input-large{font-size:16px;padding:6px 7px;height:40px}.ivu-form-item-error .ivu-transfer .ivu-input-small{padding:1px 7px;height:24px;border-radius:3px}.ivu-form-item-error .ivu-transfer .ivu-input-icon{color:#808695}.ivu-form-item-validating .ivu-input-icon-validate{display:inline-block}.ivu-form-item-validating .ivu-input-icon+.ivu-input{padding-right:32px}.ivu-slider{line-height:normal}.ivu-slider-wrap{width:100%;height:4px;margin:16px 0;background-color:#e8eaec;border-radius:3px;vertical-align:middle;position:relative;cursor:pointer}.ivu-slider-button-wrap{width:18px;height:18px;text-align:center;background-color:transparent;position:absolute;top:-5px;transform:translateX(-50%)}.ivu-slider-button-wrap .ivu-tooltip{display:block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-slider-button{width:12px;height:12px;border:2px solid #57a3f3;border-radius:50%;background-color:#fff;transition:all .2s linear;outline:0}.ivu-slider-button-dragging,.ivu-slider-button:focus,.ivu-slider-button:hover{border-color:#2d8cf0;transform:scale(1.5)}.ivu-slider-button:hover{cursor:-webkit-grab;cursor:grab}.ivu-slider-button-dragging,.ivu-slider-button-dragging:hover{cursor:-webkit-grabbing;cursor:grabbing}.ivu-slider-bar{height:4px;background:#57a3f3;border-radius:3px;position:absolute}.ivu-slider-stop{position:absolute;width:4px;height:4px;border-radius:50%;background-color:#fff;transform:translateX(-50%)}.ivu-slider-marks{top:0;left:12px;width:18px;height:100%}.ivu-slider-marks-item{position:absolute;transform:translateX(-50%);font-size:14px;color:#808695;margin-top:15px}.ivu-slider-disabled{cursor:not-allowed}.ivu-slider-disabled .ivu-slider-wrap{background-color:#ccc;cursor:not-allowed}.ivu-slider-disabled .ivu-slider-bar{background-color:#ccc}.ivu-slider-disabled .ivu-slider-button,.ivu-slider-disabled .ivu-slider-button-dragging,.ivu-slider-disabled .ivu-slider-button:hover{border-color:#ccc}.ivu-slider-disabled .ivu-slider-button-dragging,.ivu-slider-disabled .ivu-slider-button-dragging:hover,.ivu-slider-disabled .ivu-slider-button:hover{cursor:not-allowed}.ivu-slider-input .ivu-slider-wrap{width:auto;margin-right:100px}.ivu-slider-input .ivu-input-number{float:right;margin-top:-14px}.selectDropDown{width:auto;padding:0;white-space:nowrap;overflow:visible}.ivu-cascader{line-height:normal}.ivu-cascader-rel{display:inline-block;width:100%;position:relative}.ivu-cascader .ivu-input{padding-right:24px;display:block;cursor:pointer}.ivu-cascader-disabled .ivu-input{cursor:not-allowed}.ivu-cascader-label{width:100%;height:100%;line-height:32px;padding:0 7px;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer;font-size:14px;position:absolute;left:0;top:0}.ivu-cascader-size-large .ivu-cascader-label{line-height:36px;font-size:14px}.ivu-cascader-size-small .ivu-cascader-label{line-height:26px}.ivu-cascader .ivu-cascader-arrow:first-of-type{display:none;cursor:pointer}.ivu-cascader:hover .ivu-cascader-arrow:first-of-type{display:inline-block}.ivu-cascader-show-clear:hover .ivu-cascader-arrow:nth-of-type(2){display:none}.ivu-cascader-arrow{position:absolute;top:50%;right:8px;line-height:1;transform:translateY(-50%);font-size:14px;color:#808695;transition:all .2s ease-in-out}.ivu-cascader-visible .ivu-cascader-arrow:nth-of-type(2){transform:translateY(-50%) rotate(180deg)}.ivu-cascader .ivu-select-dropdown{width:auto;padding:0;white-space:nowrap;overflow:visible}.ivu-cascader .ivu-cascader-menu-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-cascader .ivu-cascader-menu-item-focus,.ivu-cascader .ivu-cascader-menu-item:hover{background:#f3f3f3}.ivu-cascader .ivu-cascader-menu-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-cascader .ivu-cascader-menu-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-cascader .ivu-cascader-menu-item-selected,.ivu-cascader .ivu-cascader-menu-item-selected:hover{color:#2d8cf0}.ivu-cascader .ivu-cascader-menu-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-cascader .ivu-cascader-menu-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-cascader .ivu-cascader-menu-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-cascader .ivu-cascader-large .ivu-cascader-menu-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-cascader .ivu-cascader-menu-item{white-space:normal}}.ivu-cascader .ivu-select-item span{color:#ed4014}.ivu-cascader-dropdown{padding:5px 0}.ivu-cascader-dropdown .ivu-select-dropdown-list{max-height:190px;box-sizing:border-box;overflow:auto}.ivu-cascader-not-found-tip{padding:5px 0;text-align:center;color:#c5c8ce}.ivu-cascader-not-found-tip li:not([class^=ivu-]){list-style:none;margin-bottom:0}.ivu-cascader-not-found .ivu-select-dropdown{width:inherit}.ivu-cascader-menu{display:inline-block;min-width:100px;height:180px;margin:0;padding:5px 0!important;vertical-align:top;list-style:none;border-right:1px solid #e8eaec;overflow:auto}.ivu-cascader-menu:last-child{border-right-color:transparent;margin-right:-1px}.ivu-cascader-menu .ivu-cascader-menu-item{position:relative;padding-right:36px;transition:all .2s ease-in-out}.ivu-cascader-menu .ivu-cascader-menu-item i{font-size:12px;position:absolute;right:15px;top:50%;transform:translateY(-50%)}.ivu-cascader-menu .ivu-cascader-menu-item-loading{margin-top:-6px}.ivu-cascader-menu .ivu-cascader-menu-item-active{background-color:#f3f3f3;color:#2d8cf0}.ivu-cascader-transfer{z-index:1060;width:auto;padding:0;white-space:nowrap;overflow:visible}.ivu-cascader-transfer .ivu-cascader-menu-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-cascader-transfer .ivu-cascader-menu-item-focus,.ivu-cascader-transfer .ivu-cascader-menu-item:hover{background:#f3f3f3}.ivu-cascader-transfer .ivu-cascader-menu-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-cascader-transfer .ivu-cascader-menu-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-cascader-transfer .ivu-cascader-menu-item-selected,.ivu-cascader-transfer .ivu-cascader-menu-item-selected:hover{color:#2d8cf0}.ivu-cascader-transfer .ivu-cascader-menu-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-cascader-transfer .ivu-cascader-menu-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-cascader-transfer .ivu-cascader-menu-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-cascader-transfer .ivu-cascader-large .ivu-cascader-menu-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-cascader-transfer .ivu-cascader-menu-item{white-space:normal}}.ivu-cascader-transfer .ivu-select-item span{color:#ed4014}.ivu-cascader-transfer .ivu-cascader-menu-item{padding-right:24px;transition:all .2s ease-in-out}.ivu-cascader-transfer .ivu-cascader-menu-item-active{background-color:#f3f3f3;color:#2d8cf0}.ivu-form-item-error .ivu-cascader-arrow{color:#ed4014}.ivu-transfer{position:relative;line-height:1.5}.ivu-transfer-list{display:inline-block;width:180px;height:210px;font-size:14px;vertical-align:middle;position:relative;padding-top:35px}.ivu-transfer-list-with-footer{padding-bottom:35px}.ivu-transfer-list-header{padding:8px 16px;background:#f9fafc;color:#515a6e;border:1px solid #dcdee2;border-bottom-color:#e8eaec;border-radius:6px 6px 0 0;overflow:hidden;position:absolute;top:0;left:0;width:100%}.ivu-transfer-list-header-title{cursor:pointer}.ivu-transfer-list-header>span{padding-left:4px}.ivu-transfer-list-header-count{margin:0!important;float:right}.ivu-transfer-list-body{height:100%;border:1px solid #dcdee2;border-top:none;border-radius:0 0 6px 6px;position:relative;overflow:hidden}.ivu-transfer-list-body-with-search{padding-top:34px}.ivu-transfer-list-body-with-footer{border-radius:0}.ivu-transfer-list-content{height:100%;padding:4px 0;overflow:auto}.ivu-transfer-list-content-item{overflow:hidden;text-overflow:ellipsis}.ivu-transfer-list-content-item>span{padding-left:4px}.ivu-transfer-list-content-not-found{display:none;text-align:center;color:#c5c8ce}li.ivu-transfer-list-content-not-found:only-child{display:block}.ivu-transfer-list-body-with-search .ivu-transfer-list-content{padding:6px 0 0}.ivu-transfer-list-body-search-wrapper{padding:8px 8px 0;position:absolute;top:0;left:0;right:0}.ivu-transfer-list-search{position:relative}.ivu-transfer-list-footer{border:1px solid #dcdee2;border-top:none;border-radius:0 0 6px 6px;position:absolute;bottom:0;left:0;right:0;zoom:1}.ivu-transfer-list-footer:after,.ivu-transfer-list-footer:before{content:"";display:table}.ivu-transfer-list-footer:after{clear:both;visibility:hidden;font-size:0;height:0}.ivu-transfer-operation{display:inline-block;margin:0 16px;vertical-align:middle}.ivu-transfer-operation .ivu-btn{display:block;min-width:24px}.ivu-transfer-operation .ivu-btn:first-child{margin-bottom:12px}.ivu-transfer-operation .ivu-btn span i,.ivu-transfer-operation .ivu-btn span span{vertical-align:middle}.ivu-transfer-list-content-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-transfer-list-content-item-focus,.ivu-transfer-list-content-item:hover{background:#f3f3f3}.ivu-transfer-list-content-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-transfer-list-content-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-transfer-list-content-item-selected,.ivu-transfer-list-content-item-selected:hover{color:#2d8cf0}.ivu-transfer-list-content-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-transfer-list-content-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-transfer-list-content-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-transfer-large .ivu-transfer-list-content-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-transfer-list-content-item{white-space:normal}}.ivu-table{width:inherit;height:100%;max-width:100%;overflow:hidden;color:#515a6e;font-size:14px;background-color:#fff;box-sizing:border-box}.ivu-table-wrapper{position:relative;overflow:hidden}.ivu-table-wrapper-with-border{border:1px solid #dcdee2;border-bottom:0;border-right:0}.ivu-table-summary{border-top:1px solid #e8eaec}.ivu-table-summary tr td{background-color:#f8f8f9}.ivu-table-with-summary .ivu-table-tbody tr:last-child td{border-bottom:none}.ivu-table-resize-line{position:absolute;top:0;left:0;bottom:0;width:1px;border-right:1px dashed #e8eaec}.ivu-table-hide{opacity:0}.ivu-table:before{width:100%;height:1px;left:0;bottom:0;z-index:4}.ivu-table-border:after,.ivu-table:before{content:"";position:absolute;background-color:#dcdee2}.ivu-table-border:after{width:1px;height:100%;top:0;right:0;z-index:3}.ivu-table-footer,.ivu-table-title{height:48px;line-height:48px;border-bottom:1px solid #e8eaec}.ivu-table-footer{border-bottom:none}.ivu-table-header{overflow:hidden}.ivu-table-header thead tr th{position:relative;height:100%;padding:8px 0}.ivu-table-header-resizable{position:absolute;width:10px;height:100%;bottom:0;right:-5px;cursor:col-resize;z-index:1}.ivu-table-overflowX{overflow-x:scroll}.ivu-table-overflowY{overflow-y:scroll}.ivu-table-tip{overflow-x:auto;overflow-y:hidden}.ivu-table-with-fixed-top.ivu-table-with-footer .ivu-table-footer{border-top:1px solid #dcdee2}.ivu-table-with-fixed-top.ivu-table-with-footer tbody tr:last-child td{border-bottom:none}.ivu-table td,.ivu-table th{min-width:0;height:48px;box-sizing:border-box;text-align:left;text-overflow:ellipsis;vertical-align:middle;border-bottom:1px solid #e8eaec}.ivu-table th{height:40px;white-space:nowrap;overflow:hidden;background-color:#f8f8f9}.ivu-table td{background-color:#fff;transition:background-color .2s ease-in-out}td.ivu-table-column-left,th.ivu-table-column-left{text-align:left}td.ivu-table-column-center,th.ivu-table-column-center{text-align:center}td.ivu-table-column-right,th.ivu-table-column-right{text-align:right}.ivu-table table{table-layout:fixed}.ivu-table-border td,.ivu-table-border th{border-right:1px solid #e8eaec}.ivu-table-cell{padding-left:18px;padding-right:18px;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-all;box-sizing:border-box}.ivu-table-cell-ellipsis{word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ivu-table-cell-tooltip{width:100%;display:flex;align-items:center}.ivu-table-cell-tooltip-content{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-table-cell-with-expand{height:47px;line-height:47px;padding:0;text-align:center}.ivu-table-cell-expand{cursor:pointer;transition:transform .2s ease-in-out}.ivu-table-cell-expand i{font-size:14px}.ivu-table-cell-expand-expanded{transform:rotate(90deg)}.ivu-table-cell-sort{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-table-cell-with-selection .ivu-checkbox-wrapper{margin-right:0}.ivu-table-cell-tree{display:inline-block;width:16px;height:16px;border:1px solid #dcdee2;border-radius:2px;background-color:#fff;line-height:12px;cursor:pointer;vertical-align:middle;transition:color .2s ease-in-out,border-color .2s ease-in-out}.ivu-table-cell-tree-empty{cursor:default;color:transparent;background-color:transparent;border-color:transparent}.ivu-table-cell-tree:hover{color:#2d8cf0;border-color:#2d8cf0}.ivu-table-cell-tree-empty:hover{color:transparent;border-color:transparent}.ivu-table-cell-tree-loading{cursor:default;background-color:transparent;border-color:transparent}.ivu-table-cell-tree-loading:hover{border-color:transparent}.ivu-table-cell-tree-level{display:inline-block;height:16px}.ivu-table-cell-slot-inline{display:inline}.ivu-table-cell-slot-inline-block{display:inline-block}.ivu-table-hidden{visibility:hidden}th .ivu-table-cell{display:inline-block;word-wrap:normal;vertical-align:middle}td.ivu-table-expanded-cell{padding:20px 50px;background:#f8f8f9}.ivu-table-stripe .ivu-table-body tr:nth-child(2n) td,.ivu-table-stripe .ivu-table-fixed-body tr:nth-child(2n) td{background-color:#f8f8f9}.ivu-table-stripe .ivu-table-body tr.ivu-table-row-hover td,.ivu-table-stripe .ivu-table-fixed-body tr.ivu-table-row-hover td,tr.ivu-table-row-hover td{background-color:#ebf7ff}.ivu-table-large{font-size:16px}.ivu-table-large th{height:48px}.ivu-table-large td{height:60px}.ivu-table-large-footer,.ivu-table-large-title{height:60px;line-height:60px}.ivu-table-large .ivu-table-cell-with-expand{height:59px;line-height:59px}.ivu-table-large .ivu-table-cell-with-expand i{font-size:16px}.ivu-table-small{font-size:12px}.ivu-table-small th{height:32px}.ivu-table-small td{height:40px}.ivu-table-small-footer,.ivu-table-small-title{height:40px;line-height:40px}.ivu-table-small .ivu-table-cell-with-expand{height:39px;line-height:39px}.ivu-table-row-highlight td,.ivu-table-stripe .ivu-table-body tr.ivu-table-row-highlight:nth-child(2n) td,.ivu-table-stripe .ivu-table-fixed-body tr.ivu-table-row-highlight:nth-child(2n) td,tr.ivu-table-row-highlight.ivu-table-row-hover td{background-color:#ebf7ff}.ivu-table-fixed,.ivu-table-fixed-right{position:absolute;top:0;left:0;box-shadow:2px 0 6px -2px rgba(0,0,0,.2)}.ivu-table-fixed-right:before,.ivu-table-fixed:before{content:"";width:100%;height:1px;background-color:#dcdee2;position:absolute;left:0;bottom:0;z-index:4}.ivu-table-fixed-right{top:0;left:auto;right:0;box-shadow:-2px 0 6px -2px rgba(0,0,0,.2)}.ivu-table-fixed-right-header{position:absolute;top:-1px;right:0;background-color:#f8f8f9;border-top:1px solid #dcdee2;border-bottom:1px solid #e8eaec}.ivu-table-fixed-header{overflow:hidden}.ivu-table-fixed-header thead tr th{position:relative;height:100%;padding:8px 0}.ivu-table-fixed-body{overflow:hidden;position:relative;z-index:3}.ivu-table-fixed-shadow{width:1px;height:100%;position:absolute;top:0;right:0;box-shadow:1px 0 6px rgba(0,0,0,.2);overflow:hidden;z-index:1}.ivu-table-sort{display:inline-block;width:14px;height:12px;margin-top:-1px;vertical-align:middle;overflow:hidden;cursor:pointer;position:relative}.ivu-table-sort i{display:block;height:6px;line-height:6px;overflow:hidden;position:absolute;color:#c5c8ce;transition:color .2s ease-in-out;font-size:16px}.ivu-table-sort i:hover{color:inherit}.ivu-table-sort i.on{color:#2d8cf0}.ivu-table-sort i:first-child{top:0}.ivu-table-sort i:last-child{bottom:0}.ivu-table-filter{display:inline-block;cursor:pointer;position:relative}.ivu-table-filter i{color:#c5c8ce;transition:color .2s ease-in-out}.ivu-table-filter i:hover{color:inherit}.ivu-table-filter i.on{color:#2d8cf0}.ivu-table-filter-list{padding:8px 0 0}.ivu-table-filter-list-item{padding:0 12px 8px}.ivu-table-filter-list-item .ivu-checkbox-wrapper+.ivu-checkbox-wrapper{margin:0}.ivu-table-filter-list-item label{display:block}.ivu-table-filter-list-item label>span{margin-right:4px}.ivu-table-filter-list ul{padding-bottom:8px}.ivu-table-filter-list .ivu-table-filter-select-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-table-filter-list .ivu-table-filter-select-item-focus,.ivu-table-filter-list .ivu-table-filter-select-item:hover{background:#f3f3f3}.ivu-table-filter-list .ivu-table-filter-select-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-table-filter-list .ivu-table-filter-select-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-table-filter-list .ivu-table-filter-select-item-selected,.ivu-table-filter-list .ivu-table-filter-select-item-selected:hover{color:#2d8cf0}.ivu-table-filter-list .ivu-table-filter-select-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-table-filter-list .ivu-table-filter-select-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-table-filter-list .ivu-table-filter-select-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-table-filter-list .ivu-table-large .ivu-table-filter-select-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-table-filter-list .ivu-table-filter-select-item{white-space:normal}}.ivu-table-filter-footer{padding:4px;border-top:1px solid #e8eaec;overflow:hidden}.ivu-table-filter-footer button:first-child{float:left}.ivu-table-filter-footer button:last-child{float:right}.ivu-table-tip table{width:100%}.ivu-table-tip table td{text-align:center}.ivu-table-expanded-hidden{visibility:hidden}.ivu-table-context-menu{position:absolute}.ivu-table-popper{min-width:0;text-align:left}.ivu-table-popper .ivu-poptip-body{padding:0}.ivu-dropdown{display:inline-block}.ivu-dropdown .ivu-select-dropdown{overflow:visible;max-height:none}.ivu-dropdown .ivu-dropdown{width:100%}.ivu-dropdown-rel{position:relative}.ivu-dropdown-rel-user-select-none{-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-dropdown-menu{min-width:100px}.ivu-dropdown-transfer{width:auto}.ivu-dropdown-item-selected,.ivu-dropdown-item.ivu-dropdown-item-selected:hover{background:#f0faff}.ivu-dropdown-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-dropdown-item-focus,.ivu-dropdown-item:hover{background:#f3f3f3}.ivu-dropdown-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-dropdown-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-dropdown-item-selected,.ivu-dropdown-item-selected:hover{color:#2d8cf0}.ivu-dropdown-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-dropdown-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-dropdown-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-dropdown-large .ivu-dropdown-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-dropdown-item{white-space:normal}}.ivu-tabs{box-sizing:border-box;position:relative;overflow:hidden;color:#515a6e;zoom:1}.ivu-tabs:after,.ivu-tabs:before{content:"";display:table}.ivu-tabs:after{clear:both;visibility:hidden;font-size:0;height:0}.ivu-tabs-bar{outline:0}.ivu-tabs-ink-bar{height:2px;box-sizing:border-box;background-color:#2d8cf0;position:absolute;left:0;bottom:1px;z-index:1;transition:transform .3s ease-in-out;transform-origin:0 0}.ivu-tabs-bar{border-bottom:1px solid #dcdee2;margin-bottom:16px}.ivu-tabs-nav-container{margin-bottom:-1px;line-height:1.5;font-size:14px;box-sizing:border-box;white-space:nowrap;overflow:hidden;position:relative;zoom:1}.ivu-tabs-nav-container:after,.ivu-tabs-nav-container:before{content:"";display:table}.ivu-tabs-nav-container:after{clear:both;visibility:hidden;font-size:0;height:0}.ivu-tabs-nav-container:focus{outline:0}.ivu-tabs-nav-container:focus .ivu-tabs-tab-focused{border-color:#57a3f3!important}.ivu-tabs-nav-container-scrolling{padding-left:32px;padding-right:32px}.ivu-tabs-nav-wrap{overflow:hidden;margin-bottom:-1px}.ivu-tabs-nav-scroll{overflow:hidden;white-space:nowrap}.ivu-tabs-nav-right{float:right;margin-left:5px}.ivu-tabs-nav-next,.ivu-tabs-nav-prev{width:32px;text-align:center;position:absolute;line-height:32px;cursor:pointer}.ivu-tabs-nav-next i,.ivu-tabs-nav-prev i{font-size:16px}.ivu-tabs-nav-prev{left:0}.ivu-tabs-nav-next{right:0}.ivu-tabs-nav-scrollable{padding:0 32px}.ivu-tabs-nav-scroll-disabled{display:none}.ivu-tabs-nav{padding-left:0;margin:0;float:left;list-style:none;box-sizing:border-box;position:relative;transition:transform .5s ease-in-out}.ivu-tabs-nav:after,.ivu-tabs-nav:before{display:table;content:" "}.ivu-tabs-nav:after{clear:both}.ivu-tabs-nav .ivu-tabs-tab-disabled{pointer-events:none;cursor:default;color:#ccc}.ivu-tabs-nav .ivu-tabs-tab{display:inline-block;height:100%;padding:8px 16px;margin-right:16px;box-sizing:border-box;cursor:pointer;text-decoration:none;position:relative;transition:color .3s ease-in-out}.ivu-tabs-nav .ivu-tabs-tab:hover{color:#57a3f3}.ivu-tabs-nav .ivu-tabs-tab:active{color:#2b85e4}.ivu-tabs-nav .ivu-tabs-tab .ivu-icon{width:14px;height:14px;margin-right:8px}.ivu-tabs-nav .ivu-tabs-tab-active{color:#2d8cf0}.ivu-tabs-mini .ivu-tabs-nav-container{font-size:14px}.ivu-tabs-mini .ivu-tabs-tab{margin-right:0;padding:8px 16px;font-size:12px}.ivu-tabs .ivu-tabs-content-animated{display:flex;flex-direction:row;will-change:transform;transition:transform .3s ease-in-out}.ivu-tabs .ivu-tabs-tabpane{flex-shrink:0;width:100%;transition:opacity .3s;opacity:1;outline:0}.ivu-tabs .ivu-tabs-tabpane-inactive{opacity:0;height:0}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-nav-container{height:32px}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-ink-bar{visibility:hidden}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab{margin:0 4px 0 0;height:31px;padding:5px 16px 4px;border:1px solid #dcdee2;border-bottom:0;border-radius:4px 4px 0 0;transition:all .3s ease-in-out;background:#f8f8f9}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab-active{height:32px;padding-bottom:5px;background:#fff;transform:translateZ(0);border-color:#dcdee2;color:#2d8cf0}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-nav-wrap{margin-bottom:0}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab .ivu-tabs-close{width:0;height:22px;font-size:22px;margin-right:0;color:#999;text-align:right;vertical-align:middle;overflow:hidden;position:relative;top:-1px;transform-origin:100% 50%;transition:all .3s ease-in-out}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab .ivu-tabs-close:hover{color:#444}.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab-active .ivu-tabs-close,.ivu-tabs.ivu-tabs-card>.ivu-tabs-bar .ivu-tabs-tab:hover .ivu-tabs-close{width:22px;transform:translateZ(0);margin-right:-6px}.ivu-tabs-context-menu{position:absolute}.ivu-tabs-no-animation>.ivu-tabs-content{transform:none!important}.ivu-tabs-no-animation>.ivu-tabs-content>.ivu-tabs-tabpane-inactive{display:none}.ivu-menu{display:block;margin:0;padding:0;outline:0;list-style:none;color:#515a6e;font-size:14px;position:relative;z-index:900}.ivu-menu-horizontal{height:60px;line-height:60px}.ivu-menu-horizontal.ivu-menu-light:after{content:"";display:block;width:100%;height:1px;background:#dcdee2;position:absolute;bottom:0;left:0}.ivu-menu-vertical.ivu-menu-light:after{content:"";display:block;width:1px;height:100%;background:#dcdee2;position:absolute;top:0;bottom:0;right:0;z-index:1}.ivu-menu-light{background:#fff}.ivu-menu-dark{background:#515a6e}.ivu-menu-primary{background:#2d8cf0}.ivu-menu-item{display:block;outline:0;list-style:none;font-size:14px;position:relative;z-index:1;cursor:pointer;transition:all .2s ease-in-out}a.ivu-menu-item,a.ivu-menu-item:active,a.ivu-menu-item:hover{color:inherit}.ivu-menu-item>i{margin-right:6px}.ivu-menu-submenu-title>i,.ivu-menu-submenu-title span>i{margin-right:8px}.ivu-menu-horizontal .ivu-menu-item,.ivu-menu-horizontal .ivu-menu-submenu{float:left;padding:0 20px;position:relative;cursor:pointer;z-index:3;transition:all .2s ease-in-out}.ivu-menu-light.ivu-menu-horizontal .ivu-menu-item,.ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu{height:inherit;line-height:inherit;border-bottom:2px solid transparent;color:#515a6e}.ivu-menu-light.ivu-menu-horizontal .ivu-menu-item-active,.ivu-menu-light.ivu-menu-horizontal .ivu-menu-item:hover,.ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu-active,.ivu-menu-light.ivu-menu-horizontal .ivu-menu-submenu:hover{color:#2d8cf0;border-bottom:2px solid #2d8cf0}.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-item,.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu{color:hsla(0,0%,100%,.7)}.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-item-active,.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-item:hover,.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu-active,.ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu:hover,.ivu-menu-primary.ivu-menu-horizontal .ivu-menu-item,.ivu-menu-primary.ivu-menu-horizontal .ivu-menu-submenu{color:#fff}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown{min-width:100%;width:auto;max-height:none}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item{height:auto;border-bottom:0;float:none}.ivu-menu-item-group{line-height:normal}.ivu-menu-item-group-title{height:30px;line-height:30px;padding-left:8px;font-size:12px;color:#999}.ivu-menu-item-group>ul{padding:0!important;list-style:none!important}.ivu-menu-vertical .ivu-menu-item,.ivu-menu-vertical .ivu-menu-submenu-title{padding:14px 24px;position:relative;cursor:pointer;z-index:1;transition:all .2s ease-in-out}.ivu-menu-vertical .ivu-menu-item:hover,.ivu-menu-vertical .ivu-menu-submenu-title:hover{color:#2d8cf0}.ivu-menu-vertical .ivu-menu-submenu-title-icon{position:absolute;top:50%;right:24px;transform:translateY(-50%)}.ivu-menu-submenu-title-icon{transition:transform .2s ease-in-out}.ivu-menu-horizontal .ivu-menu-opened>*>.ivu-menu-submenu-title-icon{transform:rotate(180deg)}.ivu-menu-vertical .ivu-menu-opened>*>.ivu-menu-submenu-title-icon{transform:translateY(-50%) rotate(180deg)}.ivu-menu-vertical .ivu-menu-submenu-nested{padding-left:20px}.ivu-menu-vertical .ivu-menu-submenu .ivu-menu-item{padding-left:43px}.ivu-menu-vertical .ivu-menu-item-group-title{height:48px;line-height:48px;font-size:14px;padding-left:28px}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item-group-title{color:hsla(0,0%,100%,.36)}.ivu-menu-light.ivu-menu-vertical .ivu-menu-item-active:not(.ivu-menu-submenu){color:#2d8cf0;background:#f0faff;z-index:2}.ivu-menu-light.ivu-menu-vertical .ivu-menu-item-active:not(.ivu-menu-submenu):after{content:"";display:block;width:2px;position:absolute;top:0;bottom:0;right:0;background:#2d8cf0}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item,.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu-title{color:hsla(0,0%,100%,.7)}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item-active:not(.ivu-menu-submenu),.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item-active:not(.ivu-menu-submenu):hover,.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu-title-active:not(.ivu-menu-submenu),.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu-title-active:not(.ivu-menu-submenu):hover{background:#363e4f}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item:hover,.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu-title:hover{color:#fff;background:#515a6e}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-item-active:not(.ivu-menu-submenu),.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu-title-active:not(.ivu-menu-submenu){color:#2d8cf0}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu .ivu-menu-item:hover{color:#fff;background:0 0!important}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu .ivu-menu-item-active,.ivu-menu-dark.ivu-menu-vertical .ivu-menu-submenu .ivu-menu-item-active:hover{border-right:none;color:#fff;background:#2d8cf0!important}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-child-item-active>.ivu-menu-submenu-title{color:#fff}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-opened{background:#363e4f}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-opened .ivu-menu-submenu-title{background:#515a6e}.ivu-menu-dark.ivu-menu-vertical .ivu-menu-opened .ivu-menu-submenu-has-parent-submenu .ivu-menu-submenu-title{background:0 0}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-focus,.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item:hover{background:#f3f3f3}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-selected,.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-selected:hover{color:#2d8cf0}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-menu-large .ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item{white-space:normal}}.ivu-menu-horizontal .ivu-menu-submenu .ivu-select-dropdown .ivu-menu-item{padding:7px 16px 8px;font-size:14px!important}.ivu-date-picker{display:inline-block;line-height:normal}.ivu-date-picker-rel{position:relative}.ivu-date-picker .ivu-select-dropdown{width:auto;padding:0;overflow:visible;max-height:none}.ivu-date-picker-cells{width:196px;margin:10px;white-space:normal}.ivu-date-picker-cells span,.ivu-date-picker-cells span em{display:inline-block;width:24px;height:24px}.ivu-date-picker-cells span em{line-height:24px;margin:2px;font-style:normal;border-radius:3px;text-align:center;transition:all .2s ease-in-out}.ivu-date-picker-cells-header span{line-height:24px;text-align:center;margin:2px;color:#c5c8ce}.ivu-date-picker-cells-cell:hover em{background:#e1f0fe}.ivu-date-picker-cells-focused em{box-shadow:inset 0 0 0 1px #2d8cf0}span.ivu-date-picker-cells-cell{width:28px;height:28px;cursor:pointer}.ivu-date-picker-cells-cell-next-month em,.ivu-date-picker-cells-cell-prev-month em{color:#c5c8ce}.ivu-date-picker-cells-cell-next-month:hover em,.ivu-date-picker-cells-cell-prev-month:hover em{background:0 0}span.ivu-date-picker-cells-cell-disabled,span.ivu-date-picker-cells-cell-disabled:hover,span.ivu-date-picker-cells-cell-week-label,span.ivu-date-picker-cells-cell-week-label:hover{cursor:not-allowed;color:#c5c8ce}span.ivu-date-picker-cells-cell-disabled:hover em,span.ivu-date-picker-cells-cell-disabled em,span.ivu-date-picker-cells-cell-week-label:hover em,span.ivu-date-picker-cells-cell-week-label em{color:inherit;background:inherit}span.ivu-date-picker-cells-cell-disabled,span.ivu-date-picker-cells-cell-disabled:hover{background:#f7f7f7}.ivu-date-picker-cells-cell-today em{position:relative}.ivu-date-picker-cells-cell-today em:after{content:"";display:block;width:6px;height:6px;border-radius:50%;background:#2d8cf0;position:absolute;top:1px;right:1px}.ivu-date-picker-cells-cell-range{position:relative}.ivu-date-picker-cells-cell-range em{position:relative;z-index:1}.ivu-date-picker-cells-cell-range:before{content:"";display:block;background:#e1f0fe;border-radius:0;border:0;position:absolute;top:2px;bottom:2px;left:0;right:0}.ivu-date-picker-cells-cell-selected:hover em,.ivu-date-picker-cells-cell-selected em{background:#2d8cf0;color:#fff}span.ivu-date-picker-cells-cell-disabled.ivu-date-picker-cells-cell-selected em{background:#c5c8ce;color:#f7f7f7}.ivu-date-picker-cells-cell-today.ivu-date-picker-cells-cell-selected em:after{background:#fff}.ivu-date-picker-cells-show-week-numbers{width:226px}.ivu-date-picker-cells-month,.ivu-date-picker-cells-year{margin-top:14px}.ivu-date-picker-cells-month span,.ivu-date-picker-cells-year span{width:40px;height:28px;line-height:28px;margin:10px 12px;border-radius:3px}.ivu-date-picker-cells-month span em,.ivu-date-picker-cells-year span em{width:40px;height:28px;line-height:28px;margin:0}.ivu-date-picker-cells-month .ivu-date-picker-cells-cell-focused,.ivu-date-picker-cells-year .ivu-date-picker-cells-cell-focused{background-color:#d5e8fc}.ivu-date-picker-header{height:32px;line-height:32px;text-align:center;border-bottom:1px solid #e8eaec}.ivu-date-picker-header-label{cursor:pointer;transition:color .2s ease-in-out}.ivu-date-picker-header-label:hover{color:#2d8cf0}.ivu-date-picker-btn-pulse{background-color:#d5e8fc!important;border-radius:4px;transition:background-color .2s ease-in-out}.ivu-date-picker-prev-btn{float:left}.ivu-date-picker-prev-btn-arrow-double{margin-left:10px}.ivu-date-picker-prev-btn-arrow-double i:after{content:"\\F115";margin-left:-8px}.ivu-date-picker-next-btn{float:right}.ivu-date-picker-next-btn-arrow-double{margin-right:10px}.ivu-date-picker-next-btn-arrow-double i:after{content:"\\F11F";margin-left:-8px}.ivu-date-picker-with-range .ivu-picker-panel-body{min-width:432px}.ivu-date-picker-with-range .ivu-picker-panel-content{float:left}.ivu-date-picker-with-range .ivu-picker-cells-show-week-numbers,.ivu-date-picker-with-week-numbers .ivu-picker-panel-body-date{min-width:492px}.ivu-date-picker-transfer{z-index:1060;max-height:none;width:auto}.ivu-date-picker-focused input{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-picker-panel-icon-btn{display:inline-block;width:20px;height:24px;line-height:26px;margin-top:2px;text-align:center;cursor:pointer;color:#c5c8ce;transition:color .2s ease-in-out}.ivu-picker-panel-icon-btn:hover{color:#2d8cf0}.ivu-picker-panel-icon-btn i{font-size:14px}.ivu-picker-panel-body-wrapper.ivu-picker-panel-with-sidebar{padding-left:92px}.ivu-picker-panel-sidebar{width:92px;float:left;margin-left:-92px;position:absolute;top:0;bottom:0;background:#f8f8f9;border-right:1px solid #e8eaec;border-radius:4px 0 0 4px;overflow:auto}.ivu-picker-panel-shortcut{padding:6px 16px;transition:all .2s ease-in-out;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-picker-panel-shortcut:hover{background:#e8eaec}.ivu-picker-panel-body{float:left}.ivu-picker-confirm{border-top:1px solid #e8eaec;text-align:right;padding:8px;clear:both}.ivu-picker-confirm>span{color:#2d8cf0;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;float:left;padding:2px 0;transition:all .2s ease-in-out}.ivu-picker-confirm>span:hover{color:#57a3f3}.ivu-picker-confirm>span:active{color:#2b85e4}.ivu-picker-confirm-time{float:left}.ivu-time-picker-cells{min-width:112px}.ivu-time-picker-cells-with-seconds{min-width:168px}.ivu-time-picker-cells-list{width:56px;max-height:144px;float:left;overflow:hidden;border-left:1px solid #e8eaec;position:relative}.ivu-time-picker-cells-list:hover{overflow-y:auto}.ivu-time-picker-cells-list:first-child{border-left:none;border-radius:4px 0 0 4px}.ivu-time-picker-cells-list:last-child{border-radius:0 4px 4px 0}.ivu-time-picker-cells-list ul{width:100%;margin:0;padding:0 0 120px;list-style:none}.ivu-time-picker-cells-list ul li{width:100%;height:24px;line-height:24px;margin:0;padding:0 0 0 16px;box-sizing:content-box;text-align:left;-webkit-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;list-style:none;transition:background .2s ease-in-out}.ivu-time-picker-cells-cell:hover{background:#f3f3f3}.ivu-time-picker-cells-cell-disabled{color:#c5c8ce;cursor:not-allowed}.ivu-time-picker-cells-cell-disabled:hover{color:#c5c8ce;background-color:#fff;cursor:not-allowed}.ivu-time-picker-cells-cell-selected,.ivu-time-picker-cells-cell-selected:hover{color:#2d8cf0;background:#f3f3f3}.ivu-time-picker-cells-cell-focused{background-color:#d5e8fc}.ivu-time-picker-header{height:32px;line-height:32px;text-align:center;border-bottom:1px solid #e8eaec}.ivu-time-picker-with-range .ivu-picker-panel-body{min-width:228px}.ivu-time-picker-with-range .ivu-picker-panel-content{float:left;position:relative}.ivu-time-picker-with-range .ivu-picker-panel-content:after{content:"";display:block;width:2px;position:absolute;top:31px;bottom:0;right:-2px;background:#e8eaec;z-index:1}.ivu-time-picker-with-range .ivu-picker-panel-content-right{float:right}.ivu-time-picker-with-range .ivu-picker-panel-content-right:after{right:auto;left:-2px}.ivu-time-picker-with-range .ivu-time-picker-cells-list:first-child,.ivu-time-picker-with-range .ivu-time-picker-cells-list:last-child{border-radius:0}.ivu-time-picker-with-range.ivu-time-picker-with-seconds .ivu-picker-panel-body{min-width:340px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells,.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-with-seconds{min-width:216px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-with-seconds .ivu-time-picker-cells-list{width:72px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-with-seconds .ivu-time-picker-cells-list ul li{padding:0 0 0 28px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-list{width:108px;max-height:216px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-list:first-child,.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-list:last-child{border-radius:0}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-list ul{padding:0 0 192px}.ivu-picker-panel-content .ivu-picker-panel-content .ivu-time-picker-cells-list ul li{padding:0 0 0 46px}.ivu-form .ivu-form-item-label{text-align:right;vertical-align:middle;float:left;font-size:14px;color:#515a6e;line-height:1;padding:10px 12px 10px 0;box-sizing:border-box}.ivu-form-label-left .ivu-form-item-label{text-align:left}.ivu-form-label-top .ivu-form-item-label{float:none;display:inline-block;padding:0 0 10px}.ivu-form-inline .ivu-form-item{display:inline-block;margin-right:10px;vertical-align:top}.ivu-form-item{margin-bottom:24px;vertical-align:top;zoom:1}.ivu-form-item:after,.ivu-form-item:before{content:"";display:table}.ivu-form-item:after{clear:both;visibility:hidden;font-size:0;height:0}.ivu-form-item-content{position:relative;line-height:32px;font-size:14px}.ivu-form-item .ivu-form-item{margin-bottom:0}.ivu-form-item .ivu-form-item .ivu-form-item-content{margin-left:0!important}.ivu-form-item-error-tip{position:absolute;top:100%;left:0;line-height:1;padding-top:6px;color:#ed4014}.ivu-form-item-required .ivu-form-item-label:before{content:"*";display:inline-block;margin-right:4px;line-height:1;font-family:SimSun;font-size:14px;color:#ed4014}.ivu-form-hide-required-mark .ivu-form-item-required .ivu-form-item-label:before{display:none}.ivu-carousel{position:relative;display:block;box-sizing:border-box;-webkit-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y;-webkit-tap-highlight-color:transparent}.ivu-carousel-list,.ivu-carousel-track{transform:translateZ(0)}.ivu-carousel-list{margin:0;padding:0}.ivu-carousel-list,.ivu-carousel-track{position:relative;display:block;overflow:hidden}.ivu-carousel-track{top:100%;left:0;z-index:1}.ivu-carousel-track.higher{z-index:2;top:0}.ivu-carousel-item{float:left;height:100%;min-height:1px;display:block}.ivu-carousel-arrow{border:none;outline:0;padding:0;margin:0;width:36px;height:36px;border-radius:50%;cursor:pointer;display:none;position:absolute;top:50%;z-index:10;transform:translateY(-50%);transition:.2s;background-color:rgba(31,45,61,.11);color:#fff;text-align:center;font-size:1em;font-family:inherit;line-height:inherit}.ivu-carousel-arrow:hover{background-color:rgba(31,45,61,.5)}.ivu-carousel-arrow>*{vertical-align:baseline}.ivu-carousel-arrow.left{left:16px}.ivu-carousel-arrow.right{right:16px}.ivu-carousel-arrow-always{display:inherit}.ivu-carousel-arrow-hover{display:inherit;opacity:0}.ivu-carousel:hover .ivu-carousel-arrow-hover{opacity:1}.ivu-carousel-dots{z-index:10;display:none;position:relative;list-style:none;text-align:center;padding:0;width:100%;height:17px}.ivu-carousel-dots-inside{display:block;position:absolute;bottom:3px}.ivu-carousel-dots-outside{display:block;margin-top:3px}.ivu-carousel-dots li{position:relative;display:inline-block;vertical-align:top;text-align:center;margin:0 2px;padding:7px 0;cursor:pointer}.ivu-carousel-dots li button{border:0;cursor:pointer;background:#8391a5;opacity:.3;display:block;width:16px;height:3px;border-radius:1px;outline:0;font-size:0;color:transparent;transition:all .5s}.ivu-carousel-dots li button.radius{width:6px;height:6px;border-radius:50%}.ivu-carousel-dots li:hover>button{opacity:.7}.ivu-carousel-dots li.ivu-carousel-active>button{opacity:1;width:24px}.ivu-carousel-dots li.ivu-carousel-active>button.radius{width:6px}.ivu-rate{display:inline-block;margin:0;padding:0;font-size:20px;vertical-align:middle;font-weight:400;font-style:normal}.ivu-rate-disabled .ivu-rate-star-content:before,.ivu-rate-disabled .ivu-rate-star:before{cursor:default}.ivu-rate-disabled .ivu-rate-star:hover{transform:scale(1)}.ivu-rate-star-full,.ivu-rate-star-zero{position:relative}.ivu-rate-star-first{position:absolute;left:0;top:0;width:50%;height:100%;overflow:hidden;opacity:0}.ivu-rate-star-first,.ivu-rate-star-second{-webkit-user-select:none;-ms-user-select:none;user-select:none;transition:all .3s ease;color:#e9e9e9;cursor:pointer}.ivu-rate-star-chart{display:inline-block;padding:0;margin:0 8px 0 0;position:relative;font-family:Ionicons;transition:all .3s ease}.ivu-rate-star-chart:hover{transform:scale(1.1)}.ivu-rate-star-chart.ivu-rate-star-full .ivu-rate-star-first,.ivu-rate-star-chart.ivu-rate-star-full .ivu-rate-star-second{color:#f5a623}.ivu-rate-star-chart.ivu-rate-star-half .ivu-rate-star-first{opacity:1;color:#f5a623}.ivu-rate-star{display:inline-block;padding:0;margin:0 8px 0 0;position:relative;font-family:Ionicons;transition:all .3s ease}.ivu-rate-star:hover{transform:scale(1.1)}.ivu-rate-star-content:before,.ivu-rate-star:before{color:#e9e9e9;cursor:pointer;content:"\\F2BF";transition:all .2s ease-in-out;display:block}.ivu-rate-star-content{position:absolute;left:0;top:0;width:50%;height:100%;overflow:hidden}.ivu-rate-star-content:before{color:transparent}.ivu-rate-star-full:before,.ivu-rate-star-half .ivu-rate-star-content:before{color:#f5a623}.ivu-rate-star-full:hover:before,.ivu-rate-star-half:hover .ivu-rate-star-content:before{color:#f7b84f}.ivu-rate-text{margin-left:8px;vertical-align:middle;display:inline-block;font-size:14px}.ivu-upload input[type=file]{display:none}.ivu-upload-list{margin-top:8px}.ivu-upload-list-file{padding:4px;color:#515a6e;border-radius:4px;transition:background-color .2s ease-in-out;overflow:hidden;position:relative}.ivu-upload-list-file>span{cursor:pointer;transition:color .2s ease-in-out}.ivu-upload-list-file>span i{display:inline-block;width:12px;height:12px;color:#515a6e;text-align:center}.ivu-upload-list-file:hover{background:#f3f3f3}.ivu-upload-list-file:hover>span{color:#2d8cf0}.ivu-upload-list-file:hover>span i{color:#515a6e}.ivu-upload-list-file:hover .ivu-upload-list-remove{opacity:1}.ivu-upload-list-remove{opacity:0;font-size:18px;cursor:pointer;float:right;margin-right:4px;color:#999;transition:all .2s ease}.ivu-upload-list-remove:hover{color:#444}.ivu-upload-select{display:inline-block}.ivu-upload-drag{background:#fff;border:1px dashed #dcdee2;border-radius:4px;text-align:center;cursor:pointer;position:relative;overflow:hidden;transition:border-color .2s ease}.ivu-upload-drag:hover{border:1px dashed #2d8cf0}.ivu-upload-dragOver{border:2px dashed #2d8cf0}.ivu-tree{position:relative}.ivu-tree ul{list-style:none;margin:0;padding:0;font-size:14px}.ivu-tree ul.ivu-dropdown-menu{padding:0}.ivu-tree ul li{list-style:none;margin:8px 0;padding:0;white-space:nowrap;outline:0}.ivu-tree ul li.ivu-dropdown-item{margin:0;padding:7px 16px;white-space:nowrap}.ivu-tree li ul{margin:0;padding:0 0 0 18px}.ivu-tree-title{display:inline-block;margin:0;padding:0 4px;border-radius:3px;cursor:pointer;vertical-align:top;color:#515a6e;transition:all .2s ease-in-out}.ivu-tree-title:hover{background-color:#eaf4fe}.ivu-tree-title-selected,.ivu-tree-title-selected:hover{background-color:#d5e8fc}.ivu-tree-arrow{cursor:pointer;width:12px;text-align:center;display:inline-block}.ivu-tree-arrow i{transition:all .2s ease-in-out;font-size:14px;vertical-align:middle}.ivu-tree-arrow-open i{transform:rotate(90deg)}.ivu-tree .ivu-checkbox-wrapper{margin-right:4px;margin-left:4px}.ivu-tree-context-menu{position:absolute}.ivu-avatar{display:inline-block;text-align:center;background:#ccc;color:#fff;white-space:nowrap;position:relative;overflow:hidden;vertical-align:middle;width:32px;height:32px;line-height:32px;border-radius:50%}.ivu-avatar-image{background:0 0}.ivu-avatar .ivu-icon{position:relative;top:-1px}.ivu-avatar.ivu-avatar-icon{font-size:18px}.ivu-avatar-large{width:40px;height:40px;line-height:40px;border-radius:50%}.ivu-avatar-large.ivu-avatar-icon{font-size:24px}.ivu-avatar-large .ivu-icon{position:relative;top:-2px}.ivu-avatar-small{width:24px;height:24px;line-height:24px;border-radius:50%}.ivu-avatar-small.ivu-avatar-icon{font-size:14px}.ivu-avatar-square{border-radius:4px}.ivu-avatar>img{width:100%;height:100%}.ivu-color-picker{display:inline-block}.ivu-color-picker-hide{display:none}.ivu-color-picker-hide-drop{visibility:hidden}.ivu-color-picker-disabled{background-color:#f3f3f3;opacity:1;cursor:not-allowed;color:#ccc}.ivu-color-picker-disabled:hover{border-color:#e3e5e8}.ivu-color-picker>div:first-child:hover .ivu-input{border-color:#57a3f3}.ivu-color-picker>div:first-child.ivu-color-picker-disabled:hover .ivu-input{border-color:#e3e5e8}.ivu-color-picker .ivu-select-dropdown{padding:0}.ivu-color-picker-input.ivu-input:focus{box-shadow:none}.ivu-color-picker-focused{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-rel{line-height:0}.ivu-color-picker-color{width:18px;height:18px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==);border-radius:2px;position:relative;top:2px}.ivu-color-picker-color div{width:100%;height:100%;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15);border-radius:2px}.ivu-color-picker-color-empty{background:#fff;overflow:hidden;text-align:center}.ivu-color-picker-color-empty i{font-size:18px;vertical-align:baseline}.ivu-color-picker-color-focused{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-large .ivu-color-picker-color{width:20px;height:20px;top:1px}.ivu-color-picker-large .ivu-color-picker-color-empty i{font-size:20px}.ivu-color-picker-small .ivu-color-picker-color{width:14px;height:14px;top:3px}.ivu-color-picker-small .ivu-color-picker-color-empty i{font-size:14px}.ivu-color-picker-picker-wrapper{padding:8px 8px 0}.ivu-color-picker-picker-panel{width:240px;margin:0 auto;box-sizing:content-box;box-sizing:initial;position:relative}.ivu-color-picker-picker-alpha-slider,.ivu-color-picker-picker-hue-slider{height:10px;margin-top:8px;position:relative}.ivu-color-picker-picker-colors{margin-top:8px;overflow:hidden;border-radius:2px;transition:border .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-color-picker-picker-colors:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-picker-colors-wrapper{display:inline;width:20px;height:20px;float:left;position:relative}.ivu-color-picker-picker-colors-wrapper-color{outline:0;display:block;position:absolute;width:16px;height:16px;margin:2px;cursor:pointer;border-radius:2px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}.ivu-color-picker-picker-colors-wrapper-circle{width:4px;height:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;transform:translate(-2px,-2px);position:absolute;top:10px;left:10px;cursor:pointer}.ivu-color-picker-picker .ivu-picker-confirm{margin-top:8px}.ivu-color-picker-saturation-wrapper{width:100%;padding-bottom:75%;position:relative;transition:border .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-color-picker-saturation-wrapper:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-saturation,.ivu-color-picker-saturation--black,.ivu-color-picker-saturation--white{cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0}.ivu-color-picker-saturation--white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.ivu-color-picker-saturation--black{background:linear-gradient(0deg,#000,transparent)}.ivu-color-picker-saturation-pointer{cursor:pointer;position:absolute}.ivu-color-picker-saturation-circle{width:4px;height:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;transform:translate(-2px,-2px)}.ivu-color-picker-hue{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:2px;background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);transition:border .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-color-picker-hue:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-hue-container{cursor:pointer;margin:0 2px;position:relative;height:100%}.ivu-color-picker-hue-pointer{z-index:2;position:absolute}.ivu-color-picker-hue-picker{cursor:pointer;margin-top:1px;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px rgba(0,0,0,.6);background:#fff;transform:translateX(-2px)}.ivu-color-picker-alpha{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:2px;transition:border .2s ease-in-out,box-shadow .2s ease-in-out}.ivu-color-picker-alpha:focus{border-color:#57a3f3;outline:0;box-shadow:0 0 0 2px rgba(45,140,240,.2)}.ivu-color-picker-alpha-checkboard-wrap{position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden;border-radius:2px}.ivu-color-picker-alpha-checkerboard{position:absolute;top:0;right:0;bottom:0;left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.ivu-color-picker-alpha-gradient{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:2px}.ivu-color-picker-alpha-container{cursor:pointer;position:relative;z-index:2;height:100%;margin:0 3px}.ivu-color-picker-alpha-pointer{z-index:2;position:absolute}.ivu-color-picker-alpha-picker{cursor:pointer;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px rgba(0,0,0,.6);background:#fff;margin-top:1px;transform:translateX(-2px)}.ivu-color-picker-confirm{margin-top:8px;position:relative;border-top:1px solid #e8eaec;text-align:right;padding:8px;clear:both}.ivu-color-picker-confirm-color{position:absolute;top:11px;left:8px}.ivu-color-picker-confirm-color-editable{top:8px;right:110px}.ivu-auto-complete .ivu-icon-ios-close,.ivu-auto-complete .ivu-select-not-found{display:none}.ivu-auto-complete:hover .ivu-icon-ios-close{display:inline-block}.ivu-auto-complete.ivu-select-dropdown{max-height:none}.ivu-auto-complete:focus,.ivu-auto-complete div{outline:0}.ivu-divider{font-family:"Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif;font-size:14px;line-height:1.5;color:#515a6e;box-sizing:border-box;margin:0;padding:0;list-style:none;background:#e8eaec}.ivu-divider,.ivu-divider-vertical{margin:0 8px;display:inline-block;height:.9em;width:1px;vertical-align:middle;position:relative;top:-.06em}.ivu-divider-horizontal{display:block;height:1px;width:100%;min-width:100%;margin:24px 0;clear:both}.ivu-divider-horizontal.ivu-divider-with-text-center,.ivu-divider-horizontal.ivu-divider-with-text-left,.ivu-divider-horizontal.ivu-divider-with-text-right{display:table;white-space:nowrap;text-align:center;background:0 0;font-weight:500;color:#17233d;font-size:16px;margin:16px 0}.ivu-divider-horizontal.ivu-divider-with-text-center:after,.ivu-divider-horizontal.ivu-divider-with-text-center:before,.ivu-divider-horizontal.ivu-divider-with-text-left:after,.ivu-divider-horizontal.ivu-divider-with-text-left:before,.ivu-divider-horizontal.ivu-divider-with-text-right:after,.ivu-divider-horizontal.ivu-divider-with-text-right:before{content:"";display:table-cell;position:relative;top:50%;width:50%;border-top:1px solid #e8eaec;transform:translateY(50%)}.ivu-divider-horizontal.ivu-divider-small.ivu-divider-with-text-center,.ivu-divider-horizontal.ivu-divider-small.ivu-divider-with-text-left,.ivu-divider-horizontal.ivu-divider-small.ivu-divider-with-text-right{font-size:14px;margin:8px 0}.ivu-divider-horizontal.ivu-divider-with-text-left .ivu-divider-inner-text,.ivu-divider-horizontal.ivu-divider-with-text-right .ivu-divider-inner-text{display:inline-block;padding:0 10px}.ivu-divider-horizontal.ivu-divider-with-text-left:before{top:50%;width:5%}.ivu-divider-horizontal.ivu-divider-with-text-left:after,.ivu-divider-horizontal.ivu-divider-with-text-right:before{top:50%;width:95%}.ivu-divider-horizontal.ivu-divider-with-text-right:after{top:50%;width:5%}.ivu-divider-inner-text{display:inline-block;padding:0 24px}.ivu-divider-dashed{background:0 0;border-top:1px dashed #e8eaec}.ivu-divider-horizontal.ivu-divider-with-text-left.ivu-divider-dashed,.ivu-divider-horizontal.ivu-divider-with-text-right.ivu-divider-dashed,.ivu-divider-horizontal.ivu-divider-with-text.ivu-divider-dashed{border-top:0}.ivu-divider-horizontal.ivu-divider-with-text-left.ivu-divider-dashed:after,.ivu-divider-horizontal.ivu-divider-with-text-left.ivu-divider-dashed:before,.ivu-divider-horizontal.ivu-divider-with-text-right.ivu-divider-dashed:after,.ivu-divider-horizontal.ivu-divider-with-text-right.ivu-divider-dashed:before,.ivu-divider-horizontal.ivu-divider-with-text.ivu-divider-dashed:after,.ivu-divider-horizontal.ivu-divider-with-text.ivu-divider-dashed:before{border-style:dashed none none}.ivu-anchor{position:relative;padding-left:2px}.ivu-anchor-wrapper{overflow:auto;padding-left:4px;margin-left:-4px}.ivu-anchor-ink{position:absolute;height:100%;left:0;top:0}.ivu-anchor-ink:before{content:" ";position:relative;width:2px;height:100%;display:block;background-color:#e8eaec;margin:0 auto}.ivu-anchor-ink-ball{display:inline-block;position:absolute;width:8px;height:8px;border-radius:50%;border:2px solid #2d8cf0;background-color:#fff;left:50%;transition:top .2s ease-in-out;transform:translate(-50%,2px)}.ivu-anchor.fixed .ivu-anchor-ink .ivu-anchor-ink-ball{display:none}.ivu-anchor-link{padding:8px 0 8px 16px;line-height:1}.ivu-anchor-link-title{display:block;position:relative;transition:all .3s;color:#515a6e;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:8px}.ivu-anchor-link-title:only-child{margin-bottom:0}.ivu-anchor-link-active>.ivu-anchor-link-title{color:#2d8cf0}.ivu-anchor-link .ivu-anchor-link{padding-top:6px;padding-bottom:6px}.ivu-time-with-hash{cursor:pointer}.ivu-time-with-hash:hover{text-decoration:underline}.ivu-cell{position:relative;overflow:hidden}.ivu-cell-link,.ivu-cell-link:active,.ivu-cell-link:hover{color:inherit}.ivu-cell-icon{display:inline-block;margin-right:4px;font-size:14px;vertical-align:middle}.ivu-cell-icon:empty{display:none}.ivu-cell-main{display:inline-block;vertical-align:middle}.ivu-cell-title{line-height:24px;font-size:14px}.ivu-cell-label{line-height:1.2;font-size:12px;color:#808695}.ivu-cell-selected .ivu-cell-label{color:inherit}.ivu-cell-selected,.ivu-cell.ivu-cell-selected:hover{background:#f0faff}.ivu-cell-footer{display:inline-block;position:absolute;transform:translateY(-50%);top:50%;right:16px;color:#515a6e}.ivu-cell-with-link .ivu-cell-footer{right:32px}.ivu-cell-selected .ivu-cell-footer{color:inherit}.ivu-cell-arrow{display:inline-block;position:absolute;transform:translateY(-50%);top:50%;right:16px;font-size:14px}.ivu-cell:focus{background:#f3f3f3;outline:0}.ivu-cell-selected:focus{background:rgba(40,123,211,.91)}.ivu-cell{margin:0;line-height:normal;padding:7px 16px;clear:both;color:#515a6e;font-size:14px!important;white-space:nowrap;list-style:none;cursor:pointer;transition:background .2s ease-in-out}.ivu-cell-focus,.ivu-cell:hover{background:#f3f3f3}.ivu-cell-disabled,.ivu-cell-disabled:hover{color:#c5c8ce;cursor:not-allowed}.ivu-cell-disabled:hover{background-color:#fff}.ivu-cell-selected,.ivu-cell-selected:hover{color:#2d8cf0}.ivu-cell-divided{margin-top:5px;border-top:1px solid #e8eaec}.ivu-cell-divided:before{content:"";height:5px;display:block;margin:0 -16px;background-color:#fff;position:relative;top:-7px}.ivu-cell-enter{color:#2d8cf0;font-weight:700;float:right}.ivu-cell-large .ivu-cell{padding:7px 16px 8px;font-size:14px!important}@-moz-document url-prefix(){.ivu-cell{white-space:normal}}.ivu-drawer{width:auto;height:100%;position:fixed;top:0}.ivu-drawer-inner{position:absolute}.ivu-drawer-left{left:0}.ivu-drawer-right{right:0}.ivu-drawer-hidden{display:none!important}.ivu-drawer-wrap{position:fixed;overflow:auto;top:0;right:0;bottom:0;left:0;z-index:1000;-webkit-overflow-scrolling:touch;outline:0}.ivu-drawer-wrap-inner{position:absolute;overflow:hidden}.ivu-drawer-wrap-dragging{-webkit-user-select:none;-ms-user-select:none;user-select:none}.ivu-drawer-wrap *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}.ivu-drawer-mask{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(55,55,55,.6);height:100%;z-index:1000}.ivu-drawer-mask-hidden{display:none}.ivu-drawer-mask-inner{position:absolute}.ivu-drawer-content{width:100%;height:100%;position:absolute;top:0;bottom:0;background-color:#fff;border:0;background-clip:padding-box;box-shadow:0 4px 12px rgba(0,0,0,.15)}.ivu-drawer-content-no-mask{pointer-events:auto}.ivu-drawer-header{border-bottom:1px solid #e8eaec;padding:14px 16px;line-height:1}.ivu-drawer-header-inner,.ivu-drawer-header p{display:inline-block;width:100%;height:20px;line-height:20px;font-size:16px;color:#17233d;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ivu-drawer-close{z-index:1;font-size:12px;position:absolute;right:8px;top:8px;overflow:hidden;cursor:pointer}.ivu-drawer-close .ivu-icon-ios-close{font-size:31px;color:#999;transition:color .2s ease;position:relative;top:1px}.ivu-drawer-close .ivu-icon-ios-close:hover{color:#444}.ivu-drawer-body{width:100%;height:calc(100% - 51px);padding:16px;font-size:14px;line-height:1.5;word-wrap:break-word;position:absolute;overflow:auto}.ivu-drawer-no-header .ivu-drawer-body{height:100%}.ivu-drawer-no-mask{pointer-events:none}.ivu-drawer-no-mask .ivu-drawer-drag{pointer-events:auto}.ivu-drawer-drag{top:0;height:100%;width:0;position:absolute}.ivu-drawer-drag-left{right:0}.ivu-drawer-drag-move-trigger{width:8px;height:100px;line-height:100px;position:absolute;top:50%;background:#f3f3f3;transform:translate(-50%,-50%);border-radius:4px/6px;box-shadow:0 0 1px 1px rgba(0,0,0,.2);cursor:col-resize}.ivu-drawer-drag-move-trigger-point{display:inline-block;width:50%;transform:translateX(50%)}.ivu-drawer-drag-move-trigger-point i{display:block;border-bottom:1px solid silver;padding-bottom:2px}.ivu-breadcrumb{color:#999;font-size:14px}.ivu-breadcrumb a{color:#515a6e;transition:color .2s ease-in-out}.ivu-breadcrumb a:hover{color:#57a3f3}.ivu-breadcrumb>span:last-child{font-weight:700;color:#515a6e}.ivu-breadcrumb>span:last-child .ivu-breadcrumb-item-separator{display:none}.ivu-breadcrumb-item-separator{margin:0 8px;color:#dcdee2}.ivu-breadcrumb-item-link>.ivu-icon+span{margin-left:4px}.ivu-list{position:relative}.ivu-list-items{margin:0;padding:0;list-style:none}.ivu-list-item{display:flex;align-items:center;padding:12px 0}.ivu-list-item-content{color:#515a6e}.ivu-list-item-meta{display:flex;flex:1;align-items:flex-start;font-size:0}.ivu-list-item-meta-avatar{margin-right:16px}.ivu-list-item-meta-content{flex:1 0}.ivu-list-item-meta-title{font-weight:500;margin-bottom:4px;color:#515a6e;font-size:14px;line-height:22px}.ivu-list-item-meta-title>a{color:#515a6e;transition:all .2s}.ivu-list-item-meta-title>a:hover{color:#2d8cf0}.ivu-list-item-meta-description{color:rgba(0,0,0,.45);font-size:14px;line-height:22px}.ivu-list-item-action{flex:0 0 auto;margin-left:48px;padding:0;font-size:0;list-style:none}.ivu-list-item-action>li{position:relative;display:inline-block;padding:0 8px;color:rgba(0,0,0,.45);font-size:14px;line-height:22px;text-align:center;cursor:pointer}.ivu-list-item-action>li:after{content:"";position:absolute;top:50%;right:0;width:1px;height:14px;margin-top:-7px;background-color:#e8eaec}.ivu-list-item-action>li:first-child{padding-left:0}.ivu-list-item-action>li:last-child:after{display:none}.ivu-list-footer,.ivu-list-header{background:0 0}.ivu-list-footer,.ivu-list-header{padding-top:12px;padding-bottom:12px}.ivu-list-split .ivu-list-item{border-bottom:1px solid #e8eaec}.ivu-list-split .ivu-list-item:last-child{border-bottom:none}.ivu-list-split .ivu-list-header{border-bottom:1px solid #e8eaec}.ivu-list-split .ivu-list-footer{border-top:1px solid #e8eaec}.ivu-list-large .ivu-list-item{padding-top:16px;padding-bottom:16px}.ivu-list-small .ivu-list-item{padding-top:8px;padding-bottom:8px}.ivu-list-vertical .ivu-list-item{align-items:normal}.ivu-list-vertical .ivu-list-item-main{display:block;flex:1}.ivu-list-vertical .ivu-list-item-extra{margin-left:40px}.ivu-list-vertical .ivu-list-item-meta{margin-bottom:16px}.ivu-list-vertical .ivu-list-item-meta-title{margin-bottom:12px;color:rgba(0,0,0,.85);font-size:16px;line-height:24px}.ivu-list-vertical .ivu-list-item-action{margin-top:16px;margin-left:auto}.ivu-list-vertical .ivu-list-item-action>li{padding:0 16px}.ivu-list-vertical .ivu-list-item-action>li:first-child{padding-left:0}.ivu-list-item-no-flex{display:block}.ivu-list:not(.ivu-list-vertical) .ivu-list-item-no-flex .ivu-list-item-action{float:right}.ivu-list-bordered{border:1px solid #dcdee2;border-radius:6px}.ivu-list-bordered .ivu-list-footer,.ivu-list-bordered .ivu-list-header,.ivu-list-bordered .ivu-list-item{padding-right:24px;padding-left:24px}.ivu-list-bordered .ivu-list-item{border-bottom:1px solid #e8eaec}.ivu-list-bordered .ivu-list-pagination{margin:16px 24px}.ivu-list-bordered.ivu-list-small .ivu-list-item{padding-right:16px;padding-left:16px}.ivu-list-bordered.ivu-list-small .ivu-list-footer,.ivu-list-bordered.ivu-list-small .ivu-list-header{padding:8px 16px}.ivu-list-bordered.ivu-list-large .ivu-list-footer,.ivu-list-bordered.ivu-list-large .ivu-list-header{padding:16px 24px}@media screen and (max-width:768px){.ivu-list-item-action,.ivu-list-vertical .ivu-list-item-extra{margin-left:24px}}@media screen and (max-width:576px){.ivu-list-item{flex-wrap:wrap}.ivu-list-item-action{margin-left:12px}.ivu-list-vertical .ivu-list-item{flex-wrap:wrap-reverse}.ivu-list-vertical .ivu-list-item-main{min-width:220px}.ivu-list-vertical .ivu-list-item-extra{margin:auto auto 16px}}',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){e.exports=n.p+"fonts/ionicons.143146f.woff2"},function(e,t,n){e.exports=n.p+"fonts/ionicons.99ac330.woff"},function(e,t,n){e.exports=n.p+"fonts/ionicons.d535a25.ttf"},function(e,t,n){e.exports=n.p+"img/ionicons.a2c4a26.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var l=n(301);n.d(t,"Scene",(function(){return l.a}));var c=n(195);n.d(t,"GaodeMap",(function(){return c.GaodeMap})),n.d(t,"Mapbox",(function(){return c.Mapbox})),n.d(t,"Map",(function(){return c.Map}));var d=n(300);n.d(t,"BaseLayer",(function(){return d.a})),n.d(t,"PointLayer",(function(){return d.f})),n.d(t,"PolygonLayer",(function(){return d.g})),n.d(t,"LineLayer",(function(){return d.e})),n.d(t,"CityBuildingLayer",(function(){return d.b})),n.d(t,"ImageLayer",(function(){return d.d})),n.d(t,"RasterLayer",(function(){return d.h})),n.d(t,"HeatmapLayer",(function(){return d.c}));var f=n(148);n.d(t,"Control",(function(){return f.a})),n.d(t,"Logo",(function(){return f.c})),n.d(t,"Scale",(function(){return f.g})),n.d(t,"Zoom",(function(){return f.h})),n.d(t,"Layers",(function(){return f.b})),n.d(t,"Marker",(function(){return f.d})),n.d(t,"Popup",(function(){return f.f})),n.d(t,"MarkerLayer",(function(){return f.e}));var h=n(7);n.d(t,"djb2hash",(function(){return h.m})),n.d(t,"BKDRHash",(function(){return h.a})),n.d(t,"getJSON",(function(){return h.s})),n.d(t,"getArrayBuffer",(function(){return h.q})),n.d(t,"getImage",(function(){return h.r})),n.d(t,"extent",(function(){return h.o})),n.d(t,"tranfrormCoord",(function(){return h.B})),n.d(t,"lngLatToMeters",(function(){return h.u})),n.d(t,"metersToLngLat",(function(){return h.x})),n.d(t,"longitude",(function(){return h.w})),n.d(t,"latitude",(function(){return h.t})),n.d(t,"validateLngLat",(function(){return h.D})),n.d(t,"aProjectFlat",(function(){return h.e})),n.d(t,"unProjectFlat",(function(){return h.C})),n.d(t,"lnglatDistance",(function(){return h.v})),n.d(t,"project",(function(){return h.z})),n.d(t,"padBounds",(function(){return h.y})),n.d(t,"boundsContains",(function(){return h.k})),n.d(t,"bBoxToBounds",(function(){return h.i})),n.d(t,"LRUCache",(function(){return h.c})),n.d(t,"bindAll",(function(){return h.j})),n.d(t,"rgb2arr",(function(){return h.A})),n.d(t,"decodePickingColor",(function(){return h.l})),n.d(t,"encodePickingColor",(function(){return h.n})),n.d(t,"generateColorRamp",(function(){return h.p})),n.d(t,"anchorType",(function(){return h.g})),n.d(t,"anchorTranslate",(function(){return h.f})),n.d(t,"applyAnchorClass",(function(){return h.h})),n.d(t,"DOM",(function(){return h.b})),n.d(t,"Satistics",(function(){return h.d}));var v=n(299);n.d(t,"version",(function(){return v.a}))},function(e,t,n){(function(e,t){var n;!function(n){!function(r){var o="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),l=c(n);function c(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===o.Reflect?o.Reflect=n:l=c(o.Reflect,l),function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",l=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",c="function"==typeof Object.create,d={__proto__:[]}instanceof Array,f=!c&&!d,h={create:c?function(){return B(Object.create(null))}:d?function(){return B({__proto__:null})}:function(){return B({})},has:f?function(map,e){return n.call(map,e)}:function(map,e){return e in map},get:f?function(map,e){return n.call(map,e)?map[e]:void 0}:function(map,e){return map[e]}},v=Object.getPrototypeOf(Function),m="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,y=m||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[l]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,c)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[l]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function c(e,t){return[e,t]}}():Map,x=m||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new y}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[l]=function(){return this.keys()},e}():Set,_=new(m||"function"!=typeof WeakMap?function(){var e=h.create(),t=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var table=o(e,!1);return void 0!==table&&h.has(table,this._key)},e.prototype.get=function(e){var table=o(e,!1);return void 0!==table?h.get(table,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var table=o(e,!1);return void 0!==table&&delete table[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+c()}while(h.has(e,t));return e[t]=!0,t}function o(e,r){if(!n.call(e,t)){if(!r)return;Object.defineProperty(e,t,{value:h.create()})}return e[t]}function l(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function c(){var e,data=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):l(new Uint8Array(e),e):l(new Array(e),e));data[6]=79&data[6]|64,data[8]=191&data[8]|128;for(var t="",n=0;n<16;++n){var r=data[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}():WeakMap);function w(e,t,n){var r=_.get(e);if(M(r)){if(!n)return;r=new y,_.set(e,r)}var o=r.get(t);if(M(o)){if(!n)return;o=new y,r.set(t,o)}return o}function k(e,t,n){var r=w(t,n,!1);return!M(r)&&!!r.has(e)}function S(e,t,n){var r=w(t,n,!1);if(!M(r))return r.get(e)}function C(e,t,n,r){w(n,r,!0).set(e,t)}function T(e,t){var n=[],r=w(e,t,!1);if(M(r))return n;for(var o=function(e){var t=L(e,l);if(!R(t))throw new TypeError;var n=t.call(e);if(!A(n))throw new TypeError;return n}(r.keys()),c=0;;){var d=j(o);if(!d)return n.length=c,n;var f=d.value;try{n[c]=f}catch(e){try{F(o)}finally{throw e}}c++}}function E(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function M(e){return void 0===e}function P(e){return null===e}function A(e){return"object"==typeof e?null!==e:"function"==typeof e}function O(input,e){switch(E(input)){case 0:case 1:case 2:case 3:case 4:case 5:return input}var t=3===e?"string":5===e?"number":"default",n=L(input,o);if(void 0!==n){var r=n.call(input,t);if(A(r))throw new TypeError;return r}return function(e,t){if("string"===t){var n=e.toString;if(R(n))if(!A(o=n.call(e)))return o;if(R(r=e.valueOf))if(!A(o=r.call(e)))return o}else{var r;if(R(r=e.valueOf))if(!A(o=r.call(e)))return o;var o,l=e.toString;if(R(l))if(!A(o=l.call(e)))return o}throw new TypeError}(input,"default"===t?"number":t)}function I(e){var t=O(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function D(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function R(e){return"function"==typeof e}function z(e){return"function"==typeof e}function L(e,t){var n=e[t];if(null!=n){if(!R(n))throw new TypeError;return n}}function j(e){var t=e.next();return!t.done&&t}function F(e){var t=e.return;t&&t.call(e)}function N(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===v)return t;if(t!==v)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function B(e){return e.__=void 0,delete e.__,e}t("decorate",(function(e,t,n,r){if(M(n)){if(!D(e))throw new TypeError;if(!z(t))throw new TypeError;return function(e,t){for(var i=e.length-1;i>=0;--i){var n=(0,e[i])(t);if(!M(n)&&!P(n)){if(!z(n))throw new TypeError;t=n}}return t}(e,t)}if(!D(e))throw new TypeError;if(!A(t))throw new TypeError;if(!A(r)&&!M(r)&&!P(r))throw new TypeError;return P(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!M(o)&&!P(o)){if(!A(o))throw new TypeError;r=o}}return r}(e,t,n=I(n),r)})),t("metadata",(function(e,t){return function(n,r){if(!A(n))throw new TypeError;if(!M(r)&&!function(e){switch(E(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;C(e,t,n,r)}})),t("defineMetadata",(function(e,t,n,r){if(!A(n))throw new TypeError;return M(r)||(r=I(r)),C(e,t,n,r)})),t("hasMetadata",(function(e,t,n){if(!A(t))throw new TypeError;return M(n)||(n=I(n)),function e(t,n,r){if(k(t,n,r))return!0;var o=N(n);return!P(o)&&e(t,o,r)}(e,t,n)})),t("hasOwnMetadata",(function(e,t,n){if(!A(t))throw new TypeError;return M(n)||(n=I(n)),k(e,t,n)})),t("getMetadata",(function(e,t,n){if(!A(t))throw new TypeError;return M(n)||(n=I(n)),function e(t,n,r){if(k(t,n,r))return S(t,n,r);var o=N(n);return P(o)?void 0:e(t,o,r)}(e,t,n)})),t("getOwnMetadata",(function(e,t,n){if(!A(t))throw new TypeError;return M(n)||(n=I(n)),S(e,t,n)})),t("getMetadataKeys",(function(e,t){if(!A(e))throw new TypeError;return M(t)||(t=I(t)),function e(t,n){var r=T(t,n),o=N(t);if(null===o)return r;var l=e(o,n);if(l.length<=0)return r;if(r.length<=0)return l;for(var c=new x,d=[],f=0,h=r;f<h.length;f++){var v=h[f];c.has(v)||(c.add(v),d.push(v))}for(var m=0,y=l;m<y.length;m++){v=y[m];c.has(v)||(c.add(v),d.push(v))}return d}(e,t)})),t("getOwnMetadataKeys",(function(e,t){if(!A(e))throw new TypeError;return M(t)||(t=I(t)),T(e,t)})),t("deleteMetadata",(function(e,t,n){if(!A(t))throw new TypeError;M(n)||(n=I(n));var r=w(t,n,!1);if(M(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=_.get(t);return o.delete(n),o.size>0||_.delete(t),!0}))}(l)}()}(n||(n={}))}).call(this,n(78),n(41))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,l){function c(e){try{f(r.next(e))}catch(e){l(e)}}function d(e){try{f(r.throw(e))}catch(e){l(e)}}function f(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(c,d)}f((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=n[2&l[0]?"return":l[0]?"throw":"next"])&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[0,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(e,o)}catch(e){l=[6,e],n=0}finally{t=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(432),c=n(48),d=n(67),f=n(34),h=n(240),v=n(433),m=n(440),y=n(442),x=n(90),_=n(115),w=n(445),k=n(446),S=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=d.BindingScopeEnum.Transient;else if(t.defaultScope!==d.BindingScopeEnum.Singleton&&t.defaultScope!==d.BindingScopeEnum.Transient&&t.defaultScope!==d.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=x.id(),this._bindingDictionary=new k.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new h.MetadataReader}return e.merge=function(t,n){var r=new e,o=v.getBindingDictionary(r),l=v.getBindingDictionary(t),c=v.getBindingDictionary(n);function d(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return d(l,o),d(c,o),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=e;r<o.length;r++){var l=o[r],c=n(l.id);l.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,l,c;return o(this,(function(o){switch(o.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,o.label=1;case 1:return n<r.length?(l=r[n],c=t(l.id),[4,l.registry(c.bindFunction,c.unbindFunction,c.isboundFunction,c.rebindFunction)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||d.BindingScopeEnum.Transient,n=new l.Binding(e,t);return this._bindingDictionary.add(e,n),new y.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(c.CANNOT_UNBIND+" "+_.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new k.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,f.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),l=v.createMockRequest(this,e,t,n);r=o.some((function(b){return b.constraint(l)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(w.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,d.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,d.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,f.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,d.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,d.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,f.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var o=e.rebind.bind(e)(r);return t(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=e.bind.bind(e)(n);return t(r,o),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var o}},e.prototype._get=function(e,t,n,r,o,l){var d=null,f={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:o,serviceIdentifier:r,targetType:n,value:l};if(this._middleware){if(null==(d=this._middleware(f)))throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else d=this._planAndResolve()(f);return d},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=v.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),m.resolve(n)}},e}();t.Container=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),o=n(90),l=function(){function e(e,t){this.id=o.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(434),o=n(48),l=n(67),c=n(34),d=n(241),f=n(115),h=n(435),v=n(55),m=n(436),y=n(437),x=n(439),_=n(243);function w(e){return e._bindingDictionary}function k(e,t,n,l,c){var d=S(n.container,c.serviceIdentifier),h=[];return d.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof c.serviceIdentifier&&e.getConstructorMetadata(c.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(c.serviceIdentifier).toSelf(),d=S(n.container,c.serviceIdentifier)),h=t?d:d.filter((function(e){var t=new x.Request(e.serviceIdentifier,n,l,e,c);return e.constraint(t)})),function(e,t,n,l){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var c=f.getServiceIdentifierAsString(e),d=o.NOT_REGISTERED;throw d+=f.listMetadataForTarget(c,n),d+=f.listRegisteredBindingsForServiceIdentifier(l,c,S),new Error(d);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;c=f.getServiceIdentifierAsString(e),d=o.AMBIGUOUS_MATCH+" "+c;throw d+=f.listRegisteredBindingsForServiceIdentifier(l,c,S),new Error(d)}}(c.serviceIdentifier,h,c,n.container),h}function S(e,t){var n=[],r=w(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=S(e.parent,t)),n}t.getBindingDictionary=w,t.plan=function(e,t,n,r,w,S,C,T){void 0===T&&(T=!1);var E=new h.Context(t),M=function(e,t,n,r,o,l){var d=e?c.MULTI_INJECT_TAG:c.INJECT_TAG,f=new v.Metadata(d,n),h=new _.Target(t,r,n,f);if(void 0!==o){var m=new v.Metadata(o,l);h.metadata.push(m)}return h}(n,r,w,"",S,C);try{return function e(t,n,r,c,d,f){var h,v;if(null===d){h=k(t,n,c,null,f),v=new x.Request(r,c,null,h,f);var _=new m.Plan(c,v);c.addPlan(_)}else h=k(t,n,c,d,f),v=d.addChildRequest(f.serviceIdentifier,h,f);h.forEach((function(n){var r=null;if(f.isArray())r=v.addChildRequest(n.serviceIdentifier,n,f);else{if(n.cache)return;r=v}if(n.type===l.BindingTypeEnum.Instance&&null!==n.implementationType){var d=y.getDependencies(t,n.implementationType);if(!c.container.options.skipBaseClassChecks){var h=y.getBaseClassDependencyCount(t,n.implementationType);if(d.length<h){var m=o.ARGUMENTS_LENGTH_MISMATCH(y.getFunctionName(n.implementationType));throw new Error(m)}}d.forEach((function(n){e(t,!1,n.serviceIdentifier,c,r,n)}))}}))}(e,T,w,E,null,M),E}catch(e){throw d.isStackOverflowExeption(e)&&E.plan&&f.circularDependencyToException(E.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var o=new _.Target(l.TargetTypeEnum.Variable,"",t,new v.Metadata(n,r)),c=new h.Context(e);return new x.Request(t,c,null,[],o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),o=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.parentContext=e,this.rootRequest=t};t.Plan=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(242),o=n(48),l=n(67),c=n(34),d=n(115);t.getFunctionName=d.getFunctionName;var f=n(243);function h(e,t,n,r){var c=e.getConstructorMetadata(n),d=c.compilerGeneratedMetadata;if(void 0===d){var h=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(h)}var y=c.userGeneratedMetadata,x=Object.keys(y),_=function(e,t,n,r,o){for(var l=[],i=0;i<o;i++){var c=v(i,e,t,n,r);null!==c&&l.push(c)}return l}(r,t,d,y,0===n.length&&x.length>0?x.length:n.length),w=function e(t,n){for(var r=t.getPropertiesMetadata(n),o=[],c=Object.keys(r),d=0,h=c;d<h.length;d++){var v=h[d],y=r[v],x=m(r[v]),_=x.targetName||v,w=x.inject||x.multiInject,k=new f.Target(l.TargetTypeEnum.ClassProperty,_,w);k.metadata=y,o.push(k)}var S=Object.getPrototypeOf(n.prototype).constructor;if(S!==Object){var C=e(t,S);o=o.concat(C)}return o}(e,n);return _.concat(w)}function v(e,t,n,c,d){var h=d[e.toString()]||[],v=m(h),y=!0!==v.unmanaged,x=c[e],_=v.inject||v.multiInject;if((x=_||x)instanceof r.LazyServiceIdentifer&&(x=x.unwrap()),y){if(!t&&(x===Object||x===Function||void 0===x)){var w=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(w)}var k=new f.Target(l.TargetTypeEnum.ConstructorArgument,v.targetName,x);return k.metadata=h,k}return null}function m(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[c.INJECT_TAG],multiInject:t[c.MULTI_INJECT_TAG],targetName:t[c.NAME_TAG],unmanaged:t[c.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return h(e,d.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=h(t,d.getFunctionName(r),r,!0),l=o.map((function(e){return e.metadata.filter((function(e){return e.key===c.UNMANAGED_TAG}))})),f=[].concat.apply([],l).length,v=o.length-f;return v>0?v:e(t,r)}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),o=function(){function e(e,t,n,o,l){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=l,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var o=new e(t,this.parentContext,this,n,r);return this.childRequests.push(o),o},e}();t.Request=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(67),l=n(241),c=n(115),d=n(441),f=function(e,t,n){try{return n()}catch(n){throw l.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},h=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,l=t.childRequests,v=t.target&&t.target.isArray(),m=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(v&&m)return l.map((function(t){return h(e)(t)}));var y=null;if(!t.target.isOptional()||0!==n.length){var x=n[0],_=x.scope===o.BindingScopeEnum.Singleton,w=x.scope===o.BindingScopeEnum.Request;if(_&&x.activated)return x.cache;if(w&&null!==e&&e.has(x.id))return e.get(x.id);if(x.type===o.BindingTypeEnum.ConstantValue)y=x.cache;else if(x.type===o.BindingTypeEnum.Function)y=x.cache;else if(x.type===o.BindingTypeEnum.Constructor)y=x.implementationType;else if(x.type===o.BindingTypeEnum.DynamicValue&&null!==x.dynamicValue)y=f("toDynamicValue",x.serviceIdentifier,(function(){return x.dynamicValue(t.parentContext)}));else if(x.type===o.BindingTypeEnum.Factory&&null!==x.factory)y=f("toFactory",x.serviceIdentifier,(function(){return x.factory(t.parentContext)}));else if(x.type===o.BindingTypeEnum.Provider&&null!==x.provider)y=f("toProvider",x.serviceIdentifier,(function(){return x.provider(t.parentContext)}));else{if(x.type!==o.BindingTypeEnum.Instance||null===x.implementationType){var k=c.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+k)}y=d.resolveInstance(x.implementationType,l,h(e))}return"function"==typeof x.onActivation&&(y=x.onActivation(t.parentContext,y)),_&&(x.cache=y,x.activated=!0),w&&null!==e&&!e.has(x.id)&&e.set(x.id,y),y}}};t.resolve=function(e){return h(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(67),l=n(34);t.resolveInstance=function(e,t,n){var c,d,f=null;if(t.length>0){var h=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n);d=h,f=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),l=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=l[n];e[r]=o})),e}(f=new((c=e).bind.apply(c,[void 0].concat(d))),t,n)}else f=new e;return function(e,t){if(Reflect.hasMetadata(l.POST_CONSTRUCT,e)){var data=Reflect.getMetadata(l.POST_CONSTRUCT,e);try{t[data.value]()}catch(t){throw new Error(r.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,f),f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(67),l=n(443),c=n(244),d=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=e,new l.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new c.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new l.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=e,new c.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=e,new c.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=o.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new c.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=e,new c.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(444),o=n(181),l=n(182),c=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new l.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),o=n(244),l=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var o=n.filter((function(t){return!e(t)}));o.length>0?t._map.set(r,o):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(b){return t.add(n,b.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90),o=function(e){this.id=r.id(),this.registry=e};t.ContainerModule=o;var l=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(34);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(o.PARAM_TYPES,t,e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),o=n(79);t.tagged=function(e,t){return function(n,l,c){var d=new r.Metadata(e,t);"number"==typeof c?o.tagParameter(n,l,c,d):o.tagProperty(n,l,d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=n(79);t.named=function(e){return function(t,n,c){var d=new o.Metadata(r.NAMED_TAG,e);"number"==typeof c?l.tagParameter(t,n,c,d):l.tagProperty(t,n,d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=n(79);t.optional=function(){return function(e,t,n){var c=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?l.tagParameter(e,t,n,c):l.tagProperty(e,t,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=n(79);t.unmanaged=function(){return function(e,t,n){var c=new o.Metadata(r.UNMANAGED_TAG,!0);l.tagParameter(e,t,n,c)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=n(79);t.multiInject=function(e){return function(t,n,c){var d=new o.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof c?l.tagParameter(t,n,c,d):l.tagProperty(t,n,d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),o=n(55),l=n(79);t.targetName=function(e){return function(t,n,c){var d=new o.Metadata(r.NAME_TAG,e);l.tagParameter(t,n,c,d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=n(34),l=n(55);t.postConstruct=function(){return function(e,t,n){var c=new l.Metadata(o.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,c,e.constructor)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol.for("INJECTION");function o(e,t,n,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()},set:function(e){Reflect.defineMetadata(r,e,this,t)}})}t.makePropertyInjectDecorator=function(e,t){return function(n){return function(r,l){o(r,l,(function(){return e.get(n)}),t)}}},t.makePropertyInjectNamedDecorator=function(e,t){return function(n,r){return function(l,c){o(l,c,(function(){return e.getNamed(n,r)}),t)}}},t.makePropertyInjectTaggedDecorator=function(e,t){return function(n,r,l){return function(c,d){o(c,d,(function(){return e.getTagged(n,r,l)}),t)}}},t.makePropertyMultiInjectDecorator=function(e,t){return function(n){return function(r,l){o(r,l,(function(){return e.getAll(n)}),t)}}}},,,,,,,function(e,t,n){var r=n(248),o=n(252),l=n(493),c=n(495),d=n(26),f=n(117),h=n(261);e.exports=function e(object,source,t,n,v){object!==source&&l(source,(function(l,f){if(v||(v=new r),d(l))c(object,source,f,t,e,n,v);else{var m=n?n(h(object,f),l,f+"",object,source,v):void 0;void 0===m&&(m=l),o(object,f,m)}}),f)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(139),o=Array.prototype.splice;e.exports=function(e){var data=this.__data__,t=r(data,e);return!(t<0)&&(t==data.length-1?data.pop():o.call(data,t,1),--this.size,!0)}},function(e,t,n){var r=n(139);e.exports=function(e){var data=this.__data__,t=r(data,e);return t<0?void 0:data[t][1]}},function(e,t,n){var r=n(139);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(139);e.exports=function(e,t){var data=this.__data__,n=r(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this}},function(e,t,n){var r=n(138);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(138),o=n(184),l=n(251);e.exports=function(e,t){var data=this.__data__;if(data instanceof r){var n=data.__data__;if(!o||n.length<199)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new l(n)}return data.set(e,t),this.size=data.size,this}},function(e,t,n){var r=n(68),o=n(478),l=n(26),c=n(250),d=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,v=f.toString,m=h.hasOwnProperty,y=RegExp("^"+v.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!l(e)||o(e))&&(r(e)?y:d).test(c(e))}},function(e,t,n){var r=n(141),o=Object.prototype,l=o.hasOwnProperty,c=o.toString,d=r?r.toStringTag:void 0;e.exports=function(e){var t=l.call(e,d),n=e[d];try{e[d]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[d]=n:delete e[d]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(479),l=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!l&&l in e}},function(e,t,n){var r=n(56)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(object,e){return null==object?void 0:object[e]}},function(e,t,n){var r=n(482),o=n(138),l=n(184);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(l||o),string:new r}}},function(e,t,n){var r=n(483),o=n(484),l=n(485),c=n(486),d=n(487);function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=o,f.prototype.get=l,f.prototype.has=c,f.prototype.set=d,e.exports=f},function(e,t,n){var r=n(142);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(142),o=Object.prototype.hasOwnProperty;e.exports=function(e){var data=this.__data__;if(r){var t=data[e];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(data,e)?data[e]:void 0}},function(e,t,n){var r=n(142),o=Object.prototype.hasOwnProperty;e.exports=function(e){var data=this.__data__;return r?void 0!==data[e]:o.call(data,e)}},function(e,t,n){var r=n(142);e.exports=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(143);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(143);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(143);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(143);e.exports=function(e,t){var data=r(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this}},function(e,t,n){var r=n(494)();e.exports=r},function(e,t){e.exports=function(e){return function(object,t,n){for(var r=-1,o=Object(object),l=n(object),c=l.length;c--;){var d=l[e?c:++r];if(!1===t(o[d],d,o))break}return object}}},function(e,t,n){var r=n(252),o=n(254),l=n(255),c=n(256),d=n(257),f=n(259),h=n(101),v=n(499),m=n(189),y=n(68),x=n(26),_=n(196),w=n(147),k=n(261),S=n(502);e.exports=function(object,source,e,t,n,C,T){var E=k(object,e),M=k(source,e),P=T.get(M);if(P)r(object,e,P);else{var A=C?C(E,M,e+"",object,source,T):void 0,O=void 0===A;if(O){var I=h(M),D=!I&&m(M),R=!I&&!D&&w(M);A=M,I||D||R?h(E)?A=E:v(E)?A=c(E):D?(O=!1,A=o(M,!0)):R?(O=!1,A=l(M,!0)):A=[]:_(M)||f(M)?(A=E,f(E)?A=S(E):x(E)&&!y(E)||(A=d(M))):O=!1}O&&(T.set(M,A),n(A,M,t,C,T),T.delete(M)),r(object,e,A)}}},function(e,t,n){var r=n(56).Uint8Array;e.exports=r},function(e,t,n){var r=n(26),o=Object.create,l=function(){function object(){}return function(e){if(!r(e))return{};if(o)return o(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();e.exports=l},function(e,t,n){var r=n(80),o=n(61);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t,n){var r=n(144),o=n(61);e.exports=function(e){return o(e)&&r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(80),o=n(260),l=n(61),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,e.exports=function(e){return l(e)&&o(e.length)&&!!c[r(e)]}},function(e,t,n){var r=n(116),o=n(117);e.exports=function(e){return r(e,o(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(26),o=n(188),l=n(505),c=Object.prototype.hasOwnProperty;e.exports=function(object){if(!r(object))return l(object);var e=o(object),t=[];for(var n in object)("constructor"!=n||!e&&c.call(object,n))&&t.push(n);return t}},function(e,t){e.exports=function(object){var e=[];if(null!=object)for(var t in Object(object))e.push(t);return e}},function(e,t,n){var r=n(507),o=n(514);e.exports=function(e){return r((function(object,t){var n=-1,r=t.length,l=r>1?t[r-1]:void 0,c=r>2?t[2]:void 0;for(l=e.length>3&&"function"==typeof l?(r--,l):void 0,c&&o(t[0],t[1],c)&&(l=r<3?void 0:l,r=1),object=Object(object);++n<r;){var source=t[n];source&&e(object,source,n,l)}return object}))}},function(e,t,n){var r=n(265),o=n(508),l=n(510);e.exports=function(e,t){return l(o(e,t,r),e+"")}},function(e,t,n){var r=n(509),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var l=arguments,c=-1,d=o(l.length-t,0),f=Array(d);++c<d;)f[c]=l[t+c];c=-1;for(var h=Array(t+1);++c<t;)h[c]=l[c];return h[t]=n(f),r(e,this,h)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(511),o=n(513)(r);e.exports=o},function(e,t,n){var r=n(512),o=n(253),l=n(265),c=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:l;e.exports=c},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),l=16-(o-r);if(r=o,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(140),o=n(144),l=n(264),c=n(26);e.exports=function(e,t,object){if(!c(object))return!1;var n=typeof t;return!!("number"==n?o(object)&&l(t,object.length):"string"==n&&t in object)&&r(object[t],e)}},,,,,,function(e,t,n){var r=n(521),o=n(524),l=n(529),c=n(530),d=n(531),f=n(267);e.exports=function(e,t,n){var h=-1,v=o,m=e.length,y=!0,x=[],_=x;if(n)y=!1,v=l;else if(m>=200){var w=t?null:d(e);if(w)return f(w);y=!1,v=c,_=new r}else _=t?[]:x;e:for(;++h<m;){var k=e[h],S=t?t(k):k;if(k=n||0!==k?k:0,y&&S==S){for(var C=_.length;C--;)if(_[C]===S)continue e;t&&_.push(S),x.push(k)}else v(_,S,n)||(_!==x&&_.push(S),x.push(k))}return x}},function(e,t,n){var r=n(251),o=n(522),l=n(523);function c(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}c.prototype.add=c.prototype.push=o,c.prototype.has=l,e.exports=c},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(525);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(526),o=n(527),l=n(528);e.exports=function(e,t,n){return t==t?l(e,t,n):r(e,o,n)}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,l=n+(r?1:-1);r?l--:++l<o;)if(t(e[l],l,e))return l;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(266),o=n(532),l=n(267),c=r&&1/l(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=c},function(e,t){e.exports=function(){}},,function(e,t,n){var r=n(535),o=n(268),l=n(537),c=n(145);e.exports=function(e){return function(t){t=c(t);var n=o(t)?l(t):void 0,d=n?n[0]:t.charAt(0),f=n?r(n,1).join(""):t.slice(1);return d[e]()+f}}},function(e,t,n){var r=n(536);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var l=Array(o);++r<o;)l[r]=e[r+t];return l}},function(e,t,n){var r=n(538),o=n(268),l=n(539);e.exports=function(e){return o(e)?l(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",l="[^\\ud800-\\udfff]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",f="(?:"+r+"|"+o+")"+"?",h="[\\ufe0e\\ufe0f]?"+f+("(?:\\u200d(?:"+[l,c,d].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*"),v="(?:"+[l+r+"?",r,c,d,n].join("|")+")",m=RegExp(o+"(?="+o+")|"+v+h,"g");e.exports=function(e){return e.match(m)||[]}},function(e,t,n){var r=n(141),o=n(541),l=n(101),c=n(269),d=r?r.prototype:void 0,f=d?d.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(l(t))return o(t,e)+"";if(c(t))return f?f.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(145),o=n(197);e.exports=function(e){return o(r(e).toLowerCase())}},function(e,t,n){var r=n(544),o=n(545),l=n(548),c=RegExp("['’]","g");e.exports=function(e){return function(t){return r(l(o(t).replace(c,"")),e,"")}}},function(e,t){e.exports=function(e,t,n,r){var o=-1,l=null==e?0:e.length;for(r&&l&&(n=e[++o]);++o<l;)n=t(n,e[o],o,e);return n}},function(e,t,n){var r=n(546),o=n(145),l=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,c=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(l,r).replace(c,"")}},function(e,t,n){var r=n(547)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});e.exports=r},function(e,t){e.exports=function(object){return function(e){return null==object?void 0:object[e]}}},function(e,t,n){var r=n(549),o=n(550),l=n(145),c=n(551);e.exports=function(e,pattern,t){return e=l(e),void 0===(pattern=t?void 0:pattern)?o(e)?c(e):r(e):e.match(pattern)||[]}},function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",o="\\d+",l="[\\u2700-\\u27bf]",c="[a-z\\xdf-\\xf6\\xf8-\\xff]",d="[^\\ud800-\\udfff"+n+o+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="[A-Z\\xc0-\\xd6\\xd8-\\xde]",m="(?:"+c+"|"+d+")",y="(?:"+v+"|"+d+")",x="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",_="[\\ufe0e\\ufe0f]?"+x+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",f,h].join("|")+")[\\ufe0e\\ufe0f]?"+x+")*"),w="(?:"+[l,f,h].join("|")+")"+_,k=RegExp([v+"?"+c+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,v,"$"].join("|")+")",y+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,v+m,"$"].join("|")+")",v+"?"+m+"+(?:['’](?:d|ll|m|re|s|t|ve))?",v+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,w].join("|"),"g");e.exports=function(e){return e.match(k)||[]}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(26),o=n(554),l=n(270),c=Math.max,d=Math.min;e.exports=function(e,t,n){var f,h,v,m,y,x,_=0,w=!1,k=!1,S=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function C(time){var t=f,n=h;return f=h=void 0,_=time,m=e.apply(n,t)}function T(time){return _=time,y=setTimeout(M,t),w?C(time):m}function E(time){var e=time-x;return void 0===x||e>=t||e<0||k&&time-_>=v}function M(){var time=o();if(E(time))return P(time);y=setTimeout(M,function(time){var e=t-(time-x);return k?d(e,v-(time-_)):e}(time))}function P(time){return y=void 0,S&&f?C(time):(f=h=void 0,m)}function A(){var time=o(),e=E(time);if(f=arguments,h=this,x=time,e){if(void 0===y)return T(x);if(k)return clearTimeout(y),y=setTimeout(M,t),C(x)}return void 0===y&&(y=setTimeout(M,t)),m}return t=l(t)||0,r(n)&&(w=!!n.leading,v=(k="maxWait"in n)?c(l(n.maxWait)||0,t):v,S="trailing"in n?!!n.trailing:S),A.cancel=function(){void 0!==y&&clearTimeout(y),_=0,f=x=h=y=void 0},A.flush=function(){return void 0===y?m:P(o())},A}},function(e,t,n){var r=n(56);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(556);function o(e){var area=0;if(e&&e.length>0){area+=Math.abs(l(e[0]));for(var i=1;i<e.length;i++)area-=Math.abs(l(e[i]))}return area}function l(e){var t,n,o,l,d,i,area=0,f=e.length;if(f>2){for(i=0;i<f;i++)i===f-2?(o=f-2,l=f-1,d=0):i===f-1?(o=f-1,l=0,d=1):(o=i,l=i+1,d=i+2),t=e[o],n=e[l],area+=(c(e[d][0])-c(t[0]))*Math.sin(c(n[1]));area=area*r.RADIUS*r.RADIUS/2}return area}function c(e){return e*Math.PI/180}e.exports.geometry=function e(t){var i,area=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(i=0;i<t.coordinates.length;i++)area+=o(t.coordinates[i]);return area;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(i=0;i<t.geometries.length;i++)area+=e(t.geometries[i]);return area}},e.exports.ring=l},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t,n){var r=n(248),o=n(558),l=n(262),c=n(559),d=n(562),f=n(254),h=n(256),v=n(563),m=n(565),y=n(566),x=n(567),_=n(194),w=n(571),k=n(572),S=n(257),C=n(101),T=n(189),E=n(576),M=n(26),P=n(578),A=n(192),O=n(117),I={};I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I["[object Function]"]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,D,R,object,z){var L,j=1&n,F=2&n,N=4&n;if(D&&(L=object?D(t,R,object,z):D(t)),void 0!==L)return L;if(!M(t))return t;var B=C(t);if(B){if(L=w(t),!j)return h(t,L)}else{var V=_(t),U="[object Function]"==V||"[object GeneratorFunction]"==V;if(T(t))return f(t,j);if("[object Object]"==V||"[object Arguments]"==V||U&&!object){if(L=F||U?{}:S(t),!j)return F?m(t,d(L,t)):v(t,c(L,t))}else{if(!I[V])return object?t:{};L=k(t,V,j)}}z||(z=new r);var W=z.get(t);if(W)return W;z.set(t,L),P(t)?t.forEach((function(r){L.add(e(r,n,D,r,t,z))})):E(t)&&t.forEach((function(r,o){L.set(o,e(r,n,D,o,t,z))}));var H=B?void 0:(N?F?x:y:F?O:A)(t);return o(H||t,(function(r,o){H&&(r=t[o=r]),l(L,o,e(r,n,D,o,t,z))})),L}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(116),o=n(192);e.exports=function(object,source){return object&&r(source,o(source),object)}},function(e,t,n){var r=n(188),o=n(561),l=Object.prototype.hasOwnProperty;e.exports=function(object){if(!r(object))return o(object);var e=[];for(var t in Object(object))l.call(object,t)&&"constructor"!=t&&e.push(t);return e}},function(e,t,n){var r=n(258)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(116),o=n(117);e.exports=function(object,source){return object&&r(source,o(source),object)}},function(e,t,n){var r=n(116),o=n(193);e.exports=function(source,object){return r(source,o(source),object)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,l=[];++n<r;){var c=e[n];t(c,n,e)&&(l[o++]=c)}return l}},function(e,t,n){var r=n(116),o=n(295);e.exports=function(source,object){return r(source,o(source),object)}},function(e,t,n){var r=n(297),o=n(193),l=n(192);e.exports=function(object){return r(object,l,o)}},function(e,t,n){var r=n(297),o=n(295),l=n(117);e.exports=function(object){return r(object,l,o)}},function(e,t,n){var r=n(91)(n(56),"DataView");e.exports=r},function(e,t,n){var r=n(91)(n(56),"Promise");e.exports=r},function(e,t,n){var r=n(91)(n(56),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(186),o=n(573),l=n(574),c=n(575),d=n(255);e.exports=function(object,e,t){var n=object.constructor;switch(e){case"[object ArrayBuffer]":return r(object);case"[object Boolean]":case"[object Date]":return new n(+object);case"[object DataView]":return o(object,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d(object,t);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(object);case"[object RegExp]":return l(object);case"[object Set]":return new n;case"[object Symbol]":return c(object)}}},function(e,t,n){var r=n(186);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(141),o=r?r.prototype:void 0,l=o?o.valueOf:void 0;e.exports=function(symbol){return l?Object(l.call(symbol)):{}}},function(e,t,n){var r=n(577),o=n(190),l=n(191),c=l&&l.isMap,d=c?o(c):r;e.exports=d},function(e,t,n){var r=n(194),o=n(61);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(579),o=n(190),l=n(191),c=l&&l.isSet,d=c?o(c):r;e.exports=d},function(e,t,n){var r=n(194),o=n(61);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";(function(t){var r=n(581);function o(a,b){if(a===b)return 0;for(var e=a.length,t=b.length,i=0,n=Math.min(e,t);i<n;++i)if(a[i]!==b[i]){e=a[i],t=b[i];break}return e<t?-1:t<e?1:0}function l(b){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var c=n(582),d=Object.prototype.hasOwnProperty,f=Array.prototype.slice,h="foo"===function(){}.name;function v(e){return Object.prototype.toString.call(e)}function m(e){return!l(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var y=e.exports=C,x=/\s*function\s+([^\(\s]*)\s*/;function _(e){if(c.isFunction(e)){if(h)return e.name;var t=e.toString().match(x);return t&&t[1]}}function w(s,e){return"string"==typeof s?s.length<e?s:s.slice(0,e):s}function k(e){if(h||!c.isFunction(e))return c.inspect(e);var t=_(e);return"[Function"+(t?": "+t:"")+"]"}function S(e,t,n,r,o){throw new y.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function C(e,t){e||S(e,!0,t,"==",y.ok)}function T(e,t,n,r){if(e===t)return!0;if(l(e)&&l(t))return 0===o(e,t);if(c.isDate(e)&&c.isDate(t))return e.getTime()===t.getTime();if(c.isRegExp(e)&&c.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(m(e)&&m(t)&&v(e)===v(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(l(e)!==l(t))return!1;var d=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==d&&d===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(a,b,e,t){if(null==a||null==b)return!1;if(c.isPrimitive(a)||c.isPrimitive(b))return a===b;if(e&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var n=E(a),r=E(b);if(n&&!r||!n&&r)return!1;if(n)return a=f.call(a),b=f.call(b),T(a,b,e);var o,i,l=A(a),d=A(b);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),i=l.length-1;i>=0;i--)if(l[i]!==d[i])return!1;for(i=l.length-1;i>=0;i--)if(o=l[i],!T(a[o],b[o],e,t))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function E(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function M(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function P(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&S(o,n,"Missing expected exception"+r);var l="string"==typeof r,d=!e&&o&&!n;if((!e&&c.isError(o)&&l&&M(o,n)||d)&&S(o,n,"Got unwanted exception"+r),e&&o&&n&&!M(o,n)||!e&&o)throw o}y.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return w(k(e.actual),128)+" "+e.operator+" "+w(k(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||S;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=_(t),l=r.indexOf("\n"+o);if(l>=0){var c=r.indexOf("\n",l+1);r=r.substring(c+1)}this.stack=r}}},c.inherits(y.AssertionError,Error),y.fail=S,y.ok=C,y.equal=function(e,t,n){e!=t&&S(e,t,n,"==",y.equal)},y.notEqual=function(e,t,n){e==t&&S(e,t,n,"!=",y.notEqual)},y.deepEqual=function(e,t,n){T(e,t,!1)||S(e,t,n,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(e,t,n){T(e,t,!0)||S(e,t,n,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(e,t,n){T(e,t,!1)&&S(e,t,n,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=function e(t,n,r){T(t,n,!0)&&S(t,n,r,"notDeepStrictEqual",e)},y.strictEqual=function(e,t,n){e!==t&&S(e,t,n,"===",y.strictEqual)},y.notStrictEqual=function(e,t,n){e===t&&S(e,t,n,"!==",y.notStrictEqual)},y.throws=function(e,t,n){P(!0,e,t,n)},y.doesNotThrow=function(e,t,n){P(!1,e,t,n)},y.ifError=function(e){if(e)throw e},y.strict=r((function e(t,n){t||S(t,!0,n,"==",e)}),y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict;var A=Object.keys||function(e){var t=[];for(var n in e)d.call(e,n)&&t.push(n);return t}}).call(this,n(41))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function c(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,source){for(var t,n,d=c(e),s=1;s<arguments.length;s++){for(var f in t=Object(arguments[s]))o.call(t,f)&&(d[f]=t[f]);if(r){n=r(t);for(var i=0;i<n.length;i++)l.call(t,n[i])&&(d[n[i]]=t[n[i]])}}return d}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},o=/%[sdj%]/g;t.format=function(e){if(!S(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(d(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,r=n.length,l=String(e).replace(o,(function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}})),c=n[i];i<r;c=n[++i])w(c)||!E(c)?l+=" "+c:l+=" "+d(c);return l},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var l,c={};function d(e,n){var r={seen:[],stylize:h};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&t._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=f),v(r,e,r.depth)}function f(e,t){var style=d.styles[t];return style?"["+d.colors[style][0]+"m"+e+"["+d.colors[style][1]+"m":e}function h(e,t){return e}function v(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return S(o)||(o=v(e,o,r)),o}var l=function(e,t){if(C(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(k(t))return e.stylize(""+t,"number");if(_(t))return e.stylize(""+t,"boolean");if(w(t))return e.stylize("null","null")}(e,n);if(l)return l;var c=Object.keys(n),d=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(c);if(e.showHidden&&(c=Object.getOwnPropertyNames(n)),P(n)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return m(n);if(0===c.length){if(A(n)){var f=n.name?": "+n.name:"";return e.stylize("[Function"+f+"]","special")}if(T(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return e.stylize(Date.prototype.toString.call(n),"date");if(P(n))return m(n)}var output,base="",h=!1,E=["{","}"];(x(n)&&(h=!0,E=["[","]"]),A(n))&&(base=" [Function"+(n.name?": "+n.name:"")+"]");return T(n)&&(base=" "+RegExp.prototype.toString.call(n)),M(n)&&(base=" "+Date.prototype.toUTCString.call(n)),P(n)&&(base=" "+m(n)),0!==c.length||h&&0!=n.length?r<0?T(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),output=h?function(e,t,n,r,o){for(var output=[],i=0,l=t.length;i<l;++i)z(t,String(i))?output.push(y(e,t,n,r,String(i),!0)):output.push("");return o.forEach((function(o){o.match(/^\d+$/)||output.push(y(e,t,n,r,o,!0))})),output}(e,n,r,d,c):c.map((function(t){return y(e,n,r,d,t,h)})),e.seen.pop(),function(output,base,e){if(output.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return e[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+e[1];return e[0]+base+" "+output.join(", ")+" "+e[1]}(output,base,E)):E[0]+base+E[1]}function m(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,n,r,o,l){var c,d,desc;if((desc=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?d=desc.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):desc.set&&(d=e.stylize("[Setter]","special")),z(r,o)||(c="["+o+"]"),d||(e.seen.indexOf(desc.value)<0?(d=w(n)?v(e,desc.value,null):v(e,desc.value,n-1)).indexOf("\n")>-1&&(d=l?d.split("\n").map((function(line){return"  "+line})).join("\n").substr(2):"\n"+d.split("\n").map((function(line){return"   "+line})).join("\n")):d=e.stylize("[Circular]","special")),C(c)){if(l&&o.match(/^\d+$/))return d;(c=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=e.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=e.stylize(c,"string"))}return c+": "+d}function x(e){return Array.isArray(e)}function _(e){return"boolean"==typeof e}function w(e){return null===e}function k(e){return"number"==typeof e}function S(e){return"string"==typeof e}function C(e){return void 0===e}function T(e){return E(e)&&"[object RegExp]"===O(e)}function E(e){return"object"==typeof e&&null!==e}function M(e){return E(e)&&"[object Date]"===O(e)}function P(e){return E(e)&&("[object Error]"===O(e)||e instanceof Error)}function A(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(C(l)&&(l=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!c[n])if(new RegExp("\\b"+n+"\\b","i").test(l)){var r=e.pid;c[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else c[n]=function(){};return c[n]},t.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=x,t.isBoolean=_,t.isNull=w,t.isNullOrUndefined=function(e){return null==e},t.isNumber=k,t.isString=S,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=C,t.isRegExp=T,t.isObject=E,t.isDate=M,t.isError=P,t.isFunction=A,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(583);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,time=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],time].join(" ")}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=n(584),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t;if("function"!=typeof(t=e[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=L,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,l=function(){return r.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(l,null,t)}),(function(t){e.nextTick(j,t,l)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(78))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),h=t&&!t.nodeType&&t,v=h&&"object"==typeof n&&n&&!n.nodeType&&n,m=v&&v.exports===h,y=m&&c.process,x=function(){try{var e=v&&v.require&&v.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(e){}}(),_=x&&x.isTypedArray;function w(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var k,S,C,T=Array.prototype,E=Function.prototype,M=Object.prototype,P=f["__core-js_shared__"],A=E.toString,O=M.hasOwnProperty,I=(k=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",D=M.toString,R=A.call(Object),z=RegExp("^"+A.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=m?f.Buffer:void 0,j=f.Symbol,F=f.Uint8Array,N=L?L.allocUnsafe:void 0,B=(S=Object.getPrototypeOf,C=Object,function(e){return S(C(e))}),V=Object.create,U=M.propertyIsEnumerable,W=T.splice,H=j?j.toStringTag:void 0,$=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=L?L.isBuffer:void 0,Z=Math.max,Y=Date.now,X=ge(f,"Map"),K=ge(Object,"create"),J=function(){function object(){}return function(e){if(!Pe(e))return{};if(V)return V(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();function Q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var data=this.__data__=new ee(e);this.size=data.size}function ne(e,t){var n=Se(e),r=!n&&ke(e),o=!n&&!r&&Te(e),l=!n&&!r&&!o&&Oe(e),c=n||r||o||l,d=c?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],f=d.length;for(var h in e)!t&&!O.call(e,h)||c&&("length"==h||o&&("offset"==h||"parent"==h)||l&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||ye(h,f))||d.push(h);return d}function re(object,e,t){(void 0!==t&&!we(object[e],t)||void 0===t&&!(e in object))&&se(object,e,t)}function oe(object,e,t){var n=object[e];O.call(object,e)&&we(n,t)&&(void 0!==t||e in object)||se(object,e,t)}function ae(e,t){for(var n=e.length;n--;)if(we(e[n][0],t))return n;return-1}function se(object,e,t){"__proto__"==e&&$?$(object,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):object[e]=t}Q.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},Q.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Q.prototype.get=function(e){var data=this.__data__;if(K){var t=data[e];return"__lodash_hash_undefined__"===t?void 0:t}return O.call(data,e)?data[e]:void 0},Q.prototype.has=function(e){var data=this.__data__;return K?void 0!==data[e]:O.call(data,e)},Q.prototype.set=function(e,t){var data=this.__data__;return this.size+=this.has(e)?0:1,data[e]=K&&void 0===t?"__lodash_hash_undefined__":t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var data=this.__data__,t=ae(data,e);return!(t<0)&&(t==data.length-1?data.pop():W.call(data,t,1),--this.size,!0)},ee.prototype.get=function(e){var data=this.__data__,t=ae(data,e);return t<0?void 0:data[t][1]},ee.prototype.has=function(e){return ae(this.__data__,e)>-1},ee.prototype.set=function(e,t){var data=this.__data__,n=ae(data,e);return n<0?(++this.size,data.push([e,t])):data[n][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(X||ee),string:new Q}},te.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return me(this,e).get(e)},te.prototype.has=function(e){return me(this,e).has(e)},te.prototype.set=function(e,t){var data=me(this,e),n=data.size;return data.set(e,t),this.size+=data.size==n?0:1,this},ie.prototype.clear=function(){this.__data__=new ee,this.size=0},ie.prototype.delete=function(e){var data=this.__data__,t=data.delete(e);return this.size=data.size,t},ie.prototype.get=function(e){return this.__data__.get(e)},ie.prototype.has=function(e){return this.__data__.has(e)},ie.prototype.set=function(e,t){var data=this.__data__;if(data instanceof ee){var n=data.__data__;if(!X||n.length<199)return n.push([e,t]),this.size=++data.size,this;data=this.__data__=new te(n)}return data.set(e,t),this.size=data.size,this};var ue,le=function(object,e,t){for(var n=-1,r=Object(object),o=t(object),l=o.length;l--;){var c=o[ue?l:++n];if(!1===e(r[c],c,r))break}return object};function ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var t=O.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch(e){}var o=D.call(e);r&&(t?e[H]=n:delete e[H]);return o}(e):function(e){return D.call(e)}(e)}function de(e){return Ae(e)&&"[object Arguments]"==ce(e)}function fe(e){return!(!Pe(e)||function(e){return!!I&&I in e}(e))&&(Ee(e)?z:r).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function he(object){if(!Pe(object))return function(object){var e=[];if(null!=object)for(var t in Object(object))e.push(t);return e}(object);var e=be(object),t=[];for(var n in object)("constructor"!=n||!e&&O.call(object,n))&&t.push(n);return t}function pe(object,source,e,t,n){object!==source&&le(source,(function(r,o){if(n||(n=new ie),Pe(r))!function(object,source,e,t,n,r,o){var l=xe(object,e),c=xe(source,e),d=o.get(c);if(d)return void re(object,e,d);var f=r?r(l,c,e+"",object,source,o):void 0,h=void 0===f;if(h){var v=Se(c),m=!v&&Te(c),y=!v&&!m&&Oe(c);f=c,v||m||y?Se(l)?f=l:Ae(S=l)&&Ce(S)?f=function(source,e){var t=-1,n=source.length;e||(e=Array(n));for(;++t<n;)e[t]=source[t];return e}(l):m?(h=!1,f=function(e,t){if(t)return e.slice();var n=e.length,r=N?N(n):new e.constructor(n);return e.copy(r),r}(c,!0)):y?(h=!1,x=c,_=!0?(w=x.buffer,k=new w.constructor(w.byteLength),new F(k).set(new F(w)),k):x.buffer,f=new x.constructor(_,x.byteOffset,x.length)):f=[]:function(e){if(!Ae(e)||"[object Object]"!=ce(e))return!1;var t=B(e);if(null===t)return!0;var n=O.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==R}(c)||ke(c)?(f=l,ke(l)?f=function(e){return function(source,e,object,t){var n=!object;object||(object={});var r=-1,o=e.length;for(;++r<o;){var l=e[r],c=t?t(object[l],source[l],l,object,source):void 0;void 0===c&&(c=source[l]),n?se(object,l,c):oe(object,l,c)}return object}(e,Ie(e))}(l):Pe(l)&&!Ee(l)||(f=function(object){return"function"!=typeof object.constructor||be(object)?{}:J(B(object))}(c))):h=!1}var x,_,w,k;var S;h&&(o.set(c,f),n(f,c,t,r,o),o.delete(c));re(object,e,f)}(object,source,o,e,pe,t,n);else{var l=t?t(xe(object,o),r,o+"",object,source,n):void 0;void 0===l&&(l=r),re(object,o,l)}}),Ie)}function ve(e,t){return _e(function(e,t,n){return t=Z(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,l=Z(r.length-t,0),c=Array(l);++o<l;)c[o]=r[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=r[o];return d[t]=n(c),w(e,this,d)}}(e,t,ze),e+"")}function me(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function ge(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return fe(t)?t:void 0}function ye(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||M)}function xe(object,e){if(("constructor"!==e||"function"!=typeof object[e])&&"__proto__"!=e)return object[e]}var _e=function(e){var t=0,n=0;return function(){var r=Y(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}($?function(e,t){return $(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ze);function we(e,t){return e===t||e!=e&&t!=t}var ke=de(function(){return arguments}())?de:function(e){return Ae(e)&&O.call(e,"callee")&&!U.call(e,"callee")},Se=Array.isArray;function Ce(e){return null!=e&&Me(e.length)&&!Ee(e)}var Te=G||function(){return!1};function Ee(e){if(!Pe(e))return!1;var t=ce(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Me(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Oe=_?function(e){return function(t){return e(t)}}(_):function(e){return Ae(e)&&Me(e.length)&&!!l[ce(e)]};function Ie(object){return Ce(object)?ne(object,!0):he(object)}var De,Re=(De=function(object,source,e,t){pe(object,source,e,t)},ve((function(object,e){var t=-1,n=e.length,r=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(r=De.length>3&&"function"==typeof r?(n--,r):void 0,o&&function(e,t,object){if(!Pe(object))return!1;var n=typeof t;return!!("number"==n?Ce(object)&&ye(t,object.length):"string"==n&&t in object)&&we(object[t],e)}(e[0],e[1],o)&&(r=n<3?void 0:r,n=1),object=Object(object);++t<n;){var source=e[t];source&&De(object,source,t,r)}return object})));function ze(e){return e}n.exports=Re}).call(this,n(41),n(114)(e))},function(e,t){e.exports=function(e){return null==e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(t){var n=/^\[object .+?Constructor\]$/,r="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,l=r||o||Function("return this")();function c(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var o=e.length,l=n+(r?1:-1);for(;r?l--:++l<o;)if(t(e[l],l,e))return l;return-1}(e,f,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function d(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function f(e){return e!=e}function h(e,t){return e.has(t)}function v(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var m,y=Array.prototype,x=Function.prototype,_=Object.prototype,w=l["__core-js_shared__"],k=(m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",S=x.toString,C=_.hasOwnProperty,T=_.toString,E=RegExp("^"+S.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=y.splice,P=B(l,"Map"),A=B(l,"Set"),O=B(Object,"create");function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=e?e.length:0;for(this.__data__=new R;++t<n;)this.add(e[t])}function L(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function j(e){return!(!V(e)||(t=e,k&&k in t))&&(function(e){var t=V(e)?T.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?E:n).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}I.prototype.clear=function(){this.__data__=O?O(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var data=this.__data__;if(O){var t=data[e];return"__lodash_hash_undefined__"===t?void 0:t}return C.call(data,e)?data[e]:void 0},I.prototype.has=function(e){var data=this.__data__;return O?void 0!==data[e]:C.call(data,e)},I.prototype.set=function(e,t){return this.__data__[e]=O&&void 0===t?"__lodash_hash_undefined__":t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var data=this.__data__,t=L(data,e);return!(t<0)&&(t==data.length-1?data.pop():M.call(data,t,1),!0)},D.prototype.get=function(e){var data=this.__data__,t=L(data,e);return t<0?void 0:data[t][1]},D.prototype.has=function(e){return L(this.__data__,e)>-1},D.prototype.set=function(e,t){var data=this.__data__,n=L(data,e);return n<0?data.push([e,t]):data[n][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new I,map:new(P||D),string:new I}},R.prototype.delete=function(e){return N(this,e).delete(e)},R.prototype.get=function(e){return N(this,e).get(e)},R.prototype.has=function(e){return N(this,e).has(e)},R.prototype.set=function(e,t){return N(this,e).set(e,t),this},z.prototype.add=z.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},z.prototype.has=function(e){return this.__data__.has(e)};var F=A&&1/v(new A([,-0]))[1]==1/0?function(e){return new A(e)}:function(){};function N(map,e){var t,n,data=map.__data__;return("string"==(n=typeof(t=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?data["string"==typeof e?"string":"hash"]:data.map}function B(object,e){var t=function(object,e){return null==object?void 0:object[e]}(object,e);return j(t)?t:void 0}function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,n){var r=-1,o=c,l=e.length,f=!0,m=[],y=m;if(n)f=!1,o=d;else if(l>=200){var x=t?null:F(e);if(x)return v(x);f=!1,o=h,y=new z}else y=t?[]:m;e:for(;++r<l;){var _=e[r],w=t?t(_):_;if(_=n||0!==_?_:0,f&&w==w){for(var k=y.length;k--;)if(y[k]===w)continue e;t&&y.push(w),m.push(_)}else o(y,w,n)||(y!==m&&y.push(w),m.push(_))}return m}(e):[]}}).call(this,n(41))},function(e,t){var n,r,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=c.call(Object),h=l.toString,v=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=h.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=v(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return A}));var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function l(){}var c="\\s*([+-]?\\d+)\\s*",d="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,v=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),m=new RegExp("^rgb\\("+[f,f,f]+"\\)$"),y=new RegExp("^rgba\\("+[c,c,c,d]+"\\)$"),x=new RegExp("^rgba\\("+[f,f,f,d]+"\\)$"),_=new RegExp("^hsl\\("+[d,f,f]+"\\)$"),w=new RegExp("^hsla\\("+[d,f,f,d]+"\\)$"),k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function S(){return this.rgb().formatHex()}function C(){return this.rgb().formatRgb()}function T(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?E(t):3===n?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?M(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?M(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=v.exec(e))?new O(t[1],t[2],t[3],1):(t=m.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=y.exec(e))?M(t[1],t[2],t[3],t[4]):(t=x.exec(e))?M(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_.exec(e))?z(t[1],t[2]/100,t[3]/100,1):(t=w.exec(e))?z(t[1],t[2]/100,t[3]/100,t[4]):k.hasOwnProperty(e)?E(k[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null}function E(e){return new O(e>>16&255,e>>8&255,255&e,1)}function M(e,g,b,a){return a<=0&&(e=g=b=NaN),new O(e,g,b,a)}function P(e){return e instanceof l||(e=T(e)),e?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O}function A(e,g,b,t){return 1===arguments.length?P(e):new O(e,g,b,null==t?1:t)}function O(e,g,b,t){this.r=+e,this.g=+g,this.b=+b,this.opacity=+t}function I(){return"#"+R(this.r)+R(this.g)+R(this.b)}function D(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function R(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function z(e,s,t,a){return a<=0?e=s=t=NaN:t<=0||t>=1?e=s=NaN:s<=0&&(e=NaN),new j(e,s,t,a)}function L(e){if(e instanceof j)return new j(e.h,e.s,e.l,e.opacity);if(e instanceof l||(e=T(e)),!e)return new j;if(e instanceof j)return e;var t=(e=e.rgb()).r/255,g=e.g/255,b=e.b/255,n=Math.min(t,g,b),r=Math.max(t,g,b),o=NaN,s=r-n,c=(r+n)/2;return s?(o=t===r?(g-b)/s+6*(g<b):g===r?(b-t)/s+2:(t-g)/s+4,s/=c<.5?r+n:2-r-n,o*=60):s=c>0&&c<1?0:o,new j(o,s,c,e.opacity)}function j(e,s,t,n){this.h=+e,this.s=+s,this.l=+t,this.opacity=+n}function F(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(l,T,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:S,formatHex:S,formatHsl:function(){return L(this).formatHsl()},formatRgb:C,toString:C}),r(O,A,o(l,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I,formatHex:I,formatRgb:D,toString:D})),r(j,(function(e,s,t,n){return 1===arguments.length?L(e):new j(e,s,t,null==n?1:n)}),o(l,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new j(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new j(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*s,r=2*t-n;return new O(F(e>=240?e-240:e+120,r,n),F(e,r,n),F(e<120?e+240:e-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}))}]]);